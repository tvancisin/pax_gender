var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l;function c(t,e){return l||(l=document.createElement("a")),l.href=e,t===l.href}function u(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function f(t,e,n){t.$$.on_destroy.push(u(e,n))}function h(t,e,n,r){if(t){const i=d(t,e,n,r);return t[0](i)}}function d(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function p(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}function g(t,e,n,r,i,o){if(i){const a=d(e,n,r,o);t.p(a,i)}}function m(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function y(t){return null==t?"":t}function v(t,e,n){return t.set(n),e}const $="undefined"!=typeof window;let w=$?()=>window.performance.now():()=>Date.now(),x=$?t=>requestAnimationFrame(t):t;const _=new Set;function b(t){_.forEach((e=>{e.c(t)||(_.delete(e),e.f())})),0!==_.size&&x(b)}const k="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function M(t,e){t.appendChild(e)}function E(t,e,n){t.insertBefore(e,n||null)}function S(t){t.parentNode&&t.parentNode.removeChild(t)}function A(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function N(t){return document.createElement(t)}function q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function R(t){return document.createTextNode(t)}function z(){return R(" ")}function T(){return R("")}function P(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function W(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:C(t,e,n)}function O(t,e){e=""+e,t.data!==e&&(t.data=e)}function I(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let D,j;function L(){if(void 0===D){D=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){D=!0}}return D}function H(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=N("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=L();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=P(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=P(n.contentWindow,"resize",e),e()}),M(t,n),()=>{(r||i&&n.contentWindow)&&i(),S(n)}}function B(t,e,n){t.classList[n?"add":"remove"](e)}function G(t){j=t}function F(){if(!j)throw new Error("Function called outside component initialization");return j}function X(t){F().$$.on_mount.push(t)}function Y(){const t=F();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}(e,n,{cancelable:r});return i.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}function U(t,e){return F().$$.context.set(t,e),e}function V(t){return F().$$.context.get(t)}const J=[],Z=[];let Q=[];const K=[],tt=Promise.resolve();let et=!1;function nt(t){Q.push(t)}function rt(t){K.push(t)}const it=new Set;let ot=0;function at(){if(0!==ot)return;const t=j;do{try{for(;ot<J.length;){const t=J[ot];ot++,G(t),st(t.$$)}}catch(t){throw J.length=0,ot=0,t}for(G(null),J.length=0,ot=0;Z.length;)Z.pop()();for(let t=0;t<Q.length;t+=1){const e=Q[t];it.has(e)||(it.add(e),e())}Q.length=0}while(J.length);for(;K.length;)K.pop()();et=!1,it.clear(),G(t)}function st(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(nt)}}const lt=new Set;let ct;function ut(){ct={r:0,c:[],p:ct}}function ft(){ct.r||o(ct.c),ct=ct.p}function ht(t,e){t&&t.i&&(lt.delete(t),t.i(e))}function dt(t,e,n,r){if(t&&t.o){if(lt.has(t))return;lt.add(t),ct.c.push((()=>{lt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function pt(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function gt(t){t&&t.c()}function mt(t,e,n,i){const{fragment:s,after_update:l}=t.$$;s&&s.m(e,n),i||nt((()=>{const e=t.$$.on_mount.map(r).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),l.forEach(nt)}function yt(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];Q.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),Q=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function vt(t,e){-1===t.$$.dirty[0]&&(J.push(t),et||(et=!0,tt.then(at)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function $t(e,n,r,a,s,l,c,u=[-1]){const f=j;G(e);const h=e.$$={fragment:null,ctx:[],props:l,update:t,not_equal:s,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};c&&c(h.root);let d=!1;if(h.ctx=r?r(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&s(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),d&&vt(e,t)),n})):[],h.update(),d=!0,o(h.before_update),h.fragment=!!a&&a(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(S)}else h.fragment&&h.fragment.c();n.intro&&ht(e.$$.fragment),mt(e,n.target,n.anchor,n.customElement),at()}G(f)}class wt{$destroy(){yt(this,1),this.$destroy=t}$on(e,n){if(!a(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function xt(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _t(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bt(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=xt,n=(e,n)=>xt(t(e),n),r=(e,n)=>t(e)-n):(e=t===xt||t===_t?t:kt,n=t,r=t),{left:i,center:function(t,e,n=0,o=t.length){const a=i(t,e,n,o-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function kt(){return 0}const Mt=bt(xt).right;bt((function(t){return null===t?NaN:+t})).center;class Et{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(e=o,n=t[--i],o=e+n,r=n-(o-e),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(n=2*r,e=o+n,n==e-o&&(o=e))}return o}}class St extends Map{constructor(t,e=Nt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(At(this,t))}has(t){return super.has(At(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);t.has(r)&&(n=t.get(r),t.delete(r));return n}(this,t))}}function At({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Nt(t){return null!==t&&"object"==typeof t?t.valueOf():t}function qt(t){return t}function Rt(t,...e){return function(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const a=new St,s=r[o++];let l=-1;for(const t of i){const e=s(t,++l,i),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}(t,Array.from,qt,e)}const zt=Math.sqrt(50),Tt=Math.sqrt(10),Pt=Math.sqrt(2);function Ct(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=zt?10:o>=Tt?5:o>=Pt?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?Ct(t,e,2*n):[s,l,c]}function Wt(t,e,n){return Ct(t=+t,e=+e,n=+n)[2]}function Ot(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}var It={value:()=>{}};function Dt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new jt(r)}function jt(t){this._=t}function Lt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Ht(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=It,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}jt.prototype=Dt.prototype={constructor:jt,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=Ht(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Ht(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=Lt(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new jt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Bt="http://www.w3.org/1999/xhtml",Gt={svg:"http://www.w3.org/2000/svg",xhtml:Bt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ft(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Gt.hasOwnProperty(e)?{space:Gt[e],local:t}:t}function Xt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Bt&&e.documentElement.namespaceURI===Bt?e.createElement(t):e.createElementNS(n,t)}}function Yt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ut(t){var e=Ft(t);return(e.local?Yt:Xt)(e)}function Vt(){}function Jt(t){return null==t?Vt:function(){return this.querySelector(t)}}function Zt(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Qt(){return[]}function Kt(t){return null==t?Qt:function(){return this.querySelectorAll(t)}}function te(t){return function(){return this.matches(t)}}function ee(t){return function(e){return e.matches(t)}}var ne=Array.prototype.find;function re(){return this.firstElementChild}var ie=Array.prototype.filter;function oe(){return Array.from(this.children)}function ae(t){return new Array(t.length)}function se(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function le(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new se(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function ce(t,e,n,r,i,o,a){var s,l,c,u=new Map,f=e.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(l=e[s])&&(d[s]=c=a.call(l,l.__data__,s,e)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<h;++s)c=a.call(t,o[s],s,o)+"",(l=u.get(c))?(r[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new se(t,o[s]);for(s=0;s<f;++s)(l=e[s])&&u.get(d[s])===l&&(i[s]=l)}function ue(t){return t.__data__}function fe(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function he(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function de(t){return function(){this.removeAttribute(t)}}function pe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ge(t,e){return function(){this.setAttribute(t,e)}}function me(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ye(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ve(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function $e(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function we(t){return function(){this.style.removeProperty(t)}}function xe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function _e(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function be(t,e){return t.style.getPropertyValue(e)||$e(t).getComputedStyle(t,null).getPropertyValue(e)}function ke(t){return function(){delete this[t]}}function Me(t,e){return function(){this[t]=e}}function Ee(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Se(t){return t.trim().split(/^|\s+/)}function Ae(t){return t.classList||new Ne(t)}function Ne(t){this._node=t,this._names=Se(t.getAttribute("class")||"")}function qe(t,e){for(var n=Ae(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Re(t,e){for(var n=Ae(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ze(t){return function(){qe(this,t)}}function Te(t){return function(){Re(this,t)}}function Pe(t,e){return function(){(e.apply(this,arguments)?qe:Re)(this,t)}}function Ce(){this.textContent=""}function We(t){return function(){this.textContent=t}}function Oe(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ie(){this.innerHTML=""}function De(t){return function(){this.innerHTML=t}}function je(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Le(){this.nextSibling&&this.parentNode.appendChild(this)}function He(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Be(){return null}function Ge(){var t=this.parentNode;t&&t.removeChild(this)}function Fe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ye(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Ue(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Ve(t,e,n){var r=$e(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Je(t,e){return function(){return Ve(this,t,e)}}function Ze(t,e){return function(){return Ve(this,t,e.apply(this,arguments))}}se.prototype={constructor:se,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Ne.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Qe=[null];function Ke(t,e){this._groups=t,this._parents=e}function tn(){return new Ke([[document.documentElement]],Qe)}function en(t){return"string"==typeof t?new Ke([document.querySelectorAll(t)],[document.documentElement]):new Ke([Zt(t)],Qe)}function nn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function rn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function on(){}Ke.prototype=tn.prototype={constructor:Ke,select:function(t){"function"!=typeof t&&(t=Jt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Ke(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Zt(t.apply(this,arguments))}}(t):Kt(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Ke(r,i)},selectChild:function(t){return this.select(null==t?re:function(t){return function(){return ne.call(this.children,t)}}("function"==typeof t?t:ee(t)))},selectChildren:function(t){return this.selectAll(null==t?oe:function(t){return function(){return ie.call(this.children,t)}}("function"==typeof t?t:ee(t)))},filter:function(t){"function"!=typeof t&&(t=te(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Ke(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,ue);var n=e?ce:le,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],f=i[c],h=f.length,d=fe(t.call(u,u&&u.__data__,c,r)),p=d.length,g=s[c]=new Array(p),m=a[c]=new Array(p);n(u,f,g,m,l[c]=new Array(h),d,e);for(var y,v,$=0,w=0;$<p;++$)if(y=g[$]){for($>=w&&(w=$+1);!(v=m[w])&&++w<p;);y._next=v||null}}return(a=new Ke(a,r))._enter=s,a._exit=l,a},enter:function(){return new Ke(this._enter||this._groups.map(ae),this._parents)},exit:function(){return new Ke(this._exit||this._groups.map(ae),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c,u=n[l],f=r[l],h=u.length,d=s[l]=new Array(h),p=0;p<h;++p)(c=u[p]||f[p])&&(d[p]=c);for(;l<i;++l)s[l]=n[l];return new Ke(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=he);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new Ke(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Ft(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?pe:de:"function"==typeof e?n.local?ve:ye:n.local?me:ge)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?we:"function"==typeof e?_e:xe)(t,e,null==n?"":n)):be(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?ke:"function"==typeof e?Ee:Me)(t,e)):this.node()[t]},classed:function(t,e){var n=Se(t+"");if(arguments.length<2){for(var r=Ae(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Pe:e?ze:Te)(n,e))},text:function(t){return arguments.length?this.each(null==t?Ce:("function"==typeof t?Oe:We)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ie:("function"==typeof t?je:De)(t)):this.node().innerHTML},raise:function(){return this.each(Le)},lower:function(){return this.each(He)},append:function(t){var e="function"==typeof t?t:Ut(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Ut(t),r=null==e?Be:"function"==typeof e?e:Jt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ge)},clone:function(t){return this.select(t?Xe:Fe)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Ue:Ye,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Ze:Je)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var an=.7,sn=1/an,ln="\\s*([+-]?\\d+)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fn=/^#([0-9a-f]{3,8})$/,hn=new RegExp(`^rgb\\(${ln},${ln},${ln}\\)$`),dn=new RegExp(`^rgb\\(${un},${un},${un}\\)$`),pn=new RegExp(`^rgba\\(${ln},${ln},${ln},${cn}\\)$`),gn=new RegExp(`^rgba\\(${un},${un},${un},${cn}\\)$`),mn=new RegExp(`^hsl\\(${cn},${un},${un}\\)$`),yn=new RegExp(`^hsla\\(${cn},${un},${un},${cn}\\)$`),vn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $n(){return this.rgb().formatHex()}function wn(){return this.rgb().formatRgb()}function xn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?_n(e):3===n?new Mn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?bn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?bn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=hn.exec(t))?new Mn(e[1],e[2],e[3],1):(e=dn.exec(t))?new Mn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=pn.exec(t))?bn(e[1],e[2],e[3],e[4]):(e=gn.exec(t))?bn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=mn.exec(t))?Rn(e[1],e[2]/100,e[3]/100,1):(e=yn.exec(t))?Rn(e[1],e[2]/100,e[3]/100,e[4]):vn.hasOwnProperty(t)?_n(vn[t]):"transparent"===t?new Mn(NaN,NaN,NaN,0):null}function _n(t){return new Mn(t>>16&255,t>>8&255,255&t,1)}function bn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Mn(t,e,n,r)}function kn(t,e,n,r){return 1===arguments.length?((i=t)instanceof on||(i=xn(i)),i?new Mn((i=i.rgb()).r,i.g,i.b,i.opacity):new Mn):new Mn(t,e,n,null==r?1:r);var i}function Mn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function En(){return`#${qn(this.r)}${qn(this.g)}${qn(this.b)}`}function Sn(){const t=An(this.opacity);return`${1===t?"rgb(":"rgba("}${Nn(this.r)}, ${Nn(this.g)}, ${Nn(this.b)}${1===t?")":`, ${t})`}`}function An(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Nn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function qn(t){return((t=Nn(t))<16?"0":"")+t.toString(16)}function Rn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Tn(t,e,n,r)}function zn(t){if(t instanceof Tn)return new Tn(t.h,t.s,t.l,t.opacity);if(t instanceof on||(t=xn(t)),!t)return new Tn;if(t instanceof Tn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Tn(a,s,l,t.opacity)}function Tn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Pn(t){return(t=(t||0)%360)<0?t+360:t}function Cn(t){return Math.max(0,Math.min(1,t||0))}function Wn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}nn(on,xn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:$n,formatHex:$n,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return zn(this).formatHsl()},formatRgb:wn,toString:wn}),nn(Mn,kn,rn(on,{brighter(t){return t=null==t?sn:Math.pow(sn,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?an:Math.pow(an,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Mn(Nn(this.r),Nn(this.g),Nn(this.b),An(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:En,formatHex:En,formatHex8:function(){return`#${qn(this.r)}${qn(this.g)}${qn(this.b)}${qn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Sn,toString:Sn})),nn(Tn,(function(t,e,n,r){return 1===arguments.length?zn(t):new Tn(t,e,n,null==r?1:r)}),rn(on,{brighter(t){return t=null==t?sn:Math.pow(sn,t),new Tn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?an:Math.pow(an,t),new Tn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Mn(Wn(t>=240?t-240:t+120,i,r),Wn(t,i,r),Wn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Tn(Pn(this.h),Cn(this.s),Cn(this.l),An(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=An(this.opacity);return`${1===t?"hsl(":"hsla("}${Pn(this.h)}, ${100*Cn(this.s)}%, ${100*Cn(this.l)}%${1===t?")":`, ${t})`}`}}));var On=t=>()=>t;function In(t){return 1==(t=+t)?Dn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):On(isNaN(e)?n:e)}}function Dn(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):On(isNaN(t)?e:t)}var jn=function t(e){var n=In(e);function r(t,e){var r=n((t=kn(t)).r,(e=kn(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Dn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Ln(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Hn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Vn(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Bn(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Gn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Fn(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Vn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Xn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yn=new RegExp(Xn.source,"g");function Un(t,e){var n,r,i,o=Xn.lastIndex=Yn.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Xn.exec(t))&&(r=Yn.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Gn(n,r)})),o=Yn.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function Vn(t,e){var n,r=typeof e;return null==e||"boolean"===r?On(e):("number"===r?Gn:"string"===r?(n=xn(e))?(e=n,jn):Un:e instanceof xn?jn:e instanceof Date?Bn:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Ln:Array.isArray(e)?Hn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Fn:Gn)(t,e)}function Jn(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Zn,Qn=180/Math.PI,Kn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function tr(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Qn,skewX:Math.atan(l)*Qn,scaleX:a,scaleY:s}}function er(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:Gn(t,i)},{i:l-2,x:Gn(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Gn(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Gn(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,l),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Gn(t,n)},{i:s-2,x:Gn(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var nr,rr,ir=er((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Kn:tr(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),or=er((function(t){return null==t?Kn:(Zn||(Zn=document.createElementNS("http://www.w3.org/2000/svg","g")),Zn.setAttribute("transform",t),(t=Zn.transform.baseVal.consolidate())?tr((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Kn)}),", ",")",")"),ar=0,sr=0,lr=0,cr=1e3,ur=0,fr=0,hr=0,dr="object"==typeof performance&&performance.now?performance:Date,pr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function gr(){return fr||(pr(mr),fr=dr.now()+hr)}function mr(){fr=0}function yr(){this._call=this._time=this._next=null}function vr(t,e,n){var r=new yr;return r.restart(t,e,n),r}function $r(){fr=(ur=dr.now())+hr,ar=sr=0;try{!function(){gr(),++ar;for(var t,e=nr;e;)(t=fr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ar}()}finally{ar=0,function(){var t,e,n=nr,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:nr=e);rr=t,xr(r)}(),fr=0}}function wr(){var t=dr.now(),e=t-ur;e>cr&&(hr-=e,ur=t)}function xr(t){ar||(sr&&(sr=clearTimeout(sr)),t-fr>24?(t<1/0&&(sr=setTimeout($r,t-dr.now()-hr)),lr&&(lr=clearInterval(lr))):(lr||(ur=dr.now(),lr=setInterval(wr,cr)),ar=1,pr($r)))}function _r(t,e,n){var r=new yr;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}yr.prototype=vr.prototype={constructor:yr,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?gr():+n)+(null==e?0:+e),this._next||rr===this||(rr?rr._next=this:nr=this,rr=this),this._call=t,this._time=n,xr()},stop:function(){this._call&&(this._call=null,this._time=1/0,xr())}};var br=Dt("start","end","cancel","interrupt"),kr=[],Mr=0,Er=1,Sr=2,Ar=3,Nr=4,qr=5,Rr=6;function zr(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=Er,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,u,f,h;if(n.state!==Er)return l();for(c in i)if((h=i[c]).name===n.name){if(h.state===Ar)return _r(a);h.state===Nr?(h.state=Rr,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=Rr,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(_r((function(){n.state===Ar&&(n.state=Nr,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=Sr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Sr){for(n.state=Ar,r=new Array(f=n.tween.length),c=0,u=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=qr,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);n.state===qr&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=Rr,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=vr(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:br,tween:kr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Mr})}function Tr(t,e){var n=Cr(t,e);if(n.state>Mr)throw new Error("too late; already scheduled");return n}function Pr(t,e){var n=Cr(t,e);if(n.state>Ar)throw new Error("too late; already running");return n}function Cr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Wr(t,e){var n,r;return function(){var i=Pr(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Or(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Pr(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function Ir(t,e,n){var r=t._id;return t.each((function(){var t=Pr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Cr(t,r).value[e]}}function Dr(t,e){var n;return("number"==typeof e?Gn:e instanceof xn?jn:(n=xn(e))?(e=n,jn):Un)(t,e)}function jr(t){return function(){this.removeAttribute(t)}}function Lr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hr(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Br(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Gr(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttribute(t)}}function Fr(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function Xr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function Yr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function Ur(t,e){return function(){Tr(this,t).delay=+e.apply(this,arguments)}}function Vr(t,e){return e=+e,function(){Tr(this,t).delay=e}}function Jr(t,e){return function(){Pr(this,t).duration=+e.apply(this,arguments)}}function Zr(t,e){return e=+e,function(){Pr(this,t).duration=e}}var Qr=tn.prototype.constructor;function Kr(t){return function(){this.style.removeProperty(t)}}var ti=0;function ei(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ni(t){return tn().transition(t)}function ri(){return++ti}var ii=tn.prototype;ei.prototype=ni.prototype={constructor:ei,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Jt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,f=o[a]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=t.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),f[h]=l,zr(f[h],e,n,h,f,Cr(s,n)));return new ei(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Kt(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,f=0;f<u;++f)if(l=c[f]){for(var h,d=t.call(l,l.__data__,f,c),p=Cr(l,n),g=0,m=d.length;g<m;++g)(h=d[g])&&zr(h,e,n,g,d,p);o.push(d),a.push(l)}return new ei(o,a,e,n)},selectChild:ii.selectChild,selectChildren:ii.selectChildren,filter:function(t){"function"!=typeof t&&(t=te(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new ei(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],f=c.length,h=a[s]=new Array(f),d=0;d<f;++d)(l=c[d]||u[d])&&(h[d]=l);for(;s<r;++s)a[s]=e[s];return new ei(a,this._parents,this._name,this._id)},selection:function(){return new Qr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=ri(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=Cr(a,e);zr(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ei(r,this._parents,t,n)},call:ii.call,nodes:ii.nodes,node:ii.node,size:ii.size,empty:ii.empty,each:ii.each,on:function(t,e){var n=this._id;return arguments.length<2?Cr(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Tr:Pr;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=Ft(t),r="transform"===n?or:Dr;return this.attrTween(t,"function"==typeof e?(n.local?Fr:Gr)(n,r,Ir(this,"attr."+t,e)):null==e?(n.local?Lr:jr)(n):(n.local?Br:Hr)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Ft(t);return this.tween(n,(r.local?Xr:Yr)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?ir:Dr;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=be(this,t),a=(this.style.removeProperty(t),be(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Kr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=be(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=be(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}(t,r,Ir(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var l=Pr(this,t),c=l.on,u=null==l.value[a]?o||(o=Kr(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=be(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Ir(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Cr(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Wr:Or)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ur:Vr)(e,t)):Cr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Jr:Zr)(e,t)):Cr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Pr(this,t).ease=e}}(e,t)):Cr(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Pr(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=Pr(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:ii[Symbol.iterator]};var oi={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function ai(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}tn.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>Sr&&n.state<qr,n.state=Rr,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},tn.prototype.transition=function(t){var e,n;t instanceof ei?(e=t._id,t=t._name):(e=ri(),(n=oi).time=gr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&zr(a,t,e,c,s,n||ai(a,e));return new ei(r,this._parents,t,e)};const si=Math.PI,li=2*si,ci=1e-6,ui=li-ci;function fi(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class hi{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?fi:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return fi;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,f=c*c+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(f>ci)if(Math.abs(u*s-l*c)>ci&&i){let h=n-o,d=r-a,p=s*s+l*l,g=h*h+d*d,m=Math.sqrt(p),y=Math.sqrt(f),v=i*Math.tan((si-Math.acos((p+f-g)/(2*m*y)))/2),$=v/y,w=v/m;Math.abs($-1)>ci&&this._append`L${t+$*c},${e+$*u}`,this._append`A${i},${i},0,0,${+(u*h>c*d)},${this._x1=t+w*s},${this._y1=e+w*l}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,f=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>ci||Math.abs(this._y1-c)>ci)&&this._append`L${l},${c}`,n&&(f<0&&(f=f%li+li),f>ui?this._append`A${n},${n},0,1,${u},${t-a},${e-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:f>ci&&this._append`A${n},${n},0,${+(f>=si)},${u},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}var di={},pi={};function gi(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function mi(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function yi(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function vi(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+yi(-e,6):e>9999?"+"+yi(e,6):yi(e,4))+"-"+yi(t.getUTCMonth()+1,2)+"-"+yi(t.getUTCDate(),2)+(o?"T"+yi(n,2)+":"+yi(r,2)+":"+yi(i,2)+"."+yi(o,3)+"Z":i?"T"+yi(n,2)+":"+yi(r,2)+":"+yi(i,2)+"Z":r||n?"T"+yi(n,2)+":"+yi(r,2)+"Z":"")}var $i=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return pi;if(c)return c=!1,di;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?l=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=u())!==pi;){for(var f=[];r!==di&&r!==pi;)f.push(r),r=u();e&&null==(f=e(f,s++))||i.push(f)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?vi(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=gi(t);return function(r,i){return e(n(r),i,t)}}(t,e):gi(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=mi(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=mi(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),wi=$i.parse;function xi(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var _i,bi=(_i=wi,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),function(t,e){return fetch(t,e).then(xi)}(t,e).then((function(t){return _i(t,n)}))});function ki(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Mi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ei(t){return(t=Mi(Math.abs(t)))?t[1]:NaN}var Si,Ai=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ni(t){if(!(e=Ai.exec(t)))throw new Error("invalid format: "+t);var e;return new qi({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function qi(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ri(t,e){var n=Mi(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Ni.prototype=qi.prototype,qi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var zi={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ri(100*t,e),r:Ri,s:function(t,e){var n=Mi(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Si=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Mi(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ti(t){return t}var Pi,Ci,Wi,Oi=Array.prototype.map,Ii=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Di(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Ti:(e=Oi.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Ti:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Oi.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Ni(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):zi[v]||(void 0===m&&(m=12),y=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var $="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===h?o:/[%p]/.test(v)?l:"",x=zi[v],_=/[defgprs%]/.test(v);function b(t){var i,o,l,h=$,b=w;if("c"===v)b=x(t)+b,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),h=(k?"("===f?f:c:"-"===f||"("===f?"":f)+h,b=("s"===v?Ii[8+Si/3]:"")+b+(k&&"("===f?")":""),_)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){b=(46===l?a+t.slice(i+1):t.slice(i))+b,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var M=h.length+t.length+b.length,E=M<p?new Array(p-M+1).join(e):"";switch(g&&d&&(t=r(E+t,E.length?p-b.length:1/0),E=""),n){case"<":t=h+t+b+E;break;case"=":t=h+E+t+b;break;case"^":t=E.slice(0,M=E.length>>1)+h+t+b+E.slice(M);break;default:t=E+h+t+b}return s(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),b.toString=function(){return t+""},b}return{format:f,formatPrefix:function(t,e){var n=f(((t=Ni(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ei(e)/3))),i=Math.pow(10,-r),o=Ii[8+r/3];return function(t){return n(i*t)+o}}}}Pi=Di({thousands:",",grouping:[3],currency:["$",""]}),Ci=Pi.format,Wi=Pi.formatPrefix;var ji=1e-6,Li=1e-12,Hi=Math.PI,Bi=Hi/2,Gi=Hi/4,Fi=2*Hi,Xi=180/Hi,Yi=Hi/180,Ui=Math.abs,Vi=Math.atan,Ji=Math.atan2,Zi=Math.cos,Qi=Math.sin,Ki=Math.sign||function(t){return t>0?1:t<0?-1:0},to=Math.sqrt;function eo(t){return t>1?Bi:t<-1?-Bi:Math.asin(t)}function no(){}function ro(t,e){t&&oo.hasOwnProperty(t.type)&&oo[t.type](t,e)}var io={Feature:function(t,e){ro(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ro(n[r].geometry,e)}},oo={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ao(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ao(n[r],e,0)},Polygon:function(t,e){so(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)so(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ro(n[r],e)}};function ao(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function so(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)ao(t[n],e,1);e.polygonEnd()}function lo(t,e){t&&io.hasOwnProperty(t.type)?io[t.type](t,e):ro(t,e)}function co(t){return[Ji(t[1],t[0]),eo(t[2])]}function uo(t){var e=t[0],n=t[1],r=Zi(n);return[r*Zi(e),r*Qi(e),Qi(n)]}function fo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ho(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function po(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function go(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function mo(t){var e=to(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function yo(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function vo(t,e){return Ui(t)>Hi&&(t-=Math.round(t/Fi)*Fi),[t,e]}function $o(t){return function(e,n){return Ui(e+=t)>Hi&&(e-=Math.round(e/Fi)*Fi),[e,n]}}function wo(t){var e=$o(t);return e.invert=$o(-t),e}function xo(t,e){var n=Zi(t),r=Qi(t),i=Zi(e),o=Qi(e);function a(t,e){var a=Zi(e),s=Zi(t)*a,l=Qi(t)*a,c=Qi(e),u=c*n+s*r;return[Ji(l*i-u*o,s*n-c*r),eo(u*i+l*o)]}return a.invert=function(t,e){var a=Zi(e),s=Zi(t)*a,l=Qi(t)*a,c=Qi(e),u=c*i-l*o;return[Ji(l*i+c*o,s*n+u*r),eo(u*n-s*r)]},a}function _o(t,e){(e=uo(e))[0]-=t,mo(e);var n=function(t){return t>1?0:t<-1?Hi:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+Fi-ji)%Fi}function bo(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:no,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function ko(t,e){return Ui(t[0]-e[0])<ji&&Ui(t[1]-e[1])<ji}function Mo(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Eo(t,e,n,r,i){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(ko(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2*ji}s.push(n=new Mo(r,t,null,!0)),l.push(n.o=new Mo(r,null,n,!1)),s.push(n=new Mo(a,t,null,!1)),l.push(n.o=new Mo(a,null,n,!0))}})),s.length){for(l.sort(e),So(s),So(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var c,u,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=c.length;o<a;++o)i.point((u=c[o])[0],u[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((u=c[o])[0],u[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function So(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Ao(t){return Ui(t[0])<=Hi?t[0]:Ki(t[0])*((Ui(t[0])+Hi)%Fi-Hi)}function No(t,e,n,r){return function(i){var o,a,s,l=e(i),c=bo(),u=e(c),f=!1,h={point:d,lineStart:g,lineEnd:m,polygonStart:function(){h.point=y,h.lineStart=v,h.lineEnd=$,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=m,a=Ot(a);var t=function(t,e){var n=Ao(e),r=e[1],i=Qi(r),o=[Qi(n),-Zi(n),0],a=0,s=0,l=new Et;1===i?r=Bi+ji:-1===i&&(r=-Bi-ji);for(var c=0,u=t.length;c<u;++c)if(h=(f=t[c]).length)for(var f,h,d=f[h-1],p=Ao(d),g=d[1]/2+Gi,m=Qi(g),y=Zi(g),v=0;v<h;++v,p=w,m=_,y=b,d=$){var $=f[v],w=Ao($),x=$[1]/2+Gi,_=Qi(x),b=Zi(x),k=w-p,M=k>=0?1:-1,E=M*k,S=E>Hi,A=m*_;if(l.add(Ji(A*M*Qi(E),y*b+A*Zi(E))),a+=S?k+M*Fi:k,S^p>=n^w>=n){var N=ho(uo(d),uo($));mo(N);var q=ho(o,N);mo(q);var R=(S^k>=0?-1:1)*eo(q[2]);(r>R||r===R&&(N[0]||N[1]))&&(s+=S^k>=0?1:-1)}}return(a<-ji||a<ji&&l<-Li)^1&s}(o,r);a.length?(f||(i.polygonStart(),f=!0),Eo(a,Ro,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){l.point(t,e)}function g(){h.point=p,l.lineStart()}function m(){h.point=d,l.lineEnd()}function y(t,e){s.push([t,e]),u.point(t,e)}function v(){u.lineStart(),s=[]}function $(){y(s[0][0],s[0][1]),u.lineEnd();var t,e,n,r,l=u.clean(),h=c.result(),d=h.length;if(s.pop(),o.push(s),s=null,d)if(1&l){if((e=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&l&&h.push(h.pop().concat(h.shift())),a.push(h.filter(qo))}return h}}function qo(t){return t.length>1}function Ro(t,e){return((t=t.x)[0]<0?t[1]-Bi-ji:Bi-t[1])-((e=e.x)[0]<0?e[1]-Bi-ji:Bi-e[1])}vo.invert=vo;var zo=No((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Hi:-Hi,l=Ui(o-n);Ui(l-Hi)<ji?(t.point(n,r=(r+a)/2>0?Bi:-Bi),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=Hi&&(Ui(n-i)<ji&&(n-=i*ji),Ui(o-s)<ji&&(o-=s*ji),r=function(t,e,n,r){var i,o,a=Qi(t-n);return Ui(a)>ji?Vi((Qi(e)*(o=Zi(r))*Qi(n)-Qi(r)*(i=Zi(e))*Qi(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Bi,r.point(-Hi,i),r.point(0,i),r.point(Hi,i),r.point(Hi,0),r.point(Hi,-i),r.point(0,-i),r.point(-Hi,-i),r.point(-Hi,0),r.point(-Hi,i);else if(Ui(t[0]-e[0])>ji){var o=t[0]<e[0]?Hi:-Hi;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-Hi,-Bi]);function To(t){var e=Zi(t),n=2*Yi,r=e>0,i=Ui(e)>ji;function o(t,n){return Zi(t)*Zi(n)>e}function a(t,n,r){var i=[1,0,0],o=ho(uo(t),uo(n)),a=fo(o,o),s=o[0],l=a-s*s;if(!l)return!r&&t;var c=e*a/l,u=-e*s/l,f=ho(i,o),h=go(i,c);po(h,go(o,u));var d=f,p=fo(h,d),g=fo(d,d),m=p*p-g*(fo(h,h)-1);if(!(m<0)){var y=to(m),v=go(d,(-p-y)/g);if(po(v,h),v=co(v),!r)return v;var $,w=t[0],x=n[0],_=t[1],b=n[1];x<w&&($=w,w=x,x=$);var k=x-w,M=Ui(k-Hi)<ji;if(!M&&b<_&&($=_,_=b,b=$),M||k<ji?M?_+b>0^v[1]<(Ui(v[0]-w)<ji?_:b):_<=v[1]&&v[1]<=b:k>Hi^(w<=v[0]&&v[0]<=x)){var E=go(d,(-p+y)/g);return po(E,h),[v,co(E)]}}}function s(e,n){var i=r?t:Hi-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return No(o,(function(t){var e,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(f,h){var d,p=[f,h],g=o(f,h),m=r?g?0:s(f,h):g?s(f+(f<0?Hi:-Hi),h):0;if(!e&&(c=l=g)&&t.lineStart(),g!==l&&(!(d=a(e,p))||ko(e,d)||ko(p,d))&&(p[2]=1),g!==l)u=0,g?(t.lineStart(),d=a(p,e),t.point(d[0],d[1])):(d=a(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(i&&e&&r^g){var y;m&n||!(y=a(p,e,!0))||(u=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||e&&ko(e,p)||t.point(p[0],p[1]),e=p,l=g,n=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return u|(c&&l)<<1}}}),(function(e,r,i,o){!function(t,e,n,r,i,o){if(n){var a=Zi(e),s=Qi(e),l=r*n;null==i?(i=e+r*Fi,o=e-l/2):(i=_o(a,i),o=_o(a,o),(r>0?i<o:i>o)&&(i+=r*Fi));for(var c,u=i;r>0?u>o:u<o;u-=l)c=co([a,-s*Zi(u),-s*Qi(u)]),t.point(c[0],c[1])}}(o,t,n,i,e,r)}),r?[0,-t]:[-Hi,t-Hi])}var Po=1e9,Co=-Po;function Wo(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,c){var u=0,f=0;if(null==i||(u=a(i,s))!==(f=a(o,s))||l(i,o)<0^s>0)do{c.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+s+4)%4)!==f);else c.point(o[0],o[1])}function a(r,i){return Ui(r[0]-t)<ji?i>0?0:3:Ui(r[0]-n)<ji?i>0?2:1:Ui(r[1]-e)<ji?i>0?1:0:i>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,c,u,f,h,d,p,g,m,y,v,$=a,w=bo(),x={point:_,lineStart:function(){x.point=b,c&&c.push(u=[]);y=!0,m=!1,p=g=NaN},lineEnd:function(){l&&(b(f,h),d&&m&&w.rejoin(),l.push(w.result()));x.point=_,m&&$.lineEnd()},polygonStart:function(){$=w,l=[],c=[],v=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var o,a,s=c[n],l=1,u=s.length,f=s[0],h=f[0],d=f[1];l<u;++l)o=h,a=d,h=(f=s[l])[0],d=f[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--e;return e}(),n=v&&e,i=(l=Ot(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Eo(l,s,e,o,a),a.polygonEnd());$=a,l=c=u=null}};function _(t,e){i(t,e)&&$.point(t,e)}function b(o,a){var s=i(o,a);if(c&&u.push([o,a]),y)f=o,h=a,d=s,y=!1,s&&($.lineStart(),$.point(o,a));else if(s&&m)$.point(o,a);else{var l=[p=Math.max(Co,Math.min(Po,p)),g=Math.max(Co,Math.min(Po,g))],w=[o=Math.max(Co,Math.min(Po,o)),a=Math.max(Co,Math.min(Po,a))];!function(t,e,n,r,i,o){var a,s=t[0],l=t[1],c=0,u=1,f=e[0]-s,h=e[1]-l;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>c&&(c=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<u&&(u=a)}if(a=r-l,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>c&&(c=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<u&&(u=a)}return c>0&&(t[0]=s+c*f,t[1]=l+c*h),u<1&&(e[0]=s+u*f,e[1]=l+u*h),!0}}}}}(l,w,t,e,n,r)?s&&($.lineStart(),$.point(o,a),v=!1):(m||($.lineStart(),$.point(l[0],l[1])),$.point(w[0],w[1]),s||$.lineEnd(),v=!1)}p=o,g=a,m=s}return x}}var Oo,Io,Do,jo,Lo=t=>t,Ho=new Et,Bo=new Et,Go={point:no,lineStart:no,lineEnd:no,polygonStart:function(){Go.lineStart=Fo,Go.lineEnd=Uo},polygonEnd:function(){Go.lineStart=Go.lineEnd=Go.point=no,Ho.add(Ui(Bo)),Bo=new Et},result:function(){var t=Ho/2;return Ho=new Et,t}};function Fo(){Go.point=Xo}function Xo(t,e){Go.point=Yo,Oo=Do=t,Io=jo=e}function Yo(t,e){Bo.add(jo*t-Do*e),Do=t,jo=e}function Uo(){Yo(Oo,Io)}var Vo=1/0,Jo=Vo,Zo=-Vo,Qo=Zo,Ko={point:function(t,e){t<Vo&&(Vo=t);t>Zo&&(Zo=t);e<Jo&&(Jo=e);e>Qo&&(Qo=e)},lineStart:no,lineEnd:no,polygonStart:no,polygonEnd:no,result:function(){var t=[[Vo,Jo],[Zo,Qo]];return Zo=Qo=-(Jo=Vo=1/0),t}};var ta,ea,na,ra,ia=0,oa=0,aa=0,sa=0,la=0,ca=0,ua=0,fa=0,ha=0,da={point:pa,lineStart:ga,lineEnd:va,polygonStart:function(){da.lineStart=$a,da.lineEnd=wa},polygonEnd:function(){da.point=pa,da.lineStart=ga,da.lineEnd=va},result:function(){var t=ha?[ua/ha,fa/ha]:ca?[sa/ca,la/ca]:aa?[ia/aa,oa/aa]:[NaN,NaN];return ia=oa=aa=sa=la=ca=ua=fa=ha=0,t}};function pa(t,e){ia+=t,oa+=e,++aa}function ga(){da.point=ma}function ma(t,e){da.point=ya,pa(na=t,ra=e)}function ya(t,e){var n=t-na,r=e-ra,i=to(n*n+r*r);sa+=i*(na+t)/2,la+=i*(ra+e)/2,ca+=i,pa(na=t,ra=e)}function va(){da.point=pa}function $a(){da.point=xa}function wa(){_a(ta,ea)}function xa(t,e){da.point=_a,pa(ta=na=t,ea=ra=e)}function _a(t,e){var n=t-na,r=e-ra,i=to(n*n+r*r);sa+=i*(na+t)/2,la+=i*(ra+e)/2,ca+=i,ua+=(i=ra*t-na*e)*(na+t),fa+=i*(ra+e),ha+=3*i,pa(na=t,ra=e)}function ba(t){this._context=t}ba.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Fi)}},result:no};var ka,Ma,Ea,Sa,Aa,Na=new Et,qa={point:no,lineStart:function(){qa.point=Ra},lineEnd:function(){ka&&za(Ma,Ea),qa.point=no},polygonStart:function(){ka=!0},polygonEnd:function(){ka=null},result:function(){var t=+Na;return Na=new Et,t}};function Ra(t,e){qa.point=za,Ma=Sa=t,Ea=Aa=e}function za(t,e){Sa-=t,Aa-=e,Na.add(to(Sa*Sa+Aa*Aa)),Sa=t,Aa=e}let Ta,Pa,Ca,Wa;class Oa{constructor(t){this._append=null==t?Ia:function(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Ia;if(e!==Ta){const t=10**e;Ta=e,Pa=function(e){let n=1;this._+=e[0];for(const r=e.length;n<r;++n)this._+=Math.round(arguments[n]*t)/t+e[n]}}return Pa}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:this._append`M${t},${e}`,this._point=1;break;case 1:this._append`L${t},${e}`;break;default:if(this._append`M${t},${e}`,this._radius!==Ca||this._append!==Pa){const t=this._radius,e=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Ca=t,Pa=this._append,Wa=this._,this._=e}this._+=Wa}}result(){const t=this._;return this._="",t.length?t:null}}function Ia(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Da(t){return function(e){var n=new ja;for(var r in t)n[r]=t[r];return n.stream=e,n}}function ja(){}function La(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),lo(n,t.stream(Ko)),e(Ko.result()),null!=r&&t.clipExtent(r),t}function Ha(t,e,n){return La(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}ja.prototype={constructor:ja,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ba=16,Ga=Zi(30*Yi);function Fa(t,e){return+e?function(t,e){function n(r,i,o,a,s,l,c,u,f,h,d,p,g,m){var y=c-r,v=u-i,$=y*y+v*v;if($>4*e&&g--){var w=a+h,x=s+d,_=l+p,b=to(w*w+x*x+_*_),k=eo(_/=b),M=Ui(Ui(_)-1)<ji||Ui(o-f)<ji?(o+f)/2:Ji(x,w),E=t(M,k),S=E[0],A=E[1],N=S-r,q=A-i,R=v*N-y*q;(R*R/$>e||Ui((y*N+v*q)/$-.5)>.3||a*h+s*d+l*p<Ga)&&(n(r,i,o,a,s,l,S,A,M,w/=b,x/=b,_,g,m),m.point(S,A),n(S,A,M,w,x,_,c,u,f,h,d,p,g,m))}}return function(e){var r,i,o,a,s,l,c,u,f,h,d,p,g={point:m,lineStart:y,lineEnd:$,polygonStart:function(){e.polygonStart(),g.lineStart=w},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){u=NaN,g.point=v,e.lineStart()}function v(r,i){var o=uo([r,i]),a=t(r,i);n(u,f,c,h,d,p,u=a[0],f=a[1],c=r,h=o[0],d=o[1],p=o[2],Ba,e),e.point(u,f)}function $(){g.point=m,e.lineEnd()}function w(){y(),g.point=x,g.lineEnd=_}function x(t,e){v(r=t,e),i=u,o=f,a=h,s=d,l=p,g.point=v}function _(){n(u,f,c,h,d,p,i,o,r,a,s,l,Ba,e),g.lineEnd=$,$()}return g}}(t,e):function(t){return Da({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Xa=Da({point:function(t,e){this.stream.point(t*Yi,e*Yi)}});function Ya(t,e,n,r,i,o){if(!o)return function(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}(t,e,n,r,i);var a=Zi(o),s=Qi(o),l=a*t,c=s*t,u=a/t,f=s/t,h=(s*n-a*e)/t,d=(s*e+a*n)/t;function p(t,o){return[l*(t*=r)-c*(o*=i)+e,n-c*t-l*o]}return p.invert=function(t,e){return[r*(u*t-f*e+h),i*(d-f*t-u*e)]},p}function Ua(t){return function(t){var e,n,r,i,o,a,s,l,c,u,f=150,h=480,d=250,p=0,g=0,m=0,y=0,v=0,$=0,w=1,x=1,_=null,b=zo,k=null,M=Lo,E=.5;function S(t){return l(t[0]*Yi,t[1]*Yi)}function A(t){return(t=l.invert(t[0],t[1]))&&[t[0]*Xi,t[1]*Xi]}function N(){var t=Ya(f,0,0,w,x,$).apply(null,e(p,g)),r=Ya(f,h-t[0],d-t[1],w,x,$);return n=function(t,e,n){return(t%=Fi)?e||n?yo(wo(t),xo(e,n)):wo(t):e||n?xo(e,n):vo}(m,y,v),s=yo(e,r),l=yo(n,s),a=Fa(s,E),q()}function q(){return c=u=null,S}return S.stream=function(t){return c&&u===t?c:c=Xa(function(t){return Da({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(b(a(M(u=t)))))},S.preclip=function(t){return arguments.length?(b=t,_=void 0,q()):b},S.postclip=function(t){return arguments.length?(M=t,k=r=i=o=null,q()):M},S.clipAngle=function(t){return arguments.length?(b=+t?To(_=t*Yi):(_=null,zo),q()):_*Xi},S.clipExtent=function(t){return arguments.length?(M=null==t?(k=r=i=o=null,Lo):Wo(k=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),q()):null==k?null:[[k,r],[i,o]]},S.scale=function(t){return arguments.length?(f=+t,N()):f},S.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],N()):[h,d]},S.center=function(t){return arguments.length?(p=t[0]%360*Yi,g=t[1]%360*Yi,N()):[p*Xi,g*Xi]},S.rotate=function(t){return arguments.length?(m=t[0]%360*Yi,y=t[1]%360*Yi,v=t.length>2?t[2]%360*Yi:0,N()):[m*Xi,y*Xi,v*Xi]},S.angle=function(t){return arguments.length?($=t%360*Yi,N()):$*Xi},S.reflectX=function(t){return arguments.length?(w=t?-1:1,N()):w<0},S.reflectY=function(t){return arguments.length?(x=t?-1:1,N()):x<0},S.precision=function(t){return arguments.length?(a=Fa(s,E=t*t),q()):to(E)},S.fitExtent=function(t,e){return Ha(S,t,e)},S.fitSize=function(t,e){return function(t,e,n){return Ha(t,[[0,0],e],n)}(S,t,e)},S.fitWidth=function(t,e){return function(t,e,n){return La(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}(S,t,e)},S.fitHeight=function(t,e){return function(t,e,n){return La(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}(S,t,e)},function(){return e=t.apply(this,arguments),S.invert=e.invert&&A,N()}}((function(){return t}))()}function Va(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function Ja(){return Ua(Va).scale(175.295)}function Za(t,e){return t.parent===e.parent?1:2}function Qa(t,e){return t+e.x}function Ka(t,e){return Math.max(t,e.y)}function ts(){var t=Za,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Qa,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Ka,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),c=s.x-t(s,l)/2,u=l.x+t(l,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-c)/(u-c)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function es(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function ns(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=is)):void 0===e&&(e=rs);for(var n,r,i,o,a,s=new ss(t),l=[s];n=l.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)l.push(r=i[o]=new ss(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(as)}function rs(t){return t.children}function is(t){return Array.isArray(t)?t[1]:null}function os(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function as(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function ss(t){this.data=t,this.depth=this.height=0,this.parent=null}function ls(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}Va.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Ui(n)>ji&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},ss.prototype=ns.prototype={constructor:ss,count:function(){return this.eachAfter(es)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,o=this,a=[o],s=[],l=-1;o=a.pop();)if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=s.pop();)t.call(e,o,++l,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return ns(this).eachBefore(os)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}};const cs=Symbol("implicit");function us(){var t=new St,e=[],n=[],r=cs;function i(i){let o=t.get(i);if(void 0===o){if(r!==cs)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new St;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return us(e,n).unknown(r)},ls.apply(i,arguments),i}function fs(){var t,e,n=us().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function f(){var n=r().length,f=a<o,h=f?a:o,d=f?o:a;t=(d-h)/Math.max(1,n-l+2*c),s&&(t=Math.floor(t)),h+=(d-h-t*(n-l))*u,e=t*(1-l),s&&(h=Math.round(h),e=Math.round(e));var p=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}(n).map((function(e){return h+t*e}));return i(f?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),f()):r()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,s=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,f()):s},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),f()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),f()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),f()):u},n.copy=function(){return fs(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},ls.apply(f(),arguments)}function hs(t){return+t}var ds=[0,1];function ps(t){return t}function gs(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function ms(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=gs(i,r),o=n(a,o)):(r=gs(r,i),o=n(o,a)),function(t){return o(r(t))}}function ys(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=gs(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Mt(t,e,1,r)-1;return o[n](i[n](e))}}function vs(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $s(){var t,e,n,r,i,o,a=ds,s=ds,l=Vn,c=ps;function u(){var t,e,n,l=Math.min(a.length,s.length);return c!==ps&&(t=a[0],e=a[l-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=l>2?ys:ms,i=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(s,a.map(t),Gn)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,hs),u()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),l=Jn,u()},f.clamp=function(t){return arguments.length?(c=!!t||ps,u()):c!==ps},f.interpolate=function(t){return arguments.length?(l=t,u()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,u()}}function ws(t,e,n,r){var i,o=function(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?Wt(e,t,n):Wt(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}(t,e,n);switch((r=Ni(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ei(e)/3)))-Ei(Math.abs(t)))}(o,a))||(r.precision=i),Wi(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ei(e)-Ei(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Ei(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Ci(r)}function xs(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const r=e<t,[i,o,a]=r?Ct(e,t,n):Ct(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let t=0;t<s;++t)l[t]=(o-t)/-a;else for(let t=0;t<s;++t)l[t]=(o-t)*a;else if(a<0)for(let t=0;t<s;++t)l[t]=(i+t)/-a;else for(let t=0;t<s;++t)l[t]=(i+t)*a;return l}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return ws(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=Wt(l,c,n))===r)return o[a]=l,o[s]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function _s(){var t=$s()(ps,ps);return t.copy=function(){return vs(t,_s())},ls.apply(t,arguments),xs(t)}function bs(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ks(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ms(t){return t<0?-t*t:t*t}function Es(t){var e=t(ps,ps),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(ps,ps):.5===n?t(ks,Ms):t(bs(n),bs(1/n)):n},xs(e)}function Ss(){var t=Es($s());return t.copy=function(){return vs(t,Ss()).exponent(t.exponent())},ls.apply(t,arguments),t}function As(t){return function(){return t}}function Ns(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new hi(e)}var qs=Array.prototype.slice;function Rs(t){this._context=t}function zs(t){return new Rs(t)}function Ts(t){return t[0]}function Ps(t){return t[1]}function Cs(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Rs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};class Ws{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,e){if(t=+t,e=+e,0===this._point)this._point=1;else{const n=Cs(this._x0,this._y0),r=Cs(this._x0,this._y0=(this._y0+e)/2),i=Cs(t,this._y0),o=Cs(t,e);this._context.moveTo(...n),this._context.bezierCurveTo(...r,...i,...o)}this._x0=t,this._y0=e}}function Os(t){return new Ws(t)}function Is(t){return t.source}function Ds(t){return t.target}function js(){const t=function(t){let e=Is,n=Ds,r=Ts,i=Ps,o=null,a=null,s=Ns(l);function l(){let l;const c=qs.call(arguments),u=e.apply(this,c),f=n.apply(this,c);if(null==o&&(a=t(l=s())),a.lineStart(),c[0]=u,a.point(+r.apply(this,c),+i.apply(this,c)),c[0]=f,a.point(+r.apply(this,c),+i.apply(this,c)),a.lineEnd(),l)return a=null,l+""||null}return l.source=function(t){return arguments.length?(e=t,l):e},l.target=function(t){return arguments.length?(n=t,l):n},l.x=function(t){return arguments.length?(r="function"==typeof t?t:As(+t),l):r},l.y=function(t){return arguments.length?(i="function"==typeof t?t:As(+t),l):i},l.context=function(e){return arguments.length?(null==e?o=a=null:a=t(o=e),l):o},l}(Os);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}function Ls(t){return t<0?-1:1}function Hs(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Ls(o)+Ls(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Bs(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Gs(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Fs(t){this._context=t}function Xs(t){this._context=t}function Ys(t,e,n){this.k=t,this.x=e,this.y=n}Fs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gs(this,this._t0,Bs(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Gs(this,Bs(this,n=Hs(this,t,e)),n);break;default:Gs(this,this._t0,n=Hs(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(function(t){this._context=new Xs(t)}.prototype=Object.create(Fs.prototype)).point=function(t,e){Fs.prototype.point.call(this,e,t)},Xs.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Ys.prototype={constructor:Ys,scale:function(t){return 1===t?this:new Ys(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Ys(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Us=new Ys(1,0,0);const Vs={light:{text:"#222",muted:"#777",pale:"#f0f0f0",background:"#fff"},dark:{text:"black",muted:"#bbb",pale:"#333",background:"gray"},lightblue:{text:"#206095",muted:"#707070",pale:"#f0f0f0",background:"rgb(188, 207, 222)"}},Js=[];function Zs(e,n=t){let r;const i=new Set;function o(t){if(s(e,t)&&(e=t,r)){const t=!Js.length;for(const t of i)t[1](),Js.push(t,e);if(t){for(let t=0;t<Js.length;t+=2)Js[t][0](Js[t+1]);Js.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const l=[a,s];return i.add(l),1===i.size&&(r=n(o)||t),a(e),()=>{i.delete(l),0===i.size&&r&&(r(),r=null)}}}}function Qs(e,n,r){const i=!Array.isArray(e),s=i?[e]:e,l=n.length<2;return function(t,e){return{subscribe:Zs(t,e).subscribe}}(r,(e=>{let r=!1;const c=[];let f=0,h=t;const d=()=>{if(f)return;h();const r=n(i?c[0]:c,e);l?e(r):h=a(r)?r:t},p=s.map(((t,e)=>u(t,(t=>{c[e]=t,f&=~(1<<e),r&&d()}),(()=>{f|=1<<e}))));return r=!0,d(),function(){o(p),h(),r=!1}}))}const Ks=Zs([]);let tl={name:"pax",children:[{name:"Participation",colname:"level2",key:"WggPar",children:[{name:"Gender quotas",colname:"level3",key:"WggGenQuot"},{name:"Effective participation",colname:"level3",key:"WggEffPart"},{name:"Citizenship",colname:"level3",key:"WggCitizen"},{name:"Other",colname:"level3",key:"WggParOth"}]},{name:"Equality",colname:"level2",key:"WggEq",children:[{name:"Equality (general)",colname:"level3",key:"WggEqGen"},{name:"Social equality",colname:"level3",key:"WggSocEq"},{name:"Other",colname:"level3",key:"WggEqOth"}]},{name:"Particular groups of women",colname:"level2",key:"WggGrp",children:[{name:"Indigenous/nomadic women",colname:"level3",key:"WggIndNom"},{name:"Refugee / Displaced women",colname:"level3",key:"WggRefDisp"},{name:"Pregnancy/Maternity",colname:"level3",key:"WggPreg"},{name:"Other",colname:"level3",key:"WggGrpOth"}]},{name:"International law",colname:"level2",key:"WggIntLaw",children:[{name:"General mentions of international human rights law",colname:"level3",key:"WggHR"},{name:"International human rights standards",colname:"level3",key:"WggHrSta"},{name:"References to UNSCR 1325",colname:"level3",key:"WggUnsc"},{name:"Other",colname:"level3",key:"WggIntLawOth"}]},{name:"New Institutions",colname:"level2",key:"WggNewInst",children:[{name:"Institutions for women",colname:"level3",key:"WggInstWom"},{name:"Infrastructure (general)",colname:"level3",key:"WggInf"},{name:"Reconciliation and Peace",colname:"level3",key:"WggRecon"},{name:"Other",colname:"level3",key:"WggNewInstOth"}]},{name:"Violence Against women",colname:"level2",key:"WggVio",children:[{name:"Sexual violence",colname:"level3",key:"WggVioSex"},{name:"Gender-based violence / VAW (general)",colname:"level3",key:"WggVioGen"},{name:"Protection (general)",colname:"level3",key:"WggVioProt"},{name:"Other",colname:"level3",key:"WggVioOth"}]},{name:"Transitional Justice",colname:"level2",key:"WggTraJus",children:[{name:"Past and gender",colname:"level3",key:"WggPast"},{name:"Prisons, prisoner release",colname:"level3",key:"WggPri"},{name:"Other",colname:"level3",key:"WggTraJusOth"}]},{name:"Institutional Reform",colname:"level2",key:"WggInstRef",children:[{name:"Constitution-making/reform",colname:"level3",key:"WggConst"},{name:"Emergency/criminal law/corruption reform",colname:"level3",key:"WggLawRef"},{name:"Judiciary, judicial reform",colname:"level3",key:"WggJud"},{name:"Police",colname:"level3",key:"WggPol"},{name:"DDR, Army, Parastatal or rebel forces",colname:"level3",key:"WggDdr"},{name:"Public administration",colname:"level3",key:"WggPubAdm"},{name:"Other",colname:"level3",key:"WggInstRefOth"}]},{name:"Development",colname:"level2",key:"WggDev",children:[{name:"General",colname:"level3",key:"WggDevGen"},{name:"Rehabilitation and reconstruction",colname:"level3",key:"WggRehab"},{name:"Education",colname:"level3",key:"WggEdu"},{name:"Health (general)",colname:"level3",key:"WggHea"},{name:"Reproductive rights",colname:"level3",key:"WggRepro"},{name:"Other",colname:"level3",key:"WggDevOth"}]},{name:"Implementation",colname:"level2",key:"WggImpl",children:[{name:"Womens role and consideration in implementation of the agreement",colname:"level3",key:"WggImplRole"},{name:"Signing or Witnessing agreement",colname:"level3",key:"WggImplSign"},{name:"Other",colname:"level3",key:"WggImplOth"}]},{name:"Other",colname:"level2",key:"WggOth",children:[{name:"Other",colname:"level3",key:"WggOth"}]}]};async function el(t){const e=t.map((t=>async function(t){return await bi(t)}(t)));return await Promise.all(e)}async function nl(t){const e=function(t,e){return fetch(t,e).then(ki)}(t);return e}Ks.subscribe((t=>{}));(function(t,e){var n=As(!0),r=null,i=zs,o=null,a=Ns(s);function s(s){var l,c,u,f=(s=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(s)).length,h=!1;for(null==r&&(o=i(u=a())),l=0;l<=f;++l)!(l<f&&n(c=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(c,l,s),+e(c,l,s));if(u)return o=null,u+""||null}return t="function"==typeof t?t:void 0===t?Ts:As(t),e="function"==typeof e?e:void 0===e?Ps:As(e),s.x=function(e){return arguments.length?(t="function"==typeof e?e:As(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:As(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:As(!!t),s):n},s.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),s):i},s.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),s):r},s})().x((t=>t[0])).y((t=>t[1])).curve((function(t){return new Fs(t)}));let rl=["1990","1991","1992","1993","1994","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023"];function il(t){const e={};t.forEach((t=>{e[t.Loc1ISO]?e[t.Loc1ISO]++:e[t.Loc1ISO]=1}));const n=Object.entries(e).map((([t,e])=>({iso:t,count:e})));return n.filter((t=>""!=t.iso))}let ol=3;function al(t,e,n,r){let i=Math.ceil(Math.sqrt(r*(n/e))),o=Math.ceil(r/i),a=(n-(i-1)*ol)/i,s=(e-(o-1)*ol)/o;return t.map(((t,n)=>({x:n%i*(a+ol)+2*Math.random()-1,y:e-(Math.floor(n/i)+1)*(s+ol)+2*Math.random()-1,width:a,height:s,id:t.AgtId,info:t.Agt})))}function sl(t,e,n){let r=t,i=(n-60)/7,o=(i-18)/10,a=Math.max(...r.map((([t,e])=>e.length))),s=Math.ceil(a/10),l=(e-2*(s-1))/s,c=r.flatMap((([t,n],r)=>n.map(((t,n)=>{let a=r*(i+10),s=Math.floor(n/10),c=e-(s+1)*(l+2);return{x:a+n%10*(o+2)+2*Math.random()-1,y:c+2*Math.random()-1,width:o,height:l,info:t.Agt,id:t.AgtId}}))));return c}function ll(t){let e,n,r,i;const o=t[3].default,a=h(o,t,t[2],null);return{c(){e=N("header"),n=N("div"),r=N("div"),a&&a.c(),B(r,"center",t[0]),C(n,"class","v-padded col-wide middle svelte-11k4qos"),I(n,"position","relative"),B(n,"short",t[1]),B(n,"height-full",!t[1]),I(e,"color","white}"),I(e,"background-color","black"),C(e,"class","svelte-11k4qos"),B(e,"short",t[1])},m(t,o){E(t,e,o),M(e,n),M(n,r),a&&a.m(r,null),i=!0},p(t,[s]){a&&a.p&&(!i||4&s)&&g(a,o,t,t[2],i?p(o,t[2],s,null):m(t[2]),null),(!i||1&s)&&B(r,"center",t[0]),(!i||2&s)&&B(n,"short",t[1]),(!i||2&s)&&B(n,"height-full",!t[1]),(!i||2&s)&&B(e,"short",t[1])},i(t){i||(ht(a,t),i=!0)},o(t){dt(a,t),i=!1},d(t){t&&S(e),a&&a.d(t)}}}function cl(t,e,n){let{$$slots:r={},$$scope:i}=e,{center:o=!0}=e,{short:a=!1}=e;return t.$$set=t=>{"center"in t&&n(0,o=t.center),"short"in t&&n(1,a=t.short),"$$scope"in t&&n(2,i=t.$$scope)},[o,a,i,r]}class ul extends wt{constructor(t){super(),$t(this,t,cl,ll,s,{center:0,short:1})}}const{window:fl}=k,hl=t=>({}),dl=t=>({}),pl=t=>({}),gl=t=>({});function ml(t){let e,n,r,i,o,a,s,l;nt(t[21]);const c=t[20].background,u=h(c,t,t[19],gl),f=t[20].foreground,d=h(f,t,t[19],dl);return{c(){e=N("svelte-scroller-outer"),n=N("svelte-scroller-background-container"),r=N("svelte-scroller-background"),u&&u.c(),i=z(),o=N("svelte-scroller-foreground"),d&&d.c(),W(r,"class","svelte-1byeste"),W(n,"class","background-container svelte-1byeste"),W(o,"class","svelte-1byeste"),W(e,"style",t[6]),W(e,"class","svelte-1byeste"),B(e,"splitscreen",t[0])},m(c,f){E(c,e,f),M(e,n),M(n,r),u&&u.m(r,null),t[22](r),t[23](n),M(e,i),M(e,o),d&&d.m(o,null),t[24](o),t[25](e),a=!0,s||(l=P(fl,"resize",t[21]),s=!0)},p(t,n){u&&u.p&&(!a||524288&n[0])&&g(u,c,t,t[19],a?p(c,t[19],n,pl):m(t[19]),gl),d&&d.p&&(!a||524288&n[0])&&g(d,f,t,t[19],a?p(f,t[19],n,hl):m(t[19]),dl),(!a||64&n[0])&&W(e,"style",t[6]),(!a||1&n[0])&&B(e,"splitscreen",t[0])},i(t){a||(ht(u,t),ht(d,t),a=!0)},o(t){dt(u,t),dt(d,t),a=!1},d(n){n&&S(e),u&&u.d(n),t[22](null),t[23](null),d&&d.d(n),t[24](null),t[25](null),s=!1,l()}}}const yl=[];let vl;if("undefined"!=typeof window){const t=()=>yl.forEach((t=>t()));window.addEventListener("scroll",t),window.addEventListener("resize",t)}if("undefined"!=typeof IntersectionObserver){const t=new Map,e=new IntersectionObserver(((e,n)=>{e.forEach((e=>{const n=t.get(e.target),r=yl.indexOf(n);e.isIntersecting?-1===r&&yl.push(n):(n(),-1!==r&&yl.splice(r,1))}))}),{rootMargin:"400px 0px"});vl={add:({outer:n,update:r})=>{const{top:i,bottom:o}=n.getBoundingClientRect();i<window.innerHeight&&o>0&&yl.push(r),t.set(n,r),e.observe(n)},remove:({outer:n,update:r})=>{const i=yl.indexOf(r);-1!==i&&yl.splice(i,1),t.delete(n),e.unobserve(n)}}}else vl={add:({update:t})=>{yl.push(t)},remove:({update:t})=>{const e=yl.indexOf(t);-1!==e&&yl.splice(e,1)}};function $l(t,e,n){let r,i,o,a,s,l,c,u,f,h,d,{$$slots:p={},$$scope:g}=e,{top:m=0}=e,{bottom:y=1}=e,{threshold:v=.5}=e,{query:$="section"}=e,{parallax:w=!1}=e,{shadow:x}=e,{index:_=0}=e,{count:b=0}=e,{offset:k=0}=e,{progress:M=0}=e,{visible:E=!1}=e,{splitscreen:S=!1}=e,{id:A=null}=e,N=0,q=1;function R(){if(s){let t=`position: ${h?"fixed":"absolute"}; top: 0; transform: translate(0, ${d}px); width: ${q}px; z-index: 1;`;n(3,s.style.cssText=t,s)}}function z(){if(!l)return;const t=a.getBoundingClientRect();u=t.left,q=t.right-t.left;const e=l.getBoundingClientRect(),s=c.getBoundingClientRect();n(11,E=e.top<N&&e.bottom>0);const p=e.bottom-e.top,g=s.bottom-s.top,m=i-r;for(n(10,M=(r-e.top)/(p-m)),M<=0?(d=0,h&&(h=!1,R())):M>=1?(d=w?p-g:p-m,h&&(h=!1,R())):(d=w?Math.round(r-M*(g-m)):r,h||(h=!0,R())),n(7,_=0);_<f.length;n(7,_+=1)){const t=f[_],{top:r}=t.getBoundingClientRect(),i=f[_+1],a=i?i.getBoundingClientRect().top:e.bottom;if(n(9,k=(o-r)/(a-r)),n(12,A=t.dataset.id?t.dataset.id:null),a>=o)break}}X((()=>{f=l.querySelectorAll($),n(8,b=f.length),z();const t={outer:a,update:z};return vl.add(t),()=>vl.remove(t)}));let T="";return x&&(T="box-shadow: inset 0 -10px 10px -8px rgba(0, 0, 0, 1); background-color: gray"),t.$$set=t=>{"top"in t&&n(13,m=t.top),"bottom"in t&&n(14,y=t.bottom),"threshold"in t&&n(15,v=t.threshold),"query"in t&&n(16,$=t.query),"parallax"in t&&n(17,w=t.parallax),"shadow"in t&&n(18,x=t.shadow),"index"in t&&n(7,_=t.index),"count"in t&&n(8,b=t.count),"offset"in t&&n(9,k=t.offset),"progress"in t&&n(10,M=t.progress),"visible"in t&&n(11,E=t.visible),"splitscreen"in t&&n(0,S=t.splitscreen),"id"in t&&n(12,A=t.id),"$$scope"in t&&n(19,g=t.$$scope)},t.$$.update=()=>{8194&t.$$.dirty[0]&&(r=Math.round(m*N)),16386&t.$$.dirty[0]&&(i=Math.round(y*N)),32770&t.$$.dirty[0]&&(o=Math.round(v*N)),188416&t.$$.dirty[0]&&z()},[S,N,a,s,l,c,T,_,b,k,M,E,A,m,y,v,$,w,x,g,p,function(){n(1,N=fl.innerHeight)},function(t){Z[t?"unshift":"push"]((()=>{c=t,n(5,c)}))},function(t){Z[t?"unshift":"push"]((()=>{s=t,n(3,s)}))},function(t){Z[t?"unshift":"push"]((()=>{l=t,n(4,l)}))},function(t){Z[t?"unshift":"push"]((()=>{a=t,n(2,a)}))}]}class wl extends wt{constructor(t){super(),$t(this,t,$l,ml,s,{top:13,bottom:14,threshold:15,query:16,parallax:17,shadow:18,index:7,count:8,offset:9,progress:10,visible:11,splitscreen:0,id:12},null,[-1,-1])}}function xl(t){let e,n,r;const i=t[5].default,o=h(i,t,t[4],null);return{c(){e=N("section"),n=N("div"),o&&o.c(),C(n,"class","middle"),B(n,"center",t[0]),B(n,"col-medium",!t[1]),B(n,"col-wide",t[1]),B(n,"height-full",!t[2]),B(n,"short",t[2]),C(e,"class","svelte-1h2eog8")},m(t,i){E(t,e,i),M(e,n),o&&o.m(n,null),r=!0},p(t,[e]){o&&o.p&&(!r||16&e)&&g(o,i,t,t[4],r?p(i,t[4],e,null):m(t[4]),null),(!r||1&e)&&B(n,"center",t[0]),(!r||2&e)&&B(n,"col-medium",!t[1]),(!r||2&e)&&B(n,"col-wide",t[1]),(!r||4&e)&&B(n,"height-full",!t[2]),(!r||4&e)&&B(n,"short",t[2])},i(t){r||(ht(o,t),r=!0)},o(t){dt(o,t),r=!1},d(t){t&&S(e),o&&o.d(t)}}}function _l(t,e,n){let{$$slots:r={},$$scope:i}=e,{center:o=!0}=e,{wide:a=!1}=e,{short:s=!1}=e,{shadow:l}=e;return t.$$set=t=>{"center"in t&&n(0,o=t.center),"wide"in t&&n(1,a=t.wide),"short"in t&&n(2,s=t.short),"shadow"in t&&n(3,l=t.shadow),"$$scope"in t&&n(4,i=t.$$scope)},[o,a,s,l,i,r]}class bl extends wt{constructor(t){super(),$t(this,t,_l,xl,s,{center:0,wide:1,short:2,shadow:3})}}function kl(e){let n;return{c(){n=N("hr"),I(n,"color",Vs[e[0]]),C(n,"class","svelte-j57g2v")},m(t,e){E(t,n,e)},p(t,[e]){1&e&&I(n,"color",Vs[t[0]])},i:t,o:t,d(t){t&&S(n)}}}function Ml(t,e,n){let{theme:r=V("theme")}=e;return t.$$set=t=>{"theme"in t&&n(0,r=t.theme)},[r]}class El extends wt{constructor(t){super(),$t(this,t,Ml,kl,s,{theme:0})}}function Sl(t){const e=t-1;return e*e*e+1}function Al(t){return"[object Date]"===Object.prototype.toString.call(t)}function Nl(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>Nl(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(Al(t)&&Al(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=Nl(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function ql(t,r={}){const i=Zs(t);let o,a=t;function s(s,l){if(null==t)return i.set(t=s),Promise.resolve();a=s;let c=o,u=!1,{delay:f=0,duration:h=400,easing:d=e,interpolate:p=Nl}=n(n({},r),l);if(0===h)return c&&(c.abort(),c=null),i.set(t=a),Promise.resolve();const g=w()+f;let m;return o=function(t){let e;return 0===_.size&&x(b),{promise:new Promise((n=>{_.add(e={c:t,f:n})})),abort(){_.delete(e)}}}((e=>{if(e<g)return!0;u||(m=p(t,s),"function"==typeof h&&(h=h(t,s)),u=!0),c&&(c.abort(),c=null);const n=e-g;return n>h?(i.set(t=s),!1):(i.set(t=m(d(n/h))),!0)})),o.promise}return{set:s,update:(e,n)=>s(e(a,t),n),subscribe:i.subscribe}}function Rl(e){let n,r,i,a,s,l;return{c(){n=q("g"),r=q("rect"),C(r,"id",i="id_"+e[0]),C(r,"x","0"),C(r,"y","0"),C(r,"width",e[4]),C(r,"height",e[5]),C(r,"rx","1"),C(r,"fill","#F6F1D6"),C(r,"stroke","gray"),C(r,"stroke-width","0.5"),C(r,"class","svelte-1ld87d9"),B(r,"is-hovered",e[1]),C(n,"transform",a="translate("+e[2]+" "+e[3]+")")},m(t,i){E(t,n,i),M(n,r),s||(l=[P(r,"mouseenter",e[10]),P(r,"mouseleave",e[11])],s=!0)},p(t,[e]){1&e&&i!==(i="id_"+t[0])&&C(r,"id",i),16&e&&C(r,"width",t[4]),32&e&&C(r,"height",t[5]),2&e&&B(r,"is-hovered",t[1]),12&e&&a!==(a="translate("+t[2]+" "+t[3]+")")&&C(n,"transform",a)},i:t,o:t,d(t){t&&S(n),s=!1,o(l)}}}function zl(t,e,n){let r,i,o,a,{x:s}=e,{y:l}=e,{id:c}=e,{width:u}=e,{height:h}=e,{info:d}=e,{i:p}=e;const g=Y(),m={delay:p/4*Math.random(),duration:300,easing:Sl},y=ql(null,m);f(t,y,(t=>n(2,r=t)));const v=ql(null,m);f(t,v,(t=>n(3,i=t)));const $=ql(null,{duration:300,easing:Sl});f(t,$,(t=>n(4,o=t)));const w=ql(null,m);f(t,w,(t=>n(5,a=t)));let x=!1;return t.$$set=t=>{"x"in t&&n(12,s=t.x),"y"in t&&n(13,l=t.y),"id"in t&&n(0,c=t.id),"width"in t&&n(14,u=t.width),"height"in t&&n(15,h=t.height),"info"in t&&n(16,d=t.info),"i"in t&&n(17,p=t.i)},t.$$.update=()=>{4096&t.$$.dirty&&y.set(s),8192&t.$$.dirty&&v.set(l),16384&t.$$.dirty&&$.set(u),32768&t.$$.dirty&&w.set(h)},[c,x,r,i,o,a,y,v,$,w,()=>{n(1,x=!0),g("hover",{x:s,y:l,info:d})},()=>{setTimeout((()=>{n(1,x=!1)}),0),g("leave")},s,l,u,h,d,p]}class Tl extends wt{constructor(t){super(),$t(this,t,zl,Rl,s,{x:12,y:13,id:0,width:14,height:15,info:16,i:17})}}function Pl(e){let n,r,i;return{c(){n=q("g"),r=q("rect"),C(r,"x","0"),C(r,"y","0"),C(r,"width",e[2]),C(r,"height",e[3]),C(r,"rx","1"),C(r,"fill","#F6F1D6"),C(r,"stroke","gray"),C(r,"stroke-width","0.5"),C(r,"class","svelte-16ghwgf"),C(n,"transform",i="translate("+e[0]+" "+e[1]+")")},m(t,e){E(t,n,e),M(n,r)},p(t,[e]){4&e&&C(r,"width",t[2]),8&e&&C(r,"height",t[3]),3&e&&i!==(i="translate("+t[0]+" "+t[1]+")")&&C(n,"transform",i)},i:t,o:t,d(t){t&&S(n)}}}function Cl(t,e,n){let r,i,o,a,{i:s}=e,{x:l}=e,{y:c}=e,{width:u}=e,{height:h}=e,{info:d}=e;const p={delay:s/4*Math.random(),duration:300,easing:Sl},g=ql(null,p);f(t,g,(t=>n(0,r=t)));const m=ql(null,p);f(t,m,(t=>n(1,i=t)));const y=ql(null,{duration:300,easing:Sl});f(t,y,(t=>n(2,o=t)));const v=ql(null,p);return f(t,v,(t=>n(3,a=t))),t.$$set=t=>{"i"in t&&n(8,s=t.i),"x"in t&&n(9,l=t.x),"y"in t&&n(10,c=t.y),"width"in t&&n(11,u=t.width),"height"in t&&n(12,h=t.height),"info"in t&&n(13,d=t.info)},t.$$.update=()=>{512&t.$$.dirty&&g.set(l),1024&t.$$.dirty&&m.set(c),2048&t.$$.dirty&&y.set(u),4096&t.$$.dirty&&v.set(h)},[r,i,o,a,g,m,y,v,s,l,c,u,h,d]}class Wl extends wt{constructor(t){super(),$t(this,t,Cl,Pl,s,{i:8,x:9,y:10,width:11,height:12,info:13})}}function Ol(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function Il(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function Dl(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function jl(t){let e,n,r,i,o,a,s,l,u,f,h,d,p,g,m=t[9],y=[];for(let e=0;e<m.length;e+=1)y[e]=Ll(Dl(t,m,e));let v=t[6],$=[];for(let e=0;e<v.length;e+=1)$[e]=Hl(Il(t,v,e));const w=t=>dt($[t],1,1,(()=>{$[t]=null}));let x=t[5],_=[];for(let e=0;e<x.length;e+=1)_[e]=Bl(Ol(t,x,e));const b=t=>dt(_[t],1,1,(()=>{_[t]=null}));let k=t[7]&&Gl(t);return{c(){e=N("div"),n=q("svg"),r=q("g");for(let t=0;t<y.length;t+=1)y[t].c();i=T();for(let t=0;t<$.length;t+=1)$[t].c();o=T();for(let t=0;t<_.length;t+=1)_[t].c();k&&k.c(),s=z(),l=N("div"),u=N("img"),C(r,"class","timeline"),C(r,"transform",a="translate("+t[10].left+", "+t[10].top+")"),C(n,"width",t[0]),C(n,"height",t[1]),C(u,"class","example_img svelte-1me5ikt"),c(u.src,f=Xl)||C(u,"src",f),C(u,"alt","agt"),C(l,"id","example_stage"),C(l,"class","svelte-1me5ikt"),C(e,"class","wrapper svelte-1me5ikt"),nt((()=>t[18].call(e)))},m(a,c){E(a,e,c),M(e,n),M(n,r);for(let t=0;t<y.length;t+=1)y[t]&&y[t].m(r,null);M(r,i);for(let t=0;t<$.length;t+=1)$[t]&&$[t].m(r,null);M(r,o);for(let t=0;t<_.length;t+=1)_[t]&&_[t].m(r,null);k&&k.m(n,null),M(e,s),M(e,l),M(l,u),t[17](u),h=H(e,t[18].bind(e)),d=!0,p||(g=P(u,"load",t[11]),p=!0)},p(t,e){if(772&e){let n;for(m=t[9],n=0;n<m.length;n+=1){const o=Dl(t,m,n);y[n]?y[n].p(o,e):(y[n]=Ll(o),y[n].c(),y[n].m(r,i))}for(;n<y.length;n+=1)y[n].d(1);y.length=m.length}if(64&e){let n;for(v=t[6],n=0;n<v.length;n+=1){const i=Il(t,v,n);$[n]?($[n].p(i,e),ht($[n],1)):($[n]=Hl(i),$[n].c(),ht($[n],1),$[n].m(r,o))}for(ut(),n=v.length;n<$.length;n+=1)w(n);ft()}if(32&e){let n;for(x=t[5],n=0;n<x.length;n+=1){const i=Ol(t,x,n);_[n]?(_[n].p(i,e),ht(_[n],1)):(_[n]=Bl(i),_[n].c(),ht(_[n],1),_[n].m(r,null))}for(ut(),n=x.length;n<_.length;n+=1)b(n);ft()}t[7]?k?k.p(t,e):(k=Gl(t),k.c(),k.m(n,null)):k&&(k.d(1),k=null),(!d||1&e)&&C(n,"width",t[0]),(!d||2&e)&&C(n,"height",t[1])},i(t){if(!d){for(let t=0;t<v.length;t+=1)ht($[t]);for(let t=0;t<x.length;t+=1)ht(_[t]);d=!0}},o(t){$=$.filter(Boolean);for(let t=0;t<$.length;t+=1)dt($[t]);_=_.filter(Boolean);for(let t=0;t<_.length;t+=1)dt(_[t]);d=!1},d(n){n&&S(e),A(y,n),A($,n),A(_,n),k&&k.d(),t[17](null),h(),p=!1,g()}}}function Ll(t){let e,n,r,i,o=t[22]+"";return{c(){e=q("text"),n=R(o),C(e,"x",r=t[8]*t[24]+t[8]/2),C(e,"y",i=t[2]+14),C(e,"text-anchor","middle"),C(e,"font-family","Montserrat"),C(e,"fill","white"),C(e,"font-size","14px")},m(t,r){E(t,e,r),M(e,n)},p(t,n){256&n&&r!==(r=t[8]*t[24]+t[8]/2)&&C(e,"x",r),4&n&&i!==(i=t[2]+14)&&C(e,"y",i)},d(t){t&&S(e)}}}function Hl(t){let e,n;return e=new Wl({props:{i:t[24],x:t[22].x,y:t[22].y,width:t[22].width,height:t[22].height,info:t[22].info}}),{c(){gt(e.$$.fragment)},m(t,r){mt(e,t,r),n=!0},p(t,n){const r={};64&n&&(r.x=t[22].x),64&n&&(r.y=t[22].y),64&n&&(r.width=t[22].width),64&n&&(r.height=t[22].height),64&n&&(r.info=t[22].info),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Bl(t){let e,n;return e=new Tl({props:{i:t[24],x:t[22].x,y:t[22].y,width:t[22].width,height:t[22].height,info:t[22].info,id:t[22].id}}),{c(){gt(e.$$.fragment)},m(t,r){mt(e,t,r),n=!0},p(t,n){const r={};32&n&&(r.x=t[22].x),32&n&&(r.y=t[22].y),32&n&&(r.width=t[22].width),32&n&&(r.height=t[22].height),32&n&&(r.info=t[22].info),32&n&&(r.id=t[22].id),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Gl(t){let e,n;return{c(){e=q("path"),C(e,"id","example_stage"),C(e,"d",n=`M ${2*t[8]},${t[2]-30} \n                       C ${2*t[8]},${t[2]-100} \n                         ${t[4]},${t[7]+100} \n                         ${t[4]},${t[7]}`),C(e,"fill","none"),C(e,"stroke","white"),C(e,"stroke-width","1"),C(e,"opacity","0"),C(e,"class","svelte-1me5ikt")},m(t,n){E(t,e,n)},p(t,r){404&r&&n!==(n=`M ${2*t[8]},${t[2]-30} \n                       C ${2*t[8]},${t[2]-100} \n                         ${t[4]},${t[7]+100} \n                         ${t[4]},${t[7]}`)&&C(e,"d",n)},d(t){t&&S(e)}}}function Fl(t){let e,n,r=t[5]&&jl(t);return{c(){r&&r.c(),e=T()},m(t,i){r&&r.m(t,i),E(t,e,i),n=!0},p(t,[n]){t[5]?r?(r.p(t,n),32&n&&ht(r,1)):(r=jl(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ut(),dt(r,1,1,(()=>{r=null})),ft())},i(t){n||(ht(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&S(e)}}}let Xl="./img/africa.png";function Yl(t,e,n){let r,i,o,a,s,l,c,u,f,h,d,{pax:p}=e,{pax_stages:g}=e,{step:m}=e,y=400,v=400;const $={top:20,right:20,bottom:20,left:40};let w;return t.$$set=t=>{"pax"in t&&n(12,p=t.pax),"pax_stages"in t&&n(13,g=t.pax_stages),"step"in t&&n(14,m=t.step)},t.$$.update=()=>{1&t.$$.dirty&&n(16,u=y-$.left-$.right),2&t.$$.dirty&&n(2,f=v-$.top-$.bottom),65536&t.$$.dirty&&n(8,r=u/7),65536&t.$$.dirty&&(h=fs().domain(rl).range([0,u]).padding(.1)),4&t.$$.dirty&&(d=_s().domain([0,100]).range([f,0])),77828&t.$$.dirty&&p&&g&&(c=p.length,n(5,s=sl(g,f,u)),n(6,l=sl(g,f,u))),90116&t.$$.dirty&&("stage01"==m?n(5,s=sl(g,f,u)):"stage02"==m?(n(5,s=function(t,e,n,r){let i=t,o=(n-60)/7,a=(o-18)/10,s=Math.max(...i.map((([t,e])=>e.length))),l=Math.ceil(s/10),c=(e-2*(l-1))/l,u=i.flatMap((([t,n],i)=>{let s=0,l=0;return n.map((t=>{if("0"===t[r])return{x:i*(o+10)+l*(a+2),y:e+100,width:a,height:0,info:t.Agt,id:t.AgtId};let n=i*(o+10)+l*(a+2),u=e-(s+1)*(c+2);return l++,l>=10&&(l=0,s++),{x:n+2*Math.random()-1,y:u+2*Math.random()-1,width:a,height:c,info:t.Agt,id:t.AgtId}}))}));return u}(g,f,u,"GeWom")),en("#example_stage").style("opacity",0)):"stage03"==m&&en("#example_stage").style("opacity",1)),32772&t.$$.dirty&&f&&n(7,w=f-(f-a))},[y,v,f,i,o,s,l,w,r,["Pre-Negotiation","Ceasefire","Partial","Comprehensive","Implementation","Renewal","Other"],$,function(){if(i){const t=i.getBoundingClientRect();n(15,a=t.height),n(4,o=t.x)}},p,g,m,a,u,function(t){Z[t?"unshift":"push"]((()=>{i=t,n(3,i)}))},function(){y=this.clientWidth,v=this.clientHeight,n(0,y),n(1,v)}]}class Ul extends wt{constructor(t){super(),$t(this,t,Yl,Fl,s,{pax:12,pax_stages:13,step:14})}}function Vl(t,e,n){const r=t.slice();return r[16]=e[n],r[18]=n,r}function Jl(t,e,n){const r=t.slice();return r[16]=e[n],r[18]=n,r}function Zl(t){let e,n,r,i,o,a,s,l=t[3],c=[];for(let e=0;e<l.length;e+=1)c[e]=Ql(Jl(t,l,e));const u=t=>dt(c[t],1,1,(()=>{c[t]=null}));let f=t[2],h=[];for(let e=0;e<f.length;e+=1)h[e]=Kl(Vl(t,f,e));const d=t=>dt(h[t],1,1,(()=>{h[t]=null}));return{c(){e=N("div"),n=q("svg"),r=q("g");for(let t=0;t<c.length;t+=1)c[t].c();i=T();for(let t=0;t<h.length;t+=1)h[t].c();C(r,"class","timeline"),C(r,"transform",o="translate("+t[4].left+", "+t[4].top+")"),C(n,"width",t[0]),C(n,"height",t[1]),C(e,"class","wrapper svelte-1m5ii99"),nt((()=>t[12].call(e)))},m(o,l){E(o,e,l),M(e,n),M(n,r);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(r,null);M(r,i);for(let t=0;t<h.length;t+=1)h[t]&&h[t].m(r,null);a=H(e,t[12].bind(e)),s=!0},p(t,e){if(8&e){let n;for(l=t[3],n=0;n<l.length;n+=1){const o=Jl(t,l,n);c[n]?(c[n].p(o,e),ht(c[n],1)):(c[n]=Ql(o),c[n].c(),ht(c[n],1),c[n].m(r,i))}for(ut(),n=l.length;n<c.length;n+=1)u(n);ft()}if(100&e){let n;for(f=t[2],n=0;n<f.length;n+=1){const i=Vl(t,f,n);h[n]?(h[n].p(i,e),ht(h[n],1)):(h[n]=Kl(i),h[n].c(),ht(h[n],1),h[n].m(r,null))}for(ut(),n=f.length;n<h.length;n+=1)d(n);ft()}(!s||1&e)&&C(n,"width",t[0]),(!s||2&e)&&C(n,"height",t[1])},i(t){if(!s){for(let t=0;t<l.length;t+=1)ht(c[t]);for(let t=0;t<f.length;t+=1)ht(h[t]);s=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)dt(c[t]);h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)dt(h[t]);s=!1},d(t){t&&S(e),A(c,t),A(h,t),a()}}}function Ql(t){let e,n;return e=new Wl({props:{i:t[18],x:t[16].x,y:t[16].y,width:t[16].width,height:t[16].height,info:t[16].info}}),{c(){gt(e.$$.fragment)},m(t,r){mt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.x=t[16].x),8&n&&(r.y=t[16].y),8&n&&(r.width=t[16].width),8&n&&(r.height=t[16].height),8&n&&(r.info=t[16].info),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Kl(t){let e,n;return e=new Tl({props:{i:t[18],x:t[16].x,y:t[16].y,width:t[16].width,height:t[16].height,info:t[16].info,id:t[16].id}}),e.$on("hover",t[5]),e.$on("leave",t[6]),{c(){gt(e.$$.fragment)},m(t,r){mt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.x=t[16].x),4&n&&(r.y=t[16].y),4&n&&(r.width=t[16].width),4&n&&(r.height=t[16].height),4&n&&(r.info=t[16].info),4&n&&(r.id=t[16].id),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function tc(t){let e,n,r=t[2]&&Zl(t);return{c(){r&&r.c(),e=T()},m(t,i){r&&r.m(t,i),E(t,e,i),n=!0},p(t,[n]){t[2]?r?(r.p(t,n),4&n&&ht(r,1)):(r=Zl(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ut(),dt(r,1,1,(()=>{r=null})),ft())},i(t){n||(ht(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&S(e)}}}function ec(t,e,n){let r,i,o,a,s,l,c,{pax:u}=e,{step:f}=e,h={visible:!1,x:0,y:0,info:""},d=400,p=400;const g={top:20,right:20,bottom:20,left:40};return t.$$set=t=>{"pax"in t&&n(7,u=t.pax),"step"in t&&n(8,f=t.step)},t.$$.update=()=>{1&t.$$.dirty&&n(10,a=d-g.left-g.right),2&t.$$.dirty&&n(11,s=p-g.top-g.bottom),1024&t.$$.dirty&&(l=fs().domain(rl).range([0,a]).padding(.1)),2048&t.$$.dirty&&(c=_s().domain([0,100]).range([s,0])),3712&t.$$.dirty&&u&&(n(9,o=u.length),n(2,r=al(u,s,a,o)),n(3,i=al(u,s,a,o))),3968&t.$$.dirty&&("rect01"==f?n(2,r=al(u,s,a,o)):"rect02"==f&&n(2,r=function(t,e,n,r){let i=Math.ceil(Math.sqrt(r*(n/e))),o=Math.ceil(r/i),a=(n-(i-1)*ol)/i,s=(e-(o-1)*ol)/o,l=0,c=t.map((t=>{if("0"===t.GeWom)return{x:l%i*(a+ol),y:e+100,width:a,height:s,id:t.AgtId,info:t.Agt};const n=l%i*(a+ol)+2*Math.random()-1,r=e-(Math.floor(l/i)+1)*(s+ol)+2*Math.random()-1;return l++,{x:n,y:r,width:a,height:s,id:t.AgtId,info:t.Agt}}));return c}(u,s,a,o))),4&t.$$.dirty&&r&&r.forEach((t=>{t.info.includes("Toncontin")}))},[d,p,r,i,g,t=>{let e,n;t.detail.x>=a/2?e=t.detail.x-140:t.detail.x<a/2&&(e=t.detail.x+70),t.detail.y>=s/2?n=t.detail.y-50:t.detail.y<s/2&&(n=t.detail.y),h={visible:!0,x:e,y:n,info:t.detail.info}},()=>{h={...h,visible:!1}},u,f,o,a,s,function(){d=this.clientWidth,p=this.clientHeight,n(0,d),n(1,p)}]}class nc extends wt{constructor(t){super(),$t(this,t,ec,tc,s,{pax:7,step:8})}}function rc(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function ic(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function oc(t,e,n){const r=t.slice();return r[26]=e[n],r}function ac(t){let e,n,r,i,o,a,s,l,u,f,h,d,p,g,m,y,v,$,w,x,_,b,k=rl,W=[];for(let e=0;e<k.length;e+=1)W[e]=sc(oc(t,k,e));let O=t[6],I=[];for(let e=0;e<O.length;e+=1)I[e]=lc(ic(t,O,e));const D=t=>dt(I[t],1,1,(()=>{I[t]=null}));let j=t[5],L=[];for(let e=0;e<j.length;e+=1)L[e]=cc(rc(t,j,e));const B=t=>dt(L[t],1,1,(()=>{L[t]=null}));let G=t[12]&&uc(t);return{c(){e=N("div"),n=q("svg"),r=q("g"),i=q("g");for(let t=0;t<W.length;t+=1)W[t].c();for(let t=0;t<I.length;t+=1)I[t].c();o=T();for(let t=0;t<L.length;t+=1)L[t].c();a=q("rect"),G&&G.c(),f=q("text"),h=R("UN Resolution 1325"),m=z(),y=N("div"),v=N("img"),C(i,"class","axis x-axis svelte-1okqwou"),C(a,"class","un_resolution svelte-1okqwou"),C(a,"x",s=t[7]("2000")+t[7].bandwidth()/2),C(a,"y",l=20),C(a,"width","1"),C(a,"height",u=t[4]-100),C(a,"fill","white"),C(f,"class","un_resolution svelte-1okqwou"),C(f,"x",d=t[7]("2000")+t[7].bandwidth()),C(f,"y",p=20),C(f,"fill","white"),C(r,"class","timeline"),C(r,"transform",g="translate("+t[13].left+", "+t[13].top+")"),C(n,"width",t[1]),C(n,"height",t[2]),C(v,"class","example_img svelte-1okqwou"),c(v.src,$=t[9])||C(v,"src",$),C(v,"alt","agt"),C(y,"id","example"),C(y,"class","svelte-1okqwou"),C(e,"class","wrapper svelte-1okqwou"),nt((()=>t[19].call(e)))},m(s,l){E(s,e,l),M(e,n),M(n,r),M(r,i);for(let t=0;t<W.length;t+=1)W[t]&&W[t].m(i,null);for(let t=0;t<I.length;t+=1)I[t]&&I[t].m(r,null);M(r,o);for(let t=0;t<L.length;t+=1)L[t]&&L[t].m(r,null);M(r,a),G&&G.m(r,null),M(r,f),M(f,h),M(e,m),M(e,y),M(y,v),t[18](v),w=H(e,t[19].bind(e)),x=!0,_||(b=P(v,"load",t[14]),_=!0)},p(t,e){if(152&e){let n;for(k=rl,n=0;n<k.length;n+=1){const r=oc(t,k,n);W[n]?W[n].p(r,e):(W[n]=sc(r),W[n].c(),W[n].m(i,null))}for(;n<W.length;n+=1)W[n].d(1);W.length=k.length}if(64&e){let n;for(O=t[6],n=0;n<O.length;n+=1){const i=ic(t,O,n);I[n]?(I[n].p(i,e),ht(I[n],1)):(I[n]=lc(i),I[n].c(),ht(I[n],1),I[n].m(r,o))}for(ut(),n=O.length;n<I.length;n+=1)D(n);ft()}if(32&e){let n;for(j=t[5],n=0;n<j.length;n+=1){const i=rc(t,j,n);L[n]?(L[n].p(i,e),ht(L[n],1)):(L[n]=cc(i),L[n].c(),ht(L[n],1),L[n].m(r,a))}for(ut(),n=j.length;n<L.length;n+=1)B(n);ft()}(!x||128&e&&s!==(s=t[7]("2000")+t[7].bandwidth()/2))&&C(a,"x",s),(!x||16&e&&u!==(u=t[4]-100))&&C(a,"height",u),t[12]?G?G.p(t,e):(G=uc(t),G.c(),G.m(r,f)):G&&(G.d(1),G=null),(!x||128&e&&d!==(d=t[7]("2000")+t[7].bandwidth()))&&C(f,"x",d),(!x||2&e)&&C(n,"width",t[1]),(!x||4&e)&&C(n,"height",t[2]),(!x||512&e&&!c(v.src,$=t[9]))&&C(v,"src",$)},i(t){if(!x){for(let t=0;t<O.length;t+=1)ht(I[t]);for(let t=0;t<j.length;t+=1)ht(L[t]);x=!0}},o(t){I=I.filter(Boolean);for(let t=0;t<I.length;t+=1)dt(I[t]);L=L.filter(Boolean);for(let t=0;t<L.length;t+=1)dt(L[t]);x=!1},d(n){n&&S(e),A(W,n),A(I,n),A(L,n),G&&G.d(),t[18](null),w(),_=!1,b()}}}function sc(t){let e,n,r,i,o,a=(t[3]>800?t[26]:hc(t[26]))+"";return{c(){e=q("g"),n=q("text"),r=R(a),C(n,"y","1"),C(n,"class","svelte-1okqwou"),C(e,"class",i="tick tick-"+t[26]+" svelte-1okqwou"),C(e,"transform",o="translate("+(t[7](t[26])+t[7].bandwidth()/2)+","+(t[4]+17)+")")},m(t,i){E(t,e,i),M(e,n),M(n,r)},p(t,n){8&n&&a!==(a=(t[3]>800?t[26]:hc(t[26]))+"")&&O(r,a),144&n&&o!==(o="translate("+(t[7](t[26])+t[7].bandwidth()/2)+","+(t[4]+17)+")")&&C(e,"transform",o)},d(t){t&&S(e)}}}function lc(t){let e,n;return e=new Wl({props:{i:t[24],x:t[22].x,y:t[22].y,width:t[22].width,height:t[22].height,info:t[22].info}}),{c(){gt(e.$$.fragment)},m(t,r){mt(e,t,r),n=!0},p(t,n){const r={};64&n&&(r.x=t[22].x),64&n&&(r.y=t[22].y),64&n&&(r.width=t[22].width),64&n&&(r.height=t[22].height),64&n&&(r.info=t[22].info),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function cc(t){let e,n;return e=new Tl({props:{i:t[24],id:t[22].id,x:t[22].x,y:t[22].y,width:t[22].width,height:t[22].height,info:t[22].info}}),{c(){gt(e.$$.fragment)},m(t,r){mt(e,t,r),n=!0},p(t,n){const r={};32&n&&(r.id=t[22].id),32&n&&(r.x=t[22].x),32&n&&(r.y=t[22].y),32&n&&(r.width=t[22].width),32&n&&(r.height=t[22].height),32&n&&(r.info=t[22].info),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function uc(t){let e,n;return{c(){e=q("path"),C(e,"id","example"),C(e,"d",n=`M ${t[7](t[11])},${t[4]-10} \n                       C ${t[7](t[11])},${t[4]-100} \n                         ${t[8]-t[13].left},${t[12]+100} \n                         ${t[8]-t[13].left},${t[12]}`),C(e,"fill","none"),C(e,"stroke","white"),C(e,"stroke-width","1"),C(e,"opacity","0"),C(e,"class","svelte-1okqwou")},m(t,n){E(t,e,n)},p(t,r){6544&r&&n!==(n=`M ${t[7](t[11])},${t[4]-10} \n                       C ${t[7](t[11])},${t[4]-100} \n                         ${t[8]-t[13].left},${t[12]+100} \n                         ${t[8]-t[13].left},${t[12]}`)&&C(e,"d",n)},d(t){t&&S(e)}}}function fc(t){let e,n,r=t[5]&&t[0]&&ac(t);return{c(){r&&r.c(),e=T()},m(t,i){r&&r.m(t,i),E(t,e,i),n=!0},p(t,[n]){t[5]&&t[0]?r?(r.p(t,n),33&n&&ht(r,1)):(r=ac(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ut(),dt(r,1,1,(()=>{r=null})),ft())},i(t){n||(ht(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&S(e)}}}function hc(t){return"'"+t.toString().slice(-2)}function dc(t,e,n){let r,i,o,a,s,l,c,u,f,{pax:h}=e,{pax_timeline:d}=e,{step:p}=e,g=400,m=400,y="./img/lome.png",v={top:20,right:20,bottom:20,left:40};function $(t,e,n){let r,i=null;return r="none"===n?0:-1,t.map((t=>{let e;const o=t.Dat.substring(6,10);o!==i&&(r="none"===n?0:-1,i=o),e="none"==n?l(r):"1"===t[n]?l(++r):a+100;const c={x:s(o)+2*Math.random()-1,y:e+2*Math.random()-1,width:s.bandwidth(),height:3,info:t.Agt,id:t.AgtId};return"none"===n&&r++,c}))}window.addEventListener("resize",_);let w,x="1999";function _(){if(u){const t=u.getBoundingClientRect();n(17,f=t.height),n(8,c=t.x)}}return _(),t.$$set=t=>{"pax"in t&&n(15,h=t.pax),"pax_timeline"in t&&n(0,d=t.pax_timeline),"step"in t&&n(16,p=t.step)},t.$$.update=()=>{2&t.$$.dirty&&n(3,o=g-v.left-v.right),4&t.$$.dirty&&n(4,a=m-v.top-v.bottom),8&t.$$.dirty&&n(7,s=fs().domain(rl).range([0,o]).padding(.1)),16&t.$$.dirty&&(l=_s().domain([0,100]).range([a,0])),32776&t.$$.dirty&&h&&(n(6,i=$(h,0,"none")),n(5,r=$(h,0,"none"))),98312&t.$$.dirty&&("1"==p?(en(".un_resolution").style("visibility","hidden"),n(5,r=$(h,0,"none"))):"2"==p||"3"==p?(en(".un_resolution").style("visibility","visible"),n(5,r=$(h,0,"GeWom"))):"4"==p?(en(".un_resolution").style("visibility","hidden"),en("#example").style("opacity",0),n(5,r=$(h,0,"WggRehab"))):"5"==p?(en("#example").style("opacity",1),n(9,y="./img/lome.png"),n(11,x="1999"),n(5,r=$(h,0,"WggRehab"))):"6"==p?(en("#example").style("opacity",0),n(5,r=$(h,0,"WggImplRole"))):"7"==p?(en("#example").style("opacity",1),n(9,y="./img/colombia.png"),n(11,x="2016"),n(5,r=$(h,0,"WggImplRole"))):"8"==p?(en("#example").style("opacity",0),n(5,r=$(h,0,"WggHR"))):"9"==p&&(n(9,y="./img/guatemala.png"),en("#example").style("opacity",1),n(11,x="1996"))),131088&t.$$.dirty&&a&&n(12,w=a-(a-f))},[d,g,m,o,a,r,i,s,c,y,u,x,w,v,_,h,p,f,function(t){Z[t?"unshift":"push"]((()=>{u=t,n(10,u)}))},function(){g=this.clientWidth,m=this.clientHeight,n(1,g),n(2,m)}]}class pc extends wt{constructor(t){super(),$t(this,t,dc,fc,s,{pax:15,pax_timeline:0,step:16})}}function gc(t){return 0===(e=t)||e?Array.isArray(t)?e=>t.map((t=>"function"!=typeof t?e[t]:t(e))):"function"!=typeof t?e=>e[t]:t:null;var e}function mc(t,e={}){return function(t){const e={};for(const n of t){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:r}=n;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r})}return e}(Object.entries(t).filter((([t,n])=>void 0!==n&&void 0===e[t])))}function yc(t,e){if(!Array.isArray(t))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(e),i=r.length;let o,a,s,l,c,u,f,h;const d=t.length;for(o=0;o<i;o+=1){for(l=r[o],f=e[l],c=null,u=null,a=0;a<d;a+=1)if(h=f(t[a]),Array.isArray(h)){const t=h.length;for(s=0;s<t;s+=1)!1!==h[s]&&void 0!==h[s]&&null!==h[s]&&!1===Number.isNaN(h[s])&&((null===c||h[s]<c)&&(c=h[s]),(null===u||h[s]>u)&&(u=h[s]))}else!1!==h&&null!=h&&!1===Number.isNaN(h)&&((null===c||h<c)&&(c=h),(null===u||h>u)&&(u=h));n[l]=[c,u]}return n}function vc(t,e){return t.length===e.length&&t.every((t=>e.includes(t)))}function $c(t){return"function"==typeof t.bandwidth||!!vc(Object.keys(t),["domain","range","unknown","copy"])}function wc(t,e,n){const r=Object.keys(n).reduce(((t,r)=>{const i=!0===$c(n[r])?"ordinal":"other";return t[i]||(t[i]={}),t[i][r]=e[r],t}),{ordinal:!1,other:!1});let i={};return r.ordinal&&(i=function(t,e,{sort:n=!1}={}){if(!Array.isArray(t))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const r={},i=Object.keys(e),o=i.length;let a,s,l,c,u,f,h;const d=t.length;for(a=0;a<o;a+=1){for(h=new Set,c=i[a],u=e[c],s=0;s<d;s+=1)if(f=u(t[s]),Array.isArray(f)){const t=f.length;for(l=0;l<t;l+=1)h.add(f[l])}else h.add(f);const o=Array.from(h);r[c]=!0===n?o.sort():o}return r}(t,r.ordinal)),r.other&&(i={...i,...yc(t,r.other)}),i}function xc(t){return function([e,n]){return"function"==typeof n&&(n=n(e[t])),e?function(t=[],e){return!0===Array.isArray(e)?e.map(((e,n)=>null===e?t[n]:e)):t}(e[t],n):n}}var _c={x:_s,y:_s,z:_s,r:function(){return Ss.apply(null,arguments).exponent(.5)}};function bc(t){return t}function kc(t){return e=>Math.log(t*e)}function Mc(t){return e=>t*Math.exp(e)}function Ec(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function Sc(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ac(t){return t.replace(/^\w/,(t=>t.toUpperCase()))}function Nc(t,e=""){return`scale${Ac(e)}${Ac(t)}`}function qc(t){if("function"==typeof t.bandwidth)return"function"==typeof t.paddingInner?Nc("band"):Nc("point");if(vc(Object.keys(t),["domain","range","unknown","copy"]))return Nc("ordinal");let e="";if(t.interpolator&&(e=3===t.domain().length?"diverging":"sequential"),t.quantiles)return Nc("quantile",e);if(t.thresholds)return Nc("quantize",e);if(t.constant)return Nc("symlog",e);if(t.base)return Nc("log",e);if(t.exponent)return.5===t.exponent()?Nc("sqrt",e):Nc("pow",e);if(vc(Object.keys(t),["domain","range","invertExtent","unknown","copy"]))return Nc("threshold");if(vc(Object.keys(t),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return Nc("identity");if(vc(Object.keys(t),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return Nc("radial");if(e)return Nc(e);if(t.domain()[0]instanceof Date){const e=new Date;let n;return e.getDay=()=>n="time",e.getUTCDay=()=>n="utc",t.tickFormat(0,"%a")(e),Nc(n)}return Nc("linear")}const Rc=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function zc(t,e){if("function"!=typeof t.range)throw console.log(t),new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e)||Rc.includes(qc(t)))return t.domain();if(!0===$c(t))return t.domain();const{lift:n,ground:r}=function(t){const e=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===e){const n=Math.sign(t.domain()[0]);return{lift:kc(n),ground:Mc(n),scaleType:e}}if("pow"===e){const t=1;return{lift:Sc(t),ground:Sc(1/t),scaleType:e}}if("sqrt"===e){const t=.5;return{lift:Sc(t),ground:Sc(1/t),scaleType:e}}if("symlog"===e){const t=1;return{lift:(n=t,t=>Math.sign(t)*Math.log1p(Math.abs(t/n))),ground:Ec(t),scaleType:e}}var n;return{lift:bc,ground:bc,scaleType:e}}(t),i=t.domain()[0],o="[object Date]"===Object.prototype.toString.call(i),[a,s]=t.domain().map((t=>n(o?t.getTime():t))),[l,c]=t.range(),u=e[0]||0,f=e[1]||0,h=(s-a)/(Math.abs(c-l)-u-f);return[a-u*h,f*h+s].map((t=>r(o?new Date(t):t)))}function Tc(t){return function([e,n,r,i,o,a,s,l,c,u]){if(null===n)return null;const f=function(t,e,n,r,i,o){return i?"function"==typeof i?i({width:e,height:n}):i:function(t,e,n,r,i){let o,a;return!0===i?(o=0,a=100):(o="r"===t?1:0,a="y"===t?n:"r"===t?25:e),!0===r?[a,o]:[o,a]}(t,e,n,r,o)}(t,s,l,a,c,u),h=e===_c[t]?e():e.copy();return h.domain(r),(!h.interpolator||"function"==typeof h.interpolator&&h.interpolator().name.startsWith("identity"))&&h.range(f),i&&h.domain(zc(h,i)),!0!==o&&"number"!=typeof o||("function"==typeof h.nice?h.nice("number"==typeof o?o:void 0):console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),h}}function Pc([t,e]){return n=>{const r=t(n);return Array.isArray(r)?r.map((t=>e(t))):e(r)}}function Cc([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Wc="    ";function Oc(t){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),function(t){Object.entries(t).forEach((([t,e])=>{console.log(`${Wc}${t}:`,e)}))}(t.boundingBox),console.log("Scales:\n"),Object.keys(t.activeGetters).forEach((e=>{!function(t,e,n){const r=qc(e);console.log(`${Wc}${t}:`),console.log(`${Wc}${Wc}Accessor: "${n.toString()}"`),console.log(`${Wc}${Wc}Type: ${r}`),Ic(e,"domain"),Ic(e,"range"," ")}(e,t[`${e}Scale`],t[e])})),console.log("/************ End LayerCake Debug ***************/\n")}function Ic(t,e,n=""){const r=t[e](),i=function(t){const e=[],n=t.map(((n,r)=>{const i=function(t){const{r:e,g:n,b:r,opacity:i}=kn(t);return!![e,n,r].every((t=>t>=0&&t<=255))&&{r:e,g:n,b:r,o:i}}(n);if(!1!==i){e.push(i);return`%c ${n}${r===t.length-1?" ":""}`}return n}));if(e.length)return[`%c[ ${n.join(", ")}`,e.map((t=>`background-color: rgba(${t.r}, ${t.g}, ${t.b}, ${t.o}); color:${function({r:t,g:e,b:n}){return(.2126*t+.7152*e+.0722*n)/255>.6?"black":"white"}(t)};`))];return null}(r);i?function(t,e,n){console.log(`${Wc}${Wc}${Ac(e)}:    %cArray%c(${n.length}) `+t[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...t[1],"color: #1478e4")}(i,e,r):console.log(`${Wc}${Wc}${Ac(e)}:${n}`,r)}const Dc=t=>({element:4&t[0],width:8&t[1],height:16&t[1],aspectRatio:32&t[1],containerWidth:2&t[1],containerHeight:1&t[1],activeGetters:1024&t[0],percentRange:4&t[1],x:268435456&t[0],y:134217728&t[0],z:67108864&t[0],r:33554432&t[0],custom:4096&t[0],data:1073741824&t[0],xNice:16777216&t[0],yNice:8388608&t[0],zNice:4194304&t[0],rNice:2097152&t[0],xReverse:1048576&t[0],yReverse:524288&t[0],zReverse:262144&t[0],rReverse:131072&t[0],xPadding:65536&t[0],yPadding:32768&t[0],zPadding:16384&t[0],rPadding:8192&t[0],padding:64&t[1],flatData:536870912&t[0],extents:128&t[1],xDomain:256&t[1],yDomain:512&t[1],zDomain:1024&t[1],rDomain:2048&t[1],xRange:4096&t[1],yRange:8192&t[1],zRange:16384&t[1],rRange:32768&t[1],config:2048&t[0],xScale:512&t[0],xGet:65536&t[1],yScale:256&t[0],yGet:131072&t[1],zScale:128&t[0],zGet:262144&t[1],rScale:64&t[0],rGet:524288&t[1]}),jc=t=>({element:t[2],width:t[34],height:t[35],aspectRatio:t[36],containerWidth:t[32],containerHeight:t[31],activeGetters:t[10],percentRange:t[33],x:t[28],y:t[27],z:t[26],r:t[25],custom:t[12],data:t[30],xNice:t[24],yNice:t[23],zNice:t[22],rNice:t[21],xReverse:t[20],yReverse:t[19],zReverse:t[18],rReverse:t[17],xPadding:t[16],yPadding:t[15],zPadding:t[14],rPadding:t[13],padding:t[37],flatData:t[29],extents:t[38],xDomain:t[39],yDomain:t[40],zDomain:t[41],rDomain:t[42],xRange:t[43],yRange:t[44],zRange:t[45],rRange:t[46],config:t[11],xScale:t[9],xGet:t[47],yScale:t[8],yGet:t[48],zScale:t[7],zGet:t[49],rScale:t[6],rGet:t[50]});function Lc(t){let e,n,r;const i=t[153].default,o=h(i,t,t[152],jc);return{c(){e=N("div"),o&&o.c(),C(e,"class","layercake-container svelte-vhzpsp"),nt((()=>t[155].call(e))),I(e,"position",t[5]),I(e,"top","absolute"===t[5]?"0":null),I(e,"right","absolute"===t[5]?"0":null),I(e,"bottom","absolute"===t[5]?"0":null),I(e,"left","absolute"===t[5]?"0":null),I(e,"pointer-events",!1===t[4]?"none":null)},m(i,a){E(i,e,a),o&&o.m(e,null),t[154](e),n=H(e,t[155].bind(e)),r=!0},p(t,n){o&&o.p&&(!r||2147483588&n[0]|1048575&n[1]|268435456&n[4])&&g(o,i,t,t[152],r?p(i,t[152],n,Dc):m(t[152]),jc),32&n[0]&&I(e,"position",t[5]),32&n[0]&&I(e,"top","absolute"===t[5]?"0":null),32&n[0]&&I(e,"right","absolute"===t[5]?"0":null),32&n[0]&&I(e,"bottom","absolute"===t[5]?"0":null),32&n[0]&&I(e,"left","absolute"===t[5]?"0":null),16&n[0]&&I(e,"pointer-events",!1===t[4]?"none":null)},i(t){r||(ht(o,t),r=!0)},o(t){dt(o,t),r=!1},d(r){r&&S(e),o&&o.d(r),t[154](null),n()}}}function Hc(t){let e,n,r=(!0===t[3]||"undefined"!=typeof window)&&Lc(t);return{c(){r&&r.c(),e=T()},m(t,i){r&&r.m(t,i),E(t,e,i),n=!0},p(t,n){!0===t[3]||"undefined"!=typeof window?r?(r.p(t,n),8&n[0]&&ht(r,1)):(r=Lc(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ut(),dt(r,1,1,(()=>{r=null})),ft())},i(t){n||(ht(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&S(e)}}}function Bc(t,e,n){let r,i,o,a,s,l,c,u,h,d,p,g,m,y,$,w,x,_,b,k,M,E,S,A,N,q,R,z,T,P,C,W,O,I,D,j,L,H,B,G,F,Y,V,J,Q,K,tt,et,nt,rt,it,ot,at,st,lt,ct,ut,ft,ht,dt,pt,gt,{$$slots:mt={},$$scope:yt}=e;const vt=function(t,e=300){let n;return(...r)=>{clearTimeout(n),n=setTimeout((()=>{t.apply(this,r)}),e)}}(Oc,200);let{ssr:$t=!1}=e,{pointerEvents:wt=!0}=e,{position:xt="relative"}=e,{percentRange:_t=!1}=e,{width:bt}=e,{height:kt}=e,{containerWidth:Mt=bt||100}=e,{containerHeight:Et=kt||100}=e,{element:St}=e,{x:At}=e,{y:Nt}=e,{z:qt}=e,{r:Rt}=e,{data:zt=[]}=e,{xDomain:Tt}=e,{yDomain:Pt}=e,{zDomain:Ct}=e,{rDomain:Wt}=e,{xNice:Ot=!1}=e,{yNice:It=!1}=e,{zNice:Dt=!1}=e,{rNice:jt=!1}=e,{xPadding:Lt}=e,{yPadding:Ht}=e,{zPadding:Bt}=e,{rPadding:Gt}=e,{xScale:Ft=_c.x}=e,{yScale:Xt=_c.y}=e,{zScale:Yt=_c.z}=e,{rScale:Ut=_c.r}=e,{xRange:Vt}=e,{yRange:Jt}=e,{zRange:Zt}=e,{rRange:Qt}=e,{xReverse:Kt=!1}=e,{yReverse:te}=e,{zReverse:ee=!1}=e,{rReverse:ne=!1}=e,{padding:re={}}=e,{extents:ie={}}=e,{flatData:oe}=e,{custom:ae={}}=e,{debug:se=!1}=e,le=!1;X((()=>{le=!0}));const ce={},ue=Zs(_t);f(t,ue,(t=>n(33,Q=t)));const fe=Zs(Mt);f(t,fe,(t=>n(32,J=t)));const he=Zs(Et);f(t,he,(t=>n(31,V=t)));const de=Zs(mc(ie));f(t,de,(t=>n(170,Y=t)));const pe=Zs(zt);f(t,pe,(t=>n(30,F=t)));const ge=Zs(oe||zt);f(t,ge,(t=>n(29,G=t)));const me=Zs(re);f(t,me,(t=>n(169,B=t)));const ye=Zs(gc(At));f(t,ye,(t=>n(28,H=t)));const ve=Zs(gc(Nt));f(t,ve,(t=>n(27,L=t)));const $e=Zs(gc(qt));f(t,$e,(t=>n(26,j=t)));const we=Zs(gc(Rt));f(t,we,(t=>n(25,D=t)));const xe=Zs(Tt);f(t,xe,(t=>n(168,I=t)));const _e=Zs(Pt);f(t,_e,(t=>n(167,O=t)));const be=Zs(Ct);f(t,be,(t=>n(166,W=t)));const ke=Zs(Wt);f(t,ke,(t=>n(165,C=t)));const Me=Zs(Ot);f(t,Me,(t=>n(24,P=t)));const Ee=Zs(It);f(t,Ee,(t=>n(23,T=t)));const Se=Zs(Dt);f(t,Se,(t=>n(22,z=t)));const Ae=Zs(jt);f(t,Ae,(t=>n(21,R=t)));const Ne=Zs(Kt);f(t,Ne,(t=>n(20,q=t)));const qe=Zs(r);f(t,qe,(t=>n(19,N=t)));const Re=Zs(ee);f(t,Re,(t=>n(18,A=t)));const ze=Zs(ne);f(t,ze,(t=>n(17,S=t)));const Te=Zs(Lt);f(t,Te,(t=>n(16,E=t)));const Pe=Zs(Ht);f(t,Pe,(t=>n(15,M=t)));const Ce=Zs(Bt);f(t,Ce,(t=>n(14,k=t)));const We=Zs(Gt);f(t,We,(t=>n(13,b=t)));const Oe=Zs(Vt);f(t,Oe,(t=>n(164,_=t)));const Ie=Zs(Jt);f(t,Ie,(t=>n(163,x=t)));const De=Zs(Zt);f(t,De,(t=>n(162,w=t)));const je=Zs(Qt);f(t,je,(t=>n(161,$=t)));const Le=Zs(Ft);f(t,Le,(t=>n(160,y=t)));const He=Zs(Xt);f(t,He,(t=>n(159,m=t)));const Be=Zs(Yt);f(t,Be,(t=>n(158,g=t)));const Ge=Zs(Ut);f(t,Ge,(t=>n(157,p=t)));const Fe=Zs(ce);f(t,Fe,(t=>n(11,h=t)));const Xe=Zs(ae);f(t,Xe,(t=>n(12,d=t)));const Ye=Qs([ye,ve,$e,we],(([t,e,n,r])=>{const i={};return t&&(i.x=t),e&&(i.y=e),n&&(i.z=n),r&&(i.r=r),i}));f(t,Ye,(t=>n(10,c=t)));const Ue=Qs([me,fe,he],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t)));f(t,Ue,(t=>n(37,nt=t)));const Ve=Qs([fe,he,Ue],(([t,e,n])=>{const r={};return r.top=n.top,r.right=t-n.right,r.bottom=e-n.bottom,r.left=n.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&!0===le&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&!0===le&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r}));f(t,Ve,(t=>n(151,u=t)));const Je=Qs([Ve],(([t])=>t.width));f(t,Je,(t=>n(34,K=t)));const Ze=Qs([Ve],(([t])=>t.height));f(t,Ze,(t=>n(35,tt=t)));const Qe=Qs([ge,Ye,de,Le,He,Ge,Be],(([t,e,n,r,i,o,a])=>{const s={x:r,y:i,r:o,z:a},l=mc(e,n),c=Object.fromEntries(Object.keys(l).map((t=>[t,s[t]])));if(Object.keys(l).length>0){return{...wc(t,l,c),...n}}return{}}));f(t,Qe,(t=>n(38,rt=t)));const Ke=Qs([Qe,xe],xc("x"));f(t,Ke,(t=>n(39,it=t)));const tn=Qs([Qe,_e],xc("y"));f(t,tn,(t=>n(40,ot=t)));const en=Qs([Qe,be],xc("z"));f(t,en,(t=>n(41,at=t)));const nn=Qs([Qe,ke],xc("r"));f(t,nn,(t=>n(42,st=t)));const rn=Qs([Le,Qe,Ke,Te,Me,Ne,Je,Ze,Oe,ue],Tc("x"));f(t,rn,(t=>n(9,l=t)));const on=Qs([ye,rn],Pc);f(t,on,(t=>n(47,ht=t)));const an=Qs([He,Qe,tn,Pe,Ee,qe,Je,Ze,Ie,ue],Tc("y"));f(t,an,(t=>n(8,s=t)));const sn=Qs([ve,an],Pc);f(t,sn,(t=>n(48,dt=t)));const ln=Qs([Be,Qe,en,Ce,Se,Re,Je,Ze,De,ue],Tc("z"));f(t,ln,(t=>n(7,a=t)));const cn=Qs([$e,ln],Pc);f(t,cn,(t=>n(49,pt=t)));const un=Qs([Ge,Qe,nn,We,Ae,ze,Je,Ze,je,ue],Tc("r"));f(t,un,(t=>n(6,o=t)));const fn=Qs([we,un],Pc);f(t,fn,(t=>n(50,gt=t)));const hn=Qs([rn],Cc);f(t,hn,(t=>n(43,lt=t)));const dn=Qs([an],Cc);f(t,dn,(t=>n(44,ct=t)));const pn=Qs([ln],Cc);f(t,pn,(t=>n(45,ut=t)));const gn=Qs([un],Cc);f(t,gn,(t=>n(46,ft=t)));const mn=Qs([Je,Ze],(([t,e])=>t/e));return f(t,mn,(t=>n(36,et=t))),t.$$set=t=>{"ssr"in t&&n(3,$t=t.ssr),"pointerEvents"in t&&n(4,wt=t.pointerEvents),"position"in t&&n(5,xt=t.position),"percentRange"in t&&n(111,_t=t.percentRange),"width"in t&&n(112,bt=t.width),"height"in t&&n(113,kt=t.height),"containerWidth"in t&&n(0,Mt=t.containerWidth),"containerHeight"in t&&n(1,Et=t.containerHeight),"element"in t&&n(2,St=t.element),"x"in t&&n(114,At=t.x),"y"in t&&n(115,Nt=t.y),"z"in t&&n(116,qt=t.z),"r"in t&&n(117,Rt=t.r),"data"in t&&n(118,zt=t.data),"xDomain"in t&&n(119,Tt=t.xDomain),"yDomain"in t&&n(120,Pt=t.yDomain),"zDomain"in t&&n(121,Ct=t.zDomain),"rDomain"in t&&n(122,Wt=t.rDomain),"xNice"in t&&n(123,Ot=t.xNice),"yNice"in t&&n(124,It=t.yNice),"zNice"in t&&n(125,Dt=t.zNice),"rNice"in t&&n(126,jt=t.rNice),"xPadding"in t&&n(127,Lt=t.xPadding),"yPadding"in t&&n(128,Ht=t.yPadding),"zPadding"in t&&n(129,Bt=t.zPadding),"rPadding"in t&&n(130,Gt=t.rPadding),"xScale"in t&&n(131,Ft=t.xScale),"yScale"in t&&n(132,Xt=t.yScale),"zScale"in t&&n(133,Yt=t.zScale),"rScale"in t&&n(134,Ut=t.rScale),"xRange"in t&&n(135,Vt=t.xRange),"yRange"in t&&n(136,Jt=t.yRange),"zRange"in t&&n(137,Zt=t.zRange),"rRange"in t&&n(138,Qt=t.rRange),"xReverse"in t&&n(139,Kt=t.xReverse),"yReverse"in t&&n(140,te=t.yReverse),"zReverse"in t&&n(141,ee=t.zReverse),"rReverse"in t&&n(142,ne=t.rReverse),"padding"in t&&n(143,re=t.padding),"extents"in t&&n(144,ie=t.extents),"flatData"in t&&n(145,oe=t.flatData),"custom"in t&&n(146,ae=t.custom),"debug"in t&&n(147,se=t.debug),"$$scope"in t&&n(152,yt=t.$$scope)},t.$$.update=()=>{65792&t.$$.dirty[4]&&n(150,r=void 0===te?"function"!=typeof Xt.bandwidth:te),2097152&t.$$.dirty[3]&&At&&n(148,ce.x=At,ce),4194304&t.$$.dirty[3]&&Nt&&n(148,ce.y=Nt,ce),8388608&t.$$.dirty[3]&&qt&&n(148,ce.z=qt,ce),16777216&t.$$.dirty[3]&&Rt&&n(148,ce.r=Rt,ce),67108864&t.$$.dirty[3]&&Tt&&n(148,ce.xDomain=Tt,ce),134217728&t.$$.dirty[3]&&Pt&&n(148,ce.yDomain=Pt,ce),268435456&t.$$.dirty[3]&&Ct&&n(148,ce.zDomain=Ct,ce),536870912&t.$$.dirty[3]&&Wt&&n(148,ce.rDomain=Wt,ce),2048&t.$$.dirty[4]&&Vt&&n(148,ce.xRange=Vt,ce),4096&t.$$.dirty[4]&&Jt&&n(148,ce.yRange=Jt,ce),8192&t.$$.dirty[4]&&Zt&&n(148,ce.zRange=Zt,ce),16384&t.$$.dirty[4]&&Qt&&n(148,ce.rRange=Qt,ce),262144&t.$$.dirty[3]&&v(ue,Q=_t,Q),1&t.$$.dirty[0]&&v(fe,J=Mt,J),2&t.$$.dirty[0]&&v(he,V=Et,V),1048576&t.$$.dirty[4]&&v(de,Y=mc(ie),Y),33554432&t.$$.dirty[3]&&v(pe,F=zt,F),33554432&t.$$.dirty[3]|2097152&t.$$.dirty[4]&&v(ge,G=oe||zt,G),524288&t.$$.dirty[4]&&v(me,B=re,B),2097152&t.$$.dirty[3]&&v(ye,H=gc(At),H),4194304&t.$$.dirty[3]&&v(ve,L=gc(Nt),L),8388608&t.$$.dirty[3]&&v($e,j=gc(qt),j),16777216&t.$$.dirty[3]&&v(we,D=gc(Rt),D),67108864&t.$$.dirty[3]&&v(xe,I=Tt,I),134217728&t.$$.dirty[3]&&v(_e,O=Pt,O),268435456&t.$$.dirty[3]&&v(be,W=Ct,W),536870912&t.$$.dirty[3]&&v(ke,C=Wt,C),1073741824&t.$$.dirty[3]&&v(Me,P=Ot,P),1&t.$$.dirty[4]&&v(Ee,T=It,T),2&t.$$.dirty[4]&&v(Se,z=Dt,z),4&t.$$.dirty[4]&&v(Ae,R=jt,R),32768&t.$$.dirty[4]&&v(Ne,q=Kt,q),67108864&t.$$.dirty[4]&&v(qe,N=r,N),131072&t.$$.dirty[4]&&v(Re,A=ee,A),262144&t.$$.dirty[4]&&v(ze,S=ne,S),8&t.$$.dirty[4]&&v(Te,E=Lt,E),16&t.$$.dirty[4]&&v(Pe,M=Ht,M),32&t.$$.dirty[4]&&v(Ce,k=Bt,k),64&t.$$.dirty[4]&&v(We,b=Gt,b),2048&t.$$.dirty[4]&&v(Oe,_=Vt,_),4096&t.$$.dirty[4]&&v(Ie,x=Jt,x),8192&t.$$.dirty[4]&&v(De,w=Zt,w),16384&t.$$.dirty[4]&&v(je,$=Qt,$),128&t.$$.dirty[4]&&v(Le,y=Ft,y),256&t.$$.dirty[4]&&v(He,m=Xt,m),512&t.$$.dirty[4]&&v(Be,g=Yt,g),1024&t.$$.dirty[4]&&v(Ge,p=Ut,p),4194304&t.$$.dirty[4]&&v(Xe,d=ae,d),16777216&t.$$.dirty[4]&&v(Fe,h=ce,h),33554432&t.$$.dirty[4]&&U("LayerCake",i),1992&t.$$.dirty[0]|159383552&t.$$.dirty[4]&&(!u||!0!==se||!0!==$t&&"undefined"==typeof window||vt({boundingBox:u,activeGetters:c,x:ce.x,y:ce.y,z:ce.z,r:ce.r,xScale:l,yScale:s,zScale:a,rScale:o}))},n(149,i={activeGetters:Ye,width:Je,height:Ze,percentRange:ue,aspectRatio:mn,containerWidth:fe,containerHeight:he,x:ye,y:ve,z:$e,r:we,custom:Xe,data:pe,xNice:Me,yNice:Ee,zNice:Se,rNice:Ae,xReverse:Ne,yReverse:qe,zReverse:Re,rReverse:ze,xPadding:Te,yPadding:Pe,zPadding:Ce,rPadding:We,padding:Ue,flatData:ge,extents:Qe,xDomain:Ke,yDomain:tn,zDomain:en,rDomain:nn,xRange:hn,yRange:dn,zRange:pn,rRange:gn,config:Fe,xScale:rn,xGet:on,yScale:an,yGet:sn,zScale:ln,zGet:cn,rScale:un,rGet:fn}),[Mt,Et,St,$t,wt,xt,o,a,s,l,c,h,d,b,k,M,E,S,A,N,q,R,z,T,P,D,j,L,H,G,F,V,J,Q,K,tt,et,nt,rt,it,ot,at,st,lt,ct,ut,ft,ht,dt,pt,gt,ue,fe,he,de,pe,ge,me,ye,ve,$e,we,xe,_e,be,ke,Me,Ee,Se,Ae,Ne,qe,Re,ze,Te,Pe,Ce,We,Oe,Ie,De,je,Le,He,Be,Ge,Fe,Xe,Ye,Ue,Ve,Je,Ze,Qe,Ke,tn,en,nn,rn,on,an,sn,ln,cn,un,fn,hn,dn,pn,gn,mn,_t,bt,kt,At,Nt,qt,Rt,zt,Tt,Pt,Ct,Wt,Ot,It,Dt,jt,Lt,Ht,Bt,Gt,Ft,Xt,Yt,Ut,Vt,Jt,Zt,Qt,Kt,te,ee,ne,re,ie,oe,ae,se,ce,i,r,u,yt,mt,function(t){Z[t?"unshift":"push"]((()=>{St=t,n(2,St)}))},function(){Mt=this.clientWidth,Et=this.clientHeight,n(0,Mt),n(1,Et)}]}class Gc extends wt{constructor(t){super(),$t(this,t,Bc,Hc,s,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},null,[-1,-1,-1,-1,-1,-1])}}const Fc=t=>({element:1&t}),Xc=t=>({element:t[0]}),Yc=t=>({element:1&t}),Uc=t=>({element:t[0]}),Vc=t=>({element:1&t}),Jc=t=>({element:t[0]});function Zc(t){let e,n;return{c(){e=q("title"),n=R(t[8])},m(t,r){E(t,e,r),M(e,n)},p(t,e){256&e&&O(n,t[8])},d(t){t&&S(e)}}}function Qc(t){let e,n,r,i,o;const a=t[16].title,s=h(a,t,t[15],Jc),l=s||function(t){let e,n=t[8]&&Zc(t);return{c(){n&&n.c(),e=T()},m(t,r){n&&n.m(t,r),E(t,e,r)},p(t,r){t[8]?n?n.p(t,r):(n=Zc(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&S(e)}}}(t),c=t[16].defs,u=h(c,t,t[15],Uc),f=t[16].default,d=h(f,t,t[15],Xc);return{c(){e=q("svg"),l&&l.c(),n=q("defs"),u&&u.c(),r=q("g"),d&&d.c(),C(r,"class","layercake-layout-svg_g"),C(r,"transform",i="translate("+t[11].left+", "+t[11].top+")"),C(e,"class","layercake-layout-svg svelte-u84d8d"),C(e,"viewBox",t[4]),C(e,"width",t[9]),C(e,"height",t[10]),C(e,"aria-label",t[5]),C(e,"aria-labelledby",t[6]),C(e,"aria-describedby",t[7]),I(e,"z-index",t[2]),I(e,"pointer-events",!1===t[3]?"none":null)},m(i,a){E(i,e,a),l&&l.m(e,null),M(e,n),u&&u.m(n,null),M(e,r),d&&d.m(r,null),t[17](r),t[18](e),o=!0},p(t,[n]){s?s.p&&(!o||32769&n)&&g(s,a,t,t[15],o?p(a,t[15],n,Vc):m(t[15]),Jc):l&&l.p&&(!o||256&n)&&l.p(t,o?n:-1),u&&u.p&&(!o||32769&n)&&g(u,c,t,t[15],o?p(c,t[15],n,Yc):m(t[15]),Uc),d&&d.p&&(!o||32769&n)&&g(d,f,t,t[15],o?p(f,t[15],n,Fc):m(t[15]),Xc),(!o||2048&n&&i!==(i="translate("+t[11].left+", "+t[11].top+")"))&&C(r,"transform",i),(!o||16&n)&&C(e,"viewBox",t[4]),(!o||512&n)&&C(e,"width",t[9]),(!o||1024&n)&&C(e,"height",t[10]),(!o||32&n)&&C(e,"aria-label",t[5]),(!o||64&n)&&C(e,"aria-labelledby",t[6]),(!o||128&n)&&C(e,"aria-describedby",t[7]),4&n&&I(e,"z-index",t[2]),8&n&&I(e,"pointer-events",!1===t[3]?"none":null)},i(t){o||(ht(l,t),ht(u,t),ht(d,t),o=!0)},o(t){dt(l,t),dt(u,t),dt(d,t),o=!1},d(n){n&&S(e),l&&l.d(n),u&&u.d(n),d&&d.d(n),t[17](null),t[18](null)}}}function Kc(t,e,n){let r,i,o,{$$slots:a={},$$scope:s}=e,{element:l}=e,{innerElement:c}=e,{zIndex:u}=e,{pointerEvents:h}=e,{viewBox:d}=e,{label:p}=e,{labelledBy:g}=e,{describedBy:m}=e,{title:y}=e;const{containerWidth:v,containerHeight:$,padding:w}=V("LayerCake");return f(t,v,(t=>n(9,r=t))),f(t,$,(t=>n(10,i=t))),f(t,w,(t=>n(11,o=t))),t.$$set=t=>{"element"in t&&n(0,l=t.element),"innerElement"in t&&n(1,c=t.innerElement),"zIndex"in t&&n(2,u=t.zIndex),"pointerEvents"in t&&n(3,h=t.pointerEvents),"viewBox"in t&&n(4,d=t.viewBox),"label"in t&&n(5,p=t.label),"labelledBy"in t&&n(6,g=t.labelledBy),"describedBy"in t&&n(7,m=t.describedBy),"title"in t&&n(8,y=t.title),"$$scope"in t&&n(15,s=t.$$scope)},[l,c,u,h,d,p,g,m,y,r,i,o,v,$,w,s,a,function(t){Z[t?"unshift":"push"]((()=>{c=t,n(1,c)}))},function(t){Z[t?"unshift":"push"]((()=>{l=t,n(0,l)}))}]}class tu extends wt{constructor(t){super(),$t(this,t,Kc,Qc,s,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function eu(t,e,n){const r=t.slice();return r[9]=e[n],r}function nu(t){let e,n,r,i,o;return{c(){e=q("path"),C(e,"fill",n=t[2](t[9])),C(e,"fill-opacity",r=t[3](t[9])),C(e,"class",i=y("country "+t[9].properties.adm0_iso)+" svelte-1ro1ar2"),C(e,"stroke","#4d4d4d"),C(e,"stroke-width","0.5"),C(e,"d",o=t[9].path)},m(t,n){E(t,e,n)},p(t,a){2&a&&n!==(n=t[2](t[9]))&&C(e,"fill",n),2&a&&r!==(r=t[3](t[9]))&&C(e,"fill-opacity",r),2&a&&i!==(i=y("country "+t[9].properties.adm0_iso)+" svelte-1ro1ar2")&&C(e,"class",i),2&a&&o!==(o=t[9].path)&&C(e,"d",o)},d(t){t&&S(e)}}}function ru(e){let n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=nu(eu(e,r,t));return{c(){n=q("g");for(let t=0;t<i.length;t+=1)i[t].c();C(n,"class","map-group"),C(n,"transform",e[0])},m(t,e){E(t,n,e);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(n,null)},p(t,[e]){if(14&e){let o;for(r=t[1],o=0;o<r.length;o+=1){const a=eu(t,r,o);i[o]?i[o].p(a,e):(i[o]=nu(a),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}1&e&&C(n,"transform",t[0])},i:t,o:t,d(t){t&&S(n),A(i,t)}}}function iu(t,e,n){let{cumulative_isos:r}=e,{transform:i}=e,{countries:o}=e;const{data:a,width:s,height:l}=V("LayerCake");let c=_s().domain([0,150]).range([.2,1]);return t.$$set=t=>{"cumulative_isos"in t&&n(4,r=t.cumulative_isos),"transform"in t&&n(0,i=t.transform),"countries"in t&&n(1,o=t.countries)},t.$$.update=()=>{16&t.$$.dirty&&r&&(en(".country").style("fill"," black"),r.forEach((t=>{en("."+t.iso).style("fill","#f6f1d6").style("fill-opacity",c(t.count))})))},[i,o,function(t){return r.some((e=>e.iso===t.properties.adm0_iso))?"#f6f1d6":"black"},function(t){let e=t.properties.adm0_iso,n=r.find((t=>t.iso==e));return n?c(n.count):1},r]}class ou extends wt{constructor(t){super(),$t(this,t,iu,ru,s,{cumulative_isos:4,transform:0,countries:1})}}function au(t){let e,n,r,i=t[0]&&su(t);return{c(){e=N("div"),i&&i.c(),C(e,"class","wrapper svelte-zaiuf5"),nt((()=>t[21].call(e)))},m(o,a){E(o,e,a),i&&i.m(e,null),n=H(e,t[21].bind(e)),r=!0},p(t,n){t[0]?i?(i.p(t,n),1&n&&ht(i,1)):(i=su(t),i.c(),ht(i,1),i.m(e,null)):i&&(ut(),dt(i,1,1,(()=>{i=null})),ft())},i(t){r||(ht(i),r=!0)},o(t){dt(i),r=!1},d(t){t&&S(e),i&&i.d(),n()}}}function su(t){let e,n;return e=new Gc({props:{$$slots:{default:[cu]},$$scope:{ctx:t}}}),{c(){gt(e.$$.fragment)},m(t,r){mt(e,t,r),n=!0},p(t,n){const r={};134217840&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function lu(t){let e,n;return e=new ou({props:{countries:t[5],transform:t[6],cumulative_isos:t[4]}}),{c(){gt(e.$$.fragment)},m(t,r){mt(e,t,r),n=!0},p(t,n){const r={};32&n&&(r.countries=t[5]),64&n&&(r.transform=t[6]),16&n&&(r.cumulative_isos=t[4]),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function cu(t){let e,n;return e=new tu({props:{$$slots:{default:[lu]},$$scope:{ctx:t}}}),{c(){gt(e.$$.fragment)},m(t,r){mt(e,t,r),n=!0},p(t,n){const r={};134217840&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function uu(t){let e,n,r=t[0]&&t[1]&&au(t);return{c(){r&&r.c(),e=T()},m(t,i){r&&r.m(t,i),E(t,e,i),n=!0},p(t,[n]){t[0]&&t[1]?r?(r.p(t,n),3&n&&ht(r,1)):(r=au(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ut(),dt(r,1,1,(()=>{r=null})),ft())},i(t){n||(ht(r),n=!0)},o(t){dt(r),n=!1},d(t){r&&r.d(t),t&&S(e)}}}function fu(t,e,n){let r,i;const o=Y();let a,s,l,c,u,f,{pax:h}=e,{mygeojson:d}=e,{pax_timeline:p}=e,{pax_gender:g}=e,{step:m}=e,{central_points:y}=e,v=Us,$=400,w=400;const x=20,_=20,b=20,k=40;let M,E,S,A,N,q=[];function R(t){const e=or(v,t);ni().duration(750).tween("zoom",(()=>t=>{n(6,v=e(t))}))}return t.$$set=t=>{"pax"in t&&n(7,h=t.pax),"mygeojson"in t&&n(0,d=t.mygeojson),"pax_timeline"in t&&n(1,p=t.pax_timeline),"pax_gender"in t&&n(8,g=t.pax_gender),"step"in t&&n(9,m=t.step),"central_points"in t&&n(10,y=t.central_points)},t.$$.update=()=>{13&t.$$.dirty&&n(20,r=Ja().fitSize([$,w],d)),1048576&t.$$.dirty&&n(19,i=function(t,e){let n,r,i=3,o=4.5;function a(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),lo(t,n(r))),r.result()}return a.area=function(t){return lo(t,n(Go)),Go.result()},a.measure=function(t){return lo(t,n(qa)),qa.result()},a.bounds=function(t){return lo(t,n(Ko)),Ko.result()},a.centroid=function(t){return lo(t,n(da)),da.result()},a.projection=function(e){return arguments.length?(n=null==e?(t=null,Lo):(t=e).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(e=null,new Oa(i)):new ba(e=t),"function"!=typeof o&&r.pointRadius(o),a):e},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);i=e}return null===e&&(r=new Oa(i)),a},a.projection(t).digits(i).context(e)}(r)),524289&t.$$.dirty&&d&&n(5,q=d.features.map((t=>({...t,path:i(t),bounds:i.bounds(t),centroid:i.centroid(t)})))),16416&t.$$.dirty&&q.length>0&&(n(14,M=q.find((t=>"Afghanistan"==t.properties.admin))),n(15,[[E,S],[A,N]]=M.bounds,E,(n(16,S),n(5,q),n(14,M),n(0,d),n(19,i),n(20,r),n(2,$),n(3,w)),(n(17,A),n(5,q),n(14,M),n(0,d),n(19,i),n(20,r),n(2,$),n(3,w)),(n(18,N),n(5,q),n(14,M),n(0,d),n(19,i),n(20,r),n(2,$),n(3,w)))),4&t.$$.dirty&&n(12,l=$-k-_),8&t.$$.dirty&&n(13,c=w-x-b),4096&t.$$.dirty&&(u=fs().domain(rl).range([0,l]).padding(.1)),8192&t.$$.dirty&&(f=_s().domain([0,100]).range([c,0])),128&t.$$.dirty&&h&&(n(4,s=il(h)),o("mapLoaded")),494492&t.$$.dirty&&("map_one"==m?(n(4,s=il(h)),console.log(s)):"map_two"==m?(n(4,s=il(g)),n(4,s=s.filter((t=>t.count>1))),R(Us)):"map_three"==m&&(n(4,s=[{iso:"AFG",count:30}]),n(11,a=Us.translate($/2,w/2).scale(Math.min(2,.9/Math.max((A-E)/$,(N-S)/w))).translate(-(E+A)/2,-(S+N)/2)),R(a)))},[d,p,$,w,s,q,v,h,g,m,y,a,l,c,M,E,S,A,N,i,r,function(){$=this.clientWidth,w=this.clientHeight,n(2,$),n(3,w)}]}class hu extends wt{constructor(t){super(),$t(this,t,fu,uu,s,{pax:7,mygeojson:0,pax_timeline:1,pax_gender:8,step:9,central_points:10})}}function du(e){let n,r,i,o,a,s,l,c,u=(void 0===e[0].data.key?"pax_gender":e[0].data.key)+"";return{c(){n=q("g"),r=q("circle"),i=q("text"),o=R(u),C(r,"r",e[1]),C(r,"class","svelte-umjbnf"),C(i,"transform",a="rotate("+(e[0].x>=180?180:0)+")"),C(i,"dy","0.32em"),C(i,"x",s=e[0].x<180?20:-20),C(i,"text-anchor",l=e[0].x<180?"start":"end"),C(i,"fill","gray"),C(i,"font-size","10"),C(n,"transform",c="rotate("+(e[0].x-90)+")translate("+e[0].y+")")},m(t,e){E(t,n,e),M(n,r),M(n,i),M(i,o)},p(t,[e]){2&e&&C(r,"r",t[1]),1&e&&u!==(u=(void 0===t[0].data.key?"pax_gender":t[0].data.key)+"")&&O(o,u),1&e&&a!==(a="rotate("+(t[0].x>=180?180:0)+")")&&C(i,"transform",a),1&e&&s!==(s=t[0].x<180?20:-20)&&C(i,"x",s),1&e&&l!==(l=t[0].x<180?"start":"end")&&C(i,"text-anchor",l),1&e&&c!==(c="rotate("+(t[0].x-90)+")translate("+t[0].y+")")&&C(n,"transform",c)},i:t,o:t,d(t){t&&S(n)}}}function pu(t,e,n){let r,{node:i}=e,o=_s().domain([0,200]).range([3,25]),a=ql(0,{duration:500,easing:Sl});return f(t,a,(t=>n(1,r=t))),t.$$set=t=>{"node"in t&&n(0,i=t.node)},t.$$.update=()=>{1&t.$$.dirty&&a.set(void 0===i.data.count?0:o(i.data.count))},[i,r,a]}class gu extends wt{constructor(t){super(),$t(this,t,pu,du,s,{node:0})}}function mu(t,e,n){const r=t.slice();return r[9]=e[n],r}function yu(t,e,n){const r=t.slice();return r[12]=e[n],r}function vu(t){let e,n,r,i,o,a=t[1].links(),s=[];for(let e=0;e<a.length;e+=1)s[e]=$u(yu(t,a,e));let l=t[1].descendants(),c=[];for(let e=0;e<l.length;e+=1)c[e]=wu(mu(t,l,e));const u=t=>dt(c[t],1,1,(()=>{c[t]=null}));return{c(){e=q("svg"),n=q("g");for(let t=0;t<s.length;t+=1)s[t].c();r=T();for(let t=0;t<c.length;t+=1)c[t].c();C(n,"transform",i="translate("+t[2]/2+", "+t[0]/2+")"),C(e,"width",t[2]),C(e,"height",t[0])},m(t,i){E(t,e,i),M(e,n);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(n,null);M(n,r);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(n,null);o=!0},p(t,f){if(10&f){let e;for(a=t[1].links(),e=0;e<a.length;e+=1){const i=yu(t,a,e);s[e]?s[e].p(i,f):(s[e]=$u(i),s[e].c(),s[e].m(n,r))}for(;e<s.length;e+=1)s[e].d(1);s.length=a.length}if(2&f){let e;for(l=t[1].descendants(),e=0;e<l.length;e+=1){const r=mu(t,l,e);c[e]?(c[e].p(r,f),ht(c[e],1)):(c[e]=wu(r),c[e].c(),ht(c[e],1),c[e].m(n,null))}for(ut(),e=l.length;e<c.length;e+=1)u(e);ft()}(!o||5&f&&i!==(i="translate("+t[2]/2+", "+t[0]/2+")"))&&C(n,"transform",i),(!o||4&f)&&C(e,"width",t[2]),(!o||1&f)&&C(e,"height",t[0])},i(t){if(!o){for(let t=0;t<l.length;t+=1)ht(c[t]);o=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)dt(c[t]);o=!1},d(t){t&&S(e),A(s,t),A(c,t)}}}function $u(t){let e,n,r;return{c(){e=q("path"),C(e,"d",n=t[3](t[12])),C(e,"class",r="link "+t[12].target.data.key+" svelte-1qnwari")},m(t,n){E(t,e,n)},p(t,i){10&i&&n!==(n=t[3](t[12]))&&C(e,"d",n),2&i&&r!==(r="link "+t[12].target.data.key+" svelte-1qnwari")&&C(e,"class",r)},d(t){t&&S(e)}}}function wu(t){let e,n;return e=new gu({props:{node:t[9]}}),{c(){gt(e.$$.fragment)},m(t,r){mt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.node=t[9]),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function xu(t){let e,n,r,i=t[1]&&vu(t);return{c(){e=N("div"),i&&i.c(),C(e,"class","wrapper svelte-1qnwari"),nt((()=>t[8].call(e)))},m(o,a){E(o,e,a),i&&i.m(e,null),n=H(e,t[8].bind(e)),r=!0},p(t,[n]){t[1]?i?(i.p(t,n),2&n&&ht(i,1)):(i=vu(t),i.c(),ht(i,1),i.m(e,null)):i&&(ut(),dt(i,1,1,(()=>{i=null})),ft())},i(t){r||(ht(i),r=!0)},o(t){dt(i),r=!1},d(t){t&&S(e),i&&i.d(),n()}}}function _u(t,e){t.forEach((t=>{e.children.forEach((e=>{"1"===t[e.key]&&(e.count=(e.count||0)+1,e.agtIds=e.agtIds||[],e.agtIds.push(t.AgtId)),e.children.forEach((e=>{"1"===t[e.key]&&(e.count=(e.count||0)+1,e.agtIds=e.agtIds||[],e.agtIds.push(t.AgtId))}))}))}))}function bu(t,e,n){let r,i,o,{pax_gender:a}=e,{step:s}=e,l=400,c=400,u=[];return t.$$set=t=>{"pax_gender"in t&&n(4,a=t.pax_gender),"step"in t&&n(5,s=t.step)},t.$$.update=()=>{if(16&t.$$.dirty&&a){let e=JSON.parse(JSON.stringify(tl));_u(a,e),n(6,u=e)}if(1&t.$$.dirty&&n(7,r=c),48&t.$$.dirty)if("afgh01"==s){console.log("step1");let l=JSON.parse(JSON.stringify(tl));_u(a,l),n(6,u=l),en("path").style("stroke","white")}else if("afgh02"==s){function f(t){Math.ceil(t.length/2);return t.slice(0,1)}console.log("step2");let h=f(a),d=JSON.parse(JSON.stringify(tl));_u(h,d),n(6,u=d),en("path").style("stroke","rgb(74, 74, 74)"),en(".WggPast").style("stroke","white"),en(".WggTraJus").style("stroke","white"),en(".WggDev").style("stroke","white"),en(".WggRehab").style("stroke","white"),en(".WggImpl").style("stroke","white"),en(".WggImplOth").style("stroke","white")}else if("afgh03"==s){function p(t){Math.ceil(t.length/2);return t.slice(1,2)}console.log("step3");let g=p(a),m=JSON.parse(JSON.stringify(tl));_u(g,m),n(6,u=m),en(".WggDev").style("stroke","rgb(74, 74, 74)"),en(".WggRehab").style("stroke","rgb(74, 74, 74)"),en(".WggImpl").style("stroke","rgb(74, 74, 74)"),en(".WggImplOth").style("stroke","rgb(74, 74, 74)"),en(".WggDdr").style("stroke","white"),en(".WggInstRef").style("stroke","white"),en(".WggEq").style("stroke","white"),en(".WggSocEq").style("stroke","white")}if(195&t.$$.dirty&&c&&u){let y=ts().size([360,r/3]);n(1,i=ns(u,(t=>t.children))),y(i),n(3,o=js().angle((function(t){return t.x/180*Math.PI})).radius((function(t){return t.y})))}64&t.$$.dirty&&console.log(u)},[c,i,l,o,a,s,u,r,function(){l=this.clientWidth,c=this.clientHeight,n(2,l),n(0,c)}]}class ku extends wt{constructor(t){super(),$t(this,t,bu,xu,s,{pax_gender:4,step:5})}}function Mu(e){let n,r,i,o,a,s;return{c(){n=N("img"),i=z(),o=N("h1"),o.textContent="Women, Girls, and Gender in Peace Agreements",a=z(),s=N("p"),s.textContent="This visualization uses PA-X database to show how and to what extent\r\n\t\twomen, girls, and gender are taken into consideration in peace\r\n\t\tagreements around the world.",C(n,"class","peace_logo"),c(n.src,r="./img/pax_gender.svg")||C(n,"src","./img/pax_gender.svg"),C(n,"alt","peacerep logo"),I(n,"width","200px"),C(o,"class","svelte-re7i0q"),C(s,"class","svelte-re7i0q")},m(t,e){E(t,n,e),E(t,i,e),E(t,o,e),E(t,a,e),E(t,s,e)},p:t,d(t){t&&S(n),t&&S(i),t&&S(o),t&&S(a),t&&S(s)}}}function Eu(e){let n,r,i;return{c(){n=N("p"),n.textContent="PA-X contains 2,055 peace agreements that have been signed since 1990.",r=z(),i=N("p"),i.textContent="The map below shows the geographical spread of where these agreements\r\n\t\tare from and the primary location of the conflict they are addressing.",C(n,"class","svelte-re7i0q"),C(i,"class","svelte-re7i0q")},m(t,e){E(t,n,e),E(t,r,e),E(t,i,e)},p:t,d(t){t&&S(n),t&&S(r),t&&S(i)}}}function Su(t){let e,n,r,i,o,a;return o=new hu({props:{mygeojson:t[8],central_points:t[12],pax:t[9],pax_timeline:t[11],pax_gender:t[10],step:t[7]}}),o.$on("mapLoaded",t[14]),{c(){e=N("div"),n=N("figure"),r=N("div"),i=N("div"),gt(o.$$.fragment),C(i,"class","map svelte-re7i0q"),C(r,"class","col-wide height-full"),C(e,"slot","background")},m(s,l){E(s,e,l),M(e,n),M(n,r),M(r,i),mt(o,i,null),t[17](i),a=!0},p(t,e){const n={};256&e[0]&&(n.mygeojson=t[8]),4096&e[0]&&(n.central_points=t[12]),512&e[0]&&(n.pax=t[9]),2048&e[0]&&(n.pax_timeline=t[11]),1024&e[0]&&(n.pax_gender=t[10]),128&e[0]&&(n.step=t[7]),o.$set(n)},i(t){a||(ht(o.$$.fragment,t),a=!0)},o(t){dt(o.$$.fragment,t),a=!1},d(n){n&&S(e),yt(o),t[17](null)}}}function Au(e){let n;return{c(){n=N("div"),n.innerHTML='<section data-id="map01"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">The brighter colour (white) indicates a higher number of\n\t\t\t\t\tpeace agreements signed.</p></div></section> \n\t\t<section data-id="map02"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">Now, the map shows the number of peace agreements that\n\t\t\t\t\tcontain at least two references to women, girls and gender.</p></div></section>',C(n,"slot","foreground")},m(t,e){E(t,n,e)},p:t,d(t){t&&S(n)}}}function Nu(t){let e,n,r,i,o,a;return o=new nc({props:{pax:t[9],step:t[7]}}),{c(){e=N("div"),n=N("figure"),r=N("div"),i=N("div"),gt(o.$$.fragment),C(i,"class","rect svelte-re7i0q"),C(r,"class","col-wide height-full"),C(e,"slot","background")},m(s,l){E(s,e,l),M(e,n),M(n,r),M(r,i),mt(o,i,null),t[19](i),a=!0},p(t,e){const n={};512&e[0]&&(n.pax=t[9]),128&e[0]&&(n.step=t[7]),o.$set(n)},i(t){a||(ht(o.$$.fragment,t),a=!0)},o(t){dt(o.$$.fragment,t),a=!1},d(n){n&&S(e),yt(o),t[19](null)}}}function qu(e){let n;return{c(){n=N("div"),n.innerHTML='<section data-id="rect01"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">Every rectangle in this view represents one of the 2,055\n\t\t\t\t\tformal agreements signed since 1990. You can see the example\n\t\t\t\t\tof the Toncontin Agreement from earlier in blue.</p></div></section> \n\t\t<section data-id="rect02"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">Out of all these agreements, less than one-quarter contain\n\t\t\t\t\treferences to women, girls and gender (436 agreements).</p></div></section>',C(n,"slot","foreground")},m(t,e){E(t,n,e)},p:t,d(t){t&&S(n)}}}function Ru(e){let n,r;return{c(){n=N("img"),c(n.src,r="./img/messy_1.png")||C(n,"src","./img/messy_1.png"),C(n,"alt","peace agreement example"),I(n,"width","100%")},m(t,e){E(t,n,e)},p:t,d(t){t&&S(n)}}}function zu(e){let n,r,i,o;return{c(){n=N("img"),i=z(),o=N("p"),o.innerHTML='Explore the trajectory of other processes in PA-X on our <a href="https://pax.peaceagreements.org/visualizations/messy-peace-processes/" target="_blank" style="color: white;">Messy Timeline Visualization</a>',c(n.src,r="./img/messy_2.png")||C(n,"src","./img/messy_2.png"),C(n,"alt","peace agreement example"),I(n,"width","100%"),C(o,"class","svelte-re7i0q")},m(t,e){E(t,n,e),E(t,i,e),E(t,o,e)},p:t,d(t){t&&S(n),t&&S(i),t&&S(o)}}}function Tu(t){let e,n,r,i,o,a;return o=new Ul({props:{pax_stages:t[13],pax:t[9],step:t[7]}}),{c(){e=N("div"),n=N("figure"),r=N("div"),i=N("div"),gt(o.$$.fragment),C(i,"class","stage svelte-re7i0q"),C(r,"class","col-wide height-full"),C(e,"slot","background")},m(t,s){E(t,e,s),M(e,n),M(n,r),M(r,i),mt(o,i,null),a=!0},p(t,e){const n={};8192&e[0]&&(n.pax_stages=t[13]),512&e[0]&&(n.pax=t[9]),128&e[0]&&(n.step=t[7]),o.$set(n)},i(t){a||(ht(o.$$.fragment,t),a=!0)},o(t){dt(o.$$.fragment,t),a=!1},d(t){t&&S(e),yt(o)}}}function Pu(e){let n;return{c(){n=N("div"),n.innerHTML='<section data-id="stage01"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">When viewing all PA-X agreements by the stage of the peace\n\t\t\t\t\tprocess they were signed at, the chart below shows the\n\t\t\t\t\tpredominance of <strong>pre-negotiation/process</strong>,\n\t\t\t\t\t<strong>ceasefire</strong>, and\n\t\t\t\t\t<strong>substantive-partial</strong> agreements.</p></div></section> \n\t\t<section data-id="stage02"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">A common perception is that dealing with &#39;gender&#39; must wait\n\t\t\t\t\tuntil substantive stages of negotiations (partial and\n\t\t\t\t\tcomprehensive), so that the earlier pre-negotiation or\n\t\t\t\t\tceasefire talks can focus on more &#39;urgent&#39; issues.</p></div></section> \n\t\t<section data-id="stage03"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">For example, a ceasefire in Central African Republic in 2014\n\t\t\t\t\t- the <a href="https://pax.peaceagreements.org/media/documents/ag818_573ed266c7c9c.pdf" target="_blank" style="color: white;">Brazzaville Agreement on Cessation of Hostilities</a> - included &#39;gender&#39; by stipulating that under the agreement\n\t\t\t\t\tthe parties would cease the act of sexual violence.</p></div></section>',C(n,"slot","foreground")},m(t,e){E(t,n,e)},p:t,d(t){t&&S(n)}}}function Cu(e){let n;return{c(){n=N("p"),n.textContent="In 2000, the United Nations Security Council passed Resolution 1325 on\r\n\t\tWomen, Peace, and Security, calling on all actors involved in\r\n\t\tnegotiating and implementing peace agreements to adopt a gender\r\n\t\tperspective, including:",C(n,"class","svelte-re7i0q")},m(t,e){E(t,n,e)},p:t,d(t){t&&S(n)}}}function Wu(e){let n;return{c(){n=N("div"),n.innerHTML='<div class="icon-item svelte-re7i0q"><img src="./img/fir.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t\t<p style="text-align: left; font-size: 14px" class="svelte-re7i0q">Responding to the special needs of women and girls during\n\t\t\t\trepatriation, resettlement, rehabilitation, reintegration and\n\t\t\t\tpost-conflict reconstruction</p></div> \n\t\t<div class="icon-item svelte-re7i0q"><img src="./img/sec.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t\t<p style="text-align: left; font-size: 14px" class="svelte-re7i0q">Supporting local womens and indigenous initiatives for conflict\n\t\t\t\tresolution, and involving women in all implementation mechanisms</p></div> \n\t\t<div class="icon-item svelte-re7i0q"><img src="./img/thi.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t\t<p style="text-align: left; font-size: 14px" class="svelte-re7i0q">Ensuring the protection of human rights of women and girls,\n\t\t\t\tparticularly relating to the constitution, the electoral system,\n\t\t\t\tthe police and the judiciary</p></div>',C(n,"id","icons"),C(n,"class","svelte-re7i0q")},m(t,e){E(t,n,e)},p:t,d(t){t&&S(n)}}}function Ou(t){let e,n,r,i,o,a;return o=new pc({props:{pax:t[9],pax_timeline:t[11],step:t[7]}}),{c(){e=N("div"),n=N("figure"),r=N("div"),i=N("div"),gt(o.$$.fragment),C(i,"class","time svelte-re7i0q"),C(r,"class","col-wide height-full"),C(e,"slot","background")},m(t,s){E(t,e,s),M(e,n),M(n,r),M(r,i),mt(o,i,null),a=!0},p(t,e){const n={};512&e[0]&&(n.pax=t[9]),2048&e[0]&&(n.pax_timeline=t[11]),128&e[0]&&(n.step=t[7]),o.$set(n)},i(t){a||(ht(o.$$.fragment,t),a=!0)},o(t){dt(o.$$.fragment,t),a=!1},d(t){t&&S(e),yt(o)}}}function Iu(e){let n;return{c(){n=N("div"),n.innerHTML='<section data-id="time01"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">Each line represents a peace agreement listed in PA-X that\n\t\t\t\t\twas signed between 1990 and 2023.</p></div></section> \n\t\t<section data-id="time02"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">This are the agreements included in PA-X Gender.</p></div></section> \n\t\t<section data-id="time03"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">What&#39;s important to consider is that gender references\n\t\t\t\t\tdiffer hugely in terms of their substantive quality and\n\t\t\t\t\tspecificity, ranging from detailed commitments to rhetorical\n\t\t\t\t\treferences to &#39;women&#39;.</p></div></section> \n\t\t<section data-id="time04"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">For example, only these highlighted agreements include\n\t\t\t\t\tsubstantive references to the special needs of women and\n\t\t\t\t\tgirls during rehabilitation and reconstruction. However,\n\t\t\t\t\tthey often are not a large proportion of the agreement\n\t\t\t\t\tfocus.</p></div></section> \n\t\t<section data-id="time05"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">One instance is the <a href="https://pax.peaceagreements.org/media/documents/ag478_55d493ee828e7.pdf" target="_blank" style="color: white;">Lome Agreement</a>\n\t\t\t\t\tfor Sierra Leone in 1999 that acknowledged women&#39;s victimization\n\t\t\t\t\tduring the war, and stated that\n\t\t\t\t\t<i style="font-size: 18px;">&#39;special attention shall be accorded to their needs and\n\t\t\t\t\t\tpotentials in formulating and implementing national\n\t\t\t\t\t\trehabilitation, reconstruction and development\n\t\t\t\t\t\tprogrammes, to enable them to play a central role in the\n\t\t\t\t\t\tmoral, social and physical reconstruction of Sierra\n\t\t\t\t\t\tLeone.&#39;</i> This was the only reference to gender (highlighted in red)\n\t\t\t\t\tin the entire agreement text.</p></div></section> \n\t\t<section data-id="time06"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">The highlighted peace agreements include references to women\n\t\t\t\t\tplaying a role in implementing the agreement.</p></div></section> \n\t\t<section data-id="time07"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">For example, the 2016 <a href="https://pax.peaceagreements.org/media/documents/ag1845_593e97bdd6f32.pdf" target="_blank" style="color: white;">Final Agreement</a> between the Colombian Government and the FARC set up a special\n\t\t\t\t\tforum comprising representatives from 6 national and regional\n\t\t\t\t\tColombian women&#39;s organisations, to work with the implementation\n\t\t\t\t\tcommission on monitoring and guaranteeing the rights of women\n\t\t\t\t\tin the implementation of the peace agreement.</p></div></section> \n\t\t<section data-id="time08"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">Turning to the protection of human rights of women and\n\t\t\t\t\tgirls, the highlighted peace agreements include references\n\t\t\t\t\tto <strong>international human rights laws</strong> relating\n\t\t\t\t\tto women and gender, including specific human rights standards.</p></div></section> \n\t\t<section data-id="time09"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">For example, in a 1996 <a href="https://pax.peaceagreements.org/media/documents/ag291_5630f71a3ae07.pdf" style="color: white;" target="_blank">peace agreement from Guatemala</a>, the government agreed to revise national legislation to\n\t\t\t\t\teliminate all forms of discrimination against women, and to\n\t\t\t\t\tgive effect to the government commitments deriving from the\n\t\t\t\t\tratification of the Convention on the Elimination of All\n\t\t\t\t\tForms of Discrimination against Women.</p></div></section>',C(n,"slot","foreground")},m(t,e){E(t,n,e)},p:t,d(t){t&&S(n)}}}function Du(t){let e,n,r,i,o,a;return o=new ku({props:{pax_gender:t[10],step:t[7]}}),{c(){e=N("div"),n=N("figure"),r=N("div"),i=N("div"),gt(o.$$.fragment),C(i,"class","afgh svelte-re7i0q"),C(r,"class","col-wide height-full"),C(e,"slot","background")},m(t,s){E(t,e,s),M(e,n),M(n,r),M(r,i),mt(o,i,null),a=!0},p(t,e){const n={};1024&e[0]&&(n.pax_gender=t[10]),128&e[0]&&(n.step=t[7]),o.$set(n)},i(t){a||(ht(o.$$.fragment,t),a=!0)},o(t){dt(o.$$.fragment,t),a=!1},d(t){t&&S(e),yt(o)}}}function ju(e){let n;return{c(){n=N("div"),n.innerHTML='<section data-id="afgh01"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">This is the distribution of gender-related topic in all 436\n\t\t\t\t\tagreements. You can see the majority of references across\n\t\t\t\t\tall the agreements are regarding women&#39;s participation, and\n\t\t\t\t\tsexual violence.</p></div></section> \n\t\t<section data-id="afgh02"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">The earlier referenced Toncontin Agreement from 1990,\n\t\t\t\t\tincludes these gender-related topics.</p></div></section> \n\t\t<section data-id="afgh03"><div class="col-medium"><p style="text-align: center;" class="svelte-re7i0q">In contrast, the more recent 2016 Colombian Final Agreement\n\t\t\t\t\tincludes these topics.</p></div></section>',C(n,"slot","foreground")},m(t,e){E(t,n,e)},p:t,d(t){t&&S(n)}}}function Lu(t){let e,n,r,i,a,s,l,c,u,f,h,d,p,g,m,y,v,$,w,x,_,b,k,A,q,R,T,W,O,D,j,L,H,B,G,F,X,Y,U,V,J,Q,K,tt,et,nt,it,ot,at,st,lt,ct,ut,ft,vt,$t,wt,xt,_t,bt,kt,Mt,Et,St,At,Nt;function qt(e){t[18](e)}c=new ul({props:{center:!0,short:!1,$$slots:{default:[Mu]},$$scope:{ctx:t}}}),f=new El({}),y=new bl({props:{short:!1,wide:!0,center:!0,shadow:!1,$$slots:{default:[Eu]},$$scope:{ctx:t}}});let Rt={threshold:Bu,splitscreen:!1,shadow:!1,$$slots:{foreground:[Au],background:[Su]},$$scope:{ctx:t}};function zt(e){t[20](e)}void 0!==t[0].map&&(Rt.id=t[0].map),$=new wl({props:Rt}),Z.push((()=>pt($,"id",qt)));let Tt={threshold:Bu,splitscreen:!1,shadow:!1,$$slots:{foreground:[qu],background:[Nu]},$$scope:{ctx:t}};function Pt(e){t[22](e)}void 0!==t[0].rect&&(Tt.id=t[0].rect),k=new wl({props:Tt}),Z.push((()=>pt(k,"id",zt))),R=new El({}),Y=new bl({props:{short:!1,wide:!0,center:!0,shadow:!0,$$slots:{default:[Ru]},$$scope:{ctx:t}}}),Q=new bl({props:{short:!1,wide:!0,center:!0,shadow:!0,$$slots:{default:[zu]},$$scope:{ctx:t}}});let Ct={threshold:Bu,splitscreen:!1,shadow:!1,$$slots:{foreground:[Pu],background:[Tu]},$$scope:{ctx:t}};function Wt(e){t[24](e)}void 0!==t[0].stage&&(Ct.id=t[0].stage),nt=new wl({props:Ct}),Z.push((()=>pt(nt,"id",Pt))),at=new El({}),lt=new bl({props:{short:!1,wide:!0,center:!0,shadow:!1,$$slots:{default:[Cu]},$$scope:{ctx:t}}}),ut=new bl({props:{short:!1,wide:!0,center:!0,shadow:!1,$$slots:{default:[Wu]},$$scope:{ctx:t}}});let Ot={threshold:Bu,splitscreen:!1,shadow:!1,$$slots:{foreground:[Iu],background:[Ou]},$$scope:{ctx:t}};function It(e){t[26](e)}void 0!==t[0].time&&(Ot.id=t[0].time),wt=new wl({props:Ot}),Z.push((()=>pt(wt,"id",Wt)));let Dt={threshold:Bu,splitscreen:!1,shadow:!1,$$slots:{foreground:[ju],background:[Du]},$$scope:{ctx:t}};return void 0!==t[0].afgh&&(Dt.id=t[0].afgh),Mt=new wl({props:Dt}),Z.push((()=>pt(Mt,"id",It))),{c(){e=N("div"),e.innerHTML='<div class="circle svelte-re7i0q"></div> \n\t<div class="line svelte-re7i0q"></div> \n\t<div class="scroll-line-agmt svelte-re7i0q"><img src="./img/agmt.png" alt="rect" class="svelte-re7i0q"/></div> \n\t<div class="scroll-line-rect svelte-re7i0q"><img src="./img/recs.png" alt="rect" class="svelte-re7i0q"/></div> \n\t<div class="scroll-line-time svelte-re7i0q"><img src="./img/line.png" alt="rect" class="svelte-re7i0q"/></div> \n\t<div class="scroll-line-stage svelte-re7i0q"><img src="./img/bar.png" alt="rect" class="svelte-re7i0q"/></div> \n\t<div class="scroll-line-geo svelte-re7i0q"><img src="./img/globe.png" alt="rect" class="svelte-re7i0q"/></div> \n\t<div class="scroll-line-dendr svelte-re7i0q"><img src="./img/dendr.png" alt="rect" class="svelte-re7i0q"/></div>',n=z(),r=N("div"),i=N("button"),i.textContent="Visualization",a=z(),s=N("p"),s.textContent="loading...",l=z(),gt(c.$$.fragment),u=z(),gt(f.$$.fragment),h=z(),d=N("div"),d.innerHTML='<p class="svelte-re7i0q">A <strong>peace agreement</strong> is a document produced after discussion\n\t\twith conflict protagonists and mutually agreed to by them, addressing conflict\n\t\twith a view to ending it.</p> \n\n\t<p class="svelte-re7i0q"><a href="https://pax.peaceagreements.org/agreements/search/" style="color:white">PA-X Database</a> collects and archives formal, publicly-available, signed peace agreements.</p> \n\t<p class="svelte-re7i0q">Below is a ceasefire agreement from 1990 Nicaragua.</p>',p=z(),g=N("div"),g.innerHTML='<img src="./img/toncontin.png" alt="peace agreement example" style="width: 100%;"/>',m=z(),gt(y.$$.fragment),v=z(),gt($.$$.fragment),x=z(),_=N("div"),_.innerHTML='<p class="svelte-re7i0q">To get a better idea about how often women, girls and gender are taken\n\t\tinto consideration in peace agreements, below is a representation of all\n\t\tpeace agreements in PA-X.</p>',b=z(),gt(k.$$.fragment),q=z(),gt(R.$$.fragment),T=z(),W=N("div"),W.innerHTML='<p style="margin: 20px" class="svelte-re7i0q">Why should peace agreements incorporate a gender perspective?</p>',O=z(),D=N("div"),D.innerHTML='<p class="svelte-re7i0q"><strong>Peace agreements can provide a formalised blueprint</strong> to\n\t\tshape the political settlement that emerges from a peace deal, both\n\t\tlegally and socially.<br/><br/> This can have consequences for how women,\n\t\tgender minorities, and sexual minorities may experience the transition that\n\t\tthe peace agreement stipulates.</p>',j=z(),L=N("div"),L.innerHTML='<p class="svelte-re7i0q"><strong>Peace agreements can create &#39;sticky&#39; institutional arrangements\n\t\t\tthat can be hard to later re-negotiate.</strong><br/><br/> Any gaps in how the peace agreement understands or responds\n\t\tto gender, may become stuck and difficult to resolve through institutional\n\t\tmechanisms.</p>',H=z(),B=N("div"),B.innerHTML='<p class="svelte-re7i0q"><strong>Peace agreements are not gender neutral by default</strong> They\n\t\tcontain institutional configurations, security mechanisms and human\n\t\trights regimes that all shape different gender outcomes or impacts\n\t\twomen&#39;s lives.\n\t\t<br/> \n\t\t<br/> \n\t\t<br/> \n\t\t<br/>\n\t\tHear more on this from PeaceRep&#39;s Women Peace and Security expert, Laura\n\t\tWise in this short, informative video (3 mins).</p>',G=z(),F=N("div"),F.innerHTML='<p style="margin: 20px" class="svelte-re7i0q">There are different stages of peace processes depending on the content\n\t\tincluded in agreements: from pre-neogtiation/process agreements where\n\t\tthere are &#39;talks about talks&#39;, to ceasefires, to more comprehensive\n\t\tagreements and implementation agreeements.<br/><br/> If the process went\n\t\tsmoothly from one stage to the next it would look like this over time:</p>',X=z(),gt(Y.$$.fragment),U=z(),V=N("div"),V.innerHTML='<p style="margin: 20px" class="svelte-re7i0q">Instead, peace processes frequently involve a series of back-and-forth\n\t\tmovements, reflecting the reality that progress is rarely uniform or\n\t\tpredictable.<br/><br/> For example, here is the trajectory of the Philippines-Mindano\n\t\tProcess.</p>',J=z(),gt(Q.$$.fragment),K=z(),tt=N("div"),tt.innerHTML='<p style="margin: 20px" class="svelte-re7i0q">At which stage of peace negotiations do women, girls or gender get\n\t\tdiscussed?</p>',et=z(),gt(nt.$$.fragment),ot=z(),gt(at.$$.fragment),st=z(),gt(lt.$$.fragment),ct=z(),gt(ut.$$.fragment),ft=z(),vt=N("div"),vt.innerHTML='<p style="margin: 20px" class="svelte-re7i0q">How did this influence the number of gender-related peace agreements\n\t\tover time?</p>',$t=z(),gt(wt.$$.fragment),_t=z(),bt=N("div"),bt.innerHTML='<p style="margin: 20px" class="svelte-re7i0q">As you can see, peace agreements cover different topics related to\n\t\twomen, girls and gender. Sometimes there are a lot of topics addressed,\n\t\tand sometimes there are very few. <br/><br/>\n\t\tBelow shows a representation of all topics related to women, girls and gender\n\t\tthat are coded for all agreements in PA-X Gender.</p>',kt=z(),gt(Mt.$$.fragment),C(e,"id","indicator"),C(e,"class","svelte-re7i0q"),C(i,"id","loading_button"),C(i,"class","svelte-re7i0q"),C(s,"id","loading_text"),C(s,"class","svelte-re7i0q"),C(r,"role","presentation"),C(r,"id","loading_screen"),I(r,"height","calc(var(--vh, 1vh) * 100)"),C(r,"class","svelte-re7i0q"),C(d,"class","filler svelte-re7i0q"),C(g,"class","filler svelte-re7i0q"),C(_,"class","filler svelte-re7i0q"),C(W,"class","filler svelte-re7i0q"),C(D,"class","filler svelte-re7i0q"),C(L,"class","filler svelte-re7i0q"),C(B,"class","filler svelte-re7i0q"),C(F,"class","filler svelte-re7i0q"),C(V,"class","filler svelte-re7i0q"),C(tt,"class","filler svelte-re7i0q"),C(vt,"class","filler svelte-re7i0q"),C(bt,"class","filler svelte-re7i0q")},m(o,w){E(o,e,w),E(o,n,w),E(o,r,w),M(r,i),M(r,a),M(r,s),E(o,l,w),mt(c,o,w),E(o,u,w),mt(f,o,w),E(o,h,w),E(o,d,w),t[16](d),E(o,p,w),E(o,g,w),E(o,m,w),mt(y,o,w),E(o,v,w),mt($,o,w),E(o,x,w),E(o,_,w),E(o,b,w),mt(k,o,w),E(o,q,w),mt(R,o,w),E(o,T,w),E(o,W,w),E(o,O,w),E(o,D,w),E(o,j,w),E(o,L,w),E(o,H,w),E(o,B,w),E(o,G,w),E(o,F,w),t[21](F),E(o,X,w),mt(Y,o,w),E(o,U,w),E(o,V,w),E(o,J,w),mt(Q,o,w),E(o,K,w),E(o,tt,w),E(o,et,w),mt(nt,o,w),E(o,ot,w),mt(at,o,w),E(o,st,w),mt(lt,o,w),E(o,ct,w),mt(ut,o,w),E(o,ft,w),E(o,vt,w),t[23](vt),E(o,$t,w),mt(wt,o,w),E(o,_t,w),E(o,bt,w),t[25](bt),E(o,kt,w),mt(Mt,o,w),St=!0,At||(Nt=[P(i,"click",t[15]),P(r,"click",t[15])],At=!0)},p(t,e){const n={};32&e[1]&&(n.$$scope={dirty:e,ctx:t}),c.$set(n);const r={};32&e[1]&&(r.$$scope={dirty:e,ctx:t}),y.$set(r);const i={};8096&e[0]|32&e[1]&&(i.$$scope={dirty:e,ctx:t}),!w&&1&e[0]&&(w=!0,i.id=t[0].map,rt((()=>w=!1))),$.$set(i);const o={};644&e[0]|32&e[1]&&(o.$$scope={dirty:e,ctx:t}),!A&&1&e[0]&&(A=!0,o.id=t[0].rect,rt((()=>A=!1))),k.$set(o);const a={};32&e[1]&&(a.$$scope={dirty:e,ctx:t}),Y.$set(a);const s={};32&e[1]&&(s.$$scope={dirty:e,ctx:t}),Q.$set(s);const l={};8832&e[0]|32&e[1]&&(l.$$scope={dirty:e,ctx:t}),!it&&1&e[0]&&(it=!0,l.id=t[0].stage,rt((()=>it=!1))),nt.$set(l);const u={};32&e[1]&&(u.$$scope={dirty:e,ctx:t}),lt.$set(u);const f={};32&e[1]&&(f.$$scope={dirty:e,ctx:t}),ut.$set(f);const h={};2688&e[0]|32&e[1]&&(h.$$scope={dirty:e,ctx:t}),!xt&&1&e[0]&&(xt=!0,h.id=t[0].time,rt((()=>xt=!1))),wt.$set(h);const d={};1152&e[0]|32&e[1]&&(d.$$scope={dirty:e,ctx:t}),!Et&&1&e[0]&&(Et=!0,d.id=t[0].afgh,rt((()=>Et=!1))),Mt.$set(d)},i(t){St||(ht(c.$$.fragment,t),ht(f.$$.fragment,t),ht(y.$$.fragment,t),ht($.$$.fragment,t),ht(k.$$.fragment,t),ht(R.$$.fragment,t),ht(Y.$$.fragment,t),ht(Q.$$.fragment,t),ht(nt.$$.fragment,t),ht(at.$$.fragment,t),ht(lt.$$.fragment,t),ht(ut.$$.fragment,t),ht(wt.$$.fragment,t),ht(Mt.$$.fragment,t),St=!0)},o(t){dt(c.$$.fragment,t),dt(f.$$.fragment,t),dt(y.$$.fragment,t),dt($.$$.fragment,t),dt(k.$$.fragment,t),dt(R.$$.fragment,t),dt(Y.$$.fragment,t),dt(Q.$$.fragment,t),dt(nt.$$.fragment,t),dt(at.$$.fragment,t),dt(lt.$$.fragment,t),dt(ut.$$.fragment,t),dt(wt.$$.fragment,t),dt(Mt.$$.fragment,t),St=!1},d(i){i&&S(e),i&&S(n),i&&S(r),i&&S(l),yt(c,i),i&&S(u),yt(f,i),i&&S(h),i&&S(d),t[16](null),i&&S(p),i&&S(g),i&&S(m),yt(y,i),i&&S(v),yt($,i),i&&S(x),i&&S(_),i&&S(b),yt(k,i),i&&S(q),yt(R,i),i&&S(T),i&&S(W),i&&S(O),i&&S(D),i&&S(j),i&&S(L),i&&S(H),i&&S(B),i&&S(G),i&&S(F),t[21](null),i&&S(X),yt(Y,i),i&&S(U),i&&S(V),i&&S(J),yt(Q,i),i&&S(K),i&&S(tt),i&&S(et),yt(nt,i),i&&S(ot),yt(at,i),i&&S(st),yt(lt,i),i&&S(ct),yt(ut,i),i&&S(ft),i&&S(vt),t[23](null),i&&S($t),yt(wt,i),i&&S(_t),i&&S(bt),t[25](null),i&&S(kt),yt(Mt,i),At=!1,o(Nt)}}}let Hu="dark";const Bu=.65;function Gu(t,e=3e3){const n=window.scrollY,r=t-n;let i=null;requestAnimationFrame((function t(o){i||(i=o);const a=o-i,s=Math.min(a/e,1);var l;window.scrollTo(0,n+r*((l=s)<.5?2*l*l:1-Math.pow(-2*l+2,2)/2)),a<e&&requestAnimationFrame(t)}))}function Fu(t,e,n){let r,i,o,a,s,l,c;U("theme",Hu),function(t,e){for(let n in t[e])document.documentElement.style.setProperty("--"+n,t[e][n])}(Vs,Hu);let u={},f={};X((()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo({top:0,behavior:"auto"}),f={...u};const t=document.querySelector(".circle"),e=document.querySelector("#indicator"),n=document.querySelector(".scroll-line-agmt"),h=document.querySelector(".scroll-line-rect"),d=document.querySelector(".scroll-line-reason"),p=document.querySelector(".scroll-line-time"),g=document.querySelector(".scroll-line-stage"),m=document.querySelector(".scroll-line-geo"),y=document.querySelector(".scroll-line-dendr");if(!t||!e)return;const v=()=>{let t=document.documentElement.scrollHeight-window.innerHeight;if(t<=0)return void requestAnimationFrame(v);const u=e.clientHeight;if(r instanceof HTMLElement){let e=r.getBoundingClientRect().top+window.scrollY,i=e/t*u;n.style.top=`${i}px`,n.addEventListener("click",(()=>{Gu(e,2e3)}))}if(i instanceof HTMLElement){let e=i.getBoundingClientRect().top+window.scrollY,n=e/t*u;h.style.top=`${n}px`,h.addEventListener("click",(()=>{Gu(e,2e3)}))}if(o instanceof HTMLElement){let e=o.getBoundingClientRect();console.log("here");let n=e.top+window.scrollY,r=n/t*u;d.style.top=`${r}px`,d.addEventListener("click",(()=>{Gu(n,2e3)}))}if(a instanceof HTMLElement){const e=a.getBoundingClientRect().top+window.scrollY,n=e/t*u;p.style.top=`${n}px`,p.addEventListener("click",(()=>{Gu(e,2e3)}))}if(s instanceof HTMLElement){const e=s.getBoundingClientRect().top+window.scrollY,n=e/t*u;g.style.top=`${n}px`,g.addEventListener("click",(()=>{Gu(e,2e3)}))}if(l instanceof HTMLElement){const e=l.getBoundingClientRect().top+window.scrollY,n=e/t*u;m.style.top=`${n}px`,m.addEventListener("click",(()=>{Gu(e,2e3)}))}if(c instanceof HTMLElement){const e=c.getBoundingClientRect().top+window.scrollY,n=e/t*u;y.style.top=`${n}px`,y.addEventListener("click",(()=>{Gu(e,2e3)}))}};requestAnimationFrame(v),window.addEventListener("scroll",(()=>{const n=window.scrollY;let r=document.documentElement.scrollHeight-window.innerHeight;if(r<=0)return;const i=e.clientHeight-t.clientHeight,o=n/r;t.style.top=o*i+"px"})),window.addEventListener("resize",(()=>{requestAnimationFrame(v)}))}));let h=null;const d={rect:{rect01:()=>{n(7,h="rect01")},rect02:()=>{n(7,h="rect02")}},chart:{chart01:()=>{n(7,h="one")},chart02:()=>{n(7,h="two")},chart03:()=>{n(7,h="three")},chart04:()=>{n(7,h="four")},chart05:()=>{n(7,h="five")}},time:{time01:()=>{n(7,h="1")},time02:()=>{n(7,h="2")},time03:()=>{n(7,h="3")},time04:()=>{n(7,h="4")},time05:()=>{n(7,h="5")},time06:()=>{n(7,h="6")},time07:()=>{n(7,h="7")},time08:()=>{n(7,h="8")},time09:()=>{n(7,h="9")}},stage:{stage01:()=>{n(7,h="stage01")},stage02:()=>{n(7,h="stage02")},stage03:()=>{n(7,h="stage03")},stage04:()=>{n(7,h="stage04")}},map:{map01:()=>{n(7,h="map_one")},map02:()=>{n(7,h="map_two")},map03:()=>{n(7,h="map_three")},map04:()=>{n(7,h="map_four")}},afgh:{afgh01:()=>{n(7,h="afgh01")},afgh02:()=>{n(7,h="afgh02")},afgh03:()=>{n(7,h="afgh03")}}};let p;nl("./data/custom.geo.json").then((t=>{n(8,p=t)}));let g,m,y,v,$,w,x,_;el(["./data/pax.csv","./data/pax_gender.csv","./data/pax_central_points.csv","./data/pax_gender_text.csv","./data/text_corr.csv","./data/wgg_text.csv"]).then((t=>{Ks.set(w),n(9,g=t[0]),n(10,m=t[1]),n(12,w=t[2]),y=t[3],v=t[4],x=t[5],g.forEach((t=>{const e=m.find((e=>e.AgtId===t.AgtId));e?(t.WggRehab=e.WggRehab,t.WggImplRole=e.WggImplRole,t.WggHR=e.WggHR):(t.WggRehab="0",t.WggImplRole="0",t.WggHR="0")})),g.sort((function(t,e){return xt(t.Dat.substring(6,10),e.Dat.substring(6,10))})),n(13,_=Rt(g,(t=>t.Stage)));let e=["Pre","Cea","SubPar","SubComp","Imp","Ren","Oth"];_.sort(((t,n)=>e.indexOf(t[0])-e.indexOf(n[0]))),n(11,$=Rt(g,(t=>t.Dat.substring(6,10))))}));let b=!1;return t.$$.update=()=>{1&t.$$.dirty[0]&&u&&function(t=[]){t.forEach((t=>{u[t]!=f[t]&&(d[t][u[t]]&&d[t][u[t]](),f[t]=u[t])}))}(Object.keys(d))},[u,r,i,a,s,l,c,h,p,g,m,$,w,_,function(){b=!0,document.getElementById("loading_text").style.visibility="hidden",document.getElementById("loading_button").style.visibility="visible"},function(t){b&&(document.getElementById("loading_screen").style.visibility="hidden",document.getElementById("loading_button").style.visibility="hidden",document.documentElement.style.overflow="visible",document.body.style.overflow="visible")},function(t){Z[t?"unshift":"push"]((()=>{r=t,n(1,r)}))},function(t){Z[t?"unshift":"push"]((()=>{l=t,n(5,l)}))},function(e){t.$$.not_equal(u.map,e)&&(u.map=e,n(0,u))},function(t){Z[t?"unshift":"push"]((()=>{i=t,n(2,i)}))},function(e){t.$$.not_equal(u.rect,e)&&(u.rect=e,n(0,u))},function(t){Z[t?"unshift":"push"]((()=>{s=t,n(4,s)}))},function(e){t.$$.not_equal(u.stage,e)&&(u.stage=e,n(0,u))},function(t){Z[t?"unshift":"push"]((()=>{a=t,n(3,a)}))},function(e){t.$$.not_equal(u.time,e)&&(u.time=e,n(0,u))},function(t){Z[t?"unshift":"push"]((()=>{c=t,n(6,c)}))},function(e){t.$$.not_equal(u.afgh,e)&&(u.afgh=e,n(0,u))}]}return new class extends wt{constructor(t){super(),$t(this,t,Fu,Lu,s,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map

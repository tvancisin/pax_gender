var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function i(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(i)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l;function c(t,e){return l||(l=document.createElement("a")),l.href=e,t===l.href}function u(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function f(t,e,n){t.$$.on_destroy.push(u(e,n))}function h(t,e,n,i){if(t){const r=d(t,e,n,i);return t[0](r)}}function d(t,e,i,r){return t[1]&&r?n(i.ctx.slice(),t[1](r(e))):i.ctx}function p(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|r[i];return t}return e.dirty|r}return e.dirty}function g(t,e,n,i,r,o){if(r){const a=d(e,n,i,o);t.p(a,r)}}function m(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function y(t,e,n){return t.set(n),e}const v="undefined"!=typeof window;let $=v?()=>window.performance.now():()=>Date.now(),w=v?t=>requestAnimationFrame(t):t;const x=new Set;function _(t){x.forEach((e=>{e.c(t)||(x.delete(e),e.f())})),0!==x.size&&w(_)}const b="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function k(t,e){t.appendChild(e)}function M(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode&&t.parentNode.removeChild(t)}function S(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function A(t){return document.createElement(t)}function N(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function R(t){return document.createTextNode(t)}function P(){return R(" ")}function z(){return R("")}function T(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function W(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:C(t,e,n)}function O(t,e){e=""+e,t.data!==e&&(t.data=e)}function L(t,e,n,i){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}let D,I;function j(){if(void 0===D){D=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){D=!0}}return D}function q(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=A("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=j();let r;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=T(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{r=T(n.contentWindow,"resize",e),e()}),k(t,n),()=>{(i||r&&n.contentWindow)&&r(),E(n)}}function H(t,e,n){t.classList[n?"add":"remove"](e)}function B(t){I=t}function G(){if(!I)throw new Error("Function called outside component initialization");return I}function X(t){G().$$.on_mount.push(t)}function F(t){G().$$.on_destroy.push(t)}function Y(){const t=G();return(e,n,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[e];if(r){const o=function(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,i,e),r}(e,n,{cancelable:i});return r.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}const U=[],V=[];let J=[];const Z=[],Q=Promise.resolve();let K=!1;function tt(){K||(K=!0,Q.then(at))}function et(){return tt(),Q}function nt(t){J.push(t)}function it(t){Z.push(t)}const rt=new Set;let ot=0;function at(){if(0!==ot)return;const t=I;do{try{for(;ot<U.length;){const t=U[ot];ot++,B(t),st(t.$$)}}catch(t){throw U.length=0,ot=0,t}for(B(null),U.length=0,ot=0;V.length;)V.pop()();for(let t=0;t<J.length;t+=1){const e=J[t];rt.has(e)||(rt.add(e),e())}J.length=0}while(U.length);for(;Z.length;)Z.pop()();K=!1,rt.clear(),B(t)}function st(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(nt)}}const lt=new Set;let ct;function ut(){ct={r:0,c:[],p:ct}}function ft(){ct.r||o(ct.c),ct=ct.p}function ht(t,e){t&&t.i&&(lt.delete(t),t.i(e))}function dt(t,e,n,i){if(t&&t.o){if(lt.has(t))return;lt.add(t),ct.c.push((()=>{lt.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}else i&&i()}function pt(t,e,n){const i=t.$$.props[e];void 0!==i&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function gt(t){t&&t.c()}function mt(t,e,n,r){const{fragment:s,after_update:l}=t.$$;s&&s.m(e,n),r||nt((()=>{const e=t.$$.on_mount.map(i).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),l.forEach(nt)}function yt(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];J.forEach((i=>-1===t.indexOf(i)?e.push(i):n.push(i))),n.forEach((t=>t())),J=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function vt(e,n,i,a,s,l,c,u=[-1]){const f=I;B(e);const h=e.$$={fragment:null,ctx:[],props:l,update:t,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};c&&c(h.root);let d=!1;if(h.ctx=i?i(e,n.props||{},((t,n,...i)=>{const r=i.length?i[0]:n;return h.ctx&&s(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),d&&function(t,e){-1===t.$$.dirty[0]&&(U.push(t),tt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],h.update(),d=!0,o(h.before_update),h.fragment=!!a&&a(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(E)}else h.fragment&&h.fragment.c();n.intro&&ht(e.$$.fragment),mt(e,n.target,n.anchor,n.customElement),at()}B(f)}class $t{$destroy(){yt(this,1),this.$destroy=t}$on(e,n){if(!a(n))return t;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const t=i.indexOf(n);-1!==t&&i.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function wt(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xt(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _t(t){let e,n,i;function r(t,i,r=0,o=t.length){if(r<o){if(0!==e(i,i))return o;do{const e=r+o>>>1;n(t[e],i)<0?r=e+1:o=e}while(r<o)}return r}return 2!==t.length?(e=wt,n=(e,n)=>wt(t(e),n),i=(e,n)=>t(e)-n):(e=t===wt||t===xt?t:bt,n=t,i=t),{left:r,center:function(t,e,n=0,o=t.length){const a=r(t,e,n,o-1);return a>n&&i(t[a-1],e)>-i(t[a],e)?a-1:a},right:function(t,i,r=0,o=t.length){if(r<o){if(0!==e(i,i))return o;do{const e=r+o>>>1;n(t[e],i)<=0?r=e+1:o=e}while(r<o)}return r}}}function bt(){return 0}const kt=_t(wt).right;_t((function(t){return null===t?NaN:+t})).center;class Mt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const r=e[i],o=t+r,a=Math.abs(t)<Math.abs(r)?t-(o-r):r-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,i,r=this._n,o=0;if(r>0){for(o=t[--r];r>0&&(e=o,n=t[--r],o=e+n,i=n-(o-e),!i););r>0&&(i<0&&t[r-1]<0||i>0&&t[r-1]>0)&&(n=2*i,e=o+n,n==e-o&&(o=e))}return o}}class Et extends Map{constructor(t,e=At){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(St(this,t))}has(t){return super.has(St(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const i=e(n);t.has(i)&&(n=t.get(i),t.delete(i));return n}(this,t))}}function St({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function At(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Nt(t){return t}function Rt(t,...e){return function(t,e,n,i){return function t(r,o){if(o>=i.length)return n(r);const a=new Et,s=i[o++];let l=-1;for(const t of r){const e=s(t,++l,r),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}(t,Array.from,Nt,e)}const Pt=Math.sqrt(50),zt=Math.sqrt(10),Tt=Math.sqrt(2);function Ct(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),a=o>=Pt?10:o>=zt?5:o>=Tt?2:1;let s,l,c;return r<0?(c=Math.pow(10,-r)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,r)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?Ct(t,e,2*n):[s,l,c]}function Wt(t,e,n){return Ct(t=+t,e=+e,n=+n)[2]}function Ot(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}var Lt={value:()=>{}};function Dt(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new It(i)}function It(t){this._=t}function jt(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function qt(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Lt,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}It.prototype=Dt.prototype={constructor:It,on:function(t,e){var n,i,r=this._,o=(i=r,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)r[n]=qt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=qt(r[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=jt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new It(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var Ht="http://www.w3.org/1999/xhtml",Bt={svg:"http://www.w3.org/2000/svg",xhtml:Ht,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gt(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Bt.hasOwnProperty(e)?{space:Bt[e],local:t}:t}function Xt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ht&&e.documentElement.namespaceURI===Ht?e.createElement(t):e.createElementNS(n,t)}}function Ft(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Yt(t){var e=Gt(t);return(e.local?Ft:Xt)(e)}function Ut(){}function Vt(t){return null==t?Ut:function(){return this.querySelector(t)}}function Jt(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Zt(){return[]}function Qt(t){return null==t?Zt:function(){return this.querySelectorAll(t)}}function Kt(t){return function(){return this.matches(t)}}function te(t){return function(e){return e.matches(t)}}var ee=Array.prototype.find;function ne(){return this.firstElementChild}var ie=Array.prototype.filter;function re(){return Array.from(this.children)}function oe(t){return new Array(t.length)}function ae(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function se(t,e,n,i,r,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new ae(t,o[s]);for(;s<l;++s)(a=e[s])&&(r[s]=a)}function le(t,e,n,i,r,o,a){var s,l,c,u=new Map,f=e.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(l=e[s])&&(d[s]=c=a.call(l,l.__data__,s,e)+"",u.has(c)?r[s]=l:u.set(c,l));for(s=0;s<h;++s)c=a.call(t,o[s],s,o)+"",(l=u.get(c))?(i[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new ae(t,o[s]);for(s=0;s<f;++s)(l=e[s])&&u.get(d[s])===l&&(r[s]=l)}function ce(t){return t.__data__}function ue(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function fe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function he(t){return function(){this.removeAttribute(t)}}function de(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pe(t,e){return function(){this.setAttribute(t,e)}}function ge(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function me(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ye(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ve(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function $e(t){return function(){this.style.removeProperty(t)}}function we(t,e,n){return function(){this.style.setProperty(t,e,n)}}function xe(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function _e(t,e){return t.style.getPropertyValue(e)||ve(t).getComputedStyle(t,null).getPropertyValue(e)}function be(t){return function(){delete this[t]}}function ke(t,e){return function(){this[t]=e}}function Me(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ee(t){return t.trim().split(/^|\s+/)}function Se(t){return t.classList||new Ae(t)}function Ae(t){this._node=t,this._names=Ee(t.getAttribute("class")||"")}function Ne(t,e){for(var n=Se(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Re(t,e){for(var n=Se(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Pe(t){return function(){Ne(this,t)}}function ze(t){return function(){Re(this,t)}}function Te(t,e){return function(){(e.apply(this,arguments)?Ne:Re)(this,t)}}function Ce(){this.textContent=""}function We(t){return function(){this.textContent=t}}function Oe(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Le(){this.innerHTML=""}function De(t){return function(){this.innerHTML=t}}function Ie(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function je(){this.nextSibling&&this.parentNode.appendChild(this)}function qe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function He(){return null}function Be(){var t=this.parentNode;t&&t.removeChild(this)}function Ge(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Fe(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function Ye(t,e,n){return function(){var i,r=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=e);this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Ue(t,e,n){var i=ve(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Ve(t,e){return function(){return Ue(this,t,e)}}function Je(t,e){return function(){return Ue(this,t,e.apply(this,arguments))}}ae.prototype={constructor:ae,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Ae.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ze=[null];function Qe(t,e){this._groups=t,this._parents=e}function Ke(){return new Qe([[document.documentElement]],Ze)}function tn(t){return"string"==typeof t?new Qe([[document.querySelector(t)]],[document.documentElement]):new Qe([[t]],Ze)}function en(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}function nn(t){return"string"==typeof t?new Qe([document.querySelectorAll(t)],[document.documentElement]):new Qe([Jt(t)],Ze)}function rn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function on(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function an(){}Qe.prototype=Ke.prototype={constructor:Qe,select:function(t){"function"!=typeof t&&(t=Vt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=e[r],l=s.length,c=i[r]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Qe(i,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Jt(t.apply(this,arguments))}}(t):Qt(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(i.push(t.call(a,a.__data__,c,s)),r.push(a));return new Qe(i,r)},selectChild:function(t){return this.select(null==t?ne:function(t){return function(){return ee.call(this.children,t)}}("function"==typeof t?t:te(t)))},selectChildren:function(t){return this.selectAll(null==t?re:function(t){return function(){return ie.call(this.children,t)}}("function"==typeof t?t:te(t)))},filter:function(t){"function"!=typeof t&&(t=Kt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Qe(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,ce);var n=e?le:se,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=r.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=i[c],f=r[c],h=f.length,d=ue(t.call(u,u&&u.__data__,c,i)),p=d.length,g=s[c]=new Array(p),m=a[c]=new Array(p);n(u,f,g,m,l[c]=new Array(h),d,e);for(var y,v,$=0,w=0;$<p;++$)if(y=g[$]){for($>=w&&(w=$+1);!(v=m[w])&&++w<p;);y._next=v||null}}return(a=new Qe(a,i))._enter=s,a._exit=l,a},enter:function(){return new Qe(this._enter||this._groups.map(oe),this._parents)},exit:function(){return new Qe(this._exit||this._groups.map(oe),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=i.length,a=Math.min(r,o),s=new Array(r),l=0;l<a;++l)for(var c,u=n[l],f=i[l],h=u.length,d=s[l]=new Array(h),p=0;p<h;++p)(c=u[p]||f[p])&&(d[p]=c);for(;l<r;++l)s[l]=n[l];return new Qe(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=fe);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,s=n[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new Qe(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},attr:function(t,e){var n=Gt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?de:he:"function"==typeof e?n.local?ye:me:n.local?ge:pe)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?$e:"function"==typeof e?xe:we)(t,e,null==n?"":n)):_e(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?be:"function"==typeof e?Me:ke)(t,e)):this.node()[t]},classed:function(t,e){var n=Ee(t+"");if(arguments.length<2){for(var i=Se(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?Te:e?Pe:ze)(n,e))},text:function(t){return arguments.length?this.each(null==t?Ce:("function"==typeof t?Oe:We)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Le:("function"==typeof t?Ie:De)(t)):this.node().innerHTML},raise:function(){return this.each(je)},lower:function(){return this.each(qe)},append:function(t){var e="function"==typeof t?t:Yt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Yt(t),i=null==e?He:"function"==typeof e?e:Vt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Be)},clone:function(t){return this.select(t?Xe:Ge)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Ye:Fe,i=0;i<a;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(i=0,l=s[c];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Je:Ve)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],o=0,a=r.length;o<a;++o)(i=r[o])&&(yield i)}};var sn=.7,ln=1/sn,cn="\\s*([+-]?\\d+)\\s*",un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hn=/^#([0-9a-f]{3,8})$/,dn=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),pn=new RegExp(`^rgb\\(${fn},${fn},${fn}\\)$`),gn=new RegExp(`^rgba\\(${cn},${cn},${cn},${un}\\)$`),mn=new RegExp(`^rgba\\(${fn},${fn},${fn},${un}\\)$`),yn=new RegExp(`^hsl\\(${un},${fn},${fn}\\)$`),vn=new RegExp(`^hsla\\(${un},${fn},${fn},${un}\\)$`),$n={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wn(){return this.rgb().formatHex()}function xn(){return this.rgb().formatRgb()}function _n(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=hn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?bn(e):3===n?new En(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?kn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?kn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=dn.exec(t))?new En(e[1],e[2],e[3],1):(e=pn.exec(t))?new En(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=gn.exec(t))?kn(e[1],e[2],e[3],e[4]):(e=mn.exec(t))?kn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=yn.exec(t))?zn(e[1],e[2]/100,e[3]/100,1):(e=vn.exec(t))?zn(e[1],e[2]/100,e[3]/100,e[4]):$n.hasOwnProperty(t)?bn($n[t]):"transparent"===t?new En(NaN,NaN,NaN,0):null}function bn(t){return new En(t>>16&255,t>>8&255,255&t,1)}function kn(t,e,n,i){return i<=0&&(t=e=n=NaN),new En(t,e,n,i)}function Mn(t,e,n,i){return 1===arguments.length?((r=t)instanceof an||(r=_n(r)),r?new En((r=r.rgb()).r,r.g,r.b,r.opacity):new En):new En(t,e,n,null==i?1:i);var r}function En(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Sn(){return`#${Pn(this.r)}${Pn(this.g)}${Pn(this.b)}`}function An(){const t=Nn(this.opacity);return`${1===t?"rgb(":"rgba("}${Rn(this.r)}, ${Rn(this.g)}, ${Rn(this.b)}${1===t?")":`, ${t})`}`}function Nn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Rn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pn(t){return((t=Rn(t))<16?"0":"")+t.toString(16)}function zn(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Cn(t,e,n,i)}function Tn(t){if(t instanceof Cn)return new Cn(t.h,t.s,t.l,t.opacity);if(t instanceof an||(t=_n(t)),!t)return new Cn;if(t instanceof Cn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new Cn(a,s,l,t.opacity)}function Cn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Wn(t){return(t=(t||0)%360)<0?t+360:t}function On(t){return Math.max(0,Math.min(1,t||0))}function Ln(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}rn(an,_n,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wn,formatHex:wn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Tn(this).formatHsl()},formatRgb:xn,toString:xn}),rn(En,Mn,on(an,{brighter(t){return t=null==t?ln:Math.pow(ln,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?sn:Math.pow(sn,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new En(Rn(this.r),Rn(this.g),Rn(this.b),Nn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sn,formatHex:Sn,formatHex8:function(){return`#${Pn(this.r)}${Pn(this.g)}${Pn(this.b)}${Pn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:An,toString:An})),rn(Cn,(function(t,e,n,i){return 1===arguments.length?Tn(t):new Cn(t,e,n,null==i?1:i)}),on(an,{brighter(t){return t=null==t?ln:Math.pow(ln,t),new Cn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?sn:Math.pow(sn,t),new Cn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new En(Ln(t>=240?t-240:t+120,r,i),Ln(t,r,i),Ln(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Cn(Wn(this.h),On(this.s),On(this.l),Nn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Nn(this.opacity);return`${1===t?"hsl(":"hsla("}${Wn(this.h)}, ${100*On(this.s)}%, ${100*On(this.l)}%${1===t?")":`, ${t})`}`}}));var Dn=t=>()=>t;function In(t){return 1==(t=+t)?jn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):Dn(isNaN(e)?n:e)}}function jn(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Dn(isNaN(t)?e:t)}var qn=function t(e){var n=In(e);function i(t,e){var i=n((t=Mn(t)).r,(e=Mn(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=jn(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function Hn(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}}function Bn(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=Jn(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}}function Gn(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Xn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Fn(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Jn(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}var Yn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Un=new RegExp(Yn.source,"g");function Vn(t,e){var n,i,r,o=Yn.lastIndex=Un.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Yn.exec(t))&&(i=Un.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Xn(n,i)})),o=Un.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}function Jn(t,e){var n,i=typeof e;return null==e||"boolean"===i?Dn(e):("number"===i?Xn:"string"===i?(n=_n(e))?(e=n,qn):Vn:e instanceof _n?qn:e instanceof Date?Gn:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Hn:Array.isArray(e)?Bn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Fn:Xn)(t,e)}function Zn(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Qn,Kn=180/Math.PI,ti={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ei(t,e,n,i,r,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),t*i<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Kn,skewX:Math.atan(l)*Kn,scaleX:a,scaleY:s}}function ni(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,i,r,o,a,s){if(t!==r||i!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:Xn(t,r)},{i:l-2,x:Xn(i,o)})}else(r||o)&&a.push("translate("+r+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Xn(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Xn(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,a.skewX,s,l),function(t,e,n,i,o,a){if(t!==n||e!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Xn(t,n)},{i:s-2,x:Xn(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,i=l.length;++n<i;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var ii,ri,oi=ni((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ti:ei(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),ai=ni((function(t){return null==t?ti:(Qn||(Qn=document.createElementNS("http://www.w3.org/2000/svg","g")),Qn.setAttribute("transform",t),(t=Qn.transform.baseVal.consolidate())?ei((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ti)}),", ",")",")"),si=0,li=0,ci=0,ui=1e3,fi=0,hi=0,di=0,pi="object"==typeof performance&&performance.now?performance:Date,gi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function mi(){return hi||(gi(yi),hi=pi.now()+di)}function yi(){hi=0}function vi(){this._call=this._time=this._next=null}function $i(t,e,n){var i=new vi;return i.restart(t,e,n),i}function wi(){hi=(fi=pi.now())+di,si=li=0;try{!function(){mi(),++si;for(var t,e=ii;e;)(t=hi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--si}()}finally{si=0,function(){var t,e,n=ii,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ii=e);ri=t,_i(i)}(),hi=0}}function xi(){var t=pi.now(),e=t-fi;e>ui&&(di-=e,fi=t)}function _i(t){si||(li&&(li=clearTimeout(li)),t-hi>24?(t<1/0&&(li=setTimeout(wi,t-pi.now()-di)),ci&&(ci=clearInterval(ci))):(ci||(fi=pi.now(),ci=setInterval(xi,ui)),si=1,gi(wi)))}function bi(t,e,n){var i=new vi;return e=null==e?0:+e,i.restart((n=>{i.stop(),t(n+e)}),e,n),i}vi.prototype=$i.prototype={constructor:vi,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?mi():+n)+(null==e?0:+e),this._next||ri===this||(ri?ri._next=this:ii=this,ri=this),this._call=t,this._time=n,_i()},stop:function(){this._call&&(this._call=null,this._time=1/0,_i())}};var ki=Dt("start","end","cancel","interrupt"),Mi=[],Ei=0,Si=1,Ai=2,Ni=3,Ri=4,Pi=5,zi=6;function Ti(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function o(t){n.state=Si,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,u,f,h;if(n.state!==Si)return l();for(c in r)if((h=r[c]).name===n.name){if(h.state===Ni)return bi(a);h.state===Ri?(h.state=zi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[c]):+c<e&&(h.state=zi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[c])}if(bi((function(){n.state===Ni&&(n.state=Ri,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=Ai,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ai){for(n.state=Ni,i=new Array(f=n.tween.length),c=0,u=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=h);i.length=u+1}}function s(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=Pi,1),o=-1,a=i.length;++o<a;)i[o].call(t,r);n.state===Pi&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var i in n.state=zi,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=$i(o,0,n.time)}(t,n,{name:e,index:i,group:r,on:ki,tween:Mi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ei})}function Ci(t,e){var n=Oi(t,e);if(n.state>Ei)throw new Error("too late; already scheduled");return n}function Wi(t,e){var n=Oi(t,e);if(n.state>Ni)throw new Error("too late; already running");return n}function Oi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Li(t,e){var n,i;return function(){var r=Wi(this,t),o=r.tween;if(o!==n)for(var a=0,s=(i=n=o).length;a<s;++a)if(i[a].name===e){(i=i.slice()).splice(a,1);break}r.tween=i}}function Di(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Wi(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=s;break}l===c&&r.push(s)}o.tween=r}}function Ii(t,e,n){var i=t._id;return t.each((function(){var t=Wi(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Oi(t,i).value[e]}}function ji(t,e){var n;return("number"==typeof e?Xn:e instanceof _n?qn:(n=_n(e))?(e=n,qn):Vn)(t,e)}function qi(t){return function(){this.removeAttribute(t)}}function Hi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bi(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===i?r:r=e(i=a,n)}}function Gi(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?r:r=e(i=a,n)}}function Xi(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttribute(t)}}function Fi(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttributeNS(t.space,t.local)}}function Yi(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,r)),n}return r._value=e,r}function Ui(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,r)),n}return r._value=e,r}function Vi(t,e){return function(){Ci(this,t).delay=+e.apply(this,arguments)}}function Ji(t,e){return e=+e,function(){Ci(this,t).delay=e}}function Zi(t,e){return function(){Wi(this,t).duration=+e.apply(this,arguments)}}function Qi(t,e){return e=+e,function(){Wi(this,t).duration=e}}var Ki=Ke.prototype.constructor;function tr(t){return function(){this.style.removeProperty(t)}}var er=0;function nr(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function ir(t){return Ke().transition(t)}function rr(){return++er}var or=Ke.prototype;nr.prototype=ir.prototype={constructor:nr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Vt(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,l,c=i[a],u=c.length,f=o[a]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=t.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),f[h]=l,Ti(f[h],e,n,h,f,Oi(s,n)));return new nr(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Qt(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l,c=i[s],u=c.length,f=0;f<u;++f)if(l=c[f]){for(var h,d=t.call(l,l.__data__,f,c),p=Oi(l,n),g=0,m=d.length;g<m;++g)(h=d[g])&&Ti(h,e,n,g,d,p);o.push(d),a.push(l)}return new nr(o,a,e,n)},selectChild:or.selectChild,selectChildren:or.selectChildren,filter:function(t){"function"!=typeof t&&(t=Kt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new nr(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,c=e[s],u=n[s],f=c.length,h=a[s]=new Array(f),d=0;d<f;++d)(l=c[d]||u[d])&&(h[d]=l);for(;s<i;++s)a[s]=e[s];return new nr(a,this._parents,this._name,this._id)},selection:function(){return new Ki(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=rr(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=Oi(a,e);Ti(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new nr(i,this._parents,t,n)},call:or.call,nodes:or.nodes,node:or.node,size:or.size,empty:or.empty,each:or.each,on:function(t,e){var n=this._id;return arguments.length<2?Oi(this.node(),n).on.on(t):this.each(function(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Ci:Wi;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(e,n),a.on=r}}(n,t,e))},attr:function(t,e){var n=Gt(t),i="transform"===n?ai:ji;return this.attrTween(t,"function"==typeof e?(n.local?Fi:Xi)(n,i,Ii(this,"attr."+t,e)):null==e?(n.local?Hi:qi)(n):(n.local?Gi:Bi)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Gt(t);return this.tween(n,(i.local?Yi:Ui)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?oi:ji;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=_e(this,t),a=(this.style.removeProperty(t),_e(this,t));return o===a?null:o===n&&a===i?r:r=e(n=o,i=a)}}(t,i)).on("end.style."+t,tr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,o;return function(){var a=_e(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=_e(this,t)),a===l?null:a===i&&l===r?o:(r=l,o=e(i=a,s))}}(t,i,Ii(this,"style."+t,e))).each(function(t,e){var n,i,r,o,a="style."+e,s="end."+a;return function(){var l=Wi(this,t),c=l.on,u=null==l.value[a]?o||(o=tr(e)):void 0;c===n&&r===u||(i=(n=c).copy()).on(s,r=u),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,o=n+"";return function(){var a=_e(this,t);return a===o?null:a===i?r:r=e(i=a,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&function(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}(t,o,n)),i}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Ii(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&function(t){return function(e){this.textContent=t.call(this,e)}}(i)),e}return i._value=t,i}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Oi(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?Li:Di)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Vi:Ji)(e,t)):Oi(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Zi:Qi)(e,t)):Oi(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Wi(this,t).ease=e}}(e,t)):Oi(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Wi(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--r&&o()}};n.each((function(){var n=Wi(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===r&&o()}))},[Symbol.iterator]:or[Symbol.iterator]};var ar={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function sr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Ke.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,i,r,o=t.__transition,a=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>Ai&&n.state<Pi,n.state=zi,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}}(this,t)}))},Ke.prototype.transition=function(t){var e,n;t instanceof nr?(e=t._id,t=t._name):(e=rr(),(n=ar).time=mi(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)(a=s[c])&&Ti(a,t,e,c,s,n||sr(a,e));return new nr(i,this._parents,t,e)};const lr=Math.PI,cr=2*lr,ur=1e-6,fr=cr-ur;function hr(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class dr{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?hr:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return hr;const n=10**e;return function(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,i){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,e,n,i,r,o){this._append`C${+t},${+e},${+n},${+i},${this._x1=+r},${this._y1=+o}`}arcTo(t,e,n,i,r){if(t=+t,e=+e,n=+n,i=+i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=this._x1,a=this._y1,s=n-t,l=i-e,c=o-t,u=a-e,f=c*c+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(f>ur)if(Math.abs(u*s-l*c)>ur&&r){let h=n-o,d=i-a,p=s*s+l*l,g=h*h+d*d,m=Math.sqrt(p),y=Math.sqrt(f),v=r*Math.tan((lr-Math.acos((p+f-g)/(2*m*y)))/2),$=v/y,w=v/m;Math.abs($-1)>ur&&this._append`L${t+$*c},${e+$*u}`,this._append`A${r},${r},0,0,${+(u*h>c*d)},${this._x1=t+w*s},${this._y1=e+w*l}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,i,r,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),s=n*Math.sin(i),l=t+a,c=e+s,u=1^o,f=o?i-r:r-i;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>ur||Math.abs(this._y1-c)>ur)&&this._append`L${l},${c}`,n&&(f<0&&(f=f%cr+cr),f>fr?this._append`A${n},${n},0,1,${u},${t-a},${e-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:f>ur&&this._append`A${n},${n},0,${+(f>=lr)},${u},${this._x1=t+n*Math.cos(r)},${this._y1=e+n*Math.sin(r)}`)}rect(t,e,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}var pr={},gr={};function mr(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function yr(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var i in t)i in e||n.push(e[i]=i)})),n}function vr(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function $r(t){var e,n=t.getUTCHours(),i=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+vr(-e,6):e>9999?"+"+vr(e,6):vr(e,4))+"-"+vr(t.getUTCMonth()+1,2)+"-"+vr(t.getUTCDate(),2)+(o?"T"+vr(n,2)+":"+vr(i,2)+":"+vr(r,2)+"."+vr(o,3)+"Z":r?"T"+vr(n,2)+":"+vr(i,2)+":"+vr(r,2)+"Z":i||n?"T"+vr(n,2)+":"+vr(i,2)+"Z":"")}var wr=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var i,r=[],o=t.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return gr;if(c)return c=!1,pr;var e,i,r=a;if(34===t.charCodeAt(r)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?l=!0:10===(i=t.charCodeAt(a++))?c=!0:13===i&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(r+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(i=t.charCodeAt(e=a++)))c=!0;else if(13===i)c=!0,10===t.charCodeAt(a)&&++a;else if(i!==n)continue;return t.slice(r,e)}return l=!0,t.slice(r,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(i=u())!==gr;){for(var f=[];i!==pr&&i!==gr;)f.push(i),i=u();e&&null==(f=e(f,s++))||r.push(f)}return r}function r(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?$r(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,o=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=mr(t);return function(i,r){return e(n(i),r,t)}}(t,e):mr(t)}));return o.columns=r||[],o},parseRows:i,format:function(e,n){return null==n&&(n=yr(e)),[n.map(a).join(t)].concat(r(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=yr(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),xr=wr.parse;function _r(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var br,kr=(br=xr,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),function(t,e){return fetch(t,e).then(_r)}(t,e).then((function(t){return br(t,n)}))});function Mr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Er(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Sr(t){return(t=Er(Math.abs(t)))?t[1]:NaN}var Ar,Nr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rr(t){if(!(e=Nr.exec(t)))throw new Error("invalid format: "+t);var e;return new Pr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Pr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function zr(t,e){var n=Er(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Rr.prototype=Pr.prototype,Pr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Tr={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>zr(100*t,e),r:zr,s:function(t,e){var n=Er(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Ar=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Er(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Cr(t){return t}var Wr,Or,Lr,Dr=Array.prototype.map,Ir=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jr(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?Cr:(e=Dr.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,o=[],a=0,s=e[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),o.push(t.substring(r-=s,r+s)),!((l+=s+1)>i));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Cr:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Dr.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Rr(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):Tr[v]||(void 0===m&&(m=12),y=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var $="$"===h?r:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===h?o:/[%p]/.test(v)?l:"",x=Tr[v],_=/[defgprs%]/.test(v);function b(t){var r,o,l,h=$,b=w;if("c"===v)b=x(t)+b,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),h=(k?"("===f?f:c:"-"===f||"("===f?"":f)+h,b=("s"===v?Ir[8+Ar/3]:"")+b+(k&&"("===f?")":""),_)for(r=-1,o=t.length;++r<o;)if(48>(l=t.charCodeAt(r))||l>57){b=(46===l?a+t.slice(r+1):t.slice(r))+b,t=t.slice(0,r);break}}g&&!d&&(t=i(t,1/0));var M=h.length+t.length+b.length,E=M<p?new Array(p-M+1).join(e):"";switch(g&&d&&(t=i(E+t,E.length?p-b.length:1/0),E=""),n){case"<":t=h+t+b+E;break;case"=":t=h+E+t+b;break;case"^":t=E.slice(0,M=E.length>>1)+h+t+b+E.slice(M);break;default:t=E+h+t+b}return s(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),b.toString=function(){return t+""},b}return{format:f,formatPrefix:function(t,e){var n=f(((t=Rr(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Sr(e)/3))),r=Math.pow(10,-i),o=Ir[8+i/3];return function(t){return n(r*t)+o}}}}Wr=jr({thousands:",",grouping:[3],currency:["$",""]}),Or=Wr.format,Lr=Wr.formatPrefix;var qr=1e-6,Hr=1e-12,Br=Math.PI,Gr=Br/2,Xr=Br/4,Fr=2*Br,Yr=180/Br,Ur=Br/180,Vr=Math.abs,Jr=Math.atan,Zr=Math.atan2,Qr=Math.cos,Kr=Math.sin,to=Math.sign||function(t){return t>0?1:t<0?-1:0},eo=Math.sqrt;function no(t){return t>1?Gr:t<-1?-Gr:Math.asin(t)}function io(){}function ro(t,e){t&&ao.hasOwnProperty(t.type)&&ao[t.type](t,e)}var oo={Feature:function(t,e){ro(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)ro(n[i].geometry,e)}},ao={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){so(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)so(n[i],e,0)},Polygon:function(t,e){lo(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)lo(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)ro(n[i],e)}};function so(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function lo(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)so(t[n],e,1);e.polygonEnd()}function co(t,e){t&&oo.hasOwnProperty(t.type)?oo[t.type](t,e):ro(t,e)}function uo(t){return[Zr(t[1],t[0]),no(t[2])]}function fo(t){var e=t[0],n=t[1],i=Qr(n);return[i*Qr(e),i*Kr(e),Kr(n)]}function ho(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function po(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function go(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function mo(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function yo(t){var e=eo(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function vo(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function $o(t,e){return Vr(t)>Br&&(t-=Math.round(t/Fr)*Fr),[t,e]}function wo(t){return function(e,n){return Vr(e+=t)>Br&&(e-=Math.round(e/Fr)*Fr),[e,n]}}function xo(t){var e=wo(t);return e.invert=wo(-t),e}function _o(t,e){var n=Qr(t),i=Kr(t),r=Qr(e),o=Kr(e);function a(t,e){var a=Qr(e),s=Qr(t)*a,l=Kr(t)*a,c=Kr(e),u=c*n+s*i;return[Zr(l*r-u*o,s*n-c*i),no(u*r+l*o)]}return a.invert=function(t,e){var a=Qr(e),s=Qr(t)*a,l=Kr(t)*a,c=Kr(e),u=c*r-l*o;return[Zr(l*r+c*o,s*n+u*i),no(u*n-s*i)]},a}function bo(t,e){(e=fo(e))[0]-=t,yo(e);var n=function(t){return t>1?0:t<-1?Br:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+Fr-qr)%Fr}function ko(){var t,e=[];return{point:function(e,n,i){t.push([e,n,i])},lineStart:function(){e.push(t=[])},lineEnd:io,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Mo(t,e){return Vr(t[0]-e[0])<qr&&Vr(t[1]-e[1])<qr}function Eo(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function So(t,e,n,i,r){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],a=t[e];if(Mo(i,a)){if(!i[2]&&!a[2]){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}a[0]+=2*qr}s.push(n=new Eo(i,t,null,!0)),l.push(n.o=new Eo(i,null,n,!1)),s.push(n=new Eo(a,t,null,!1)),l.push(n.o=new Eo(a,null,n,!0))}})),s.length){for(l.sort(e),Ao(s),Ao(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var c,u,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;c=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=c.length;o<a;++o)r.point((u=c[o])[0],u[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)r.point((u=c[o])[0],u[1]);else i(h.x,h.p.x,-1,r);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);r.lineEnd()}}}function Ao(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function No(t){return Vr(t[0])<=Br?t[0]:to(t[0])*((Vr(t[0])+Br)%Fr-Br)}function Ro(t,e,n,i){return function(r){var o,a,s,l=e(r),c=ko(),u=e(c),f=!1,h={point:d,lineStart:g,lineEnd:m,polygonStart:function(){h.point=y,h.lineStart=v,h.lineEnd=$,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=m,a=Ot(a);var t=function(t,e){var n=No(e),i=e[1],r=Kr(i),o=[Kr(n),-Qr(n),0],a=0,s=0,l=new Mt;1===r?i=Gr+qr:-1===r&&(i=-Gr-qr);for(var c=0,u=t.length;c<u;++c)if(h=(f=t[c]).length)for(var f,h,d=f[h-1],p=No(d),g=d[1]/2+Xr,m=Kr(g),y=Qr(g),v=0;v<h;++v,p=w,m=_,y=b,d=$){var $=f[v],w=No($),x=$[1]/2+Xr,_=Kr(x),b=Qr(x),k=w-p,M=k>=0?1:-1,E=M*k,S=E>Br,A=m*_;if(l.add(Zr(A*M*Kr(E),y*b+A*Qr(E))),a+=S?k+M*Fr:k,S^p>=n^w>=n){var N=po(fo(d),fo($));yo(N);var R=po(o,N);yo(R);var P=(S^k>=0?-1:1)*no(R[2]);(i>P||i===P&&(N[0]||N[1]))&&(s+=S^k>=0?1:-1)}}return(a<-qr||a<qr&&l<-Hr)^1&s}(o,i);a.length?(f||(r.polygonStart(),f=!0),So(a,zo,t,n,r)):t&&(f||(r.polygonStart(),f=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),f&&(r.polygonEnd(),f=!1),a=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(e,n){t(e,n)&&r.point(e,n)}function p(t,e){l.point(t,e)}function g(){h.point=p,l.lineStart()}function m(){h.point=d,l.lineEnd()}function y(t,e){s.push([t,e]),u.point(t,e)}function v(){u.lineStart(),s=[]}function $(){y(s[0][0],s[0][1]),u.lineEnd();var t,e,n,i,l=u.clean(),h=c.result(),d=h.length;if(s.pop(),o.push(s),s=null,d)if(1&l){if((e=(n=h[0]).length-1)>0){for(f||(r.polygonStart(),f=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else d>1&&2&l&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Po))}return h}}function Po(t){return t.length>1}function zo(t,e){return((t=t.x)[0]<0?t[1]-Gr-qr:Gr-t[1])-((e=e.x)[0]<0?e[1]-Gr-qr:Gr-e[1])}$o.invert=$o;var To=Ro((function(){return!0}),(function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Br:-Br,l=Vr(o-n);Vr(l-Br)<qr?(t.point(n,i=(i+a)/2>0?Gr:-Gr),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&l>=Br&&(Vr(n-r)<qr&&(n-=r*qr),Vr(o-s)<qr&&(o-=s*qr),i=function(t,e,n,i){var r,o,a=Kr(t-n);return Vr(a)>qr?Jr((Kr(e)*(o=Qr(i))*Kr(n)-Kr(i)*(r=Qr(e))*Kr(t))/(r*o*a)):(e+i)/2}(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}),(function(t,e,n,i){var r;if(null==t)r=n*Gr,i.point(-Br,r),i.point(0,r),i.point(Br,r),i.point(Br,0),i.point(Br,-r),i.point(0,-r),i.point(-Br,-r),i.point(-Br,0),i.point(-Br,r);else if(Vr(t[0]-e[0])>qr){var o=t[0]<e[0]?Br:-Br;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}),[-Br,-Gr]);function Co(t){var e=Qr(t),n=2*Ur,i=e>0,r=Vr(e)>qr;function o(t,n){return Qr(t)*Qr(n)>e}function a(t,n,i){var r=[1,0,0],o=po(fo(t),fo(n)),a=ho(o,o),s=o[0],l=a-s*s;if(!l)return!i&&t;var c=e*a/l,u=-e*s/l,f=po(r,o),h=mo(r,c);go(h,mo(o,u));var d=f,p=ho(h,d),g=ho(d,d),m=p*p-g*(ho(h,h)-1);if(!(m<0)){var y=eo(m),v=mo(d,(-p-y)/g);if(go(v,h),v=uo(v),!i)return v;var $,w=t[0],x=n[0],_=t[1],b=n[1];x<w&&($=w,w=x,x=$);var k=x-w,M=Vr(k-Br)<qr;if(!M&&b<_&&($=_,_=b,b=$),M||k<qr?M?_+b>0^v[1]<(Vr(v[0]-w)<qr?_:b):_<=v[1]&&v[1]<=b:k>Br^(w<=v[0]&&v[0]<=x)){var E=mo(d,(-p+y)/g);return go(E,h),[v,uo(E)]}}}function s(e,n){var r=i?t:Br-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return Ro(o,(function(t){var e,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(f,h){var d,p=[f,h],g=o(f,h),m=i?g?0:s(f,h):g?s(f+(f<0?Br:-Br),h):0;if(!e&&(c=l=g)&&t.lineStart(),g!==l&&(!(d=a(e,p))||Mo(e,d)||Mo(p,d))&&(p[2]=1),g!==l)u=0,g?(t.lineStart(),d=a(p,e),t.point(d[0],d[1])):(d=a(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(r&&e&&i^g){var y;m&n||!(y=a(p,e,!0))||(u=0,i?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||e&&Mo(e,p)||t.point(p[0],p[1]),e=p,l=g,n=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return u|(c&&l)<<1}}}),(function(e,i,r,o){!function(t,e,n,i,r,o){if(n){var a=Qr(e),s=Kr(e),l=i*n;null==r?(r=e+i*Fr,o=e-l/2):(r=bo(a,r),o=bo(a,o),(i>0?r<o:r>o)&&(r+=i*Fr));for(var c,u=r;i>0?u>o:u<o;u-=l)c=uo([a,-s*Qr(u),-s*Kr(u)]),t.point(c[0],c[1])}}(o,t,n,r,e,i)}),i?[0,-t]:[-Br,t-Br])}var Wo=1e9,Oo=-Wo;function Lo(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,s,c){var u=0,f=0;if(null==r||(u=a(r,s))!==(f=a(o,s))||l(r,o)<0^s>0)do{c.point(0===u||3===u?t:n,u>1?i:e)}while((u=(u+s+4)%4)!==f);else c.point(o[0],o[1])}function a(i,r){return Vr(i[0]-t)<qr?r>0?0:3:Vr(i[0]-n)<qr?r>0?2:1:Vr(i[1]-e)<qr?r>0?1:0:r>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),i=a(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,c,u,f,h,d,p,g,m,y,v,$=a,w=ko(),x={point:_,lineStart:function(){x.point=b,c&&c.push(u=[]);y=!0,m=!1,p=g=NaN},lineEnd:function(){l&&(b(f,h),d&&m&&w.rejoin(),l.push(w.result()));x.point=_,m&&$.lineEnd()},polygonStart:function(){$=w,l=[],c=[],v=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=c.length;n<r;++n)for(var o,a,s=c[n],l=1,u=s.length,f=s[0],h=f[0],d=f[1];l<u;++l)o=h,a=d,h=(f=s[l])[0],d=f[1],a<=i?d>i&&(h-o)*(i-a)>(d-a)*(t-o)&&++e:d<=i&&(h-o)*(i-a)<(d-a)*(t-o)&&--e;return e}(),n=v&&e,r=(l=Ot(l)).length;(n||r)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),r&&So(l,s,e,o,a),a.polygonEnd());$=a,l=c=u=null}};function _(t,e){r(t,e)&&$.point(t,e)}function b(o,a){var s=r(o,a);if(c&&u.push([o,a]),y)f=o,h=a,d=s,y=!1,s&&($.lineStart(),$.point(o,a));else if(s&&m)$.point(o,a);else{var l=[p=Math.max(Oo,Math.min(Wo,p)),g=Math.max(Oo,Math.min(Wo,g))],w=[o=Math.max(Oo,Math.min(Wo,o)),a=Math.max(Oo,Math.min(Wo,a))];!function(t,e,n,i,r,o){var a,s=t[0],l=t[1],c=0,u=1,f=e[0]-s,h=e[1]-l;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>c&&(c=a)}if(a=r-s,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<u&&(u=a)}if(a=i-l,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>c&&(c=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<u&&(u=a)}return c>0&&(t[0]=s+c*f,t[1]=l+c*h),u<1&&(e[0]=s+u*f,e[1]=l+u*h),!0}}}}}(l,w,t,e,n,i)?s&&($.lineStart(),$.point(o,a),v=!1):(m||($.lineStart(),$.point(l[0],l[1])),$.point(w[0],w[1]),s||$.lineEnd(),v=!1)}p=o,g=a,m=s}return x}}var Do,Io,jo,qo,Ho=t=>t,Bo=new Mt,Go=new Mt,Xo={point:io,lineStart:io,lineEnd:io,polygonStart:function(){Xo.lineStart=Fo,Xo.lineEnd=Vo},polygonEnd:function(){Xo.lineStart=Xo.lineEnd=Xo.point=io,Bo.add(Vr(Go)),Go=new Mt},result:function(){var t=Bo/2;return Bo=new Mt,t}};function Fo(){Xo.point=Yo}function Yo(t,e){Xo.point=Uo,Do=jo=t,Io=qo=e}function Uo(t,e){Go.add(qo*t-jo*e),jo=t,qo=e}function Vo(){Uo(Do,Io)}var Jo=1/0,Zo=Jo,Qo=-Jo,Ko=Qo,ta={point:function(t,e){t<Jo&&(Jo=t);t>Qo&&(Qo=t);e<Zo&&(Zo=e);e>Ko&&(Ko=e)},lineStart:io,lineEnd:io,polygonStart:io,polygonEnd:io,result:function(){var t=[[Jo,Zo],[Qo,Ko]];return Qo=Ko=-(Zo=Jo=1/0),t}};var ea,na,ia,ra,oa=0,aa=0,sa=0,la=0,ca=0,ua=0,fa=0,ha=0,da=0,pa={point:ga,lineStart:ma,lineEnd:$a,polygonStart:function(){pa.lineStart=wa,pa.lineEnd=xa},polygonEnd:function(){pa.point=ga,pa.lineStart=ma,pa.lineEnd=$a},result:function(){var t=da?[fa/da,ha/da]:ua?[la/ua,ca/ua]:sa?[oa/sa,aa/sa]:[NaN,NaN];return oa=aa=sa=la=ca=ua=fa=ha=da=0,t}};function ga(t,e){oa+=t,aa+=e,++sa}function ma(){pa.point=ya}function ya(t,e){pa.point=va,ga(ia=t,ra=e)}function va(t,e){var n=t-ia,i=e-ra,r=eo(n*n+i*i);la+=r*(ia+t)/2,ca+=r*(ra+e)/2,ua+=r,ga(ia=t,ra=e)}function $a(){pa.point=ga}function wa(){pa.point=_a}function xa(){ba(ea,na)}function _a(t,e){pa.point=ba,ga(ea=ia=t,na=ra=e)}function ba(t,e){var n=t-ia,i=e-ra,r=eo(n*n+i*i);la+=r*(ia+t)/2,ca+=r*(ra+e)/2,ua+=r,fa+=(r=ra*t-ia*e)*(ia+t),ha+=r*(ra+e),da+=3*r,ga(ia=t,ra=e)}function ka(t){this._context=t}ka.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Fr)}},result:io};var Ma,Ea,Sa,Aa,Na,Ra=new Mt,Pa={point:io,lineStart:function(){Pa.point=za},lineEnd:function(){Ma&&Ta(Ea,Sa),Pa.point=io},polygonStart:function(){Ma=!0},polygonEnd:function(){Ma=null},result:function(){var t=+Ra;return Ra=new Mt,t}};function za(t,e){Pa.point=Ta,Ea=Aa=t,Sa=Na=e}function Ta(t,e){Aa-=t,Na-=e,Ra.add(eo(Aa*Aa+Na*Na)),Aa=t,Na=e}let Ca,Wa,Oa,La;class Da{constructor(t){this._append=null==t?Ia:function(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Ia;if(e!==Ca){const t=10**e;Ca=e,Wa=function(e){let n=1;this._+=e[0];for(const i=e.length;n<i;++n)this._+=Math.round(arguments[n]*t)/t+e[n]}}return Wa}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:this._append`M${t},${e}`,this._point=1;break;case 1:this._append`L${t},${e}`;break;default:if(this._append`M${t},${e}`,this._radius!==Oa||this._append!==Wa){const t=this._radius,e=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Oa=t,Wa=this._append,La=this._,this._=e}this._+=La}}result(){const t=this._;return this._="",t.length?t:null}}function Ia(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ja(t){return function(e){var n=new qa;for(var i in t)n[i]=t[i];return n.stream=e,n}}function qa(){}function Ha(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),co(n,t.stream(ta)),e(ta.result()),null!=i&&t.clipExtent(i),t}function Ba(t,e,n){return Ha(t,(function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),a=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}qa.prototype={constructor:qa,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ga=16,Xa=Qr(30*Ur);function Fa(t,e){return+e?function(t,e){function n(i,r,o,a,s,l,c,u,f,h,d,p,g,m){var y=c-i,v=u-r,$=y*y+v*v;if($>4*e&&g--){var w=a+h,x=s+d,_=l+p,b=eo(w*w+x*x+_*_),k=no(_/=b),M=Vr(Vr(_)-1)<qr||Vr(o-f)<qr?(o+f)/2:Zr(x,w),E=t(M,k),S=E[0],A=E[1],N=S-i,R=A-r,P=v*N-y*R;(P*P/$>e||Vr((y*N+v*R)/$-.5)>.3||a*h+s*d+l*p<Xa)&&(n(i,r,o,a,s,l,S,A,M,w/=b,x/=b,_,g,m),m.point(S,A),n(S,A,M,w,x,_,c,u,f,h,d,p,g,m))}}return function(e){var i,r,o,a,s,l,c,u,f,h,d,p,g={point:m,lineStart:y,lineEnd:$,polygonStart:function(){e.polygonStart(),g.lineStart=w},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function m(n,i){n=t(n,i),e.point(n[0],n[1])}function y(){u=NaN,g.point=v,e.lineStart()}function v(i,r){var o=fo([i,r]),a=t(i,r);n(u,f,c,h,d,p,u=a[0],f=a[1],c=i,h=o[0],d=o[1],p=o[2],Ga,e),e.point(u,f)}function $(){g.point=m,e.lineEnd()}function w(){y(),g.point=x,g.lineEnd=_}function x(t,e){v(i=t,e),r=u,o=f,a=h,s=d,l=p,g.point=v}function _(){n(u,f,c,h,d,p,r,o,i,a,s,l,Ga,e),g.lineEnd=$,$()}return g}}(t,e):function(t){return ja({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Ya=ja({point:function(t,e){this.stream.point(t*Ur,e*Ur)}});function Ua(t,e,n,i,r,o){if(!o)return function(t,e,n,i,r){function o(o,a){return[e+t*(o*=i),n-t*(a*=r)]}return o.invert=function(o,a){return[(o-e)/t*i,(n-a)/t*r]},o}(t,e,n,i,r);var a=Qr(o),s=Kr(o),l=a*t,c=s*t,u=a/t,f=s/t,h=(s*n-a*e)/t,d=(s*e+a*n)/t;function p(t,o){return[l*(t*=i)-c*(o*=r)+e,n-c*t-l*o]}return p.invert=function(t,e){return[i*(u*t-f*e+h),r*(d-f*t-u*e)]},p}function Va(t){return function(t){var e,n,i,r,o,a,s,l,c,u,f=150,h=480,d=250,p=0,g=0,m=0,y=0,v=0,$=0,w=1,x=1,_=null,b=To,k=null,M=Ho,E=.5;function S(t){return l(t[0]*Ur,t[1]*Ur)}function A(t){return(t=l.invert(t[0],t[1]))&&[t[0]*Yr,t[1]*Yr]}function N(){var t=Ua(f,0,0,w,x,$).apply(null,e(p,g)),i=Ua(f,h-t[0],d-t[1],w,x,$);return n=function(t,e,n){return(t%=Fr)?e||n?vo(xo(t),_o(e,n)):xo(t):e||n?_o(e,n):$o}(m,y,v),s=vo(e,i),l=vo(n,s),a=Fa(s,E),R()}function R(){return c=u=null,S}return S.stream=function(t){return c&&u===t?c:c=Ya(function(t){return ja({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}(n)(b(a(M(u=t)))))},S.preclip=function(t){return arguments.length?(b=t,_=void 0,R()):b},S.postclip=function(t){return arguments.length?(M=t,k=i=r=o=null,R()):M},S.clipAngle=function(t){return arguments.length?(b=+t?Co(_=t*Ur):(_=null,To),R()):_*Yr},S.clipExtent=function(t){return arguments.length?(M=null==t?(k=i=r=o=null,Ho):Lo(k=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),R()):null==k?null:[[k,i],[r,o]]},S.scale=function(t){return arguments.length?(f=+t,N()):f},S.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],N()):[h,d]},S.center=function(t){return arguments.length?(p=t[0]%360*Ur,g=t[1]%360*Ur,N()):[p*Yr,g*Yr]},S.rotate=function(t){return arguments.length?(m=t[0]%360*Ur,y=t[1]%360*Ur,v=t.length>2?t[2]%360*Ur:0,N()):[m*Yr,y*Yr,v*Yr]},S.angle=function(t){return arguments.length?($=t%360*Ur,N()):$*Yr},S.reflectX=function(t){return arguments.length?(w=t?-1:1,N()):w<0},S.reflectY=function(t){return arguments.length?(x=t?-1:1,N()):x<0},S.precision=function(t){return arguments.length?(a=Fa(s,E=t*t),R()):eo(E)},S.fitExtent=function(t,e){return Ba(S,t,e)},S.fitSize=function(t,e){return function(t,e,n){return Ba(t,[[0,0],e],n)}(S,t,e)},S.fitWidth=function(t,e){return function(t,e,n){return Ha(t,(function(n){var i=+e,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,a=-r*n[0][1];t.scale(150*r).translate([o,a])}),n)}(S,t,e)},S.fitHeight=function(t,e){return function(t,e,n){return Ha(t,(function(n){var i=+e,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],a=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([o,a])}),n)}(S,t,e)},function(){return e=t.apply(this,arguments),S.invert=e.invert&&A,N()}}((function(){return t}))()}function Ja(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function Za(){return Va(Ja).scale(175.295)}function Qa(t,e){return t.parent===e.parent?1:2}function Ka(t,e){return t+e.x}function ts(t,e){return Math.max(t,e.y)}function es(){var t=Qa,e=1,n=1,i=!1;function r(r){var o,a=0;r.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Ka,0)/t.length}(n),e.y=function(t){return 1+t.reduce(ts,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var s=function(t){for(var e;e=t.children;)t=e[0];return t}(r),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),c=s.x-t(s,l)/2,u=l.x+t(l,s)/2;return r.eachAfter(i?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-c)/(u-c)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r}function ns(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function is(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=os)):void 0===e&&(e=rs);for(var n,i,r,o,a,s=new ls(t),l=[s];n=l.pop();)if((r=e(n.data))&&(a=(r=Array.from(r)).length))for(n.children=r,o=a-1;o>=0;--o)l.push(i=r[o]=new ls(r[o])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(ss)}function rs(t){return t.children}function os(t){return Array.isArray(t)?t[1]:null}function as(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function ss(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function ls(t){this.data=t,this.depth=this.height=0,this.parent=null}function cs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}Ja.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,a=o*o;i-=n=(i*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Vr(n)>qr&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]},ls.prototype=is.prototype={constructor:ls,count:function(){return this.eachAfter(ns)},each:function(t,e){let n=-1;for(const i of this)t.call(e,i,++n,this);return this},eachAfter:function(t,e){for(var n,i,r,o=this,a=[o],s=[],l=-1;o=a.pop();)if(s.push(o),n=o.children)for(i=0,r=n.length;i<r;++i)a.push(n[i]);for(;o=s.pop();)t.call(e,o,++l,this);return this},eachBefore:function(t,e){for(var n,i,r=this,o=[r],a=-1;r=o.pop();)if(t.call(e,r,++a,this),n=r.children)for(i=n.length-1;i>=0;--i)o.push(n[i]);return this},find:function(t,e){let n=-1;for(const i of this)if(t.call(e,i,++n,this))return i},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;t=n.pop(),e=i.pop();for(;t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return is(this).eachBefore(as)},[Symbol.iterator]:function*(){var t,e,n,i,r=this,o=[r];do{for(t=o.reverse(),o=[];r=t.pop();)if(yield r,e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n])}while(o.length)}};const us=Symbol("implicit");function fs(){var t=new Et,e=[],n=[],i=us;function r(r){let o=t.get(r);if(void 0===o){if(i!==us)return i;t.set(r,o=e.push(r)-1)}return n[o%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Et;for(const i of n)t.has(i)||t.set(i,e.push(i)-1);return r},r.range=function(t){return arguments.length?(n=Array.from(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return fs(e,n).unknown(i)},cs.apply(r,arguments),r}function hs(){var t,e,n=fs().unknown(void 0),i=n.domain,r=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function f(){var n=i().length,f=a<o,h=f?a:o,d=f?o:a;t=(d-h)/Math.max(1,n-l+2*c),s&&(t=Math.floor(t)),h+=(d-h-t*(n-l))*u,e=t*(1-l),s&&(h=Math.round(h),e=Math.round(e));var p=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}(n).map((function(e){return h+t*e}));return r(f?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),f()):i()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,s=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,f()):s},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),f()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),f()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),f()):u},n.copy=function(){return hs(i(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},cs.apply(f(),arguments)}function ds(t){return+t}var ps=[0,1];function gs(t){return t}function ms(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function ys(t,e,n){var i=t[0],r=t[1],o=e[0],a=e[1];return r<i?(i=ms(r,i),o=n(a,o)):(i=ms(i,r),o=n(o,a)),function(t){return o(i(t))}}function vs(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=ms(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=kt(t,e,1,i)-1;return o[n](r[n](e))}}function $s(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ws(){var t,e,n,i,r,o,a=ps,s=ps,l=Jn,c=gs;function u(){var t,e,n,l=Math.min(a.length,s.length);return c!==gs&&(t=a[0],e=a[l-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),i=l>2?vs:ys,r=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(r||(r=i(a.map(t),s,l)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=i(s,a.map(t),Xn)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,ds),u()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),l=Zn,u()},f.clamp=function(t){return arguments.length?(c=!!t||gs,u()):c!==gs},f.interpolate=function(t){return arguments.length?(l=t,u()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,i){return t=n,e=i,u()}}function xs(t,e,n,i){var r,o=function(t,e,n){n=+n;const i=(e=+e)<(t=+t),r=i?Wt(e,t,n):Wt(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}(t,e,n);switch((i=Rr(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Sr(e)/3)))-Sr(Math.abs(t)))}(o,a))||(i.precision=r),Lr(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sr(e)-Sr(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Sr(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return Or(i)}function _s(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const i=e<t,[r,o,a]=i?Ct(e,t,n):Ct(t,e,n);if(!(o>=r))return[];const s=o-r+1,l=new Array(s);if(i)if(a<0)for(let t=0;t<s;++t)l[t]=(o-t)/-a;else for(let t=0;t<s;++t)l[t]=(o-t)*a;else if(a<0)for(let t=0;t<s;++t)l[t]=(r+t)/-a;else for(let t=0;t<s;++t)l[t]=(r+t)*a;return l}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return xs(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r,o=e(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(r=l,l=c,c=r,r=a,a=s,s=r);u-- >0;){if((r=Wt(l,c,n))===i)return o[a]=l,o[s]=c,e(o);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return t},t}function bs(){var t=ws()(gs,gs);return t.copy=function(){return $s(t,bs())},cs.apply(t,arguments),_s(t)}function ks(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ms(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Es(t){return t<0?-t*t:t*t}function Ss(t){var e=t(gs,gs),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(gs,gs):.5===n?t(Ms,Es):t(ks(n),ks(1/n)):n},_s(e)}function As(){var t=Ss(ws());return t.copy=function(){return $s(t,As()).exponent(t.exponent())},cs.apply(t,arguments),t}function Ns(t){return function(){return t}}function Rs(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new dr(e)}var Ps=Array.prototype.slice;function zs(t){this._context=t}function Ts(t){return new zs(t)}function Cs(t){return t[0]}function Ws(t){return t[1]}function Os(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}zs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};class Ls{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,e){if(t=+t,e=+e,0===this._point)this._point=1;else{const n=Os(this._x0,this._y0),i=Os(this._x0,this._y0=(this._y0+e)/2),r=Os(t,this._y0),o=Os(t,e);this._context.moveTo(...n),this._context.bezierCurveTo(...i,...r,...o)}this._x0=t,this._y0=e}}function Ds(t){return new Ls(t)}function Is(t){return t.source}function js(t){return t.target}function qs(){const t=function(t){let e=Is,n=js,i=Cs,r=Ws,o=null,a=null,s=Rs(l);function l(){let l;const c=Ps.call(arguments),u=e.apply(this,c),f=n.apply(this,c);if(null==o&&(a=t(l=s())),a.lineStart(),c[0]=u,a.point(+i.apply(this,c),+r.apply(this,c)),c[0]=f,a.point(+i.apply(this,c),+r.apply(this,c)),a.lineEnd(),l)return a=null,l+""||null}return l.source=function(t){return arguments.length?(e=t,l):e},l.target=function(t){return arguments.length?(n=t,l):n},l.x=function(t){return arguments.length?(i="function"==typeof t?t:Ns(+t),l):i},l.y=function(t){return arguments.length?(r="function"==typeof t?t:Ns(+t),l):r},l.context=function(e){return arguments.length?(null==e?o=a=null:a=t(o=e),l):o},l}(Ds);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}function Hs(t){return t<0?-1:1}function Bs(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),a=(n-t._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(Hs(o)+Hs(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Gs(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Xs(t,e,n){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,s=(o-i)/3;t._context.bezierCurveTo(i+s,r+s*e,o-s,a-s*n,o,a)}function Fs(t){this._context=t}function Ys(t){this._context=t}function Us(t,e,n){this.k=t,this.x=e,this.y=n}Fs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xs(this,this._t0,Gs(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Xs(this,Gs(this,n=Bs(this,t,e)),n);break;default:Xs(this,this._t0,n=Bs(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(function(t){this._context=new Ys(t)}.prototype=Object.create(Fs.prototype)).point=function(t,e){Fs.prototype.point.call(this,e,t)},Ys.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},Us.prototype={constructor:Us,scale:function(t){return 1===t?this:new Us(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Us(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vs=new Us(1,0,0);const Js=[];function Zs(e,n=t){let i;const r=new Set;function o(t){if(s(e,t)&&(e=t,i)){const t=!Js.length;for(const t of r)t[1](),Js.push(t,e);if(t){for(let t=0;t<Js.length;t+=2)Js[t][0](Js[t+1]);Js.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const l=[a,s];return r.add(l),1===r.size&&(i=n(o)||t),a(e),()=>{r.delete(l),0===r.size&&i&&(i(),i=null)}}}}function Qs(e,n,i){const r=!Array.isArray(e),s=r?[e]:e,l=n.length<2;return function(t,e){return{subscribe:Zs(t,e).subscribe}}(i,(e=>{let i=!1;const c=[];let f=0,h=t;const d=()=>{if(f)return;h();const i=n(r?c[0]:c,e);l?e(i):h=a(i)?i:t},p=s.map(((t,e)=>u(t,(t=>{c[e]=t,f&=~(1<<e),i&&d()}),(()=>{f|=1<<e}))));return i=!0,d(),function(){o(p),h(),i=!1}}))}const Ks=Zs([]);let tl={name:"pax",children:[{name:"Participation",colname:"level2",key:"WggPar",children:[{name:"Gender quotas",colname:"level3",key:"WggGenQuot"},{name:"Effective participation",colname:"level3",key:"WggEffPart"},{name:"Citizenship",colname:"level3",key:"WggCitizen"},{name:"Other",colname:"level3",key:"WggParOth"}]},{name:"Equality",colname:"level2",key:"WggEq",children:[{name:"Equality (general)",colname:"level3",key:"WggEqGen"},{name:"Social equality",colname:"level3",key:"WggSocEq"},{name:"Other",colname:"level3",key:"WggEqOth"}]},{name:"Particular groups of women",colname:"level2",key:"WggGrp",children:[{name:"Indigenous/nomadic women",colname:"level3",key:"WggIndNom"},{name:"Refugee / Displaced women",colname:"level3",key:"WggRefDisp"},{name:"Pregnancy/Maternity",colname:"level3",key:"WggPreg"},{name:"Other",colname:"level3",key:"WggGrpOth"}]},{name:"International law",colname:"level2",key:"WggIntLaw",children:[{name:"General mentions of international human rights law",colname:"level3",key:"WggHR"},{name:"International human rights standards",colname:"level3",key:"WggHrSta"},{name:"References to UNSCR 1325",colname:"level3",key:"WggUnsc"},{name:"Other",colname:"level3",key:"WggIntLawOth"}]},{name:"New Institutions",colname:"level2",key:"WggNewInst",children:[{name:"Institutions for women",colname:"level3",key:"WggInstWom"},{name:"Infrastructure (general)",colname:"level3",key:"WggInf"},{name:"Reconciliation and Peace",colname:"level3",key:"WggRecon"},{name:"Other",colname:"level3",key:"WggNewInstOth"}]},{name:"Violence Against women",colname:"level2",key:"WggVio",children:[{name:"Sexual violence",colname:"level3",key:"WggVioSex"},{name:"Gender-based violence / VAW (general)",colname:"level3",key:"WggVioGen"},{name:"Protection (general)",colname:"level3",key:"WggVioProt"},{name:"Other",colname:"level3",key:"WggVioOth"}]},{name:"Transitional Justice",colname:"level2",key:"WggTraJus",children:[{name:"Past and gender",colname:"level3",key:"WggPast"},{name:"Prisons, prisoner release",colname:"level3",key:"WggPri"},{name:"Other",colname:"level3",key:"WggTraJusOth"}]},{name:"Institutional Reform",colname:"level2",key:"WggInstRef",children:[{name:"Constitution-making/reform",colname:"level3",key:"WggConst"},{name:"Emergency/criminal law/corruption reform",colname:"level3",key:"WggLawRef"},{name:"Judiciary, judicial reform",colname:"level3",key:"WggJud"},{name:"Police",colname:"level3",key:"WggPol"},{name:"DDR, Army, Parastatal or rebel forces",colname:"level3",key:"WggDdr"},{name:"Public administration",colname:"level3",key:"WggPubAdm"},{name:"Other",colname:"level3",key:"WggInstRefOth"}]},{name:"Development",colname:"level2",key:"WggDev",children:[{name:"General",colname:"level3",key:"WggDevGen"},{name:"Rehabilitation and reconstruction",colname:"level3",key:"WggRehab"},{name:"Education",colname:"level3",key:"WggEdu"},{name:"Health (general)",colname:"level3",key:"WggHea"},{name:"Reproductive rights",colname:"level3",key:"WggRepro"},{name:"Other",colname:"level3",key:"WggDevOth"}]},{name:"Implementation",colname:"level2",key:"WggImpl",children:[{name:"Womens role and consideration in implementation of the agreement",colname:"level3",key:"WggImplRole"},{name:"Signing or Witnessing agreement",colname:"level3",key:"WggImplSign"},{name:"Other",colname:"level3",key:"WggImplOth"}]},{name:"Other",colname:"level2",key:"WggOth",children:[{name:"Other",colname:"level3",key:"WggOth"}]}]};async function el(t){const e=t.map((t=>async function(t){return await kr(t)}(t)));return await Promise.all(e)}async function nl(t){const e=function(t,e){return fetch(t,e).then(Mr)}(t);return e}Ks.subscribe((t=>{}));(function(t,e){var n=Ns(!0),i=null,r=Ts,o=null,a=Rs(s);function s(s){var l,c,u,f=(s=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(s)).length,h=!1;for(null==i&&(o=r(u=a())),l=0;l<=f;++l)!(l<f&&n(c=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(c,l,s),+e(c,l,s));if(u)return o=null,u+""||null}return t="function"==typeof t?t:void 0===t?Cs:Ns(t),e="function"==typeof e?e:void 0===e?Ws:Ns(e),s.x=function(e){return arguments.length?(t="function"==typeof e?e:Ns(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:Ns(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:Ns(!!t),s):n},s.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),s):r},s.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),s):i},s})().x((t=>t[0])).y((t=>t[1])).curve((function(t){return new Fs(t)}));let il=["1990","1991","1992","1993","1994","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023","2024"];function rl(t){const e={};t.forEach((t=>{e[t.Loc1ISO]?e[t.Loc1ISO]++:e[t.Loc1ISO]=1}));const n=Object.entries(e).map((([t,e])=>({iso:t,count:e})));return n.filter((t=>""!=t.iso))}let ol=3;function al(t,e,n,i){let r=Math.ceil(Math.sqrt(i*(n/e))),o=Math.ceil(i/r),a=(n-(r-1)*ol)/r,s=(e-(o-1)*ol)/o;return t.map(((t,n)=>({x:n%r*(a+ol)+2*Math.random()-1,y:e-(Math.floor(n/r)+1)*(s+ol)+2*Math.random()-1,width:a,height:s,id:t.AgtId,info:t.Agt})))}function sl(t,e,n){let i=t,r=(n-60)/7,o=(r-18)/10,a=Math.max(...i.map((([t,e])=>e.length))),s=Math.ceil(a/10),l=(e-2*(s-1))/s,c=i.flatMap((([t,n],i)=>n.map(((t,n)=>{let a=i*(r+10),s=Math.floor(n/10),c=e-(s+1)*(l+2);return{x:a+n%10*(o+2)+2*Math.random()-1,y:c+2*Math.random()-1,width:o,height:l,info:t.Agt,id:t.AgtId}}))));return c}function ll(t){let e,n,i,r;const o=t[3].default,a=h(o,t,t[2],null);return{c(){e=A("header"),n=A("div"),i=A("div"),a&&a.c(),H(i,"center",t[0]),C(n,"class","v-padded col-wide middle svelte-11k4qos"),L(n,"position","relative"),H(n,"short",t[1]),H(n,"height-full",!t[1]),L(e,"color","white"),L(e,"background-color","#001C23"),C(e,"class","svelte-11k4qos"),H(e,"short",t[1])},m(t,o){M(t,e,o),k(e,n),k(n,i),a&&a.m(i,null),r=!0},p(t,[s]){a&&a.p&&(!r||4&s)&&g(a,o,t,t[2],r?p(o,t[2],s,null):m(t[2]),null),(!r||1&s)&&H(i,"center",t[0]),(!r||2&s)&&H(n,"short",t[1]),(!r||2&s)&&H(n,"height-full",!t[1]),(!r||2&s)&&H(e,"short",t[1])},i(t){r||(ht(a,t),r=!0)},o(t){dt(a,t),r=!1},d(t){t&&E(e),a&&a.d(t)}}}function cl(t,e,n){let{$$slots:i={},$$scope:r}=e,{center:o=!0}=e,{short:a=!1}=e;return t.$$set=t=>{"center"in t&&n(0,o=t.center),"short"in t&&n(1,a=t.short),"$$scope"in t&&n(2,r=t.$$scope)},[o,a,r,i]}class ul extends $t{constructor(t){super(),vt(this,t,cl,ll,s,{center:0,short:1})}}const{window:fl}=b,hl=t=>({}),dl=t=>({}),pl=t=>({}),gl=t=>({});function ml(t){let e,n,i,r,o,a,s,l;nt(t[21]);const c=t[20].background,u=h(c,t,t[19],gl),f=t[20].foreground,d=h(f,t,t[19],dl);return{c(){e=A("svelte-scroller-outer"),n=A("svelte-scroller-background-container"),i=A("svelte-scroller-background"),u&&u.c(),r=P(),o=A("svelte-scroller-foreground"),d&&d.c(),W(i,"class","svelte-15scopa"),W(n,"class","background-container svelte-15scopa"),W(o,"class","svelte-15scopa"),W(e,"style",t[6]),W(e,"class","svelte-15scopa"),H(e,"splitscreen",t[0])},m(c,f){M(c,e,f),k(e,n),k(n,i),u&&u.m(i,null),t[22](i),t[23](n),k(e,r),k(e,o),d&&d.m(o,null),t[24](o),t[25](e),a=!0,s||(l=T(fl,"resize",t[21]),s=!0)},p(t,n){u&&u.p&&(!a||524288&n[0])&&g(u,c,t,t[19],a?p(c,t[19],n,pl):m(t[19]),gl),d&&d.p&&(!a||524288&n[0])&&g(d,f,t,t[19],a?p(f,t[19],n,hl):m(t[19]),dl),(!a||64&n[0])&&W(e,"style",t[6]),(!a||1&n[0])&&H(e,"splitscreen",t[0])},i(t){a||(ht(u,t),ht(d,t),a=!0)},o(t){dt(u,t),dt(d,t),a=!1},d(n){n&&E(e),u&&u.d(n),t[22](null),t[23](null),d&&d.d(n),t[24](null),t[25](null),s=!1,l()}}}const yl=[];let vl;if("undefined"!=typeof window){const t=()=>yl.forEach((t=>t()));window.addEventListener("scroll",t),window.addEventListener("resize",t)}if("undefined"!=typeof IntersectionObserver){const t=new Map,e=new IntersectionObserver(((e,n)=>{e.forEach((e=>{const n=t.get(e.target),i=yl.indexOf(n);e.isIntersecting?-1===i&&yl.push(n):(n(),-1!==i&&yl.splice(i,1))}))}),{rootMargin:"400px 0px"});vl={add:({outer:n,update:i})=>{const{top:r,bottom:o}=n.getBoundingClientRect();r<window.innerHeight&&o>0&&yl.push(i),t.set(n,i),e.observe(n)},remove:({outer:n,update:i})=>{const r=yl.indexOf(i);-1!==r&&yl.splice(r,1),t.delete(n),e.unobserve(n)}}}else vl={add:({update:t})=>{yl.push(t)},remove:({update:t})=>{const e=yl.indexOf(t);-1!==e&&yl.splice(e,1)}};function $l(t,e,n){let i,r,o,a,s,l,c,u,f,h,d,{$$slots:p={},$$scope:g}=e,{top:m=0}=e,{bottom:y=1}=e,{threshold:v=.5}=e,{query:$="section"}=e,{parallax:w=!1}=e,{shadow:x}=e,{index:_=0}=e,{count:b=0}=e,{offset:k=0}=e,{progress:M=0}=e,{visible:E=!1}=e,{splitscreen:S=!1}=e,{id:A=null}=e,N=0,R=1;function P(){if(s){let t=`position: ${h?"fixed":"absolute"}; top: 0; transform: translate(0, ${d}px); width: ${R}px; z-index: 1;`;n(3,s.style.cssText=t,s)}}function z(){if(!l)return;const t=a.getBoundingClientRect();u=t.left,R=t.right-t.left;const e=l.getBoundingClientRect(),s=c.getBoundingClientRect();n(11,E=e.top<N&&e.bottom>0);const p=e.bottom-e.top,g=s.bottom-s.top,m=r-i;for(n(10,M=(i-e.top)/(p-m)),M<=0?(d=0,h&&(h=!1,P())):M>=1?(d=w?p-g:p-m,h&&(h=!1,P())):(d=w?Math.round(i-M*(g-m)):i,h||(h=!0,P())),n(7,_=0);_<f.length;n(7,_+=1)){const t=f[_],{top:i}=t.getBoundingClientRect(),r=f[_+1],a=r?r.getBoundingClientRect().top:e.bottom;if(n(9,k=(o-i)/(a-i)),n(12,A=t.dataset.id?t.dataset.id:null),a>=o)break}}X((()=>{f=l.querySelectorAll($),n(8,b=f.length),z();const t={outer:a,update:z};return vl.add(t),()=>vl.remove(t)}));let T="";return x&&(T="box-shadow: inset 0 -10px 10px -8px rgba(0, 0, 0, 1); background-color: gray"),t.$$set=t=>{"top"in t&&n(13,m=t.top),"bottom"in t&&n(14,y=t.bottom),"threshold"in t&&n(15,v=t.threshold),"query"in t&&n(16,$=t.query),"parallax"in t&&n(17,w=t.parallax),"shadow"in t&&n(18,x=t.shadow),"index"in t&&n(7,_=t.index),"count"in t&&n(8,b=t.count),"offset"in t&&n(9,k=t.offset),"progress"in t&&n(10,M=t.progress),"visible"in t&&n(11,E=t.visible),"splitscreen"in t&&n(0,S=t.splitscreen),"id"in t&&n(12,A=t.id),"$$scope"in t&&n(19,g=t.$$scope)},t.$$.update=()=>{8194&t.$$.dirty[0]&&(i=Math.round(m*N)),16386&t.$$.dirty[0]&&(r=Math.round(y*N)),32770&t.$$.dirty[0]&&(o=Math.round(v*N)),188416&t.$$.dirty[0]&&z()},[S,N,a,s,l,c,T,_,b,k,M,E,A,m,y,v,$,w,x,g,p,function(){n(1,N=fl.innerHeight)},function(t){V[t?"unshift":"push"]((()=>{c=t,n(5,c)}))},function(t){V[t?"unshift":"push"]((()=>{s=t,n(3,s)}))},function(t){V[t?"unshift":"push"]((()=>{l=t,n(4,l)}))},function(t){V[t?"unshift":"push"]((()=>{a=t,n(2,a)}))}]}class wl extends $t{constructor(t){super(),vt(this,t,$l,ml,s,{top:13,bottom:14,threshold:15,query:16,parallax:17,shadow:18,index:7,count:8,offset:9,progress:10,visible:11,splitscreen:0,id:12},null,[-1,-1])}}function xl(t){let e,n,i;const r=t[5].default,o=h(r,t,t[4],null);return{c(){e=A("section"),n=A("div"),o&&o.c(),C(n,"class","middle"),H(n,"center",t[0]),H(n,"col-medium",!t[1]),H(n,"col-wide",t[1]),H(n,"height-full",!t[2]),H(n,"short",t[2]),C(e,"class","svelte-1h2eog8")},m(t,r){M(t,e,r),k(e,n),o&&o.m(n,null),i=!0},p(t,[e]){o&&o.p&&(!i||16&e)&&g(o,r,t,t[4],i?p(r,t[4],e,null):m(t[4]),null),(!i||1&e)&&H(n,"center",t[0]),(!i||2&e)&&H(n,"col-medium",!t[1]),(!i||2&e)&&H(n,"col-wide",t[1]),(!i||4&e)&&H(n,"height-full",!t[2]),(!i||4&e)&&H(n,"short",t[2])},i(t){i||(ht(o,t),i=!0)},o(t){dt(o,t),i=!1},d(t){t&&E(e),o&&o.d(t)}}}function _l(t,e,n){let{$$slots:i={},$$scope:r}=e,{center:o=!0}=e,{wide:a=!1}=e,{short:s=!1}=e,{shadow:l}=e;return t.$$set=t=>{"center"in t&&n(0,o=t.center),"wide"in t&&n(1,a=t.wide),"short"in t&&n(2,s=t.short),"shadow"in t&&n(3,l=t.shadow),"$$scope"in t&&n(4,r=t.$$scope)},[o,a,s,l,r,i]}class bl extends $t{constructor(t){super(),vt(this,t,_l,xl,s,{center:0,wide:1,short:2,shadow:3})}}function kl(t){const e=t-1;return e*e*e+1}function Ml(t){return"[object Date]"===Object.prototype.toString.call(t)}function El(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>El(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(Ml(t)&&Ml(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),i={};return n.forEach((n=>{i[n]=El(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=i[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function Sl(t,i={}){const r=Zs(t);let o,a=t;function s(s,l){if(null==t)return r.set(t=s),Promise.resolve();a=s;let c=o,u=!1,{delay:f=0,duration:h=400,easing:d=e,interpolate:p=El}=n(n({},i),l);if(0===h)return c&&(c.abort(),c=null),r.set(t=a),Promise.resolve();const g=$()+f;let m;return o=function(t){let e;return 0===x.size&&w(_),{promise:new Promise((n=>{x.add(e={c:t,f:n})})),abort(){x.delete(e)}}}((e=>{if(e<g)return!0;u||(m=p(t,s),"function"==typeof h&&(h=h(t,s)),u=!0),c&&(c.abort(),c=null);const n=e-g;return n>h?(r.set(t=s),!1):(r.set(t=m(d(n/h))),!0)})),o.promise}return{set:s,update:(e,n)=>s(e(a,t),n),subscribe:r.subscribe}}function Al(e){let n,i,r,a,s,l;return{c(){n=N("g"),i=N("rect"),C(i,"id",r="id_"+e[0]),C(i,"x","0"),C(i,"y","0"),C(i,"width",e[4]),C(i,"height",e[5]),C(i,"rx","1"),C(i,"fill","#F6F1D6"),C(i,"stroke","gray"),C(i,"stroke-width","0.5"),C(i,"class","svelte-aanmc6"),H(i,"is-hovered",e[1]),C(n,"transform",a="translate("+e[2]+" "+e[3]+")")},m(t,r){M(t,n,r),k(n,i),s||(l=[T(i,"mouseenter",e[10]),T(i,"mouseleave",e[11])],s=!0)},p(t,[e]){1&e&&r!==(r="id_"+t[0])&&C(i,"id",r),16&e&&C(i,"width",t[4]),32&e&&C(i,"height",t[5]),2&e&&H(i,"is-hovered",t[1]),12&e&&a!==(a="translate("+t[2]+" "+t[3]+")")&&C(n,"transform",a)},i:t,o:t,d(t){t&&E(n),s=!1,o(l)}}}function Nl(t,e,n){let i,r,o,a,{x:s}=e,{y:l}=e,{id:c}=e,{width:u}=e,{height:h}=e,{info:d}=e,{i:p}=e;const g=Y(),m={delay:p/4*Math.random(),duration:300,easing:kl},y=Sl(null,m);f(t,y,(t=>n(2,i=t)));const v=Sl(null,m);f(t,v,(t=>n(3,r=t)));const $=Sl(null,{duration:300,easing:kl});f(t,$,(t=>n(4,o=t)));const w=Sl(null,m);f(t,w,(t=>n(5,a=t)));let x=!1;return t.$$set=t=>{"x"in t&&n(12,s=t.x),"y"in t&&n(13,l=t.y),"id"in t&&n(0,c=t.id),"width"in t&&n(14,u=t.width),"height"in t&&n(15,h=t.height),"info"in t&&n(16,d=t.info),"i"in t&&n(17,p=t.i)},t.$$.update=()=>{4096&t.$$.dirty&&y.set(s),8192&t.$$.dirty&&v.set(l),16384&t.$$.dirty&&$.set(u),32768&t.$$.dirty&&w.set(h)},[c,x,i,r,o,a,y,v,$,w,()=>{n(1,x=!0),g("hover",{x:s,y:l,info:d})},()=>{setTimeout((()=>{n(1,x=!1)}),0),g("leave")},s,l,u,h,d,p]}class Rl extends $t{constructor(t){super(),vt(this,t,Nl,Al,s,{x:12,y:13,id:0,width:14,height:15,info:16,i:17})}}function Pl(e){let n,i,r;return{c(){n=N("g"),i=N("rect"),C(i,"x","0"),C(i,"y","0"),C(i,"width",e[2]),C(i,"height",e[3]),C(i,"rx","1"),C(i,"stroke","#595959"),C(i,"stroke-width","0.5"),C(i,"class","svelte-ulxzp1"),C(n,"transform",r="translate("+e[0]+" "+e[1]+")")},m(t,e){M(t,n,e),k(n,i)},p(t,[e]){4&e&&C(i,"width",t[2]),8&e&&C(i,"height",t[3]),3&e&&r!==(r="translate("+t[0]+" "+t[1]+")")&&C(n,"transform",r)},i:t,o:t,d(t){t&&E(n)}}}function zl(t,e,n){let i,r,o,a,{i:s}=e,{x:l}=e,{y:c}=e,{width:u}=e,{height:h}=e;const d={delay:s/4*Math.random(),duration:300,easing:kl},p=Sl(null,d);f(t,p,(t=>n(0,i=t)));const g=Sl(null,d);f(t,g,(t=>n(1,r=t)));const m=Sl(null,{duration:300,easing:kl});f(t,m,(t=>n(2,o=t)));const y=Sl(null,d);return f(t,y,(t=>n(3,a=t))),t.$$set=t=>{"i"in t&&n(8,s=t.i),"x"in t&&n(9,l=t.x),"y"in t&&n(10,c=t.y),"width"in t&&n(11,u=t.width),"height"in t&&n(12,h=t.height)},t.$$.update=()=>{512&t.$$.dirty&&p.set(l),1024&t.$$.dirty&&g.set(c),2048&t.$$.dirty&&m.set(u),4096&t.$$.dirty&&y.set(h)},[i,r,o,a,p,g,m,y,s,l,c,u,h]}class Tl extends $t{constructor(t){super(),vt(this,t,zl,Pl,s,{i:8,x:9,y:10,width:11,height:12})}}function Cl(t,e,n){const i=t.slice();return i[25]=e[n],i[27]=n,i}function Wl(t,e,n){const i=t.slice();return i[25]=e[n],i[27]=n,i}function Ol(t,e,n){const i=t.slice();return i[25]=e[n],i[27]=n,i}function Ll(t){let e,n,i,r,o,a,s,l,u,f,h,d,p,g,m,y=t[10],v=[];for(let e=0;e<y.length;e+=1)v[e]=Dl(Ol(t,y,e));let $=t[7],w=[];for(let e=0;e<$.length;e+=1)w[e]=Il(Wl(t,$,e));const x=t=>dt(w[t],1,1,(()=>{w[t]=null}));let _=t[6],b=[];for(let e=0;e<_.length;e+=1)b[e]=jl(Cl(t,_,e));const R=t=>dt(b[t],1,1,(()=>{b[t]=null}));let W=t[8]&&ql(t),O=t[3].visible&&Hl(t);return{c(){e=A("div"),n=N("svg"),i=N("g");for(let t=0;t<v.length;t+=1)v[t].c();r=z();for(let t=0;t<w.length;t+=1)w[t].c();o=z();for(let t=0;t<b.length;t+=1)b[t].c();W&&W.c(),s=P(),O&&O.c(),l=P(),u=A("div"),f=A("img"),C(i,"class","timeline"),C(i,"transform",a="translate("+t[11].left+", "+t[11].top+")"),C(n,"width",t[0]),C(n,"height",t[1]),C(f,"class","example_img svelte-56vkg5"),c(f.src,h=Gl)||C(f,"src",h),C(f,"alt","agt"),C(u,"id","example_stage"),C(u,"class","svelte-56vkg5"),C(e,"class","wrapper svelte-56vkg5"),nt((()=>t[21].call(e)))},m(a,c){M(a,e,c),k(e,n),k(n,i);for(let t=0;t<v.length;t+=1)v[t]&&v[t].m(i,null);k(i,r);for(let t=0;t<w.length;t+=1)w[t]&&w[t].m(i,null);k(i,o);for(let t=0;t<b.length;t+=1)b[t]&&b[t].m(i,null);W&&W.m(n,null),k(e,s),O&&O.m(e,null),k(e,l),k(e,u),k(u,f),t[20](f),d=q(e,t[21].bind(e)),p=!0,g||(m=T(f,"load",t[12]),g=!0)},p(t,a){if(1540&a){let e;for(y=t[10],e=0;e<y.length;e+=1){const n=Ol(t,y,e);v[e]?v[e].p(n,a):(v[e]=Dl(n),v[e].c(),v[e].m(i,r))}for(;e<v.length;e+=1)v[e].d(1);v.length=y.length}if(128&a){let e;for($=t[7],e=0;e<$.length;e+=1){const n=Wl(t,$,e);w[e]?(w[e].p(n,a),ht(w[e],1)):(w[e]=Il(n),w[e].c(),ht(w[e],1),w[e].m(i,o))}for(ut(),e=$.length;e<w.length;e+=1)x(e);ft()}if(24640&a){let e;for(_=t[6],e=0;e<_.length;e+=1){const n=Cl(t,_,e);b[e]?(b[e].p(n,a),ht(b[e],1)):(b[e]=jl(n),b[e].c(),ht(b[e],1),b[e].m(i,null))}for(ut(),e=_.length;e<b.length;e+=1)R(e);ft()}t[8]?W?W.p(t,a):(W=ql(t),W.c(),W.m(n,null)):W&&(W.d(1),W=null),(!p||1&a)&&C(n,"width",t[0]),(!p||2&a)&&C(n,"height",t[1]),t[3].visible?O?O.p(t,a):(O=Hl(t),O.c(),O.m(e,l)):O&&(O.d(1),O=null)},i(t){if(!p){for(let t=0;t<$.length;t+=1)ht(w[t]);for(let t=0;t<_.length;t+=1)ht(b[t]);p=!0}},o(t){w=w.filter(Boolean);for(let t=0;t<w.length;t+=1)dt(w[t]);b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)dt(b[t]);p=!1},d(n){n&&E(e),S(v,n),S(w,n),S(b,n),W&&W.d(),O&&O.d(),t[20](null),d(),g=!1,m()}}}function Dl(t){let e,n,i,r,o=t[25]+"";return{c(){e=N("text"),n=R(o),C(e,"x",i=t[9]*t[27]+t[9]/2),C(e,"y",r=t[2]+14),C(e,"text-anchor","middle"),C(e,"font-family","Montserrat"),C(e,"fill","white"),C(e,"font-size","14px")},m(t,i){M(t,e,i),k(e,n)},p(t,n){512&n&&i!==(i=t[9]*t[27]+t[9]/2)&&C(e,"x",i),4&n&&r!==(r=t[2]+14)&&C(e,"y",r)},d(t){t&&E(e)}}}function Il(t){let e,n;return e=new Tl({props:{i:t[27],x:t[25].x,y:t[25].y,width:t[25].width,height:t[25].height}}),{c(){gt(e.$$.fragment)},m(t,i){mt(e,t,i),n=!0},p(t,n){const i={};128&n&&(i.x=t[25].x),128&n&&(i.y=t[25].y),128&n&&(i.width=t[25].width),128&n&&(i.height=t[25].height),e.$set(i)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function jl(t){let e,n;return e=new Rl({props:{i:t[27],x:t[25].x,y:t[25].y,width:t[25].width,height:t[25].height,info:t[25].info,id:t[25].id}}),e.$on("hover",t[13]),e.$on("leave",t[14]),{c(){gt(e.$$.fragment)},m(t,i){mt(e,t,i),n=!0},p(t,n){const i={};64&n&&(i.x=t[25].x),64&n&&(i.y=t[25].y),64&n&&(i.width=t[25].width),64&n&&(i.height=t[25].height),64&n&&(i.info=t[25].info),64&n&&(i.id=t[25].id),e.$set(i)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function ql(t){let e,n;return{c(){e=N("path"),C(e,"id","example_stage"),C(e,"d",n=`M ${2*t[9]},${t[2]-30} \n                       C ${2*t[9]},${t[2]-100} \n                         ${t[5]},${t[8]+100} \n                         ${t[5]},${t[8]}`),C(e,"fill","none"),C(e,"stroke","white"),C(e,"stroke-width","1"),C(e,"opacity","0"),C(e,"class","svelte-56vkg5")},m(t,n){M(t,e,n)},p(t,i){804&i&&n!==(n=`M ${2*t[9]},${t[2]-30} \n                       C ${2*t[9]},${t[2]-100} \n                         ${t[5]},${t[8]+100} \n                         ${t[5]},${t[8]}`)&&C(e,"d",n)},d(t){t&&E(e)}}}function Hl(t){let e,n,i,r=t[3].info+"";return{c(){e=A("div"),n=A("p"),i=R(r),C(n,"class","svelte-56vkg5"),C(e,"class","tooltip svelte-56vkg5"),L(e,"position","absolute"),L(e,"left",t[3].x+"px"),L(e,"top",t[3].y+"px")},m(t,r){M(t,e,r),k(e,n),k(n,i)},p(t,n){8&n&&r!==(r=t[3].info+"")&&O(i,r),8&n&&L(e,"left",t[3].x+"px"),8&n&&L(e,"top",t[3].y+"px")},d(t){t&&E(e)}}}function Bl(t){let e,n,i=t[6]&&Ll(t);return{c(){i&&i.c(),e=z()},m(t,r){i&&i.m(t,r),M(t,e,r),n=!0},p(t,[n]){t[6]?i?(i.p(t,n),64&n&&ht(i,1)):(i=Ll(t),i.c(),ht(i,1),i.m(e.parentNode,e)):i&&(ut(),dt(i,1,1,(()=>{i=null})),ft())},i(t){n||(ht(i),n=!0)},o(t){dt(i),n=!1},d(t){i&&i.d(t),t&&E(e)}}}let Gl="./img/africa.png";function Xl(t,e,n){let i,r,o,a,s,l,c,u,f,h,d,{pax:p}=e,{pax_stages:g}=e,{step:m}=e,y={visible:!1,x:0,y:0,info:""},v=400,$=400;const w={top:20,right:20,bottom:20,left:40};let x;return t.$$set=t=>{"pax"in t&&n(15,p=t.pax),"pax_stages"in t&&n(16,g=t.pax_stages),"step"in t&&n(17,m=t.step)},t.$$.update=()=>{1&t.$$.dirty&&n(19,u=v-w.left-w.right),2&t.$$.dirty&&n(2,f=$-w.top-w.bottom),524288&t.$$.dirty&&n(9,i=u/7),524288&t.$$.dirty&&(h=hs().domain(il).range([0,u]).padding(.1)),4&t.$$.dirty&&(d=bs().domain([0,100]).range([f,0])),622596&t.$$.dirty&&p&&g&&(c=p.length,n(6,s=sl(g,f,u)),n(7,l=sl(g,f,u))),720900&t.$$.dirty&&("stage01"==m?n(6,s=sl(g,f,u)):"stage02"==m?(n(6,s=function(t,e,n,i){let r=t,o=(n-60)/7,a=(o-18)/10,s=Math.max(...r.map((([t,e])=>e.length))),l=Math.ceil(s/10),c=(e-2*(l-1))/l,u=r.flatMap((([t,n],r)=>{let s=0,l=0;return n.map((t=>{if("0"===t[i])return{x:r*(o+10)+l*(a+2),y:e+100,width:a,height:0,info:t.Agt,id:t.AgtId};let n=r*(o+10)+l*(a+2),u=e-(s+1)*(c+2);return l++,l>=10&&(l=0,s++),{x:n+2*Math.random()-1,y:u+2*Math.random()-1,width:a,height:c,info:t.Agt,id:t.AgtId}}))}));return u}(g,f,u,"GeWom")),nn("#example_stage").style("opacity",0)):"stage03"==m&&nn("#example_stage").style("opacity",1)),262148&t.$$.dirty&&f&&n(8,x=f-(f-a))},[v,$,f,y,r,o,s,l,x,i,["Pre-Negotiation","Ceasefire","Partial","Comprehensive","Implementation","Renewal","Other"],w,function(){if(r){const t=r.getBoundingClientRect();n(18,a=t.height),n(5,o=t.x)}},t=>{let e,i;t.detail.x>=u/2?e=t.detail.x-140:t.detail.x<u/2&&(e=t.detail.x+70),t.detail.y>=f/2?i=t.detail.y-50:t.detail.y<f/2&&(i=t.detail.y),n(3,y={visible:!0,x:e,y:i,info:t.detail.info})},()=>{n(3,y={...y,visible:!1})},p,g,m,a,u,function(t){V[t?"unshift":"push"]((()=>{r=t,n(4,r)}))},function(){v=this.clientWidth,$=this.clientHeight,n(0,v),n(1,$)}]}class Fl extends $t{constructor(t){super(),vt(this,t,Xl,Bl,s,{pax:15,pax_stages:16,step:17})}}function Yl(t,e,n){const i=t.slice();return i[16]=e[n],i[18]=n,i}function Ul(t,e,n){const i=t.slice();return i[16]=e[n],i[18]=n,i}function Vl(t){let e,n,i,r,o,a,s,l,c=t[4],u=[];for(let e=0;e<c.length;e+=1)u[e]=Jl(Ul(t,c,e));const f=t=>dt(u[t],1,1,(()=>{u[t]=null}));let h=t[3],d=[];for(let e=0;e<h.length;e+=1)d[e]=Zl(Yl(t,h,e));const p=t=>dt(d[t],1,1,(()=>{d[t]=null}));let g=t[2].visible&&Ql(t);return{c(){e=A("div"),n=N("svg"),i=N("g");for(let t=0;t<u.length;t+=1)u[t].c();r=z();for(let t=0;t<d.length;t+=1)d[t].c();a=P(),g&&g.c(),C(i,"class","timeline"),C(i,"transform",o="translate("+t[5].left+", "+t[5].top+")"),C(n,"width",t[0]),C(n,"height",t[1]),C(e,"class","wrapper svelte-1n4lum0"),nt((()=>t[13].call(e)))},m(o,c){M(o,e,c),k(e,n),k(n,i);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(i,null);k(i,r);for(let t=0;t<d.length;t+=1)d[t]&&d[t].m(i,null);k(e,a),g&&g.m(e,null),s=q(e,t[13].bind(e)),l=!0},p(t,o){if(16&o){let e;for(c=t[4],e=0;e<c.length;e+=1){const n=Ul(t,c,e);u[e]?(u[e].p(n,o),ht(u[e],1)):(u[e]=Jl(n),u[e].c(),ht(u[e],1),u[e].m(i,r))}for(ut(),e=c.length;e<u.length;e+=1)f(e);ft()}if(200&o){let e;for(h=t[3],e=0;e<h.length;e+=1){const n=Yl(t,h,e);d[e]?(d[e].p(n,o),ht(d[e],1)):(d[e]=Zl(n),d[e].c(),ht(d[e],1),d[e].m(i,null))}for(ut(),e=h.length;e<d.length;e+=1)p(e);ft()}(!l||1&o)&&C(n,"width",t[0]),(!l||2&o)&&C(n,"height",t[1]),t[2].visible?g?g.p(t,o):(g=Ql(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(t){if(!l){for(let t=0;t<c.length;t+=1)ht(u[t]);for(let t=0;t<h.length;t+=1)ht(d[t]);l=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)dt(u[t]);d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)dt(d[t]);l=!1},d(t){t&&E(e),S(u,t),S(d,t),g&&g.d(),s()}}}function Jl(t){let e,n;return e=new Tl({props:{i:t[18],x:t[16].x,y:t[16].y,width:t[16].width,height:t[16].height}}),{c(){gt(e.$$.fragment)},m(t,i){mt(e,t,i),n=!0},p(t,n){const i={};16&n&&(i.x=t[16].x),16&n&&(i.y=t[16].y),16&n&&(i.width=t[16].width),16&n&&(i.height=t[16].height),e.$set(i)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Zl(t){let e,n;return e=new Rl({props:{i:t[18],x:t[16].x,y:t[16].y,width:t[16].width,height:t[16].height,info:t[16].info,id:t[16].id}}),e.$on("hover",t[6]),e.$on("leave",t[7]),{c(){gt(e.$$.fragment)},m(t,i){mt(e,t,i),n=!0},p(t,n){const i={};8&n&&(i.x=t[16].x),8&n&&(i.y=t[16].y),8&n&&(i.width=t[16].width),8&n&&(i.height=t[16].height),8&n&&(i.info=t[16].info),8&n&&(i.id=t[16].id),e.$set(i)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Ql(t){let e,n,i,r=t[2].info+"";return{c(){e=A("div"),n=A("p"),i=R(r),C(n,"class","svelte-1n4lum0"),C(e,"class","tooltip svelte-1n4lum0"),L(e,"position","absolute"),L(e,"left",t[2].x+"px"),L(e,"top",t[2].y+"px")},m(t,r){M(t,e,r),k(e,n),k(n,i)},p(t,n){4&n&&r!==(r=t[2].info+"")&&O(i,r),4&n&&L(e,"left",t[2].x+"px"),4&n&&L(e,"top",t[2].y+"px")},d(t){t&&E(e)}}}function Kl(t){let e,n,i=t[3]&&Vl(t);return{c(){i&&i.c(),e=z()},m(t,r){i&&i.m(t,r),M(t,e,r),n=!0},p(t,[n]){t[3]?i?(i.p(t,n),8&n&&ht(i,1)):(i=Vl(t),i.c(),ht(i,1),i.m(e.parentNode,e)):i&&(ut(),dt(i,1,1,(()=>{i=null})),ft())},i(t){n||(ht(i),n=!0)},o(t){dt(i),n=!1},d(t){i&&i.d(t),t&&E(e)}}}function tc(t,e,n){let i,r,o,a,s,l,c,{pax:u}=e,{step:f}=e,h={visible:!1,x:0,y:0,info:""},d=400,p=400;const g={top:20,right:20,bottom:20,left:40};return t.$$set=t=>{"pax"in t&&n(8,u=t.pax),"step"in t&&n(9,f=t.step)},t.$$.update=()=>{1&t.$$.dirty&&n(11,a=d-g.left-g.right),2&t.$$.dirty&&n(12,s=p-g.top-g.bottom),2048&t.$$.dirty&&(l=hs().domain(il).range([0,a]).padding(.1)),4096&t.$$.dirty&&(c=bs().domain([0,100]).range([s,0])),7424&t.$$.dirty&&u&&(n(10,o=u.length),n(3,i=al(u,s,a,o)),n(4,r=al(u,s,a,o))),7936&t.$$.dirty&&("rect01"==f?n(3,i=al(u,s,a,o)):"rect02"==f&&n(3,i=function(t,e,n,i){let r=Math.ceil(Math.sqrt(i*(n/e))),o=Math.ceil(i/r),a=(n-(r-1)*ol)/r,s=(e-(o-1)*ol)/o,l=0,c=t.map((t=>{if("0"===t.GeWom)return{x:l%r*(a+ol),y:e+100,width:a,height:s,id:t.AgtId,info:t.Agt};const n=l%r*(a+ol)+2*Math.random()-1,i=e-(Math.floor(l/r)+1)*(s+ol)+2*Math.random()-1;return l++,{x:n,y:i,width:a,height:s,id:t.AgtId,info:t.Agt}}));return c}(u,s,a,o)))},[d,p,h,i,r,g,t=>{let e,i;t.detail.x>=a/2?e=t.detail.x-140:t.detail.x<a/2&&(e=t.detail.x+70),t.detail.y>=s/2?i=t.detail.y-50:t.detail.y<s/2&&(i=t.detail.y),n(2,h={visible:!0,x:e,y:i,info:t.detail.info})},()=>{n(2,h={...h,visible:!1})},u,f,o,a,s,function(){d=this.clientWidth,p=this.clientHeight,n(0,d),n(1,p)}]}class ec extends $t{constructor(t){super(),vt(this,t,tc,Kl,s,{pax:8,step:9})}}function nc(t,e,n){const i=t.slice();return i[25]=e[n],i[27]=n,i}function ic(t,e,n){const i=t.slice();return i[25]=e[n],i[27]=n,i}function rc(t,e,n){const i=t.slice();return i[29]=e[n],i}function oc(t){let e,n,i,r,o,a,s,l,u,f,h,d,p,g,m,y,v,$,w,x,_,b,W,O=il,L=[];for(let e=0;e<O.length;e+=1)L[e]=ac(rc(t,O,e));let D=t[7],I=[];for(let e=0;e<D.length;e+=1)I[e]=sc(ic(t,D,e));const j=t=>dt(I[t],1,1,(()=>{I[t]=null}));let H=t[6],B=[];for(let e=0;e<H.length;e+=1)B[e]=lc(nc(t,H,e));const G=t=>dt(B[t],1,1,(()=>{B[t]=null}));let X=t[13]&&cc(t),F=t[5].visible&&uc(t);return{c(){e=A("div"),n=N("svg"),i=N("g"),r=N("g");for(let t=0;t<L.length;t+=1)L[t].c();for(let t=0;t<I.length;t+=1)I[t].c();o=z();for(let t=0;t<B.length;t+=1)B[t].c();a=N("rect"),X&&X.c(),f=N("text"),h=R("UN Resolution 1325"),m=P(),F&&F.c(),y=P(),v=A("div"),$=A("img"),C(r,"class","axis x-axis svelte-1bdl2iv"),C(a,"class","un_resolution svelte-1bdl2iv"),C(a,"x",s=t[8]("2000")+t[8].bandwidth()/2),C(a,"y",l=20),C(a,"width","1"),C(a,"height",u=t[4]-100),C(a,"fill","white"),C(f,"class","un_resolution svelte-1bdl2iv"),C(f,"x",d=t[8]("2000")+t[8].bandwidth()),C(f,"y",p=20),C(f,"fill","white"),C(i,"class","timeline"),C(i,"transform",g="translate("+t[14].left+", "+t[14].top+")"),C(n,"width",t[1]),C(n,"height",t[2]),C($,"class","example_img svelte-1bdl2iv"),c($.src,w=t[10])||C($,"src",w),C($,"alt","agt"),C(v,"id","example"),C(v,"class","svelte-1bdl2iv"),C(e,"class","wrapper svelte-1bdl2iv"),nt((()=>t[22].call(e)))},m(s,l){M(s,e,l),k(e,n),k(n,i),k(i,r);for(let t=0;t<L.length;t+=1)L[t]&&L[t].m(r,null);for(let t=0;t<I.length;t+=1)I[t]&&I[t].m(i,null);k(i,o);for(let t=0;t<B.length;t+=1)B[t]&&B[t].m(i,null);k(i,a),X&&X.m(i,null),k(i,f),k(f,h),k(e,m),F&&F.m(e,null),k(e,y),k(e,v),k(v,$),t[21]($),x=q(e,t[22].bind(e)),_=!0,b||(W=T($,"load",t[15]),b=!0)},p(t,l){if(280&l[0]){let e;for(O=il,e=0;e<O.length;e+=1){const n=rc(t,O,e);L[e]?L[e].p(n,l):(L[e]=ac(n),L[e].c(),L[e].m(r,null))}for(;e<L.length;e+=1)L[e].d(1);L.length=O.length}if(128&l[0]){let e;for(D=t[7],e=0;e<D.length;e+=1){const n=ic(t,D,e);I[e]?(I[e].p(n,l),ht(I[e],1)):(I[e]=sc(n),I[e].c(),ht(I[e],1),I[e].m(i,o))}for(ut(),e=D.length;e<I.length;e+=1)j(e);ft()}if(196672&l[0]){let e;for(H=t[6],e=0;e<H.length;e+=1){const n=nc(t,H,e);B[e]?(B[e].p(n,l),ht(B[e],1)):(B[e]=lc(n),B[e].c(),ht(B[e],1),B[e].m(i,a))}for(ut(),e=H.length;e<B.length;e+=1)G(e);ft()}(!_||256&l[0]&&s!==(s=t[8]("2000")+t[8].bandwidth()/2))&&C(a,"x",s),(!_||16&l[0]&&u!==(u=t[4]-100))&&C(a,"height",u),t[13]?X?X.p(t,l):(X=cc(t),X.c(),X.m(i,f)):X&&(X.d(1),X=null),(!_||256&l[0]&&d!==(d=t[8]("2000")+t[8].bandwidth()))&&C(f,"x",d),(!_||2&l[0])&&C(n,"width",t[1]),(!_||4&l[0])&&C(n,"height",t[2]),t[5].visible?F?F.p(t,l):(F=uc(t),F.c(),F.m(e,y)):F&&(F.d(1),F=null),(!_||1024&l[0]&&!c($.src,w=t[10]))&&C($,"src",w)},i(t){if(!_){for(let t=0;t<D.length;t+=1)ht(I[t]);for(let t=0;t<H.length;t+=1)ht(B[t]);_=!0}},o(t){I=I.filter(Boolean);for(let t=0;t<I.length;t+=1)dt(I[t]);B=B.filter(Boolean);for(let t=0;t<B.length;t+=1)dt(B[t]);_=!1},d(n){n&&E(e),S(L,n),S(I,n),S(B,n),X&&X.d(),F&&F.d(),t[21](null),x(),b=!1,W()}}}function ac(t){let e,n,i,r,o,a=(t[3]>800?t[29]:hc(t[29]))+"";return{c(){e=N("g"),n=N("text"),i=R(a),C(n,"y","1"),C(n,"class","svelte-1bdl2iv"),C(e,"class",r="tick tick-"+t[29]+" svelte-1bdl2iv"),C(e,"transform",o="translate("+(t[8](t[29])+t[8].bandwidth()/2)+","+(t[4]+17)+")")},m(t,r){M(t,e,r),k(e,n),k(n,i)},p(t,n){8&n[0]&&a!==(a=(t[3]>800?t[29]:hc(t[29]))+"")&&O(i,a),272&n[0]&&o!==(o="translate("+(t[8](t[29])+t[8].bandwidth()/2)+","+(t[4]+17)+")")&&C(e,"transform",o)},d(t){t&&E(e)}}}function sc(t){let e,n;return e=new Tl({props:{i:t[27],x:t[25].x,y:t[25].y,width:t[25].width,height:t[25].height}}),{c(){gt(e.$$.fragment)},m(t,i){mt(e,t,i),n=!0},p(t,n){const i={};128&n[0]&&(i.x=t[25].x),128&n[0]&&(i.y=t[25].y),128&n[0]&&(i.width=t[25].width),128&n[0]&&(i.height=t[25].height),e.$set(i)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function lc(t){let e,n;return e=new Rl({props:{i:t[27],id:t[25].id,x:t[25].x,y:t[25].y,width:t[25].width,height:t[25].height,info:t[25].info}}),e.$on("hover",t[16]),e.$on("leave",t[17]),{c(){gt(e.$$.fragment)},m(t,i){mt(e,t,i),n=!0},p(t,n){const i={};64&n[0]&&(i.id=t[25].id),64&n[0]&&(i.x=t[25].x),64&n[0]&&(i.y=t[25].y),64&n[0]&&(i.width=t[25].width),64&n[0]&&(i.height=t[25].height),64&n[0]&&(i.info=t[25].info),e.$set(i)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function cc(t){let e,n;return{c(){e=N("path"),C(e,"id","example"),C(e,"d",n=`M ${t[8](t[12])},${t[4]-10} \n                       C ${t[8](t[12])},${t[4]-100} \n                         ${t[9]-t[14].left},${t[13]+100} \n                         ${t[9]-t[14].left},${t[13]}`),C(e,"fill","none"),C(e,"stroke","white"),C(e,"stroke-width","1"),C(e,"opacity","0"),C(e,"class","svelte-1bdl2iv")},m(t,n){M(t,e,n)},p(t,i){13072&i[0]&&n!==(n=`M ${t[8](t[12])},${t[4]-10} \n                       C ${t[8](t[12])},${t[4]-100} \n                         ${t[9]-t[14].left},${t[13]+100} \n                         ${t[9]-t[14].left},${t[13]}`)&&C(e,"d",n)},d(t){t&&E(e)}}}function uc(t){let e,n,i,r=t[5].info+"";return{c(){e=A("div"),n=A("p"),i=R(r),C(n,"class","svelte-1bdl2iv"),C(e,"class","tooltip svelte-1bdl2iv"),L(e,"position","absolute"),L(e,"left",t[5].x+"px"),L(e,"top",t[5].y+"px")},m(t,r){M(t,e,r),k(e,n),k(n,i)},p(t,n){32&n[0]&&r!==(r=t[5].info+"")&&O(i,r),32&n[0]&&L(e,"left",t[5].x+"px"),32&n[0]&&L(e,"top",t[5].y+"px")},d(t){t&&E(e)}}}function fc(t){let e,n,i=t[6]&&t[0]&&oc(t);return{c(){i&&i.c(),e=z()},m(t,r){i&&i.m(t,r),M(t,e,r),n=!0},p(t,n){t[6]&&t[0]?i?(i.p(t,n),65&n[0]&&ht(i,1)):(i=oc(t),i.c(),ht(i,1),i.m(e.parentNode,e)):i&&(ut(),dt(i,1,1,(()=>{i=null})),ft())},i(t){n||(ht(i),n=!0)},o(t){dt(i),n=!1},d(t){i&&i.d(t),t&&E(e)}}}function hc(t){return"'"+t.toString().slice(-2)}function dc(t,e,n){let i,r,o,a,s,l,c,u,f,{pax:h}=e,{pax_timeline:d}=e,{step:p}=e,g={visible:!1,x:0,y:0,info:""},m=400,y=400,v="./img/lome.png",$={top:20,right:20,bottom:20,left:40};function w(t,e,n){let i,r=null;return i="none"===n?0:-1,t.map((t=>{let e;const o=t.Dat.substring(0,4);o!==r&&(i="none"===n?0:-1,r=o),e="none"==n?l(i):"1"===t[n]?l(++i):a+100;const c={x:s(o)+2*Math.random()-1,y:e+2*Math.random()-1,width:s.bandwidth(),height:3,info:t.Agt,id:t.AgtId};return"none"===n&&i++,c}))}window.addEventListener("resize",b);let x,_="1999";function b(){if(u){const t=u.getBoundingClientRect();n(20,f=t.height),n(9,c=t.x)}}b();return t.$$set=t=>{"pax"in t&&n(18,h=t.pax),"pax_timeline"in t&&n(0,d=t.pax_timeline),"step"in t&&n(19,p=t.step)},t.$$.update=()=>{2&t.$$.dirty[0]&&n(3,o=m-$.left-$.right),4&t.$$.dirty[0]&&n(4,a=y-$.top-$.bottom),8&t.$$.dirty[0]&&n(8,s=hs().domain(il).range([0,o]).padding(.1)),16&t.$$.dirty[0]&&(l=bs().domain([0,100]).range([a,0])),262152&t.$$.dirty[0]&&h&&(n(7,r=w(h,0,"none")),n(6,i=w(h,0,"none"))),786440&t.$$.dirty[0]&&("1"==p?(nn(".un_resolution").style("visibility","hidden"),n(6,i=w(h,0,"none"))):"2"==p||"3"==p?(nn(".un_resolution").style("visibility","visible"),n(6,i=w(h,0,"GeWom"))):"4"==p?(nn(".un_resolution").style("visibility","hidden"),nn("#example").style("opacity",0),n(6,i=w(h,0,"WggRehab"))):"5"==p?(nn("#example").style("opacity",1),n(10,v="./img/lome.png"),n(12,_="1999"),n(6,i=w(h,0,"WggRehab"))):"6"==p?(nn("#example").style("opacity",0),n(6,i=w(h,0,"WggImplRole"))):"7"==p?(nn("#example").style("opacity",1),n(10,v="./img/colombia.png"),n(12,_="2016"),n(6,i=w(h,0,"WggImplRole"))):"8"==p?(nn("#example").style("opacity",0),n(6,i=w(h,0,"WggHR"))):"9"==p&&(n(10,v="./img/guatemala.png"),nn("#example").style("opacity",1),n(12,_="1996"))),1048592&t.$$.dirty[0]&&a&&n(13,x=a-(a-f))},[d,m,y,o,a,g,i,r,s,c,v,u,_,x,$,b,t=>{let e,i;t.detail.x>=o/2?e=t.detail.x-140:t.detail.x<o/2&&(e=t.detail.x+70),t.detail.y>=a/2?i=t.detail.y-50:t.detail.y<a/2&&(i=t.detail.y),n(5,g={visible:!0,x:e,y:i,info:t.detail.info})},()=>{n(5,g={...g,visible:!1})},h,p,f,function(t){V[t?"unshift":"push"]((()=>{u=t,n(11,u)}))},function(){m=this.clientWidth,y=this.clientHeight,n(1,m),n(2,y)}]}class pc extends $t{constructor(t){super(),vt(this,t,dc,fc,s,{pax:18,pax_timeline:0,step:19},null,[-1,-1])}}function gc(t){return 0===(e=t)||e?Array.isArray(t)?e=>t.map((t=>"function"!=typeof t?e[t]:t(e))):"function"!=typeof t?e=>e[t]:t:null;var e}function mc(t,e={}){return function(t){const e={};for(const n of t){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:i}=n;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:i})}return e}(Object.entries(t).filter((([t,n])=>void 0!==n&&void 0===e[t])))}function yc(t,e){if(!Array.isArray(t))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},i=Object.keys(e),r=i.length;let o,a,s,l,c,u,f,h;const d=t.length;for(o=0;o<r;o+=1){for(l=i[o],f=e[l],c=null,u=null,a=0;a<d;a+=1)if(h=f(t[a]),Array.isArray(h)){const t=h.length;for(s=0;s<t;s+=1)!1!==h[s]&&void 0!==h[s]&&null!==h[s]&&!1===Number.isNaN(h[s])&&((null===c||h[s]<c)&&(c=h[s]),(null===u||h[s]>u)&&(u=h[s]))}else!1!==h&&null!=h&&!1===Number.isNaN(h)&&((null===c||h<c)&&(c=h),(null===u||h>u)&&(u=h));n[l]=[c,u]}return n}function vc(t,e){return t.length===e.length&&t.every((t=>e.includes(t)))}function $c(t){return"function"==typeof t.bandwidth||!!vc(Object.keys(t),["domain","range","unknown","copy"])}function wc(t,e,n){const i=Object.keys(n).reduce(((t,i)=>{const r=!0===$c(n[i])?"ordinal":"other";return t[r]||(t[r]={}),t[r][i]=e[i],t}),{ordinal:!1,other:!1});let r={};return i.ordinal&&(r=function(t,e,{sort:n=!1}={}){if(!Array.isArray(t))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const i={},r=Object.keys(e),o=r.length;let a,s,l,c,u,f,h;const d=t.length;for(a=0;a<o;a+=1){for(h=new Set,c=r[a],u=e[c],s=0;s<d;s+=1)if(f=u(t[s]),Array.isArray(f)){const t=f.length;for(l=0;l<t;l+=1)h.add(f[l])}else h.add(f);const o=Array.from(h);i[c]=!0===n?o.sort():o}return i}(t,i.ordinal)),i.other&&(r={...r,...yc(t,i.other)}),r}function xc(t){return function([e,n]){return"function"==typeof n&&(n=n(e[t])),e?function(t=[],e){return!0===Array.isArray(e)?e.map(((e,n)=>null===e?t[n]:e)):t}(e[t],n):n}}var _c={x:bs,y:bs,z:bs,r:function(){return As.apply(null,arguments).exponent(.5)}};function bc(t){return t}function kc(t){return e=>Math.log(t*e)}function Mc(t){return e=>t*Math.exp(e)}function Ec(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function Sc(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ac(t){return t.replace(/^\w/,(t=>t.toUpperCase()))}function Nc(t,e=""){return`scale${Ac(e)}${Ac(t)}`}function Rc(t){if("function"==typeof t.bandwidth)return"function"==typeof t.paddingInner?Nc("band"):Nc("point");if(vc(Object.keys(t),["domain","range","unknown","copy"]))return Nc("ordinal");let e="";if(t.interpolator&&(e=3===t.domain().length?"diverging":"sequential"),t.quantiles)return Nc("quantile",e);if(t.thresholds)return Nc("quantize",e);if(t.constant)return Nc("symlog",e);if(t.base)return Nc("log",e);if(t.exponent)return.5===t.exponent()?Nc("sqrt",e):Nc("pow",e);if(vc(Object.keys(t),["domain","range","invertExtent","unknown","copy"]))return Nc("threshold");if(vc(Object.keys(t),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return Nc("identity");if(vc(Object.keys(t),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return Nc("radial");if(e)return Nc(e);if(t.domain()[0]instanceof Date){const e=new Date;let n;return e.getDay=()=>n="time",e.getUTCDay=()=>n="utc",t.tickFormat(0,"%a")(e),Nc(n)}return Nc("linear")}const Pc=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function zc(t,e){if("function"!=typeof t.range)throw console.log(t),new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e)||Pc.includes(Rc(t)))return t.domain();if(!0===$c(t))return t.domain();const{lift:n,ground:i}=function(t){const e=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===e){const n=Math.sign(t.domain()[0]);return{lift:kc(n),ground:Mc(n),scaleType:e}}if("pow"===e){const t=1;return{lift:Sc(t),ground:Sc(1/t),scaleType:e}}if("sqrt"===e){const t=.5;return{lift:Sc(t),ground:Sc(1/t),scaleType:e}}if("symlog"===e){const t=1;return{lift:(n=t,t=>Math.sign(t)*Math.log1p(Math.abs(t/n))),ground:Ec(t),scaleType:e}}var n;return{lift:bc,ground:bc,scaleType:e}}(t),r=t.domain()[0],o="[object Date]"===Object.prototype.toString.call(r),[a,s]=t.domain().map((t=>n(o?t.getTime():t))),[l,c]=t.range(),u=e[0]||0,f=e[1]||0,h=(s-a)/(Math.abs(c-l)-u-f);return[a-u*h,f*h+s].map((t=>i(o?new Date(t):t)))}function Tc(t){return function([e,n,i,r,o,a,s,l,c,u]){if(null===n)return null;const f=function(t,e,n,i,r,o){return r?"function"==typeof r?r({width:e,height:n}):r:function(t,e,n,i,r){let o,a;return!0===r?(o=0,a=100):(o="r"===t?1:0,a="y"===t?n:"r"===t?25:e),!0===i?[a,o]:[o,a]}(t,e,n,i,o)}(t,s,l,a,c,u),h=e===_c[t]?e():e.copy();return h.domain(i),(!h.interpolator||"function"==typeof h.interpolator&&h.interpolator().name.startsWith("identity"))&&h.range(f),r&&h.domain(zc(h,r)),!0!==o&&"number"!=typeof o||("function"==typeof h.nice?h.nice("number"==typeof o?o:void 0):console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),h}}function Cc([t,e]){return n=>{const i=t(n);return Array.isArray(i)?i.map((t=>e(t))):e(i)}}function Wc([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Oc="    ";function Lc(t){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),function(t){Object.entries(t).forEach((([t,e])=>{console.log(`${Oc}${t}:`,e)}))}(t.boundingBox),console.log("Scales:\n"),Object.keys(t.activeGetters).forEach((e=>{!function(t,e,n){const i=Rc(e);console.log(`${Oc}${t}:`),console.log(`${Oc}${Oc}Accessor: "${n.toString()}"`),console.log(`${Oc}${Oc}Type: ${i}`),Dc(e,"domain"),Dc(e,"range"," ")}(e,t[`${e}Scale`],t[e])})),console.log("/************ End LayerCake Debug ***************/\n")}function Dc(t,e,n=""){const i=t[e](),r=function(t){const e=[],n=t.map(((n,i)=>{const r=function(t){const{r:e,g:n,b:i,opacity:r}=Mn(t);return!![e,n,i].every((t=>t>=0&&t<=255))&&{r:e,g:n,b:i,o:r}}(n);if(!1!==r){e.push(r);return`%c ${n}${i===t.length-1?" ":""}`}return n}));if(e.length)return[`%c[ ${n.join(", ")}`,e.map((t=>`background-color: rgba(${t.r}, ${t.g}, ${t.b}, ${t.o}); color:${function({r:t,g:e,b:n}){return(.2126*t+.7152*e+.0722*n)/255>.6?"black":"white"}(t)};`))];return null}(i);r?function(t,e,n){console.log(`${Oc}${Oc}${Ac(e)}:    %cArray%c(${n.length}) `+t[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...t[1],"color: #1478e4")}(r,e,i):console.log(`${Oc}${Oc}${Ac(e)}:${n}`,i)}const Ic=t=>({element:4&t[0],width:8&t[1],height:16&t[1],aspectRatio:32&t[1],containerWidth:2&t[1],containerHeight:1&t[1],activeGetters:1024&t[0],percentRange:4&t[1],x:268435456&t[0],y:134217728&t[0],z:67108864&t[0],r:33554432&t[0],custom:4096&t[0],data:1073741824&t[0],xNice:16777216&t[0],yNice:8388608&t[0],zNice:4194304&t[0],rNice:2097152&t[0],xReverse:1048576&t[0],yReverse:524288&t[0],zReverse:262144&t[0],rReverse:131072&t[0],xPadding:65536&t[0],yPadding:32768&t[0],zPadding:16384&t[0],rPadding:8192&t[0],padding:64&t[1],flatData:536870912&t[0],extents:128&t[1],xDomain:256&t[1],yDomain:512&t[1],zDomain:1024&t[1],rDomain:2048&t[1],xRange:4096&t[1],yRange:8192&t[1],zRange:16384&t[1],rRange:32768&t[1],config:2048&t[0],xScale:512&t[0],xGet:65536&t[1],yScale:256&t[0],yGet:131072&t[1],zScale:128&t[0],zGet:262144&t[1],rScale:64&t[0],rGet:524288&t[1]}),jc=t=>({element:t[2],width:t[34],height:t[35],aspectRatio:t[36],containerWidth:t[32],containerHeight:t[31],activeGetters:t[10],percentRange:t[33],x:t[28],y:t[27],z:t[26],r:t[25],custom:t[12],data:t[30],xNice:t[24],yNice:t[23],zNice:t[22],rNice:t[21],xReverse:t[20],yReverse:t[19],zReverse:t[18],rReverse:t[17],xPadding:t[16],yPadding:t[15],zPadding:t[14],rPadding:t[13],padding:t[37],flatData:t[29],extents:t[38],xDomain:t[39],yDomain:t[40],zDomain:t[41],rDomain:t[42],xRange:t[43],yRange:t[44],zRange:t[45],rRange:t[46],config:t[11],xScale:t[9],xGet:t[47],yScale:t[8],yGet:t[48],zScale:t[7],zGet:t[49],rScale:t[6],rGet:t[50]});function qc(t){let e,n,i;const r=t[153].default,o=h(r,t,t[152],jc);return{c(){e=A("div"),o&&o.c(),C(e,"class","layercake-container svelte-vhzpsp"),nt((()=>t[155].call(e))),L(e,"position",t[5]),L(e,"top","absolute"===t[5]?"0":null),L(e,"right","absolute"===t[5]?"0":null),L(e,"bottom","absolute"===t[5]?"0":null),L(e,"left","absolute"===t[5]?"0":null),L(e,"pointer-events",!1===t[4]?"none":null)},m(r,a){M(r,e,a),o&&o.m(e,null),t[154](e),n=q(e,t[155].bind(e)),i=!0},p(t,n){o&&o.p&&(!i||2147483588&n[0]|1048575&n[1]|268435456&n[4])&&g(o,r,t,t[152],i?p(r,t[152],n,Ic):m(t[152]),jc),32&n[0]&&L(e,"position",t[5]),32&n[0]&&L(e,"top","absolute"===t[5]?"0":null),32&n[0]&&L(e,"right","absolute"===t[5]?"0":null),32&n[0]&&L(e,"bottom","absolute"===t[5]?"0":null),32&n[0]&&L(e,"left","absolute"===t[5]?"0":null),16&n[0]&&L(e,"pointer-events",!1===t[4]?"none":null)},i(t){i||(ht(o,t),i=!0)},o(t){dt(o,t),i=!1},d(i){i&&E(e),o&&o.d(i),t[154](null),n()}}}function Hc(t){let e,n,i=(!0===t[3]||"undefined"!=typeof window)&&qc(t);return{c(){i&&i.c(),e=z()},m(t,r){i&&i.m(t,r),M(t,e,r),n=!0},p(t,n){!0===t[3]||"undefined"!=typeof window?i?(i.p(t,n),8&n[0]&&ht(i,1)):(i=qc(t),i.c(),ht(i,1),i.m(e.parentNode,e)):i&&(ut(),dt(i,1,1,(()=>{i=null})),ft())},i(t){n||(ht(i),n=!0)},o(t){dt(i),n=!1},d(t){i&&i.d(t),t&&E(e)}}}function Bc(t,e,n){let i,r,o,a,s,l,c,u,h,d,p,g,m,v,$,w,x,_,b,k,M,E,S,A,N,R,P,z,T,C,W,O,L,D,I,j,q,H,B,F,Y,U,J,Z,Q,K,tt,et,nt,it,rt,ot,at,st,lt,ct,ut,ft,ht,dt,pt,gt,{$$slots:mt={},$$scope:yt}=e;const vt=function(t,e=300){let n;return(...i)=>{clearTimeout(n),n=setTimeout((()=>{t.apply(this,i)}),e)}}(Lc,200);let{ssr:$t=!1}=e,{pointerEvents:wt=!0}=e,{position:xt="relative"}=e,{percentRange:_t=!1}=e,{width:bt}=e,{height:kt}=e,{containerWidth:Mt=bt||100}=e,{containerHeight:Et=kt||100}=e,{element:St}=e,{x:At}=e,{y:Nt}=e,{z:Rt}=e,{r:Pt}=e,{data:zt=[]}=e,{xDomain:Tt}=e,{yDomain:Ct}=e,{zDomain:Wt}=e,{rDomain:Ot}=e,{xNice:Lt=!1}=e,{yNice:Dt=!1}=e,{zNice:It=!1}=e,{rNice:jt=!1}=e,{xPadding:qt}=e,{yPadding:Ht}=e,{zPadding:Bt}=e,{rPadding:Gt}=e,{xScale:Xt=_c.x}=e,{yScale:Ft=_c.y}=e,{zScale:Yt=_c.z}=e,{rScale:Ut=_c.r}=e,{xRange:Vt}=e,{yRange:Jt}=e,{zRange:Zt}=e,{rRange:Qt}=e,{xReverse:Kt=!1}=e,{yReverse:te}=e,{zReverse:ee=!1}=e,{rReverse:ne=!1}=e,{padding:ie={}}=e,{extents:re={}}=e,{flatData:oe}=e,{custom:ae={}}=e,{debug:se=!1}=e,le=!1;X((()=>{le=!0}));const ce={},ue=Zs(_t);f(t,ue,(t=>n(33,Q=t)));const fe=Zs(Mt);f(t,fe,(t=>n(32,Z=t)));const he=Zs(Et);f(t,he,(t=>n(31,J=t)));const de=Zs(mc(re));f(t,de,(t=>n(170,U=t)));const pe=Zs(zt);f(t,pe,(t=>n(30,Y=t)));const ge=Zs(oe||zt);f(t,ge,(t=>n(29,F=t)));const me=Zs(ie);f(t,me,(t=>n(169,B=t)));const ye=Zs(gc(At));f(t,ye,(t=>n(28,H=t)));const ve=Zs(gc(Nt));f(t,ve,(t=>n(27,q=t)));const $e=Zs(gc(Rt));f(t,$e,(t=>n(26,j=t)));const we=Zs(gc(Pt));f(t,we,(t=>n(25,I=t)));const xe=Zs(Tt);f(t,xe,(t=>n(168,D=t)));const _e=Zs(Ct);f(t,_e,(t=>n(167,L=t)));const be=Zs(Wt);f(t,be,(t=>n(166,O=t)));const ke=Zs(Ot);f(t,ke,(t=>n(165,W=t)));const Me=Zs(Lt);f(t,Me,(t=>n(24,C=t)));const Ee=Zs(Dt);f(t,Ee,(t=>n(23,T=t)));const Se=Zs(It);f(t,Se,(t=>n(22,z=t)));const Ae=Zs(jt);f(t,Ae,(t=>n(21,P=t)));const Ne=Zs(Kt);f(t,Ne,(t=>n(20,R=t)));const Re=Zs(i);f(t,Re,(t=>n(19,N=t)));const Pe=Zs(ee);f(t,Pe,(t=>n(18,A=t)));const ze=Zs(ne);f(t,ze,(t=>n(17,S=t)));const Te=Zs(qt);f(t,Te,(t=>n(16,E=t)));const Ce=Zs(Ht);f(t,Ce,(t=>n(15,M=t)));const We=Zs(Bt);f(t,We,(t=>n(14,k=t)));const Oe=Zs(Gt);f(t,Oe,(t=>n(13,b=t)));const Le=Zs(Vt);f(t,Le,(t=>n(164,_=t)));const De=Zs(Jt);f(t,De,(t=>n(163,x=t)));const Ie=Zs(Zt);f(t,Ie,(t=>n(162,w=t)));const je=Zs(Qt);f(t,je,(t=>n(161,$=t)));const qe=Zs(Xt);f(t,qe,(t=>n(160,v=t)));const He=Zs(Ft);f(t,He,(t=>n(159,m=t)));const Be=Zs(Yt);f(t,Be,(t=>n(158,g=t)));const Ge=Zs(Ut);f(t,Ge,(t=>n(157,p=t)));const Xe=Zs(ce);f(t,Xe,(t=>n(11,h=t)));const Fe=Zs(ae);f(t,Fe,(t=>n(12,d=t)));const Ye=Qs([ye,ve,$e,we],(([t,e,n,i])=>{const r={};return t&&(r.x=t),e&&(r.y=e),n&&(r.z=n),i&&(r.r=i),r}));f(t,Ye,(t=>n(10,c=t)));const Ue=Qs([me,fe,he],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t)));f(t,Ue,(t=>n(37,nt=t)));const Ve=Qs([fe,he,Ue],(([t,e,n])=>{const i={};return i.top=n.top,i.right=t-n.right,i.bottom=e-n.bottom,i.left=n.left,i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<=0&&!0===le&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),i.height<=0&&!0===le&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),i}));f(t,Ve,(t=>n(151,u=t)));const Je=Qs([Ve],(([t])=>t.width));f(t,Je,(t=>n(34,K=t)));const Ze=Qs([Ve],(([t])=>t.height));f(t,Ze,(t=>n(35,tt=t)));const Qe=Qs([ge,Ye,de,qe,He,Ge,Be],(([t,e,n,i,r,o,a])=>{const s={x:i,y:r,r:o,z:a},l=mc(e,n),c=Object.fromEntries(Object.keys(l).map((t=>[t,s[t]])));if(Object.keys(l).length>0){return{...wc(t,l,c),...n}}return{}}));f(t,Qe,(t=>n(38,it=t)));const Ke=Qs([Qe,xe],xc("x"));f(t,Ke,(t=>n(39,rt=t)));const tn=Qs([Qe,_e],xc("y"));f(t,tn,(t=>n(40,ot=t)));const en=Qs([Qe,be],xc("z"));f(t,en,(t=>n(41,at=t)));const nn=Qs([Qe,ke],xc("r"));f(t,nn,(t=>n(42,st=t)));const rn=Qs([qe,Qe,Ke,Te,Me,Ne,Je,Ze,Le,ue],Tc("x"));f(t,rn,(t=>n(9,l=t)));const on=Qs([ye,rn],Cc);f(t,on,(t=>n(47,ht=t)));const an=Qs([He,Qe,tn,Ce,Ee,Re,Je,Ze,De,ue],Tc("y"));f(t,an,(t=>n(8,s=t)));const sn=Qs([ve,an],Cc);f(t,sn,(t=>n(48,dt=t)));const ln=Qs([Be,Qe,en,We,Se,Pe,Je,Ze,Ie,ue],Tc("z"));f(t,ln,(t=>n(7,a=t)));const cn=Qs([$e,ln],Cc);f(t,cn,(t=>n(49,pt=t)));const un=Qs([Ge,Qe,nn,Oe,Ae,ze,Je,Ze,je,ue],Tc("r"));f(t,un,(t=>n(6,o=t)));const fn=Qs([we,un],Cc);f(t,fn,(t=>n(50,gt=t)));const hn=Qs([rn],Wc);f(t,hn,(t=>n(43,lt=t)));const dn=Qs([an],Wc);f(t,dn,(t=>n(44,ct=t)));const pn=Qs([ln],Wc);f(t,pn,(t=>n(45,ut=t)));const gn=Qs([un],Wc);f(t,gn,(t=>n(46,ft=t)));const mn=Qs([Je,Ze],(([t,e])=>t/e));return f(t,mn,(t=>n(36,et=t))),t.$$set=t=>{"ssr"in t&&n(3,$t=t.ssr),"pointerEvents"in t&&n(4,wt=t.pointerEvents),"position"in t&&n(5,xt=t.position),"percentRange"in t&&n(111,_t=t.percentRange),"width"in t&&n(112,bt=t.width),"height"in t&&n(113,kt=t.height),"containerWidth"in t&&n(0,Mt=t.containerWidth),"containerHeight"in t&&n(1,Et=t.containerHeight),"element"in t&&n(2,St=t.element),"x"in t&&n(114,At=t.x),"y"in t&&n(115,Nt=t.y),"z"in t&&n(116,Rt=t.z),"r"in t&&n(117,Pt=t.r),"data"in t&&n(118,zt=t.data),"xDomain"in t&&n(119,Tt=t.xDomain),"yDomain"in t&&n(120,Ct=t.yDomain),"zDomain"in t&&n(121,Wt=t.zDomain),"rDomain"in t&&n(122,Ot=t.rDomain),"xNice"in t&&n(123,Lt=t.xNice),"yNice"in t&&n(124,Dt=t.yNice),"zNice"in t&&n(125,It=t.zNice),"rNice"in t&&n(126,jt=t.rNice),"xPadding"in t&&n(127,qt=t.xPadding),"yPadding"in t&&n(128,Ht=t.yPadding),"zPadding"in t&&n(129,Bt=t.zPadding),"rPadding"in t&&n(130,Gt=t.rPadding),"xScale"in t&&n(131,Xt=t.xScale),"yScale"in t&&n(132,Ft=t.yScale),"zScale"in t&&n(133,Yt=t.zScale),"rScale"in t&&n(134,Ut=t.rScale),"xRange"in t&&n(135,Vt=t.xRange),"yRange"in t&&n(136,Jt=t.yRange),"zRange"in t&&n(137,Zt=t.zRange),"rRange"in t&&n(138,Qt=t.rRange),"xReverse"in t&&n(139,Kt=t.xReverse),"yReverse"in t&&n(140,te=t.yReverse),"zReverse"in t&&n(141,ee=t.zReverse),"rReverse"in t&&n(142,ne=t.rReverse),"padding"in t&&n(143,ie=t.padding),"extents"in t&&n(144,re=t.extents),"flatData"in t&&n(145,oe=t.flatData),"custom"in t&&n(146,ae=t.custom),"debug"in t&&n(147,se=t.debug),"$$scope"in t&&n(152,yt=t.$$scope)},t.$$.update=()=>{65792&t.$$.dirty[4]&&n(150,i=void 0===te?"function"!=typeof Ft.bandwidth:te),2097152&t.$$.dirty[3]&&At&&n(148,ce.x=At,ce),4194304&t.$$.dirty[3]&&Nt&&n(148,ce.y=Nt,ce),8388608&t.$$.dirty[3]&&Rt&&n(148,ce.z=Rt,ce),16777216&t.$$.dirty[3]&&Pt&&n(148,ce.r=Pt,ce),67108864&t.$$.dirty[3]&&Tt&&n(148,ce.xDomain=Tt,ce),134217728&t.$$.dirty[3]&&Ct&&n(148,ce.yDomain=Ct,ce),268435456&t.$$.dirty[3]&&Wt&&n(148,ce.zDomain=Wt,ce),536870912&t.$$.dirty[3]&&Ot&&n(148,ce.rDomain=Ot,ce),2048&t.$$.dirty[4]&&Vt&&n(148,ce.xRange=Vt,ce),4096&t.$$.dirty[4]&&Jt&&n(148,ce.yRange=Jt,ce),8192&t.$$.dirty[4]&&Zt&&n(148,ce.zRange=Zt,ce),16384&t.$$.dirty[4]&&Qt&&n(148,ce.rRange=Qt,ce),262144&t.$$.dirty[3]&&y(ue,Q=_t,Q),1&t.$$.dirty[0]&&y(fe,Z=Mt,Z),2&t.$$.dirty[0]&&y(he,J=Et,J),1048576&t.$$.dirty[4]&&y(de,U=mc(re),U),33554432&t.$$.dirty[3]&&y(pe,Y=zt,Y),33554432&t.$$.dirty[3]|2097152&t.$$.dirty[4]&&y(ge,F=oe||zt,F),524288&t.$$.dirty[4]&&y(me,B=ie,B),2097152&t.$$.dirty[3]&&y(ye,H=gc(At),H),4194304&t.$$.dirty[3]&&y(ve,q=gc(Nt),q),8388608&t.$$.dirty[3]&&y($e,j=gc(Rt),j),16777216&t.$$.dirty[3]&&y(we,I=gc(Pt),I),67108864&t.$$.dirty[3]&&y(xe,D=Tt,D),134217728&t.$$.dirty[3]&&y(_e,L=Ct,L),268435456&t.$$.dirty[3]&&y(be,O=Wt,O),536870912&t.$$.dirty[3]&&y(ke,W=Ot,W),1073741824&t.$$.dirty[3]&&y(Me,C=Lt,C),1&t.$$.dirty[4]&&y(Ee,T=Dt,T),2&t.$$.dirty[4]&&y(Se,z=It,z),4&t.$$.dirty[4]&&y(Ae,P=jt,P),32768&t.$$.dirty[4]&&y(Ne,R=Kt,R),67108864&t.$$.dirty[4]&&y(Re,N=i,N),131072&t.$$.dirty[4]&&y(Pe,A=ee,A),262144&t.$$.dirty[4]&&y(ze,S=ne,S),8&t.$$.dirty[4]&&y(Te,E=qt,E),16&t.$$.dirty[4]&&y(Ce,M=Ht,M),32&t.$$.dirty[4]&&y(We,k=Bt,k),64&t.$$.dirty[4]&&y(Oe,b=Gt,b),2048&t.$$.dirty[4]&&y(Le,_=Vt,_),4096&t.$$.dirty[4]&&y(De,x=Jt,x),8192&t.$$.dirty[4]&&y(Ie,w=Zt,w),16384&t.$$.dirty[4]&&y(je,$=Qt,$),128&t.$$.dirty[4]&&y(qe,v=Xt,v),256&t.$$.dirty[4]&&y(He,m=Ft,m),512&t.$$.dirty[4]&&y(Be,g=Yt,g),1024&t.$$.dirty[4]&&y(Ge,p=Ut,p),4194304&t.$$.dirty[4]&&y(Fe,d=ae,d),16777216&t.$$.dirty[4]&&y(Xe,h=ce,h),33554432&t.$$.dirty[4]&&function(t,e){G().$$.context.set(t,e)}("LayerCake",r),1992&t.$$.dirty[0]|159383552&t.$$.dirty[4]&&(!u||!0!==se||!0!==$t&&"undefined"==typeof window||vt({boundingBox:u,activeGetters:c,x:ce.x,y:ce.y,z:ce.z,r:ce.r,xScale:l,yScale:s,zScale:a,rScale:o}))},n(149,r={activeGetters:Ye,width:Je,height:Ze,percentRange:ue,aspectRatio:mn,containerWidth:fe,containerHeight:he,x:ye,y:ve,z:$e,r:we,custom:Fe,data:pe,xNice:Me,yNice:Ee,zNice:Se,rNice:Ae,xReverse:Ne,yReverse:Re,zReverse:Pe,rReverse:ze,xPadding:Te,yPadding:Ce,zPadding:We,rPadding:Oe,padding:Ue,flatData:ge,extents:Qe,xDomain:Ke,yDomain:tn,zDomain:en,rDomain:nn,xRange:hn,yRange:dn,zRange:pn,rRange:gn,config:Xe,xScale:rn,xGet:on,yScale:an,yGet:sn,zScale:ln,zGet:cn,rScale:un,rGet:fn}),[Mt,Et,St,$t,wt,xt,o,a,s,l,c,h,d,b,k,M,E,S,A,N,R,P,z,T,C,I,j,q,H,F,Y,J,Z,Q,K,tt,et,nt,it,rt,ot,at,st,lt,ct,ut,ft,ht,dt,pt,gt,ue,fe,he,de,pe,ge,me,ye,ve,$e,we,xe,_e,be,ke,Me,Ee,Se,Ae,Ne,Re,Pe,ze,Te,Ce,We,Oe,Le,De,Ie,je,qe,He,Be,Ge,Xe,Fe,Ye,Ue,Ve,Je,Ze,Qe,Ke,tn,en,nn,rn,on,an,sn,ln,cn,un,fn,hn,dn,pn,gn,mn,_t,bt,kt,At,Nt,Rt,Pt,zt,Tt,Ct,Wt,Ot,Lt,Dt,It,jt,qt,Ht,Bt,Gt,Xt,Ft,Yt,Ut,Vt,Jt,Zt,Qt,Kt,te,ee,ne,ie,re,oe,ae,se,ce,r,i,u,yt,mt,function(t){V[t?"unshift":"push"]((()=>{St=t,n(2,St)}))},function(){Mt=this.clientWidth,Et=this.clientHeight,n(0,Mt),n(1,Et)}]}class Gc extends $t{constructor(t){super(),vt(this,t,Bc,Hc,s,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},null,[-1,-1,-1,-1,-1,-1])}}const Xc=t=>({element:1&t}),Fc=t=>({element:t[0]}),Yc=t=>({element:1&t}),Uc=t=>({element:t[0]}),Vc=t=>({element:1&t}),Jc=t=>({element:t[0]});function Zc(t){let e,n;return{c(){e=N("title"),n=R(t[8])},m(t,i){M(t,e,i),k(e,n)},p(t,e){256&e&&O(n,t[8])},d(t){t&&E(e)}}}function Qc(t){let e,n,i,r,o;const a=t[16].title,s=h(a,t,t[15],Jc),l=s||function(t){let e,n=t[8]&&Zc(t);return{c(){n&&n.c(),e=z()},m(t,i){n&&n.m(t,i),M(t,e,i)},p(t,i){t[8]?n?n.p(t,i):(n=Zc(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&E(e)}}}(t),c=t[16].defs,u=h(c,t,t[15],Uc),f=t[16].default,d=h(f,t,t[15],Fc);return{c(){e=N("svg"),l&&l.c(),n=N("defs"),u&&u.c(),i=N("g"),d&&d.c(),C(i,"class","layercake-layout-svg_g"),C(i,"transform",r="translate("+t[11].left+", "+t[11].top+")"),C(e,"class","layercake-layout-svg svelte-u84d8d"),C(e,"viewBox",t[4]),C(e,"width",t[9]),C(e,"height",t[10]),C(e,"aria-label",t[5]),C(e,"aria-labelledby",t[6]),C(e,"aria-describedby",t[7]),L(e,"z-index",t[2]),L(e,"pointer-events",!1===t[3]?"none":null)},m(r,a){M(r,e,a),l&&l.m(e,null),k(e,n),u&&u.m(n,null),k(e,i),d&&d.m(i,null),t[17](i),t[18](e),o=!0},p(t,[n]){s?s.p&&(!o||32769&n)&&g(s,a,t,t[15],o?p(a,t[15],n,Vc):m(t[15]),Jc):l&&l.p&&(!o||256&n)&&l.p(t,o?n:-1),u&&u.p&&(!o||32769&n)&&g(u,c,t,t[15],o?p(c,t[15],n,Yc):m(t[15]),Uc),d&&d.p&&(!o||32769&n)&&g(d,f,t,t[15],o?p(f,t[15],n,Xc):m(t[15]),Fc),(!o||2048&n&&r!==(r="translate("+t[11].left+", "+t[11].top+")"))&&C(i,"transform",r),(!o||16&n)&&C(e,"viewBox",t[4]),(!o||512&n)&&C(e,"width",t[9]),(!o||1024&n)&&C(e,"height",t[10]),(!o||32&n)&&C(e,"aria-label",t[5]),(!o||64&n)&&C(e,"aria-labelledby",t[6]),(!o||128&n)&&C(e,"aria-describedby",t[7]),4&n&&L(e,"z-index",t[2]),8&n&&L(e,"pointer-events",!1===t[3]?"none":null)},i(t){o||(ht(l,t),ht(u,t),ht(d,t),o=!0)},o(t){dt(l,t),dt(u,t),dt(d,t),o=!1},d(n){n&&E(e),l&&l.d(n),u&&u.d(n),d&&d.d(n),t[17](null),t[18](null)}}}function Kc(t,e,n){let i,r,o,{$$slots:a={},$$scope:s}=e,{element:l}=e,{innerElement:c}=e,{zIndex:u}=e,{pointerEvents:h}=e,{viewBox:d}=e,{label:p}=e,{labelledBy:g}=e,{describedBy:m}=e,{title:y}=e;const{containerWidth:v,containerHeight:$,padding:w}=(x="LayerCake",G().$$.context.get(x));var x;return f(t,v,(t=>n(9,i=t))),f(t,$,(t=>n(10,r=t))),f(t,w,(t=>n(11,o=t))),t.$$set=t=>{"element"in t&&n(0,l=t.element),"innerElement"in t&&n(1,c=t.innerElement),"zIndex"in t&&n(2,u=t.zIndex),"pointerEvents"in t&&n(3,h=t.pointerEvents),"viewBox"in t&&n(4,d=t.viewBox),"label"in t&&n(5,p=t.label),"labelledBy"in t&&n(6,g=t.labelledBy),"describedBy"in t&&n(7,m=t.describedBy),"title"in t&&n(8,y=t.title),"$$scope"in t&&n(15,s=t.$$scope)},[l,c,u,h,d,p,g,m,y,i,r,o,v,$,w,s,a,function(t){V[t?"unshift":"push"]((()=>{c=t,n(1,c)}))},function(t){V[t?"unshift":"push"]((()=>{l=t,n(0,l)}))}]}class tu extends $t{constructor(t){super(),vt(this,t,Kc,Qc,s,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function eu(t,e,n){const i=t.slice();return i[15]=e[n],i}function nu(t){let e,n,i,r,a,s,l;function c(...e){return t[11](t[15],...e)}return{c(){e=N("path"),C(e,"fill",n=t[5](t[15])),C(e,"fill-opacity",i=t[6](t[15])),C(e,"class",r="country "+t[15].properties.adm0_iso),C(e,"d",a=t[15].path)},m(n,i){M(n,e,i),s||(l=[T(e,"mouseover",c),T(e,"mousemove",t[8]),T(e,"mouseout",t[9])],s=!0)},p(o,s){t=o,2&s&&n!==(n=t[5](t[15]))&&C(e,"fill",n),2&s&&i!==(i=t[6](t[15]))&&C(e,"fill-opacity",i),2&s&&r!==(r="country "+t[15].properties.adm0_iso)&&C(e,"class",r),2&s&&a!==(a=t[15].path)&&C(e,"d",a)},d(t){t&&E(e),s=!1,o(l)}}}function iu(t){let e,n,i,r,o,a,s=t[2].iso+"";return{c(){e=N("g"),n=N("rect"),r=N("text"),o=R(s),C(n,"x","0"),C(n,"y","-15"),C(n,"width",i=t[3]+10),C(n,"height","20"),C(n,"fill","black"),C(n,"rx","3"),C(r,"x","5"),C(r,"y","0"),C(r,"font-size","12"),C(r,"fill","white"),C(e,"transform",a="translate("+(t[2].x+10)+", "+(t[2].y-10)+")")},m(i,a){M(i,e,a),k(e,n),k(e,r),k(r,o),t[12](r)},p(t,r){8&r&&i!==(i=t[3]+10)&&C(n,"width",i),4&r&&s!==(s=t[2].iso+"")&&O(o,s),4&r&&a!==(a="translate("+(t[2].x+10)+", "+(t[2].y-10)+")")&&C(e,"transform",a)},d(n){n&&E(e),t[12](null)}}}function ru(e){let n,i,r=e[1],o=[];for(let t=0;t<r.length;t+=1)o[t]=nu(eu(e,r,t));let a=e[2].visible&&iu(e);return{c(){n=N("g");for(let t=0;t<o.length;t+=1)o[t].c();i=z(),a&&a.c(),C(n,"class","map-group"),C(n,"transform",e[0])},m(t,e){M(t,n,e);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(n,null);k(n,i),a&&a.m(n,null)},p(t,[e]){if(994&e){let a;for(r=t[1],a=0;a<r.length;a+=1){const s=eu(t,r,a);o[a]?o[a].p(s,e):(o[a]=nu(s),o[a].c(),o[a].m(n,i))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}t[2].visible?a?a.p(t,e):(a=iu(t),a.c(),a.m(n,null)):a&&(a.d(1),a=null),1&e&&C(n,"transform",t[0])},i:t,o:t,d(t){t&&E(n),S(o,t),a&&a.d()}}}function ou(t,e,n){let{cumulative_isos:i}=e,{transform:r}=e,{countries:o}=e,a=bs().domain([0,150]).range([.2,1]);let s,l=0;let c={iso:null,x:0,y:0,visible:!1};function u(t,e){let r=e.properties.adm0_iso,o=i.find((t=>t.iso==r));if(o){const[i,r]=en(t);n(2,c={iso:e.properties.admin+": "+o.count,x:i,y:r,visible:!0})}else n(2,c.visible=!1,c)}return t.$$set=t=>{"cumulative_isos"in t&&n(10,i=t.cumulative_isos),"transform"in t&&n(0,r=t.transform),"countries"in t&&n(1,o=t.countries)},t.$$.update=()=>{1024&t.$$.dirty&&i&&(nn(".country").style("fill"," black"),i.forEach((t=>{nn("."+t.iso).style("fill","#f6f1d6").style("fill-opacity",a(t.count))}))),4&t.$$.dirty&&c.iso&&async function(){await et(),s&&n(3,l=s.getBBox().width)}()},[r,o,c,l,s,function(t){return i.some((e=>e.iso===t.properties.adm0_iso))?"#f6f1d6":"black"},function(t){let e=t.properties.adm0_iso,n=i.find((t=>t.iso==e));return n?a(n.count):1},u,function(t){const[e,i]=en(t);n(2,c.x=e,c),n(2,c.y=i,c)},function(){n(2,c.visible=!1,c)},i,(t,e)=>u(e,t),function(t){V[t?"unshift":"push"]((()=>{s=t,n(4,s)}))}]}class au extends $t{constructor(t){super(),vt(this,t,ou,ru,s,{cumulative_isos:10,transform:0,countries:1})}}function su(t){let e,n,i,r=t[0]&&lu(t);return{c(){e=A("div"),r&&r.c(),C(e,"class","wrapper svelte-zaiuf5"),nt((()=>t[20].call(e)))},m(o,a){M(o,e,a),r&&r.m(e,null),n=q(e,t[20].bind(e)),i=!0},p(t,n){t[0]?r?(r.p(t,n),1&n&&ht(r,1)):(r=lu(t),r.c(),ht(r,1),r.m(e,null)):r&&(ut(),dt(r,1,1,(()=>{r=null})),ft())},i(t){i||(ht(r),i=!0)},o(t){dt(r),i=!1},d(t){t&&E(e),r&&r.d(),n()}}}function lu(t){let e,n;return e=new Gc({props:{$$slots:{default:[uu]},$$scope:{ctx:t}}}),{c(){gt(e.$$.fragment)},m(t,i){mt(e,t,i),n=!0},p(t,n){const i={};67108976&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function cu(t){let e,n;return e=new au({props:{countries:t[5],transform:t[6],cumulative_isos:t[4]}}),{c(){gt(e.$$.fragment)},m(t,i){mt(e,t,i),n=!0},p(t,n){const i={};32&n&&(i.countries=t[5]),64&n&&(i.transform=t[6]),16&n&&(i.cumulative_isos=t[4]),e.$set(i)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function uu(t){let e,n;return e=new tu({props:{$$slots:{default:[cu]},$$scope:{ctx:t}}}),{c(){gt(e.$$.fragment)},m(t,i){mt(e,t,i),n=!0},p(t,n){const i={};67108976&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function fu(t){let e,n,i=t[0]&&t[1]&&su(t);return{c(){i&&i.c(),e=z()},m(t,r){i&&i.m(t,r),M(t,e,r),n=!0},p(t,[n]){t[0]&&t[1]?i?(i.p(t,n),3&n&&ht(i,1)):(i=su(t),i.c(),ht(i,1),i.m(e.parentNode,e)):i&&(ut(),dt(i,1,1,(()=>{i=null})),ft())},i(t){n||(ht(i),n=!0)},o(t){dt(i),n=!1},d(t){i&&i.d(t),t&&E(e)}}}function hu(t,e,n){let i,r;const o=Y();let a,s,l,c,u,f,{pax:h}=e,{mygeojson:d}=e,{pax_timeline:p}=e,{pax_gender:g}=e,{step:m}=e,y=Vs,v=400,$=400;const w=20,x=20,_=20,b=40;let k,M,E,S,A,N=[];function R(t){const e=ai(y,t);ir().duration(750).tween("zoom",(()=>t=>{n(6,y=e(t))}))}return t.$$set=t=>{"pax"in t&&n(7,h=t.pax),"mygeojson"in t&&n(0,d=t.mygeojson),"pax_timeline"in t&&n(1,p=t.pax_timeline),"pax_gender"in t&&n(8,g=t.pax_gender),"step"in t&&n(9,m=t.step)},t.$$.update=()=>{13&t.$$.dirty&&n(19,i=Za().fitSize([v,$],d)),524288&t.$$.dirty&&n(18,r=function(t,e){let n,i,r=3,o=4.5;function a(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),co(t,n(i))),i.result()}return a.area=function(t){return co(t,n(Xo)),Xo.result()},a.measure=function(t){return co(t,n(Pa)),Pa.result()},a.bounds=function(t){return co(t,n(ta)),ta.result()},a.centroid=function(t){return co(t,n(pa)),pa.result()},a.projection=function(e){return arguments.length?(n=null==e?(t=null,Ho):(t=e).stream,a):t},a.context=function(t){return arguments.length?(i=null==t?(e=null,new Da(r)):new ka(e=t),"function"!=typeof o&&i.pointRadius(o),a):e},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return r;if(null==t)r=null;else{const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);r=e}return null===e&&(i=new Da(r)),a},a.projection(t).digits(r).context(e)}(i)),262145&t.$$.dirty&&d&&n(5,N=d.features.map((t=>({...t,path:r(t),bounds:r.bounds(t),centroid:r.centroid(t)})))),8224&t.$$.dirty&&N.length>0&&(n(13,k=N.find((t=>"Afghanistan"==t.properties.admin))),n(14,[[M,E],[S,A]]=k.bounds,M,(n(15,E),n(5,N),n(13,k),n(0,d),n(18,r),n(19,i),n(2,v),n(3,$)),(n(16,S),n(5,N),n(13,k),n(0,d),n(18,r),n(19,i),n(2,v),n(3,$)),(n(17,A),n(5,N),n(13,k),n(0,d),n(18,r),n(19,i),n(2,v),n(3,$)))),4&t.$$.dirty&&n(11,l=v-b-x),8&t.$$.dirty&&n(12,c=$-w-_),2048&t.$$.dirty&&(u=hs().domain(il).range([0,l]).padding(.1)),4096&t.$$.dirty&&(f=bs().domain([0,100]).range([c,0])),128&t.$$.dirty&&h&&(n(4,s=rl(h)),o("mapLoaded")),247708&t.$$.dirty&&("map_one"==m?n(4,s=rl(h)):"map_two"==m?(n(4,s=rl(g)),n(4,s=s.filter((t=>t.count>1))),R(Vs)):"map_three"==m&&(n(4,s=[{iso:"AFG",count:30}]),n(10,a=Vs.translate(v/2,$/2).scale(Math.min(2,.9/Math.max((S-M)/v,(A-E)/$))).translate(-(M+S)/2,-(E+A)/2)),R(a)))},[d,p,v,$,s,N,y,h,g,m,a,l,c,k,M,E,S,A,r,i,function(){v=this.clientWidth,$=this.clientHeight,n(2,v),n(3,$)}]}class du extends $t{constructor(t){super(),vt(this,t,hu,fu,s,{pax:7,mygeojson:0,pax_timeline:1,pax_gender:8,step:9})}}function pu(t){let e,n,i,r,o,a,s,l,c,u,f=t[1].iso+"";return{c(){e=N("g"),n=N("rect"),a=N("text"),s=R(f),C(n,"x",i=t[0].x>=180?-25:0),C(n,"y",r=t[0].x>=180?-15:0),C(n,"width",o=t[5]+10),C(n,"height","20"),C(n,"fill","black"),C(n,"rx","3"),C(a,"x",l=t[0].x>=180?-20:5),C(a,"y",c=t[0].x>=180?0:15),C(a,"font-size","12"),C(a,"fill","white"),C(e,"transform",u="translate("+(t[1].x+10)+", "+(t[1].y-10)+") rotate("+(t[0].x>=180?180:0)+")")},m(i,r){M(i,e,r),k(e,n),k(e,a),k(a,s),t[16](a)},p(t,h){1&h&&i!==(i=t[0].x>=180?-25:0)&&C(n,"x",i),1&h&&r!==(r=t[0].x>=180?-15:0)&&C(n,"y",r),32&h&&o!==(o=t[5]+10)&&C(n,"width",o),2&h&&f!==(f=t[1].iso+"")&&O(s,f),1&h&&l!==(l=t[0].x>=180?-20:5)&&C(a,"x",l),1&h&&c!==(c=t[0].x>=180?0:15)&&C(a,"y",c),3&h&&u!==(u="translate("+(t[1].x+10)+", "+(t[1].y-10)+") rotate("+(t[0].x>=180?180:0)+")")&&C(e,"transform",u)},d(n){n&&E(e),t[16](null)}}}function gu(e){let n,i,r,a,s,l,c,u,f,h,d,p,g,m,y,v,$,w,x,_=e[1].visible&&pu(e);return{c(){n=N("g"),i=N("circle"),r=N("g"),a=N("rect"),h=N("text"),d=R(e[4]),_&&_.c(),C(i,"r",e[7]),C(i,"class","svelte-1nvyzy5"),C(a,"x",s=(e[0].x<180?0:-0)+e[3].x-2),C(a,"y",l=e[3].y-1),C(a,"width",c=e[3].width+4),C(a,"height",u=e[3].height+2),C(a,"fill",f=null==e[0].data.key?"none":"#001C23"),C(a,"rx","2"),C(a,"ry","2"),C(h,"x",p=e[0].x<180?15:-15),C(h,"dy","0.32em"),C(h,"text-anchor",g=e[0].x<180?"start":"end"),C(h,"fill","#f6f1d6"),C(h,"font-size","10"),C(h,"opactity",m=null==e[0].data.key?0:1),C(h,"class",y="node "+e[0].data.key),C(r,"transform",v="rotate("+(e[0].x>=180?180:0)+")"),C(n,"transform",$="rotate("+(e[0].x-90)+")translate("+e[0].y+")")},m(t,o){M(t,n,o),k(n,i),k(n,r),k(r,a),k(r,h),k(h,d),e[15](h),_&&_.m(n,null),w||(x=[T(i,"mouseover",e[14]),T(i,"mousemove",e[10]),T(i,"mouseout",e[11])],w=!0)},p(t,[e]){128&e&&C(i,"r",t[7]),9&e&&s!==(s=(t[0].x<180?0:-0)+t[3].x-2)&&C(a,"x",s),8&e&&l!==(l=t[3].y-1)&&C(a,"y",l),8&e&&c!==(c=t[3].width+4)&&C(a,"width",c),8&e&&u!==(u=t[3].height+2)&&C(a,"height",u),1&e&&f!==(f=null==t[0].data.key?"none":"#001C23")&&C(a,"fill",f),16&e&&O(d,t[4]),1&e&&p!==(p=t[0].x<180?15:-15)&&C(h,"x",p),1&e&&g!==(g=t[0].x<180?"start":"end")&&C(h,"text-anchor",g),1&e&&m!==(m=null==t[0].data.key?0:1)&&C(h,"opactity",m),1&e&&y!==(y="node "+t[0].data.key)&&C(h,"class",y),1&e&&v!==(v="rotate("+(t[0].x>=180?180:0)+")")&&C(r,"transform",v),t[1].visible?_?_.p(t,e):(_=pu(t),_.c(),_.m(n,null)):_&&(_.d(1),_=null),1&e&&$!==($="rotate("+(t[0].x-90)+")translate("+t[0].y+")")&&C(n,"transform",$)},i:t,o:t,d(t){t&&E(n),e[15](null),_&&_.d(),w=!1,o(x)}}}function mu(t,e,n){let i,r,o,a,{node:s}=e,{categories:l}=e,c=bs().domain([0,200]).range([1.5,25]),u={x:0,y:0,width:0,height:0},h=Sl(0,{duration:500,easing:kl});function d(){o&&n(3,u=o.getBBox())}f(t,h,(t=>n(7,r=t))),X(d);let p,g=0;let m={iso:null,x:0,y:0,visible:!1};function y(t,e){if(e){const[i,r]=en(t);n(1,m={iso:e.data.count,x:i,y:r,visible:!0})}else n(1,m.visible=!1,m)}return t.$$set=t=>{"node"in t&&n(0,s=t.node),"categories"in t&&n(12,l=t.categories)},t.$$.update=()=>{if(1&t.$$.dirty&&h.set(void 0===s.data.count?0:c(s.data.count)),1&t.$$.dirty&&n(13,i=void 0===s.data.key?"pax_gender":s.data.key),12288&t.$$.dirty&&i&&l){let t=l.find((t=>t.id===i));n(4,a=t?t.name:null)}2&t.$$.dirty&&m.iso&&async function(){await et(),p&&n(5,g=p.getBBox().width)}()},d(),[s,m,o,u,a,g,p,r,h,y,function(t){const[e,i]=en(t);n(1,m.x=e,m),n(1,m.y=i,m)},function(){n(1,m.visible=!1,m)},l,i,t=>y(t,s),function(t){V[t?"unshift":"push"]((()=>{o=t,n(2,o)}))},function(t){V[t?"unshift":"push"]((()=>{p=t,n(6,p)}))}]}class yu extends $t{constructor(t){super(),vt(this,t,mu,gu,s,{node:0,categories:12})}}function vu(t,e,n){const i=t.slice();return i[10]=e[n],i}function $u(t,e,n){const i=t.slice();return i[13]=e[n],i}function wu(t){let e,n,i,r,o,a=t[3].links(),s=[];for(let e=0;e<a.length;e+=1)s[e]=xu($u(t,a,e));let l=t[3].descendants(),c=[];for(let e=0;e<l.length;e+=1)c[e]=_u(vu(t,l,e));const u=t=>dt(c[t],1,1,(()=>{c[t]=null}));return{c(){e=N("svg"),n=N("g");for(let t=0;t<s.length;t+=1)s[t].c();i=z();for(let t=0;t<c.length;t+=1)c[t].c();C(n,"transform",r="translate("+t[1]/2+", "+t[2]/2+")"),C(e,"width",t[1]),C(e,"height",t[2])},m(t,r){M(t,e,r),k(e,n);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(n,null);k(n,i);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(n,null);o=!0},p(t,f){if(24&f){let e;for(a=t[3].links(),e=0;e<a.length;e+=1){const r=$u(t,a,e);s[e]?s[e].p(r,f):(s[e]=xu(r),s[e].c(),s[e].m(n,i))}for(;e<s.length;e+=1)s[e].d(1);s.length=a.length}if(9&f){let e;for(l=t[3].descendants(),e=0;e<l.length;e+=1){const i=vu(t,l,e);c[e]?(c[e].p(i,f),ht(c[e],1)):(c[e]=_u(i),c[e].c(),ht(c[e],1),c[e].m(n,null))}for(ut(),e=l.length;e<c.length;e+=1)u(e);ft()}(!o||6&f&&r!==(r="translate("+t[1]/2+", "+t[2]/2+")"))&&C(n,"transform",r),(!o||2&f)&&C(e,"width",t[1]),(!o||4&f)&&C(e,"height",t[2])},i(t){if(!o){for(let t=0;t<l.length;t+=1)ht(c[t]);o=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)dt(c[t]);o=!1},d(t){t&&E(e),S(s,t),S(c,t)}}}function xu(t){let e,n,i;return{c(){e=N("path"),C(e,"d",n=t[4](t[13])),C(e,"class",i="link "+t[13].target.data.key+" svelte-11zt1po")},m(t,n){M(t,e,n)},p(t,r){24&r&&n!==(n=t[4](t[13]))&&C(e,"d",n),8&r&&i!==(i="link "+t[13].target.data.key+" svelte-11zt1po")&&C(e,"class",i)},d(t){t&&E(e)}}}function _u(t){let e,n;return e=new yu({props:{node:t[10],categories:t[0]}}),{c(){gt(e.$$.fragment)},m(t,i){mt(e,t,i),n=!0},p(t,n){const i={};8&n&&(i.node=t[10]),1&n&&(i.categories=t[0]),e.$set(i)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function bu(t){let e,n,i,r=t[3]&&wu(t);return{c(){e=A("div"),r&&r.c(),C(e,"class","wrapper svelte-11zt1po"),nt((()=>t[9].call(e)))},m(o,a){M(o,e,a),r&&r.m(e,null),n=q(e,t[9].bind(e)),i=!0},p(t,[n]){t[3]?r?(r.p(t,n),8&n&&ht(r,1)):(r=wu(t),r.c(),ht(r,1),r.m(e,null)):r&&(ut(),dt(r,1,1,(()=>{r=null})),ft())},i(t){i||(ht(r),i=!0)},o(t){dt(r),i=!1},d(t){t&&E(e),r&&r.d(),n()}}}function ku(t,e){t.forEach((t=>{e.children.forEach((e=>{"1"===t[e.key]&&(e.count=(e.count||0)+1,e.agtIds=e.agtIds||[],e.agtIds.push(t.AgtId)),e.children.forEach((e=>{"1"===t[e.key]&&(e.count=(e.count||0)+1,e.agtIds=e.agtIds||[],e.agtIds.push(t.AgtId))}))}))}))}function Mu(t,e){const n=t.find((t=>t.AgtId===e));if(!n)return[];const i=Object.entries(n).filter((([t,e])=>t.startsWith("Wgg")&&"1"===e)).map((([t])=>t));return i.push("undefined"),i}function Eu(t,e,n){let i,r,{pax_gender:o}=e,{step:a}=e,{categories:s}=e,l=400,c=400,u=100,f=[];return t.$$set=t=>{"pax_gender"in t&&n(5,o=t.pax_gender),"step"in t&&n(6,a=t.step),"categories"in t&&n(0,s=t.categories)},t.$$.update=()=>{if(32&t.$$.dirty&&o){let e=JSON.parse(JSON.stringify(tl));ku(o,e),n(8,f=e)}if(6&t.$$.dirty&&n(7,u=l<c?l:c),96&t.$$.dirty)if("afgh01"==a){let s=JSON.parse(JSON.stringify(tl));ku(o,s),n(8,f=s),nn("path.link").style("stroke","#808080"),nn("text").style("fill","white")}else if("afgh02"==a){function h(t){Math.ceil(t.length/2);return t.slice(0,1)}let d=h(o),p=JSON.parse(JSON.stringify(tl));ku(d,p),n(8,f=p),nn("path.link").style("stroke","rgb(74, 74, 74)"),nn("text").style("fill","rgb(74, 74, 74)");Mu(o,"589").forEach((t=>{nn("path."+t).style("stroke","#808080"),nn("text."+t).style("fill","white")}))}else if("afgh03"==a){function g(t){Math.ceil(t.length/2);return t.slice(1,2)}let m=g(o),y=JSON.parse(JSON.stringify(tl));ku(m,y),n(8,f=y),nn("path.link").style("stroke","rgb(74, 74, 74)"),nn("text").style("fill","rgb(74, 74, 74)");Mu(o,"1845").forEach((t=>{nn("path."+t).style("stroke","#808080"),nn("text."+t).style("fill","white")}))}if(398&t.$$.dirty&&(c||l&&f)){let v=es().size([360,u/3]);n(3,i=is(f,(t=>t.children))),v(i),n(4,r=qs().angle((function(t){return t.x/180*Math.PI})).radius((function(t){return t.y})))}},[s,l,c,i,r,o,a,u,f,function(){l=this.clientWidth,c=this.clientHeight,n(1,l),n(2,c)}]}class Su extends $t{constructor(t){super(),vt(this,t,Eu,bu,s,{pax_gender:5,step:6,categories:0})}}function Au(e){let n,i,r,a,s,l,u,f,h,d,p,g,m,y,v,$,w;return{c(){n=A("button"),n.innerHTML='<i class="fa fa-info-circle svelte-1si8yti" aria-hidden="true"></i>',i=P(),r=A("div"),r.innerHTML="This &#39;scrollytelling&#39; tool allows users to scroll through key findings\n\t\tand insights from data in the PA-X Peace Agreements Database, with a\n\t\tspecific view on Gender inclusion in formal peace agreements in the\n\t\tcontext of the UN Security Resolution 1325. Cite the data shown in this\n\t\ttool using: <br/><br/><i>Bell, Christine, Sanja Badanjak, Juline Beaujouan, Tim Epple, Adam\n\t\t\tFarquhar, Robert Forster, Astrid Jamar, Sean Molloy, Kevin\n\t\t\tMcNicholl, Kathryn Nash, Jan Pospisil, Robert Wilson, and Laura Wise\n\t\t\t(2025). PA-X Gender Peace Agreements Database and Dataset, Version\n\t\t\t9.</i> \n\t\t<br/> \n\t\t<br/> \n\t\t<strong>Visualization</strong>: Tomas Vancisin<br/><strong>Data Preparation</strong>: Niamh Henry <br/>  <strong>Text</strong>: Laura Wise",a=P(),s=A("img"),u=P(),f=A("h1"),f.textContent="Women, Girls, and Gender in Peace Agreements",h=P(),d=A("div"),d.innerHTML='<p class="svelte-1si8yti">Marking the 25th Anniversary of the Women, Peace and Security\n\t\t\tagenda, this visualization uses the PA-X database to show how and to\n\t\t\twhat extent women, girls, and gender are taken into consideration in\n\t\t\tpeace agreements around the world.</p>',p=P(),g=A("br"),m=P(),y=A("img"),C(n,"class","info svelte-1si8yti"),C(r,"class","info_div svelte-1si8yti"),C(s,"class","peace_logo"),c(s.src,l="./img/pax.png")||C(s,"src","./img/pax.png"),C(s,"alt","peacerep logo"),L(s,"width","200px"),C(f,"class","svelte-1si8yti"),C(d,"id","text_field"),L(d,"padding-left","20%"),L(d,"padding-right","20%"),C(d,"class","svelte-1si8yti"),c(y.src,v="./img/scroll-down-white.svg")||C(y,"src","./img/scroll-down-white.svg"),C(y,"alt","scroll down"),C(y,"class","scroll-down-icon svelte-1si8yti")},m(t,o){M(t,n,o),M(t,i,o),M(t,r,o),M(t,a,o),M(t,s,o),M(t,u,o),M(t,f,o),M(t,h,o),M(t,d,o),M(t,p,o),M(t,g,o),M(t,m,o),M(t,y,o),$||(w=[T(n,"mouseenter",e[18]),T(n,"mouseleave",e[19])],$=!0)},p:t,d(t){t&&E(n),t&&E(i),t&&E(r),t&&E(a),t&&E(s),t&&E(u),t&&E(f),t&&E(h),t&&E(d),t&&E(p),t&&E(g),t&&E(m),t&&E(y),$=!1,o(w)}}}function Nu(t){let e,n,i,r,o,a;return o=new du({props:{mygeojson:t[9],pax:t[10],pax_timeline:t[12],pax_gender:t[11],step:t[8]}}),o.$on("mapLoaded",t[15]),{c(){e=A("div"),n=A("figure"),i=A("div"),r=A("div"),gt(o.$$.fragment),C(r,"class","map svelte-1si8yti"),C(i,"class","col-wide height-full"),C(e,"slot","background")},m(s,l){M(s,e,l),k(e,n),k(n,i),k(i,r),mt(o,r,null),t[21](r),a=!0},p(t,e){const n={};512&e[0]&&(n.mygeojson=t[9]),1024&e[0]&&(n.pax=t[10]),4096&e[0]&&(n.pax_timeline=t[12]),2048&e[0]&&(n.pax_gender=t[11]),256&e[0]&&(n.step=t[8]),o.$set(n)},i(t){a||(ht(o.$$.fragment,t),a=!0)},o(t){dt(o.$$.fragment,t),a=!1},d(n){n&&E(e),yt(o),t[21](null)}}}function Ru(e){let n;return{c(){n=A("div"),n.innerHTML='<section data-id="map01"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">Brighter colour (white) indicates a higher number of peace\n\t\t\t\t\tagreements signed. <span style="color: gray;">[<i>hover over a country for the exact number of peace\n\t\t\t\t\t\t\tagreements</i>]</span></p></div></section> \n\t\t<section data-id="map02"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">Now, the map shows the number of peace agreements that\n\t\t\t\t\tcontain at least two references to women, girls, and gender.</p></div></section>',C(n,"slot","foreground")},m(t,e){M(t,n,e)},p:t,d(t){t&&E(n)}}}function Pu(t){let e,n,i,r,o,a;return o=new ec({props:{pax:t[10],step:t[8]}}),{c(){e=A("div"),n=A("figure"),i=A("div"),r=A("div"),gt(o.$$.fragment),C(r,"class","rect svelte-1si8yti"),C(i,"class","col-wide height-full"),C(e,"slot","background")},m(s,l){M(s,e,l),k(e,n),k(n,i),k(i,r),mt(o,r,null),t[23](r),a=!0},p(t,e){const n={};1024&e[0]&&(n.pax=t[10]),256&e[0]&&(n.step=t[8]),o.$set(n)},i(t){a||(ht(o.$$.fragment,t),a=!0)},o(t){dt(o.$$.fragment,t),a=!1},d(n){n&&E(e),yt(o),t[23](null)}}}function zu(e){let n;return{c(){n=A("div"),n.innerHTML='<section data-id="rect01"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">Every rectangle in this view represents one of the 2,055\n\t\t\t\t\tformal agreements signed since 1990.</p></div></section> \n\t\t<section data-id="rect02"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">Out of all these agreements, less than a quarter contain\n\t\t\t\t\treferences to women, girls, and gender (436 agreements).</p></div></section>',C(n,"slot","foreground")},m(t,e){M(t,n,e)},p:t,d(t){t&&E(n)}}}function Tu(t){let e,n,i,r,o,a;return o=new pc({props:{pax:t[10],pax_timeline:t[12],step:t[8]}}),{c(){e=A("div"),n=A("figure"),i=A("div"),r=A("div"),gt(o.$$.fragment),C(r,"class","time svelte-1si8yti"),C(i,"class","col-wide height-full"),C(e,"slot","background")},m(s,l){M(s,e,l),k(e,n),k(n,i),k(i,r),mt(o,r,null),t[25](r),a=!0},p(t,e){const n={};1024&e[0]&&(n.pax=t[10]),4096&e[0]&&(n.pax_timeline=t[12]),256&e[0]&&(n.step=t[8]),o.$set(n)},i(t){a||(ht(o.$$.fragment,t),a=!0)},o(t){dt(o.$$.fragment,t),a=!1},d(n){n&&E(e),yt(o),t[25](null)}}}function Cu(e){let n;return{c(){n=A("div"),n.innerHTML='<section data-id="time01"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">Each line represents a peace agreement signed between 1990\n\t\t\t\t\tand 2024.</p></div></section> \n\t\t<section data-id="time02"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">These are the agreements included in PA-X Gender.</p></div></section>',C(n,"slot","foreground")},m(t,e){M(t,n,e)},p:t,d(t){t&&E(n)}}}function Wu(e){let n,i;return{c(){n=A("img"),c(n.src,i="./img/messy_1.png")||C(n,"src","./img/messy_1.png"),C(n,"alt","peace agreement example"),L(n,"width","100%")},m(t,e){M(t,n,e)},p:t,d(t){t&&E(n)}}}function Ou(e){let n,i,r,o;return{c(){n=A("img"),r=P(),o=A("p"),o.innerHTML='Explore the trajectory of other processes in PA-X on our <a href="https://pax.peaceagreements.org/visualizations/messy-peace-processes/" target="_blank" style="color: white;">Messy Timeline Visualization</a>',c(n.src,i="./img/messy_2.png")||C(n,"src","./img/messy_2.png"),C(n,"alt","peace agreement example"),L(n,"width","100%"),C(o,"class","svelte-1si8yti")},m(t,e){M(t,n,e),M(t,r,e),M(t,o,e)},p:t,d(t){t&&E(n),t&&E(r),t&&E(o)}}}function Lu(t){let e,n,i,r,o,a;return o=new Fl({props:{pax_stages:t[13],pax:t[10],step:t[8]}}),{c(){e=A("div"),n=A("figure"),i=A("div"),r=A("div"),gt(o.$$.fragment),C(r,"class","stage svelte-1si8yti"),C(i,"class","col-wide height-full"),C(e,"slot","background")},m(t,s){M(t,e,s),k(e,n),k(n,i),k(i,r),mt(o,r,null),a=!0},p(t,e){const n={};8192&e[0]&&(n.pax_stages=t[13]),1024&e[0]&&(n.pax=t[10]),256&e[0]&&(n.step=t[8]),o.$set(n)},i(t){a||(ht(o.$$.fragment,t),a=!0)},o(t){dt(o.$$.fragment,t),a=!1},d(t){t&&E(e),yt(o)}}}function Du(e){let n;return{c(){n=A("div"),n.innerHTML='<section data-id="stage01"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">When viewing all PA-X agreements by the stage of the peace\n\t\t\t\t\tprocess they were signed at, the chart below shows the\n\t\t\t\t\tpredominance of <strong>pre-negotiation/process</strong>,\n\t\t\t\t\t<strong>ceasefire</strong>, and\n\t\t\t\t\t<strong>substantive-partial</strong> agreements.</p></div></section> \n\t\t<section data-id="stage02"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">A common perception is that dealing with &#39;gender&#39; must wait\n\t\t\t\t\tuntil substantive stages of negotiations (partial and\n\t\t\t\t\tcomprehensive), so that the earlier pre-negotiation or\n\t\t\t\t\tceasefire talks can focus on more &#39;urgent&#39; issues.</p></div></section> \n\t\t<section data-id="stage03"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">For example, a ceasefire in Central African Republic in 2014\n\t\t\t\t\t- the <a href="https://pax.peaceagreements.org/media/documents/ag818_573ed266c7c9c.pdf" target="_blank" style="color: white;">Brazzaville Agreement on Cessation of Hostilities</a> - included &#39;gender&#39; by stipulating that under the agreement\n\t\t\t\t\tthe parties would cease the act of sexual violence.</p></div></section>',C(n,"slot","foreground")},m(t,e){M(t,n,e)},p:t,d(t){t&&E(n)}}}function Iu(t){let e,n,i,r,o,a;return o=new pc({props:{pax:t[10],pax_timeline:t[12],step:t[8]}}),{c(){e=A("div"),n=A("figure"),i=A("div"),r=A("div"),gt(o.$$.fragment),C(r,"class","time svelte-1si8yti"),C(i,"class","col-wide height-full"),C(e,"slot","background")},m(t,s){M(t,e,s),k(e,n),k(n,i),k(i,r),mt(o,r,null),a=!0},p(t,e){const n={};1024&e[0]&&(n.pax=t[10]),4096&e[0]&&(n.pax_timeline=t[12]),256&e[0]&&(n.step=t[8]),o.$set(n)},i(t){a||(ht(o.$$.fragment,t),a=!0)},o(t){dt(o.$$.fragment,t),a=!1},d(t){t&&E(e),yt(o)}}}function ju(e){let n;return{c(){n=A("div"),n.innerHTML='<section data-id="time01"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">Lets explore gender reference quality and specificity\n\t\t\t\t\tthrough three focus areas of a gender perspective according\n\t\t\t\t\tto UNSCR 1325: womens special needs during rehabilitation\n\t\t\t\t\tand reconstruction, involving women in implementation, and\n\t\t\t\t\tprotecting the human rights of women and girls.</p></div></section> \n\t\t<section data-id="time04"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">For example, only these highlighted agreements include\n\t\t\t\t\tsubstantive references to the special needs of women and\n\t\t\t\t\tgirls during rehabilitation and reconstruction. However,\n\t\t\t\t\tthey often are not a large proportion of the agreement\n\t\t\t\t\tfocus.</p></div></section> \n\t\t<section data-id="time05"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">One instance is the <a href="https://pax.peaceagreements.org/media/documents/ag478_55d493ee828e7.pdf" target="_blank" style="color: white;">Lome Agreement</a>\n\t\t\t\t\tfor Sierra Leone in 1999 that acknowledged women&#39;s victimization\n\t\t\t\t\tduring the war, and stated that\n\t\t\t\t\t<i style="font-size: 18px;">&#39;special attention shall be accorded to their needs and\n\t\t\t\t\t\tpotentials in formulating and implementing national\n\t\t\t\t\t\trehabilitation, reconstruction and development\n\t\t\t\t\t\tprogrammes, to enable them to play a central role in the\n\t\t\t\t\t\tmoral, social and physical reconstruction of Sierra\n\t\t\t\t\t\tLeone.&#39;</i> This was the only reference to gender (highlighted in red)\n\t\t\t\t\tin the entire agreement text.</p></div></section> \n\t\t<section data-id="time06"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">The highlighted peace agreements include references to women\n\t\t\t\t\tplaying a role in implementing the agreement.</p></div></section> \n\t\t<section data-id="time07"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">For example, the 2016 <a href="https://pax.peaceagreements.org/media/documents/ag1845_593e97bdd6f32.pdf" target="_blank" style="color: white;">Final Agreement</a> between the Colombian Government and the FARC set up a special\n\t\t\t\t\tforum comprising representatives from 6 national and regional\n\t\t\t\t\tColombian women&#39;s organisations, to work with the implementation\n\t\t\t\t\tcommission on monitoring and guaranteeing the rights of women\n\t\t\t\t\tin the implementation of the peace agreement.</p></div></section> \n\t\t<section data-id="time08"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">Turning to the protection of human rights of women and\n\t\t\t\t\tgirls, the highlighted peace agreements include references\n\t\t\t\t\tto <strong>international human rights laws</strong> relating\n\t\t\t\t\tto women and gender, including specific human rights standards.</p></div></section> \n\t\t<section data-id="time09"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">For example, in a 1996 <a href="https://pax.peaceagreements.org/media/documents/ag291_5630f71a3ae07.pdf" style="color: white;" target="_blank">peace agreement from Guatemala</a>, the government agreed to revise national legislation to\n\t\t\t\t\teliminate all forms of discrimination against women, and to\n\t\t\t\t\tgive effect to the government commitments deriving from the\n\t\t\t\t\tratification of the Convention on the Elimination of All\n\t\t\t\t\tForms of Discrimination against Women.</p></div></section>',C(n,"slot","foreground")},m(t,e){M(t,n,e)},p:t,d(t){t&&E(n)}}}function qu(t){let e,n,i,r,o,a;return o=new Su({props:{pax_gender:t[11],step:t[8],categories:t[14]}}),{c(){e=A("div"),n=A("figure"),i=A("div"),r=A("div"),gt(o.$$.fragment),C(r,"class","afgh svelte-1si8yti"),C(i,"class","col-wide height-full"),C(e,"slot","background")},m(t,s){M(t,e,s),k(e,n),k(n,i),k(i,r),mt(o,r,null),a=!0},p(t,e){const n={};2048&e[0]&&(n.pax_gender=t[11]),256&e[0]&&(n.step=t[8]),16384&e[0]&&(n.categories=t[14]),o.$set(n)},i(t){a||(ht(o.$$.fragment,t),a=!0)},o(t){dt(o.$$.fragment,t),a=!1},d(t){t&&E(e),yt(o)}}}function Hu(e){let n;return{c(){n=A("div"),n.innerHTML='<section data-id="afgh01"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">This is the distribution of gender-related topic in all 436\n\t\t\t\t\tagreements. You can see the majority of references across\n\t\t\t\t\tall the agreements are regarding women&#39;s participation, and\n\t\t\t\t\tsexual violence.</p></div></section> \n\t\t<section data-id="afgh02"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">The earlier referenced Toncontin Agreement from 1990,\n\t\t\t\t\tincludes these gender-related topics.</p></div></section> \n\t\t<section data-id="afgh03"><div class="col-medium"><p style="text-align: center;" class="svelte-1si8yti">In contrast, the more recent 2016 Colombian Final Agreement\n\t\t\t\t\tincludes these topics.</p></div></section>',C(n,"slot","foreground")},m(t,e){M(t,n,e)},p:t,d(t){t&&E(n)}}}function Bu(t){let e,n,i,r,a,s,l,c,u,f,h,d,p,g,m,y,v,$,w,x,_,b,S,N,R,z,W,O,D,I,j,q,H,B,G,X,F,Y,U,J,Z,Q,K,tt,et,nt,rt,ot,at,st,lt,ct,ut,ft,vt,$t,wt,xt,_t,bt,kt,Mt,Et,St,At;function Nt(e){t[22](e)}c=new ul({props:{center:!0,short:!1,$$slots:{default:[Au]},$$scope:{ctx:t}}});let Rt={threshold:Gu,splitscreen:!1,shadow:!1,$$slots:{foreground:[Ru],background:[Nu]},$$scope:{ctx:t}};function Pt(e){t[24](e)}void 0!==t[0].map&&(Rt.id=t[0].map),N=new wl({props:Rt}),V.push((()=>pt(N,"id",Nt)));let zt={threshold:Gu,splitscreen:!1,shadow:!1,$$slots:{foreground:[zu],background:[Pu]},$$scope:{ctx:t}};function Tt(e){t[26](e)}void 0!==t[0].rect&&(zt.id=t[0].rect),D=new wl({props:zt}),V.push((()=>pt(D,"id",Pt)));let Ct={threshold:Gu,splitscreen:!1,shadow:!1,$$slots:{foreground:[Cu],background:[Tu]},$$scope:{ctx:t}};function Wt(e){t[28](e)}void 0!==t[0].time&&(Ct.id=t[0].time),B=new wl({props:Ct}),V.push((()=>pt(B,"id",Tt))),U=new bl({props:{short:!1,wide:!0,center:!0,shadow:!0,$$slots:{default:[Wu]},$$scope:{ctx:t}}}),K=new bl({props:{short:!1,wide:!0,center:!0,shadow:!0,$$slots:{default:[Ou]},$$scope:{ctx:t}}});let Ot={threshold:Gu,splitscreen:!1,shadow:!1,$$slots:{foreground:[Du],background:[Lu]},$$scope:{ctx:t}};function Lt(e){t[30](e)}void 0!==t[0].stage&&(Ot.id=t[0].stage),rt=new wl({props:Ot}),V.push((()=>pt(rt,"id",Wt)));let Dt={threshold:Gu,splitscreen:!1,shadow:!1,$$slots:{foreground:[ju],background:[Iu]},$$scope:{ctx:t}};function It(e){t[32](e)}void 0!==t[0].time&&(Dt.id=t[0].time),ct=new wl({props:Dt}),V.push((()=>pt(ct,"id",Lt)));let jt={threshold:Gu,splitscreen:!1,shadow:!1,$$slots:{foreground:[Hu],background:[qu]},$$scope:{ctx:t}};return void 0!==t[0].afgh&&(jt.id=t[0].afgh),wt=new wl({props:jt}),V.push((()=>pt(wt,"id",It))),{c(){e=A("div"),e.innerHTML='<div class="scroll-line-agmt svelte-1si8yti" data-tooltip="Peace Agreement"><img src="./img/agmt.png" alt="rect" class="svelte-1si8yti"/></div> \n\t<div class="scroll-line-geo svelte-1si8yti" data-tooltip="Geography"><img src="./img/glb.png" alt="rect" class="svelte-1si8yti"/></div> \n\t<div class="scroll-line-rect svelte-1si8yti" data-tooltip="All Agreements"><img src="./img/recs.png" alt="rect" class="svelte-1si8yti"/></div> \n\t<div class="scroll-line-reason svelte-1si8yti" data-tooltip="UN Resolution"><img src="./img/un.png" alt="rect" class="svelte-1si8yti"/></div> \n\t<div class="scroll-line-stage svelte-1si8yti" data-tooltip="Negotiation Stages"><img src="./img/bar.png" alt="rect" class="svelte-1si8yti"/></div> \n\t<div class="scroll-line-time svelte-1si8yti" data-tooltip="Reference Quality"><img src="./img/quality.png" alt="rect" class="svelte-1si8yti"/></div> \n\t<div class="scroll-line-dendr svelte-1si8yti" data-tooltip="Topics"><img src="./img/dendr.png" alt="rect" class="svelte-1si8yti"/></div>',n=P(),i=A("div"),r=A("button"),r.textContent="Visualization",a=P(),s=A("p"),s.textContent="loading...",l=P(),gt(c.$$.fragment),u=P(),f=A("div"),f.innerHTML='<div id="text_field" class="svelte-1si8yti"><p style="text-align: center;" class="svelte-1si8yti">A <strong>peace agreement</strong> is a document produced after\n\t\t\tdiscussion with conflict protagonists and mutually agreed to by\n\t\t\tthem, addressing conflict with a view to ending it. <br/><br/> \n\t\t\t<a href="https://pax.peaceagreements.org/agreements/search/" style="color:white">PA-X Database</a>\n\t\t\tcollects and archives formal, publicly-available, signed peace agreements.\n\t\t\tPA-X Gender is a sub-database of PA-X that includes agreements that contain\n\t\t\tmentions to Women, Girls or Gender. <br/><br/>\n\t\t\tBelow is a ceasefire agreement from 1990 Nicaragua.</p></div>',h=P(),d=A("div"),d.innerHTML='<a href="https://pax.peaceagreements.org/agreements/wgg/589/" target="_blank" style="color: white;"><img src="./img/toncontin.png" alt="peace agreement example" style="width: 100%;"/></a>',p=P(),g=A("div"),g.innerHTML='<div id="text_field" class="svelte-1si8yti"><p style="text-align: center;" class="svelte-1si8yti">In 2000, the United Nations Security Council passed Resolution 1325\n\t\t\ton Women, Peace, and Security, calling on all actors involved in\n\t\t\tnegotiating and implementing peace agreements to adopt a gender\n\t\t\tperspective, including the following:</p></div>',m=P(),y=A("div"),y.innerHTML='<div class="icon-item svelte-1si8yti"><img src="./img/fir.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 10%; padding-right: 10%" class="svelte-1si8yti">Responding to the special needs of women and girls during\n\t\t\trepatriation, resettlement, rehabilitation, reintegration and\n\t\t\tpost-conflict reconstruction</p></div> \n\t<div class="icon-item svelte-1si8yti"><img src="./img/sec.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 10%; padding-right: 10%" class="svelte-1si8yti">Supporting local womens and indigenous initiatives for conflict\n\t\t\tresolution, and involving women in all implementation mechanisms</p></div> \n\t<div class="icon-item svelte-1si8yti"><img src="./img/thi.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 10%; padding-right: 10%" class="svelte-1si8yti">Ensuring the protection of human rights of women and girls,\n\t\t\tparticularly relating to the constitution, the electoral system, the\n\t\t\tpolice and the judiciary</p></div>',v=P(),$=A("div"),$.innerHTML='<div id="text_field" class="svelte-1si8yti"><p style="text-align: center" class="svelte-1si8yti">Why should peace agreements incorporate a gender perspective?</p></div>',w=P(),x=A("div"),x.innerHTML='<div class="icon-item svelte-1si8yti"><img src="./img/blueprint.png" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 5%; padding-right: 5%" class="svelte-1si8yti"><strong>Peace agreements can provide a formalised blueprint to shape\n\t\t\t\tthe political settlement that emerges from a peace deal.</strong>  <br/><br/> This can have consequences for how women, gender minorities,\n\t\t\tand sexual minorities may experience the transition that the peace agreement\n\t\t\tstipulates.</p></div> \n\t<div class="icon-item svelte-1si8yti"><img src="./img/negotiation.png" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 5%; padding-right: 5%" class="svelte-1si8yti"><strong>Peace agreements can create &#39;sticky&#39; institutional arrangements\n\t\t\t\tthat can be hard to later re-negotiate.</strong>  <br/><br/>Any gaps in how the peace agreement understands or\n\t\t\tresponds to gender, may become stuck and difficult to resolve\n\t\t\tthrough institutional mechanisms.</p></div> \n\t<div class="icon-item svelte-1si8yti"><img src="./img/gender.png" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 5%; padding-right: 5%" class="svelte-1si8yti"><strong>Peace agreements are not gender neutral by default.</strong><br/><br/>\n\t\t\tThey contain institutional configurations, security mechanisms and human\n\t\t\trights regimes that all shape different gender outcomes or impacts women&#39;s\n\t\t\tlives.</p></div> \n\t<div id="text_field" class="svelte-1si8yti"><p style="text-align: center;" class="svelte-1si8yti">Hear more on this from PeaceRep&#39;s Women Peace and Security expert,\n\t\t\tLaura Wise in this short, informative <a href="https://www.youtube.com/watch?v=52GFh0r6Zj8" target="_blank" style="color: white;">video</a> (3 mins).</p></div>',_=P(),b=A("div"),b.innerHTML='<div id="text_field" class="svelte-1si8yti"><p style="text-align: center;" class="svelte-1si8yti">PA-X contains 2,055 peace agreements that have been signed since\n\t\t\t1990.\n\t\t\t<br/><br/>\n\t\t\tThe map below shows the geographical spread of where these agreements\n\t\t\tare from and the primary location of the conflict they are addressing.</p></div>',S=P(),gt(N.$$.fragment),z=P(),W=A("div"),W.innerHTML='<div id="text_field" class="svelte-1si8yti"><p style="text-align: center;" class="svelte-1si8yti">To get a better idea about how often women, girls and gender are\n\t\t\ttaken into consideration in peace agreements, below is a\n\t\t\trepresentation of all peace agreements in PA-X.</p></div>',O=P(),gt(D.$$.fragment),j=P(),q=A("div"),q.innerHTML='<div id="text_field" class="svelte-1si8yti"><p style="text-align: center" class="svelte-1si8yti">How did UNSCR 1325 influence the number of gender-related peace\n\t\t\tagreements over time?</p></div>',H=P(),gt(B.$$.fragment),X=P(),F=A("div"),F.innerHTML='<div id="text_field" class="svelte-1si8yti"><p style="text-align: center" class="svelte-1si8yti">There are different <strong>stages of peace processes</strong>\n\t\t\tdepending on the content included in agreements: from pre-neogtiation/process\n\t\t\tagreements where there are &#39;talks about talks&#39;, to ceasefires, to more\n\t\t\tcomprehensive agreements and implementation agreeements.<br/><br/>\n\t\t\tIf the process went smoothly from one stage to the next it would look\n\t\t\tlike this over time:</p></div>',Y=P(),gt(U.$$.fragment),J=P(),Z=A("div"),Z.innerHTML='<div id="text_field" class="svelte-1si8yti"><p style="text-align:center" class="svelte-1si8yti">Instead, peace processes frequently involve a series of\n\t\t\tback-and-forth movements, reflecting the reality that progress is\n\t\t\trarely uniform or predictable.<br/><br/> For example, here is the trajectory\n\t\t\tof the Philippines-Mindano Process.</p></div>',Q=P(),gt(K.$$.fragment),tt=P(),et=A("div"),et.innerHTML='<div id="text_field" class="svelte-1si8yti"><p style="text-align: center" class="svelte-1si8yti">At which stage of peace negotiations do women, girls, and gender get\n\t\t\tdiscussed?</p></div>',nt=P(),gt(rt.$$.fragment),at=P(),st=A("div"),st.innerHTML='<div id="text_field" class="svelte-1si8yti"><p style="text-align: center" class="svelte-1si8yti">Beyond the numbers, gender references differ hugely in terms of\n\t\t\ttheir substantive quality and specificity, ranging from detailed\n\t\t\tcommitments to rhetorical references to &#39;women&#39;.</p></div>',lt=P(),gt(ct.$$.fragment),ft=P(),vt=A("div"),vt.innerHTML='<div id="text_field" class="svelte-1si8yti"><p style="text-align: center" class="svelte-1si8yti">As you can see, peace agreements cover different topics related to\n\t\t\twomen, girls and gender. Sometimes there are a lot of topics\n\t\t\taddressed, and sometimes there are very few. <br/><br/>\n\t\t\tBelow shows a representation of all topics related to women, girls and\n\t\t\tgender that are coded for all agreements in PA-X Gender.</p></div>',$t=P(),gt(wt.$$.fragment),_t=P(),bt=A("div"),bt.innerHTML='<div id="text_field" class="svelte-1si8yti"><p style="text-align: center" class="svelte-1si8yti">PA-X Gender shows that 25 years after UNSCR 1325 was passed, peace\n\t\t\tagreements still do not consistently incorporate a gender\n\t\t\tperspective.\n\t\t\t<br/><br/><br/>\n\t\t\tHowever, women and their allies continue to push for peace processes\n\t\t\tto recognise the importance of gender, both from within and outside of\n\t\t\tformal institutions.\n\t\t\t<br/><br/><br/>\n\t\t\tPA-X Gender is an archive of processes where women were successful at\n\t\t\tgetting gender into peace agreements, and pays tribute to their historical\n\t\t\tefforts.</p></div>',kt=P(),Mt=A("div"),Mt.innerHTML='<p style="text-align: center" class="svelte-1si8yti">Explore our research and data on gender in peace agreements, and how\n\t\tthis work informs Women, Peace and Security monitoring.</p> \n\t<div id="research_field" class="svelte-1si8yti"><div class="research_item svelte-1si8yti"><a href="https://www.peaceagreements.org/agreements/wggsearch/" target="_blank"><img src="./img/gender_db.png" alt="PA-X Gender Database" class="svelte-1si8yti"/></a> \n\t\t\t<p class="svelte-1si8yti">PA-X Gender Database</p></div> \n\t\t<div class="research_item svelte-1si8yti"><a href="https://peacerep.org/2025/07/24/women-peace-and-security-at-25/" target="_blank"><img src="./img/one.png" alt="Women, Peace and Security at 25" class="svelte-1si8yti"/></a> \n\t\t\t<p class="svelte-1si8yti">Women, Peace and Security at 25: Assessing Implementation\n\t\t\t\tthrough Gender Perspectives in Peace Agreements</p></div> \n\t\t<div class="research_item svelte-1si8yti"><a href="https://peacerep.org/2024/10/28/un-report-cites-peacerep-research-on-stagnation-of-gender-references-in-peace-agreements/" target="_blank"><img src="./img/two.png" alt="UN Report Cites PeaceRep Research" class="svelte-1si8yti"/></a> \n\t\t\t<p class="svelte-1si8yti">UN Report Cites PeaceRep Research on Stagnation of Gender\n\t\t\t\tReferences in Peace Agreements</p></div> \n\t\t<div class="research_item svelte-1si8yti"><a href="https://peacerep.org/publication/principled-pragmatism-and-the-inclusion-project-implementing-a-gender-perspective-in-peace-agreements/" target="_blank"><img src="./img/four.png" alt="Principled Pragmatism Paper" class="svelte-1si8yti"/></a> \n\t\t\t<p class="svelte-1si8yti">Principled Pragmatism and the Inclusion Project: Implementing\n\t\t\t\ta Gender Perspective in Peace Agreements</p></div> \n\t\t<div class="research_item svelte-1si8yti"><a href="https://peacerep.org/digital-resources/peacefem/" target="_blank"><img src="./img/three.png" alt="PeaceFem App" class="svelte-1si8yti"/></a> \n\t\t\t<p class="svelte-1si8yti">PeaceFem</p></div></div>',C(e,"id","indicator"),C(e,"class","svelte-1si8yti"),C(r,"id","loading_button"),C(r,"class","svelte-1si8yti"),C(s,"id","loading_text"),C(s,"class","svelte-1si8yti"),C(i,"role","presentation"),C(i,"id","loading_screen"),L(i,"height","calc(var(--vh, 1vh) * 100)"),C(i,"class","svelte-1si8yti"),C(f,"class","filler svelte-1si8yti"),C(d,"class","filler svelte-1si8yti"),L(d,"padding","50px"),C(g,"class","filler svelte-1si8yti"),C(y,"id","icons"),C(y,"class","svelte-1si8yti"),C($,"class","filler svelte-1si8yti"),C(x,"id","icons"),C(x,"class","svelte-1si8yti"),C(b,"class","filler svelte-1si8yti"),C(W,"class","filler svelte-1si8yti"),C(q,"class","filler svelte-1si8yti"),C(F,"class","filler svelte-1si8yti"),C(Z,"class","filler svelte-1si8yti"),C(et,"class","filler svelte-1si8yti"),C(st,"class","filler svelte-1si8yti"),C(vt,"class","filler svelte-1si8yti"),C(bt,"class","filler svelte-1si8yti"),C(Mt,"class","filler svelte-1si8yti"),L(Mt,"padding-left","10%"),L(Mt,"padding-right","10%")},m(o,E){M(o,e,E),M(o,n,E),M(o,i,E),k(i,r),k(i,a),k(i,s),M(o,l,E),mt(c,o,E),M(o,u,E),M(o,f,E),t[20](f),M(o,h,E),M(o,d,E),M(o,p,E),M(o,g,E),M(o,m,E),M(o,y,E),M(o,v,E),M(o,$,E),M(o,w,E),M(o,x,E),M(o,_,E),M(o,b,E),M(o,S,E),mt(N,o,E),M(o,z,E),M(o,W,E),M(o,O,E),mt(D,o,E),M(o,j,E),M(o,q,E),M(o,H,E),mt(B,o,E),M(o,X,E),M(o,F,E),t[27](F),M(o,Y,E),mt(U,o,E),M(o,J,E),M(o,Z,E),M(o,Q,E),mt(K,o,E),M(o,tt,E),M(o,et,E),M(o,nt,E),mt(rt,o,E),M(o,at,E),M(o,st,E),t[29](st),M(o,lt,E),mt(ct,o,E),M(o,ft,E),M(o,vt,E),t[31](vt),M(o,$t,E),mt(wt,o,E),M(o,_t,E),M(o,bt,E),M(o,kt,E),M(o,Mt,E),Et=!0,St||(At=[T(r,"click",t[16]),T(i,"click",t[16])],St=!0)},p(t,e){const n={};2097152&e[1]&&(n.$$scope={dirty:e,ctx:t}),c.$set(n);const i={};8e3&e[0]|2097152&e[1]&&(i.$$scope={dirty:e,ctx:t}),!R&&1&e[0]&&(R=!0,i.id=t[0].map,it((()=>R=!1))),N.$set(i);const r={};1284&e[0]|2097152&e[1]&&(r.$$scope={dirty:e,ctx:t}),!I&&1&e[0]&&(I=!0,r.id=t[0].rect,it((()=>I=!1))),D.$set(r);const o={};5384&e[0]|2097152&e[1]&&(o.$$scope={dirty:e,ctx:t}),!G&&1&e[0]&&(G=!0,o.id=t[0].time,it((()=>G=!1))),B.$set(o);const a={};2097152&e[1]&&(a.$$scope={dirty:e,ctx:t}),U.$set(a);const s={};2097152&e[1]&&(s.$$scope={dirty:e,ctx:t}),K.$set(s);const l={};9472&e[0]|2097152&e[1]&&(l.$$scope={dirty:e,ctx:t}),!ot&&1&e[0]&&(ot=!0,l.id=t[0].stage,it((()=>ot=!1))),rt.$set(l);const u={};5376&e[0]|2097152&e[1]&&(u.$$scope={dirty:e,ctx:t}),!ut&&1&e[0]&&(ut=!0,u.id=t[0].time,it((()=>ut=!1))),ct.$set(u);const f={};18688&e[0]|2097152&e[1]&&(f.$$scope={dirty:e,ctx:t}),!xt&&1&e[0]&&(xt=!0,f.id=t[0].afgh,it((()=>xt=!1))),wt.$set(f)},i(t){Et||(ht(c.$$.fragment,t),ht(N.$$.fragment,t),ht(D.$$.fragment,t),ht(B.$$.fragment,t),ht(U.$$.fragment,t),ht(K.$$.fragment,t),ht(rt.$$.fragment,t),ht(ct.$$.fragment,t),ht(wt.$$.fragment,t),Et=!0)},o(t){dt(c.$$.fragment,t),dt(N.$$.fragment,t),dt(D.$$.fragment,t),dt(B.$$.fragment,t),dt(U.$$.fragment,t),dt(K.$$.fragment,t),dt(rt.$$.fragment,t),dt(ct.$$.fragment,t),dt(wt.$$.fragment,t),Et=!1},d(r){r&&E(e),r&&E(n),r&&E(i),r&&E(l),yt(c,r),r&&E(u),r&&E(f),t[20](null),r&&E(h),r&&E(d),r&&E(p),r&&E(g),r&&E(m),r&&E(y),r&&E(v),r&&E($),r&&E(w),r&&E(x),r&&E(_),r&&E(b),r&&E(S),yt(N,r),r&&E(z),r&&E(W),r&&E(O),yt(D,r),r&&E(j),r&&E(q),r&&E(H),yt(B,r),r&&E(X),r&&E(F),t[27](null),r&&E(Y),yt(U,r),r&&E(J),r&&E(Z),r&&E(Q),yt(K,r),r&&E(tt),r&&E(et),r&&E(nt),yt(rt,r),r&&E(at),r&&E(st),t[29](null),r&&E(lt),yt(ct,r),r&&E(ft),r&&E(vt),t[31](null),r&&E($t),yt(wt,r),r&&E(_t),r&&E(bt),r&&E(kt),r&&E(Mt),St=!1,o(At)}}}const Gu=.65;function Xu(t){const e=window.scrollY,n=t-e,i=n>0?1:-1,r=Math.abs(n);let o=null;requestAnimationFrame((function t(n){o||(o=n);const a=n-o,s=Math.min(5*a,r);window.scrollTo(0,e+s*i),s<r&&requestAnimationFrame(t)}))}function Fu(t,e,n){let i,r,o,a,s,l,c,u,f,h,d,p,g,m,y,v,$={},w={},x={agreement:!1,geo:!1,rect:!1,reason:!1};function _(t){console.log(`${t} entered viewport`),nn(".scroll-line-agmt img, .scroll-line-geo img, .scroll-line-rect img, .scroll-line-reason img, .scroll-line-stage img, .scroll-line-time img, .scroll-line-dendr img").style("opacity",.5),tn(`.scroll-line-${t} img`).style("opacity",1)}function b(t){console.log(`${t} left viewport`),tn(`.scroll-line-${t} img`).style("opacity",.5),"geo"==t?tn(".scroll-line-agmt img").style("opacity",1):"rect"==t?tn(".scroll-line-geo img").style("opacity",1):"reason"==t?tn(".scroll-line-rect img").style("opacity",1):"stage"==t?tn(".scroll-line-reason img").style("opacity",1):"time"==t?tn(".scroll-line-stage img").style("opacity",1):"dendr"==t&&tn(".scroll-line-time img").style("opacity",1)}X((()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo({top:0,behavior:"auto"}),w={...$};const t=document.querySelector("#indicator"),e=document.querySelector(".scroll-line-agmt"),n=document.querySelector(".scroll-line-geo"),k=document.querySelector(".scroll-line-rect"),M=document.querySelector(".scroll-line-reason"),E=document.querySelector(".scroll-line-time"),S=document.querySelector(".scroll-line-stage"),A=document.querySelector(".scroll-line-dendr");if(!t)return;const N=()=>{if(document.documentElement.scrollHeight-window.innerHeight<=0)requestAnimationFrame(N);else{if(i instanceof HTMLElement){let t=i.getBoundingClientRect();u=t.top+window.scrollY,e.addEventListener("click",(()=>{Xu(u)}))}if(l instanceof HTMLElement){const t=l.getBoundingClientRect();f=t.top+window.scrollY,n.addEventListener("click",(()=>{Xu(f)}))}if(r instanceof HTMLElement){let t=r.getBoundingClientRect();h=t.top+window.scrollY,k.addEventListener("click",(()=>{Xu(h)}))}if(o instanceof HTMLElement){let t=o.getBoundingClientRect();d=t.top+window.scrollY,M.addEventListener("click",(()=>{Xu(d)}))}if(s instanceof HTMLElement){const t=s.getBoundingClientRect();p=t.top+window.scrollY,S.addEventListener("click",(()=>{Xu(p)}))}if(a instanceof HTMLElement){const t=a.getBoundingClientRect();g=t.top+window.scrollY,E.addEventListener("click",(()=>{Xu(g)}))}if(c instanceof HTMLElement){const t=c.getBoundingClientRect();m=t.top+window.scrollY,A.addEventListener("click",(()=>{Xu(m)}))}}};v=()=>{const t=window.scrollY+.5*window.innerHeight;u&&(!x.agreement&&t>=u?(x.agreement=!0,_("agmt")):x.agreement&&t<u&&(x.agreement=!1,b("agmt"))),f&&(!x.geo&&t>=f?(x.geo=!0,_("geo")):x.geo&&t<f&&(x.geo=!1,b("geo"))),h&&(!x.rect&&t>=h?(x.rect=!0,_("rect")):x.rect&&t<h&&(x.rect=!1,b("rect"))),d&&(!x.reason&&t>=d?(x.reason=!0,_("reason")):x.reason&&t<d&&(x.reason=!1,b("reason"))),p&&(!x.stage&&t>=p?(x.stage=!0,_("stage")):x.stage&&t<p&&(x.stage=!1,b("stage"))),g&&(!x.time&&t>=g?(x.time=!0,_("time")):x.time&&t<g&&(x.time=!1,b("time"))),m&&(!x.dendr&&t>=m?(x.dendr=!0,_("dendr")):x.dendr&&t<m&&(x.dendr=!1,b("dendr")))},window.addEventListener("scroll",v),v(),requestAnimationFrame(N),y=()=>requestAnimationFrame(N),window.addEventListener("resize",y)})),F((()=>{window.removeEventListener("resize",y)})),F((()=>{window.removeEventListener("scroll",v)}));let k=null;const M={rect:{rect01:()=>{n(8,k="rect01")},rect02:()=>{n(8,k="rect02")}},chart:{chart01:()=>{n(8,k="one")},chart02:()=>{n(8,k="two")},chart03:()=>{n(8,k="three")},chart04:()=>{n(8,k="four")},chart05:()=>{n(8,k="five")}},time:{time01:()=>{n(8,k="1")},time02:()=>{n(8,k="2")},time03:()=>{n(8,k="3")},time04:()=>{n(8,k="4")},time05:()=>{n(8,k="5")},time06:()=>{n(8,k="6")},time07:()=>{n(8,k="7")},time08:()=>{n(8,k="8")},time09:()=>{n(8,k="9")}},stage:{stage01:()=>{n(8,k="stage01")},stage02:()=>{n(8,k="stage02")},stage03:()=>{n(8,k="stage03")},stage04:()=>{n(8,k="stage04")}},map:{map01:()=>{n(8,k="map_one")},map02:()=>{n(8,k="map_two")},map03:()=>{n(8,k="map_three")},map04:()=>{n(8,k="map_four")}},afgh:{afgh01:()=>{n(8,k="afgh01")},afgh02:()=>{n(8,k="afgh02")},afgh03:()=>{n(8,k="afgh03")}}};let E;nl("./data/custom.geo.json").then((t=>{n(9,E=t)}));let S,A,N,R,P;el(["./data/pax_v9.csv","./data/pax_gender_v9.csv","./data/gender_categories.csv"]).then((t=>{Ks.set(undefined),n(10,S=t[0]),n(11,A=t[1]),n(14,P=t[2]),S.forEach((t=>{const e=A.find((e=>e.AgtId===t.AgtId));e?(t.WggRehab=e.WggRehab,t.WggImplRole=e.WggImplRole,t.WggHR=e.WggHR):(t.WggRehab="0",t.WggImplRole="0",t.WggHR="0")})),S.sort((function(t,e){return wt(t.Dat.substring(0,4),e.Dat.substring(0,4))})),n(13,R=Rt(S,(t=>t.Stage)));let e=["Pre","Cea","SubPar","SubComp","Imp","Ren","Oth"];R.sort(((t,n)=>e.indexOf(t[0])-e.indexOf(n[0]))),n(12,N=Rt(S,(t=>t.Dat.substring(0,4))))}));let z=!1;let T=0;function C(){T%2==0?tn(".info_div").style("top","1px"):tn(".info_div").style("top","-100%"),T+=1}return t.$$.update=()=>{1&t.$$.dirty[0]&&$&&function(t=[]){t.forEach((t=>{$[t]!=w[t]&&(M[t][$[t]]&&M[t][$[t]](),w[t]=$[t])}))}(Object.keys(M))},[$,i,r,o,a,s,l,c,k,E,S,A,N,R,P,function(){z=!0,document.getElementById("loading_text").style.visibility="hidden",document.getElementById("loading_button").style.visibility="visible"},function(t){z&&(document.getElementById("loading_screen").style.visibility="hidden",document.getElementById("loading_button").style.visibility="hidden",document.documentElement.style.overflow="visible",document.body.style.overflow="visible")},C,()=>C(),()=>C(),function(t){V[t?"unshift":"push"]((()=>{i=t,n(1,i)}))},function(t){V[t?"unshift":"push"]((()=>{l=t,n(6,l)}))},function(e){t.$$.not_equal($.map,e)&&($.map=e,n(0,$))},function(t){V[t?"unshift":"push"]((()=>{r=t,n(2,r)}))},function(e){t.$$.not_equal($.rect,e)&&($.rect=e,n(0,$))},function(t){V[t?"unshift":"push"]((()=>{o=t,n(3,o)}))},function(e){t.$$.not_equal($.time,e)&&($.time=e,n(0,$))},function(t){V[t?"unshift":"push"]((()=>{s=t,n(5,s)}))},function(e){t.$$.not_equal($.stage,e)&&($.stage=e,n(0,$))},function(t){V[t?"unshift":"push"]((()=>{a=t,n(4,a)}))},function(e){t.$$.not_equal($.time,e)&&($.time=e,n(0,$))},function(t){V[t?"unshift":"push"]((()=>{c=t,n(7,c)}))},function(e){t.$$.not_equal($.afgh,e)&&($.afgh=e,n(0,$))}]}return new class extends $t{constructor(t){super(),vt(this,t,Fu,Bu,s,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map

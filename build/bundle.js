var app=function(){"use strict";function t(){}const n=t=>t;function e(t,n){for(const e in n)t[e]=n[e];return t}function i(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(i)}function a(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let l;function c(t,n){return l||(l=document.createElement("a")),l.href=n,t===l.href}function u(n,...e){if(null==n)return t;const i=n.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i}function f(t,n,e){t.$$.on_destroy.push(u(n,e))}function h(t,n,e,i){if(t){const r=d(t,n,e,i);return t[0](r)}}function d(t,n,i,r){return t[1]&&r?e(i.ctx.slice(),t[1](r(n))):i.ctx}function p(t,n,e,i){if(t[2]&&i){const r=t[2](i(e));if(void 0===n.dirty)return r;if("object"==typeof r){const t=[],e=Math.max(n.dirty.length,r.length);for(let i=0;i<e;i+=1)t[i]=n.dirty[i]|r[i];return t}return n.dirty|r}return n.dirty}function g(t,n,e,i,r,o){if(r){const a=d(n,e,i,o);t.p(a,r)}}function m(t){if(t.ctx.length>32){const n=[],e=t.ctx.length/32;for(let t=0;t<e;t++)n[t]=-1;return n}return-1}function y(t){return null==t?"":t}function $(t,n,e){return t.set(e),n}const v="undefined"!=typeof window;let w=v?()=>window.performance.now():()=>Date.now(),x=v?t=>requestAnimationFrame(t):t;const _=new Set;function b(t){_.forEach((n=>{n.c(t)||(_.delete(n),n.f())})),0!==_.size&&x(b)}const M="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function k(t,n){t.appendChild(n)}function E(t,n,e){t.insertBefore(n,e||null)}function A(t){t.parentNode&&t.parentNode.removeChild(t)}function S(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function N(t){return document.createElement(t)}function R(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function z(t){return document.createTextNode(t)}function C(){return z(" ")}function T(){return z("")}function P(t,n,e,i){return t.addEventListener(n,e,i),()=>t.removeEventListener(n,e,i)}function D(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function j(t,n,e){n in t?t[n]="boolean"==typeof t[n]&&""===e||e:D(t,n,e)}function O(t,n){n=""+n,t.data!==n&&(t.data=n)}function I(t,n,e,i){null==e?t.style.removeProperty(n):t.style.setProperty(n,e,i?"important":"")}let q,L;function B(){if(void 0===q){q=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){q=!0}}return q}function W(t,n){"static"===getComputedStyle(t).position&&(t.style.position="relative");const e=N("iframe");e.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),e.setAttribute("aria-hidden","true"),e.tabIndex=-1;const i=B();let r;return i?(e.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=P(window,"message",(t=>{t.source===e.contentWindow&&n()}))):(e.src="about:blank",e.onload=()=>{r=P(e.contentWindow,"resize",n),n()}),k(t,e),()=>{(i||r&&e.contentWindow)&&r(),A(e)}}function H(t,n,e){t.classList[e?"add":"remove"](n)}function G(t){L=t}function X(){if(!L)throw new Error("Function called outside component initialization");return L}function F(t){X().$$.on_mount.push(t)}function Y(){const t=X();return(n,e,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[n];if(r){const o=function(t,n,{bubbles:e=!1,cancelable:i=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,e,i,n),r}(n,e,{cancelable:i});return r.slice().forEach((n=>{n.call(t,o)})),!o.defaultPrevented}return!0}}function U(t,n){return X().$$.context.set(t,n),n}function V(t){return X().$$.context.get(t)}const Z=[],Q=[];let J=[];const K=[],tt=Promise.resolve();let nt=!1;function et(t){J.push(t)}function it(t){K.push(t)}const rt=new Set;let ot=0;function at(){if(0!==ot)return;const t=L;do{try{for(;ot<Z.length;){const t=Z[ot];ot++,G(t),st(t.$$)}}catch(t){throw Z.length=0,ot=0,t}for(G(null),Z.length=0,ot=0;Q.length;)Q.pop()();for(let t=0;t<J.length;t+=1){const n=J[t];rt.has(n)||(rt.add(n),n())}J.length=0}while(Z.length);for(;K.length;)K.pop()();nt=!1,rt.clear(),G(t)}function st(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(et)}}const lt=new Set;let ct;function ut(){ct={r:0,c:[],p:ct}}function ft(){ct.r||o(ct.c),ct=ct.p}function ht(t,n){t&&t.i&&(lt.delete(t),t.i(n))}function dt(t,n,e,i){if(t&&t.o){if(lt.has(t))return;lt.add(t),ct.c.push((()=>{lt.delete(t),i&&(e&&t.d(1),i())})),t.o(n)}else i&&i()}function pt(t,n,e){const i=t.$$.props[n];void 0!==i&&(t.$$.bound[i]=e,e(t.$$.ctx[i]))}function gt(t){t&&t.c()}function mt(t,n,e,r){const{fragment:s,after_update:l}=t.$$;s&&s.m(n,e),r||et((()=>{const n=t.$$.on_mount.map(i).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),l.forEach(et)}function yt(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];J.forEach((i=>-1===t.indexOf(i)?n.push(i):e.push(i))),e.forEach((t=>t())),J=n}(e.after_update),o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function $t(t,n){-1===t.$$.dirty[0]&&(Z.push(t),nt||(nt=!0,tt.then(at)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function vt(n,e,i,a,s,l,c,u=[-1]){const f=L;G(n);const h=n.$$={fragment:null,ctx:[],props:l,update:t,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:e.target||f.$$.root};c&&c(h.root);let d=!1;if(h.ctx=i?i(n,e.props||{},((t,e,...i)=>{const r=i.length?i[0]:e;return h.ctx&&s(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),d&&$t(n,t)),e})):[],h.update(),d=!0,o(h.before_update),h.fragment=!!a&&a(h.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);h.fragment&&h.fragment.l(t),t.forEach(A)}else h.fragment&&h.fragment.c();e.intro&&ht(n.$$.fragment),mt(n,e.target,e.anchor,e.customElement),at()}G(f)}class wt{$destroy(){yt(this,1),this.$destroy=t}$on(n,e){if(!a(e))return t;const i=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return i.push(e),()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function xt(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function _t(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function bt(t){let n,e,i;function r(t,i,r=0,o=t.length){if(r<o){if(0!==n(i,i))return o;do{const n=r+o>>>1;e(t[n],i)<0?r=n+1:o=n}while(r<o)}return r}return 2!==t.length?(n=xt,e=(n,e)=>xt(t(n),e),i=(n,e)=>t(n)-e):(n=t===xt||t===_t?t:Mt,e=t,i=t),{left:r,center:function(t,n,e=0,o=t.length){const a=r(t,n,e,o-1);return a>e&&i(t[a-1],n)>-i(t[a],n)?a-1:a},right:function(t,i,r=0,o=t.length){if(r<o){if(0!==n(i,i))return o;do{const n=r+o>>>1;e(t[n],i)<=0?r=n+1:o=n}while(r<o)}return r}}}function Mt(){return 0}const kt=bt(xt).right;bt((function(t){return null===t?NaN:+t})).center;class Et{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let i=0;i<this._n&&i<32;i++){const r=n[i],o=t+r,a=Math.abs(t)<Math.abs(r)?t-(o-r):r-(o-t);a&&(n[e++]=a),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,i,r=this._n,o=0;if(r>0){for(o=t[--r];r>0&&(n=o,e=t[--r],o=n+e,i=e-(o-n),!i););r>0&&(i<0&&t[r-1]<0||i>0&&t[r-1]>0)&&(e=2*i,n=o+e,e==n-o&&(o=n))}return o}}class At extends Map{constructor(t,n=Nt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[n,e]of t)this.set(n,e)}get(t){return super.get(St(this,t))}has(t){return super.has(St(this,t))}set(t,n){return super.set(function({_intern:t,_key:n},e){const i=n(e);return t.has(i)?t.get(i):(t.set(i,e),e)}(this,t),n)}delete(t){return super.delete(function({_intern:t,_key:n},e){const i=n(e);t.has(i)&&(e=t.get(i),t.delete(i));return e}(this,t))}}function St({_intern:t,_key:n},e){const i=n(e);return t.has(i)?t.get(i):e}function Nt(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Rt(t){return t}function zt(t,...n){return function(t,n,e,i){return function t(r,o){if(o>=i.length)return e(r);const a=new At,s=i[o++];let l=-1;for(const t of r){const n=s(t,++l,r),e=a.get(n);e?e.push(t):a.set(n,[t])}for(const[n,e]of a)a.set(n,t(e,o));return n(a)}(t,0)}(t,Array.from,Rt,n)}const Ct=Math.sqrt(50),Tt=Math.sqrt(10),Pt=Math.sqrt(2);function Dt(t,n,e){const i=(n-t)/Math.max(0,e),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),a=o>=Ct?10:o>=Tt?5:o>=Pt?2:1;let s,l,c;return r<0?(c=Math.pow(10,-r)/a,s=Math.round(t*c),l=Math.round(n*c),s/c<t&&++s,l/c>n&&--l,c=-c):(c=Math.pow(10,r)*a,s=Math.round(t/c),l=Math.round(n/c),s*c<t&&++s,l*c>n&&--l),l<s&&.5<=e&&e<2?Dt(t,n,2*e):[s,l,c]}function jt(t,n,e){return Dt(t=+t,n=+n,e=+e)[2]}function Ot(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}var It={value:()=>{}};function qt(){for(var t,n=0,e=arguments.length,i={};n<e;++n){if(!(t=arguments[n]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new Lt(i)}function Lt(t){this._=t}function Bt(t,n){for(var e,i=0,r=t.length;i<r;++i)if((e=t[i]).name===n)return e.value}function Wt(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=It,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}Lt.prototype=qt.prototype={constructor:Lt,on:function(t,n){var e,i,r=this._,o=(i=r,(t+"").trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<s;)if(e=(t=o[a]).type)r[e]=Wt(r[e],t.name,n);else if(null==n)for(e in r)r[e]=Wt(r[e],t.name,null);return this}for(;++a<s;)if((e=(t=o[a]).type)&&(e=Bt(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Lt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,i,r=new Array(e),o=0;o<e;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(i=this._[t]).length;o<e;++o)i[o].value.apply(n,r)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(n,e)}};var Ht="http://www.w3.org/1999/xhtml",Gt={svg:"http://www.w3.org/2000/svg",xhtml:Ht,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xt(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Gt.hasOwnProperty(n)?{space:Gt[n],local:t}:t}function Ft(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Ht&&n.documentElement.namespaceURI===Ht?n.createElement(t):n.createElementNS(e,t)}}function Yt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ut(t){var n=Xt(t);return(n.local?Yt:Ft)(n)}function Vt(){}function Zt(t){return null==t?Vt:function(){return this.querySelector(t)}}function Qt(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Jt(){return[]}function Kt(t){return null==t?Jt:function(){return this.querySelectorAll(t)}}function tn(t){return function(){return this.matches(t)}}function nn(t){return function(n){return n.matches(t)}}var en=Array.prototype.find;function rn(){return this.firstElementChild}var on=Array.prototype.filter;function an(){return Array.from(this.children)}function sn(t){return new Array(t.length)}function ln(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function cn(t,n,e,i,r,o){for(var a,s=0,l=n.length,c=o.length;s<c;++s)(a=n[s])?(a.__data__=o[s],i[s]=a):e[s]=new ln(t,o[s]);for(;s<l;++s)(a=n[s])&&(r[s]=a)}function un(t,n,e,i,r,o,a){var s,l,c,u=new Map,f=n.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(l=n[s])&&(d[s]=c=a.call(l,l.__data__,s,n)+"",u.has(c)?r[s]=l:u.set(c,l));for(s=0;s<h;++s)c=a.call(t,o[s],s,o)+"",(l=u.get(c))?(i[s]=l,l.__data__=o[s],u.delete(c)):e[s]=new ln(t,o[s]);for(s=0;s<f;++s)(l=n[s])&&u.get(d[s])===l&&(r[s]=l)}function fn(t){return t.__data__}function hn(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function dn(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function pn(t){return function(){this.removeAttribute(t)}}function gn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mn(t,n){return function(){this.setAttribute(t,n)}}function yn(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function $n(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function vn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function wn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function xn(t){return function(){this.style.removeProperty(t)}}function _n(t,n,e){return function(){this.style.setProperty(t,n,e)}}function bn(t,n,e){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function Mn(t,n){return t.style.getPropertyValue(n)||wn(t).getComputedStyle(t,null).getPropertyValue(n)}function kn(t){return function(){delete this[t]}}function En(t,n){return function(){this[t]=n}}function An(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Sn(t){return t.trim().split(/^|\s+/)}function Nn(t){return t.classList||new Rn(t)}function Rn(t){this._node=t,this._names=Sn(t.getAttribute("class")||"")}function zn(t,n){for(var e=Nn(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function Cn(t,n){for(var e=Nn(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function Tn(t){return function(){zn(this,t)}}function Pn(t){return function(){Cn(this,t)}}function Dn(t,n){return function(){(n.apply(this,arguments)?zn:Cn)(this,t)}}function jn(){this.textContent=""}function On(t){return function(){this.textContent=t}}function In(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function qn(){this.innerHTML=""}function Ln(t){return function(){this.innerHTML=t}}function Bn(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Wn(){this.nextSibling&&this.parentNode.appendChild(this)}function Hn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gn(){return null}function Xn(){var t=this.parentNode;t&&t.removeChild(this)}function Fn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Yn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Un(t){return function(){var n=this.__on;if(n){for(var e,i=0,r=-1,o=n.length;i<o;++i)e=n[i],t.type&&e.type!==t.type||e.name!==t.name?n[++r]=e:this.removeEventListener(e.type,e.listener,e.options);++r?n.length=r:delete this.__on}}}function Vn(t,n,e){return function(){var i,r=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),void(i.value=n);this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function Zn(t,n,e){var i=wn(t),r=i.CustomEvent;"function"==typeof r?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function Qn(t,n){return function(){return Zn(this,t,n)}}function Jn(t,n){return function(){return Zn(this,t,n.apply(this,arguments))}}ln.prototype={constructor:ln,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Rn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Kn=[null];function te(t,n){this._groups=t,this._parents=n}function ne(){return new te([[document.documentElement]],Kn)}function ee(t){return"string"==typeof t?new te([document.querySelectorAll(t)],[document.documentElement]):new te([Qt(t)],Kn)}function ie(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function re(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function oe(){}te.prototype=ne.prototype={constructor:te,select:function(t){"function"!=typeof t&&(t=Zt(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o,a,s=n[r],l=s.length,c=i[r]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new te(i,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Qt(t.apply(this,arguments))}}(t):Kt(t);for(var n=this._groups,e=n.length,i=[],r=[],o=0;o<e;++o)for(var a,s=n[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(i.push(t.call(a,a.__data__,c,s)),r.push(a));return new te(i,r)},selectChild:function(t){return this.select(null==t?rn:function(t){return function(){return en.call(this.children,t)}}("function"==typeof t?t:nn(t)))},selectChildren:function(t){return this.selectAll(null==t?an:function(t){return function(){return on.call(this.children,t)}}("function"==typeof t?t:nn(t)))},filter:function(t){"function"!=typeof t&&(t=tn(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o,a=n[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new te(i,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,fn);var e=n?un:cn,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=r.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=i[c],f=r[c],h=f.length,d=hn(t.call(u,u&&u.__data__,c,i)),p=d.length,g=s[c]=new Array(p),m=a[c]=new Array(p);e(u,f,g,m,l[c]=new Array(h),d,n);for(var y,$,v=0,w=0;v<p;++v)if(y=g[v]){for(v>=w&&(w=v+1);!($=m[w])&&++w<p;);y._next=$||null}}return(a=new te(a,i))._enter=s,a._exit=l,a},enter:function(){return new te(this._enter||this._groups.map(sn),this._parents)},exit:function(){return new te(this._exit||this._groups.map(sn),this._parents)},join:function(t,n,e){var i=this.enter(),r=this,o=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=n&&(r=n(r))&&(r=r.selection()),null==e?o.remove():e(o),i&&r?i.merge(r).order():r},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,r=e.length,o=i.length,a=Math.min(r,o),s=new Array(r),l=0;l<a;++l)for(var c,u=e[l],f=i[l],h=u.length,d=s[l]=new Array(h),p=0;p<h;++p)(c=u[p]||f[p])&&(d[p]=c);for(;l<r;++l)s[l]=e[l];return new te(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i,r=t[n],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=dn);for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var a,s=e[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(n)}return new te(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r,o=n[e],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},attr:function(t,n){var e=Xt(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==n?e.local?gn:pn:"function"==typeof n?e.local?vn:$n:e.local?yn:mn)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?xn:"function"==typeof n?bn:_n)(t,n,null==e?"":e)):Mn(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?kn:"function"==typeof n?An:En)(t,n)):this.node()[t]},classed:function(t,n){var e=Sn(t+"");if(arguments.length<2){for(var i=Nn(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof n?Dn:n?Tn:Pn)(e,n))},text:function(t){return arguments.length?this.each(null==t?jn:("function"==typeof t?In:On)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?qn:("function"==typeof t?Bn:Ln)(t)):this.node().innerHTML},raise:function(){return this.each(Wn)},lower:function(){return this.each(Hn)},append:function(t){var n="function"==typeof t?t:Ut(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Ut(t),i=null==n?Gn:"function"==typeof n?n:Zt(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Xn)},clone:function(t){return this.select(t?Yn:Fn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var i,r,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=n?Vn:Un,i=0;i<a;++i)this.each(s(o[i],n,e));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(i=0,l=s[c];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,n){return this.each(("function"==typeof n?Jn:Qn)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i,r=t[n],o=0,a=r.length;o<a;++o)(i=r[o])&&(yield i)}};var ae=.7,se=1/ae,le="\\s*([+-]?\\d+)\\s*",ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ue="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fe=/^#([0-9a-f]{3,8})$/,he=new RegExp(`^rgb\\(${le},${le},${le}\\)$`),de=new RegExp(`^rgb\\(${ue},${ue},${ue}\\)$`),pe=new RegExp(`^rgba\\(${le},${le},${le},${ce}\\)$`),ge=new RegExp(`^rgba\\(${ue},${ue},${ue},${ce}\\)$`),me=new RegExp(`^hsl\\(${ce},${ue},${ue}\\)$`),ye=new RegExp(`^hsla\\(${ce},${ue},${ue},${ce}\\)$`),$e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ve(){return this.rgb().formatHex()}function we(){return this.rgb().formatRgb()}function xe(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=fe.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?_e(n):3===e?new ke(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?be(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?be(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=he.exec(t))?new ke(n[1],n[2],n[3],1):(n=de.exec(t))?new ke(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=pe.exec(t))?be(n[1],n[2],n[3],n[4]):(n=ge.exec(t))?be(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=me.exec(t))?ze(n[1],n[2]/100,n[3]/100,1):(n=ye.exec(t))?ze(n[1],n[2]/100,n[3]/100,n[4]):$e.hasOwnProperty(t)?_e($e[t]):"transparent"===t?new ke(NaN,NaN,NaN,0):null}function _e(t){return new ke(t>>16&255,t>>8&255,255&t,1)}function be(t,n,e,i){return i<=0&&(t=n=e=NaN),new ke(t,n,e,i)}function Me(t,n,e,i){return 1===arguments.length?((r=t)instanceof oe||(r=xe(r)),r?new ke((r=r.rgb()).r,r.g,r.b,r.opacity):new ke):new ke(t,n,e,null==i?1:i);var r}function ke(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}function Ee(){return`#${Re(this.r)}${Re(this.g)}${Re(this.b)}`}function Ae(){const t=Se(this.opacity);return`${1===t?"rgb(":"rgba("}${Ne(this.r)}, ${Ne(this.g)}, ${Ne(this.b)}${1===t?")":`, ${t})`}`}function Se(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ne(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Re(t){return((t=Ne(t))<16?"0":"")+t.toString(16)}function ze(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Te(t,n,e,i)}function Ce(t){if(t instanceof Te)return new Te(t.h,t.s,t.l,t.opacity);if(t instanceof oe||(t=xe(t)),!t)return new Te;if(t instanceof Te)return t;var n=(t=t.rgb()).r/255,e=t.g/255,i=t.b/255,r=Math.min(n,e,i),o=Math.max(n,e,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=n===o?(e-i)/s+6*(e<i):e===o?(i-n)/s+2:(n-e)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new Te(a,s,l,t.opacity)}function Te(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}function Pe(t){return(t=(t||0)%360)<0?t+360:t}function De(t){return Math.max(0,Math.min(1,t||0))}function je(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}ie(oe,xe,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ve,formatHex:ve,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ce(this).formatHsl()},formatRgb:we,toString:we}),ie(ke,Me,re(oe,{brighter(t){return t=null==t?se:Math.pow(se,t),new ke(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?ae:Math.pow(ae,t),new ke(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ke(Ne(this.r),Ne(this.g),Ne(this.b),Se(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ee,formatHex:Ee,formatHex8:function(){return`#${Re(this.r)}${Re(this.g)}${Re(this.b)}${Re(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ae,toString:Ae})),ie(Te,(function(t,n,e,i){return 1===arguments.length?Ce(t):new Te(t,n,e,null==i?1:i)}),re(oe,{brighter(t){return t=null==t?se:Math.pow(se,t),new Te(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?ae:Math.pow(ae,t),new Te(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,r=2*e-i;return new ke(je(t>=240?t-240:t+120,r,i),je(t,r,i),je(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Te(Pe(this.h),De(this.s),De(this.l),Se(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Se(this.opacity);return`${1===t?"hsl(":"hsla("}${Pe(this.h)}, ${100*De(this.s)}%, ${100*De(this.l)}%${1===t?")":`, ${t})`}`}}));var Oe=t=>()=>t;function Ie(t){return 1==(t=+t)?qe:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}(n,e,t):Oe(isNaN(n)?e:n)}}function qe(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Oe(isNaN(t)?n:t)}var Le=function t(n){var e=Ie(n);function i(t,n){var i=e((t=Me(t)).r,(n=Me(n)).r),r=e(t.g,n.g),o=e(t.b,n.b),a=qe(t.opacity,n.opacity);return function(n){return t.r=i(n),t.g=r(n),t.b=o(n),t.opacity=a(n),t+""}}return i.gamma=t,i}(1);function Be(t,n){n||(n=[]);var e,i=t?Math.min(n.length,t.length):0,r=n.slice();return function(o){for(e=0;e<i;++e)r[e]=t[e]*(1-o)+n[e]*o;return r}}function We(t,n){var e,i=n?n.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(e=0;e<r;++e)o[e]=Ve(t[e],n[e]);for(;e<i;++e)a[e]=n[e];return function(t){for(e=0;e<r;++e)a[e]=o[e](t);return a}}function He(t,n){var e=new Date;return t=+t,n=+n,function(i){return e.setTime(t*(1-i)+n*i),e}}function Ge(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Xe(t,n){var e,i={},r={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?i[e]=Ve(t[e],n[e]):r[e]=n[e];return function(t){for(e in i)r[e]=i[e](t);return r}}var Fe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ye=new RegExp(Fe.source,"g");function Ue(t,n){var e,i,r,o=Fe.lastIndex=Ye.lastIndex=0,a=-1,s=[],l=[];for(t+="",n+="";(e=Fe.exec(t))&&(i=Ye.exec(n));)(r=i.index)>o&&(r=n.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(e=e[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Ge(e,i)})),o=Ye.lastIndex;return o<n.length&&(r=n.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var e,i=0;i<n;++i)s[(e=l[i]).i]=e.x(t);return s.join("")})}function Ve(t,n){var e,i=typeof n;return null==n||"boolean"===i?Oe(n):("number"===i?Ge:"string"===i?(e=xe(n))?(n=e,Le):Ue:n instanceof xe?Le:n instanceof Date?He:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?Be:Array.isArray(n)?We:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Xe:Ge)(t,n)}function Ze(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Qe,Je=180/Math.PI,Ke={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ti(t,n,e,i,r,o){var a,s,l;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(l=t*e+n*i)&&(e-=t*l,i-=n*l),(s=Math.sqrt(e*e+i*i))&&(e/=s,i/=s,l/=s),t*i<n*e&&(t=-t,n=-n,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(n,t)*Je,skewX:Math.atan(l)*Je,scaleX:a,scaleY:s}}function ni(t,n,e,i){function r(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,i,r,o,a,s){if(t!==r||i!==o){var l=a.push("translate(",null,n,null,e);s.push({i:l-4,x:Ge(t,r)},{i:l-2,x:Ge(i,o)})}else(r||o)&&a.push("translate("+r+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(r(e)+"rotate(",null,i)-2,x:Ge(t,n)})):n&&e.push(r(e)+"rotate("+n+i)}(o.rotate,a.rotate,s,l),function(t,n,e,o){t!==n?o.push({i:e.push(r(e)+"skewX(",null,i)-2,x:Ge(t,n)}):n&&e.push(r(e)+"skewX("+n+i)}(o.skewX,a.skewX,s,l),function(t,n,e,i,o,a){if(t!==e||n!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Ge(t,e)},{i:s-2,x:Ge(n,i)})}else 1===e&&1===i||o.push(r(o)+"scale("+e+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var n,e=-1,i=l.length;++e<i;)s[(n=l[e]).i]=n.x(t);return s.join("")}}}var ei,ii,ri=ni((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Ke:ti(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),oi=ni((function(t){return null==t?Ke:(Qe||(Qe=document.createElementNS("http://www.w3.org/2000/svg","g")),Qe.setAttribute("transform",t),(t=Qe.transform.baseVal.consolidate())?ti((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ke)}),", ",")",")"),ai=0,si=0,li=0,ci=1e3,ui=0,fi=0,hi=0,di="object"==typeof performance&&performance.now?performance:Date,pi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function gi(){return fi||(pi(mi),fi=di.now()+hi)}function mi(){fi=0}function yi(){this._call=this._time=this._next=null}function $i(t,n,e){var i=new yi;return i.restart(t,n,e),i}function vi(){fi=(ui=di.now())+hi,ai=si=0;try{!function(){gi(),++ai;for(var t,n=ei;n;)(t=fi-n._time)>=0&&n._call.call(void 0,t),n=n._next;--ai}()}finally{ai=0,function(){var t,n,e=ei,i=1/0;for(;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ei=n);ii=t,xi(i)}(),fi=0}}function wi(){var t=di.now(),n=t-ui;n>ci&&(hi-=n,ui=t)}function xi(t){ai||(si&&(si=clearTimeout(si)),t-fi>24?(t<1/0&&(si=setTimeout(vi,t-di.now()-hi)),li&&(li=clearInterval(li))):(li||(ui=di.now(),li=setInterval(wi,ci)),ai=1,pi(vi)))}function _i(t,n,e){var i=new yi;return n=null==n?0:+n,i.restart((e=>{i.stop(),t(e+n)}),n,e),i}yi.prototype=$i.prototype={constructor:yi,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?gi():+e)+(null==n?0:+n),this._next||ii===this||(ii?ii._next=this:ei=this,ii=this),this._call=t,this._time=e,xi()},stop:function(){this._call&&(this._call=null,this._time=1/0,xi())}};var bi=qt("start","end","cancel","interrupt"),Mi=[],ki=0,Ei=1,Ai=2,Si=3,Ni=4,Ri=5,zi=6;function Ci(t,n,e,i,r,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var i,r=t.__transition;function o(t){e.state=Ei,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var c,u,f,h;if(e.state!==Ei)return l();for(c in r)if((h=r[c]).name===e.name){if(h.state===Si)return _i(a);h.state===Ni?(h.state=zi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[c]):+c<n&&(h.state=zi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[c])}if(_i((function(){e.state===Si&&(e.state=Ni,e.timer.restart(s,e.delay,e.time),s(o))})),e.state=Ai,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Ai){for(e.state=Si,i=new Array(f=e.tween.length),c=0,u=-1;c<f;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(i[++u]=h);i.length=u+1}}function s(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(l),e.state=Ri,1),o=-1,a=i.length;++o<a;)i[o].call(t,r);e.state===Ri&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){for(var i in e.state=zi,e.timer.stop(),delete r[n],r)return;delete t.__transition}r[n]=e,e.timer=$i(o,0,e.time)}(t,e,{name:n,index:i,group:r,on:bi,tween:Mi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ki})}function Ti(t,n){var e=Di(t,n);if(e.state>ki)throw new Error("too late; already scheduled");return e}function Pi(t,n){var e=Di(t,n);if(e.state>Si)throw new Error("too late; already running");return e}function Di(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function ji(t,n){var e,i;return function(){var r=Pi(this,t),o=r.tween;if(o!==e)for(var a=0,s=(i=e=o).length;a<s;++a)if(i[a].name===n){(i=i.slice()).splice(a,1);break}r.tween=i}}function Oi(t,n,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var o=Pi(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:n,value:e},l=0,c=r.length;l<c;++l)if(r[l].name===n){r[l]=s;break}l===c&&r.push(s)}o.tween=r}}function Ii(t,n,e){var i=t._id;return t.each((function(){var t=Pi(this,i);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Di(t,i).value[n]}}function qi(t,n){var e;return("number"==typeof n?Ge:n instanceof xe?Le:(e=xe(n))?(n=e,Le):Ue)(t,n)}function Li(t){return function(){this.removeAttribute(t)}}function Bi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Wi(t,n,e){var i,r,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===i?r:r=n(i=a,e)}}function Hi(t,n,e){var i,r,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?r:r=n(i=a,e)}}function Gi(t,n,e){var i,r,o;return function(){var a,s,l=e(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=n(i=a,l));this.removeAttribute(t)}}function Xi(t,n,e){var i,r,o;return function(){var a,s,l=e(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=n(i=a,l));this.removeAttributeNS(t.space,t.local)}}function Fi(t,n){var e,i;function r(){var r=n.apply(this,arguments);return r!==i&&(e=(i=r)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,r)),e}return r._value=n,r}function Yi(t,n){var e,i;function r(){var r=n.apply(this,arguments);return r!==i&&(e=(i=r)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,r)),e}return r._value=n,r}function Ui(t,n){return function(){Ti(this,t).delay=+n.apply(this,arguments)}}function Vi(t,n){return n=+n,function(){Ti(this,t).delay=n}}function Zi(t,n){return function(){Pi(this,t).duration=+n.apply(this,arguments)}}function Qi(t,n){return n=+n,function(){Pi(this,t).duration=n}}var Ji=ne.prototype.constructor;function Ki(t){return function(){this.style.removeProperty(t)}}var tr=0;function nr(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function er(t){return ne().transition(t)}function ir(){return++tr}var rr=ne.prototype;nr.prototype=er.prototype={constructor:nr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Zt(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,l,c=i[a],u=c.length,f=o[a]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=t.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),f[h]=l,Ci(f[h],n,e,h,f,Di(s,e)));return new nr(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Kt(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l,c=i[s],u=c.length,f=0;f<u;++f)if(l=c[f]){for(var h,d=t.call(l,l.__data__,f,c),p=Di(l,e),g=0,m=d.length;g<m;++g)(h=d[g])&&Ci(h,n,e,g,d,p);o.push(d),a.push(l)}return new nr(o,a,n,e)},selectChild:rr.selectChild,selectChildren:rr.selectChildren,filter:function(t){"function"!=typeof t&&(t=tn(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o,a=n[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new nr(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,r=e.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,c=n[s],u=e[s],f=c.length,h=a[s]=new Array(f),d=0;d<f;++d)(l=c[d]||u[d])&&(h[d]=l);for(;s<i;++s)a[s]=n[s];return new nr(a,this._parents,this._name,this._id)},selection:function(){return new Ji(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=ir(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=Di(a,n);Ci(a,t,e,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new nr(i,this._parents,t,e)},call:rr.call,nodes:rr.nodes,node:rr.node,size:rr.size,empty:rr.empty,each:rr.each,on:function(t,n){var e=this._id;return arguments.length<2?Di(this.node(),e).on.on(t):this.each(function(t,n,e){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Ti:Pi;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(n,e),a.on=r}}(e,t,n))},attr:function(t,n){var e=Xt(t),i="transform"===e?oi:qi;return this.attrTween(t,"function"==typeof n?(e.local?Xi:Gi)(e,i,Ii(this,"attr."+t,n)):null==n?(e.local?Bi:Li)(e):(e.local?Hi:Wi)(e,i,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var i=Xt(t);return this.tween(e,(i.local?Fi:Yi)(i,n))},style:function(t,n,e){var i="transform"==(t+="")?ri:qi;return null==n?this.styleTween(t,function(t,n){var e,i,r;return function(){var o=Mn(this,t),a=(this.style.removeProperty(t),Mn(this,t));return o===a?null:o===e&&a===i?r:r=n(e=o,i=a)}}(t,i)).on("end.style."+t,Ki(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var i,r,o;return function(){var a=Mn(this,t),s=e(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=Mn(this,t)),a===l?null:a===i&&l===r?o:(r=l,o=n(i=a,s))}}(t,i,Ii(this,"style."+t,n))).each(function(t,n){var e,i,r,o,a="style."+n,s="end."+a;return function(){var l=Pi(this,t),c=l.on,u=null==l.value[a]?o||(o=Ki(n)):void 0;c===e&&r===u||(i=(e=c).copy()).on(s,r=u),l.on=i}}(this._id,t)):this.styleTween(t,function(t,n,e){var i,r,o=e+"";return function(){var a=Mn(this,t);return a===o?null:a===i?r:r=n(i=a,e)}}(t,i,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,function(t,n,e){var i,r;function o(){var o=n.apply(this,arguments);return o!==r&&(i=(r=o)&&function(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}(t,o,e)),i}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Ii(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function i(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&function(t){return function(n){this.textContent=t.call(this,n)}}(i)),n}return i._value=t,i}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var i,r=Di(this.node(),e).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==n?ji:Oi)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Ui:Vi)(n,t)):Di(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Zi:Qi)(n,t)):Di(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Pi(this,t).ease=n}}(n,t)):Di(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Pi(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,i=e._id,r=e.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--r&&o()}};e.each((function(){var e=Pi(this,i),r=e.on;r!==t&&((n=(t=r).copy())._.cancel.push(s),n._.interrupt.push(s),n._.end.push(l)),e.on=n})),0===r&&o()}))},[Symbol.iterator]:rr[Symbol.iterator]};var or={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function ar(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}ne.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,i,r,o=t.__transition,a=!0;if(o){for(r in n=null==n?null:n+"",o)(e=o[r]).name===n?(i=e.state>Ai&&e.state<Ri,e.state=zi,e.timer.stop(),e.on.call(i?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[r]):a=!1;a&&delete t.__transition}}(this,t)}))},ne.prototype.transition=function(t){var n,e;t instanceof nr?(n=t._id,t=t._name):(n=ir(),(e=or).time=gi(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)(a=s[c])&&Ci(a,t,n,c,s,e||ar(a,n));return new nr(i,this._parents,t,n)};const sr=Math.PI,lr=2*sr,cr=1e-6,ur=lr-cr;function fr(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}class hr{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?fr:function(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return fr;const e=10**n;return function(t){this._+=t[0];for(let n=1,i=t.length;n<i;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,e,i){this._append`Q${+t},${+n},${this._x1=+e},${this._y1=+i}`}bezierCurveTo(t,n,e,i,r,o){this._append`C${+t},${+n},${+e},${+i},${this._x1=+r},${this._y1=+o}`}arcTo(t,n,e,i,r){if(t=+t,n=+n,e=+e,i=+i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=this._x1,a=this._y1,s=e-t,l=i-n,c=o-t,u=a-n,f=c*c+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=n}`;else if(f>cr)if(Math.abs(u*s-l*c)>cr&&r){let h=e-o,d=i-a,p=s*s+l*l,g=h*h+d*d,m=Math.sqrt(p),y=Math.sqrt(f),$=r*Math.tan((sr-Math.acos((p+f-g)/(2*m*y)))/2),v=$/y,w=$/m;Math.abs(v-1)>cr&&this._append`L${t+v*c},${n+v*u}`,this._append`A${r},${r},0,0,${+(u*h>c*d)},${this._x1=t+w*s},${this._y1=n+w*l}`}else this._append`L${this._x1=t},${this._y1=n}`;else;}arc(t,n,e,i,r,o){if(t=+t,n=+n,o=!!o,(e=+e)<0)throw new Error(`negative radius: ${e}`);let a=e*Math.cos(i),s=e*Math.sin(i),l=t+a,c=n+s,u=1^o,f=o?i-r:r-i;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>cr||Math.abs(this._y1-c)>cr)&&this._append`L${l},${c}`,e&&(f<0&&(f=f%lr+lr),f>ur?this._append`A${e},${e},0,1,${u},${t-a},${n-s}A${e},${e},0,1,${u},${this._x1=l},${this._y1=c}`:f>cr&&this._append`A${e},${e},0,${+(f>=sr)},${u},${this._x1=t+e*Math.cos(r)},${this._y1=n+e*Math.sin(r)}`)}rect(t,n,e,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${e=+e}v${+i}h${-e}Z`}toString(){return this._}}var dr={},pr={};function gr(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function mr(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var i in t)i in n||e.push(n[i]=i)})),e}function yr(t,n){var e=t+"",i=e.length;return i<n?new Array(n-i+1).join(0)+e:e}function $r(t){var n,e=t.getUTCHours(),i=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+yr(-n,6):n>9999?"+"+yr(n,6):yr(n,4))+"-"+yr(t.getUTCMonth()+1,2)+"-"+yr(t.getUTCDate(),2)+(o?"T"+yr(e,2)+":"+yr(i,2)+":"+yr(r,2)+"."+yr(o,3)+"Z":r?"T"+yr(e,2)+":"+yr(i,2)+":"+yr(r,2)+"Z":i||e?"T"+yr(e,2)+":"+yr(i,2)+"Z":"")}var vr=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function i(t,n){var i,r=[],o=t.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return pr;if(c)return c=!1,dr;var n,i,r=a;if(34===t.charCodeAt(r)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?l=!0:10===(i=t.charCodeAt(a++))?c=!0:13===i&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(r+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(i=t.charCodeAt(n=a++)))c=!0;else if(13===i)c=!0,10===t.charCodeAt(a)&&++a;else if(i!==e)continue;return t.slice(r,n)}return l=!0,t.slice(r,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(i=u())!==pr;){for(var f=[];i!==dr&&i!==pr;)f.push(i),i=u();n&&null==(f=n(f,s++))||r.push(f)}return r}function r(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?$r(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,r,o=i(t,(function(t,i){if(e)return e(t,i-1);r=t,e=n?function(t,n){var e=gr(t);return function(i,r){return n(e(i),r,t)}}(t,n):gr(t)}));return o.columns=r||[],o},parseRows:i,format:function(n,e){return null==e&&(e=mr(n)),[e.map(a).join(t)].concat(r(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=mr(t)),r(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),wr=vr.parse;function xr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var _r,br=(_r=wr,function(t,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=void 0),function(t,n){return fetch(t,n).then(xr)}(t,n).then((function(t){return _r(t,e)}))});function Mr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function kr(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,i=t.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+t.slice(e+1)]}function Er(t){return(t=kr(Math.abs(t)))?t[1]:NaN}var Ar,Sr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nr(t){if(!(n=Sr.exec(t)))throw new Error("invalid format: "+t);var n;return new Rr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Rr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function zr(t,n){var e=kr(t,n);if(!e)return t+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Nr.prototype=Rr.prototype,Rr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Cr={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>zr(100*t,n),r:zr,s:function(t,n){var e=kr(t,n);if(!e)return t+"";var i=e[0],r=e[1],o=r-(Ar=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+kr(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Tr(t){return t}var Pr,Dr,jr,Or=Array.prototype.map,Ir=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qr(t){var n,e,i=void 0===t.grouping||void 0===t.thousands?Tr:(n=Or.call(t.grouping,Number),e=t.thousands+"",function(t,i){for(var r=t.length,o=[],a=0,s=n[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),o.push(t.substring(r-=s,r+s)),!((l+=s+1)>i));)s=n[a=(a+1)%n.length];return o.reverse().join(e)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Tr:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Or.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=Nr(t)).fill,e=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,$=t.type;"n"===$?(g=!0,$="g"):Cr[$]||(void 0===m&&(m=12),y=!0,$="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var v="$"===h?r:"#"===h&&/[boxX]/.test($)?"0"+$.toLowerCase():"",w="$"===h?o:/[%p]/.test($)?l:"",x=Cr[$],_=/[defgprs%]/.test($);function b(t){var r,o,l,h=v,b=w;if("c"===$)b=x(t)+b,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),m),y&&(t=function(t){t:for(var n,e=t.length,i=1,r=-1;i<e;++i)switch(t[i]){case".":r=n=i;break;case"0":0===r&&(r=i),n=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(n+1):t}(t)),M&&0==+t&&"+"!==f&&(M=!1),h=(M?"("===f?f:c:"-"===f||"("===f?"":f)+h,b=("s"===$?Ir[8+Ar/3]:"")+b+(M&&"("===f?")":""),_)for(r=-1,o=t.length;++r<o;)if(48>(l=t.charCodeAt(r))||l>57){b=(46===l?a+t.slice(r+1):t.slice(r))+b,t=t.slice(0,r);break}}g&&!d&&(t=i(t,1/0));var k=h.length+t.length+b.length,E=k<p?new Array(p-k+1).join(n):"";switch(g&&d&&(t=i(E+t,E.length?p-b.length:1/0),E=""),e){case"<":t=h+t+b+E;break;case"=":t=h+E+t+b;break;case"^":t=E.slice(0,k=E.length>>1)+h+t+b+E.slice(k);break;default:t=E+h+t+b}return s(t)}return m=void 0===m?6:/[gprs]/.test($)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),b.toString=function(){return t+""},b}return{format:f,formatPrefix:function(t,n){var e=f(((t=Nr(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Er(n)/3))),r=Math.pow(10,-i),o=Ir[8+i/3];return function(t){return e(r*t)+o}}}}Pr=qr({thousands:",",grouping:[3],currency:["$",""]}),Dr=Pr.format,jr=Pr.formatPrefix;var Lr=1e-6,Br=1e-12,Wr=Math.PI,Hr=Wr/2,Gr=Wr/4,Xr=2*Wr,Fr=180/Wr,Yr=Wr/180,Ur=Math.abs,Vr=Math.atan,Zr=Math.atan2,Qr=Math.cos,Jr=Math.sin,Kr=Math.sign||function(t){return t>0?1:t<0?-1:0},to=Math.sqrt;function no(t){return t>1?Hr:t<-1?-Hr:Math.asin(t)}function eo(){}function io(t,n){t&&oo.hasOwnProperty(t.type)&&oo[t.type](t,n)}var ro={Feature:function(t,n){io(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,r=e.length;++i<r;)io(e[i].geometry,n)}},oo={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)t=e[i],n.point(t[0],t[1],t[2])},LineString:function(t,n){ao(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)ao(e[i],n,0)},Polygon:function(t,n){so(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)so(e[i],n)},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,r=e.length;++i<r;)io(e[i],n)}};function ao(t,n,e){var i,r=-1,o=t.length-e;for(n.lineStart();++r<o;)i=t[r],n.point(i[0],i[1],i[2]);n.lineEnd()}function so(t,n){var e=-1,i=t.length;for(n.polygonStart();++e<i;)ao(t[e],n,1);n.polygonEnd()}function lo(t,n){t&&ro.hasOwnProperty(t.type)?ro[t.type](t,n):io(t,n)}function co(t){return[Zr(t[1],t[0]),no(t[2])]}function uo(t){var n=t[0],e=t[1],i=Qr(e);return[i*Qr(n),i*Jr(n),Jr(e)]}function fo(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function ho(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function po(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function go(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function mo(t){var n=to(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function yo(t,n){function e(e,i){return e=t(e,i),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,i){return(e=n.invert(e,i))&&t.invert(e[0],e[1])}),e}function $o(t,n){return Ur(t)>Wr&&(t-=Math.round(t/Xr)*Xr),[t,n]}function vo(t){return function(n,e){return Ur(n+=t)>Wr&&(n-=Math.round(n/Xr)*Xr),[n,e]}}function wo(t){var n=vo(t);return n.invert=vo(-t),n}function xo(t,n){var e=Qr(t),i=Jr(t),r=Qr(n),o=Jr(n);function a(t,n){var a=Qr(n),s=Qr(t)*a,l=Jr(t)*a,c=Jr(n),u=c*e+s*i;return[Zr(l*r-u*o,s*e-c*i),no(u*r+l*o)]}return a.invert=function(t,n){var a=Qr(n),s=Qr(t)*a,l=Jr(t)*a,c=Jr(n),u=c*r-l*o;return[Zr(l*r+c*o,s*e+u*i),no(u*e-s*i)]},a}function _o(t,n){(n=uo(n))[0]-=t,mo(n);var e=function(t){return t>1?0:t<-1?Wr:Math.acos(t)}(-n[1]);return((-n[2]<0?-e:e)+Xr-Lr)%Xr}function bo(){var t,n=[];return{point:function(n,e,i){t.push([n,e,i])},lineStart:function(){n.push(t=[])},lineEnd:eo,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Mo(t,n){return Ur(t[0]-n[0])<Lr&&Ur(t[1]-n[1])<Lr}function ko(t,n,e,i){this.x=t,this.z=n,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function Eo(t,n,e,i,r){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,i=t[0],a=t[n];if(Mo(i,a)){if(!i[2]&&!a[2]){for(r.lineStart(),o=0;o<n;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}a[0]+=2*Lr}s.push(e=new ko(i,t,null,!0)),l.push(e.o=new ko(i,null,e,!1)),s.push(e=new ko(a,t,null,!1)),l.push(e.o=new ko(a,null,e,!0))}})),s.length){for(l.sort(n),Ao(s),Ao(l),o=0,a=l.length;o<a;++o)l[o].e=e=!e;for(var c,u,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;c=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=c.length;o<a;++o)r.point((u=c[o])[0],u[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)r.point((u=c[o])[0],u[1]);else i(h.x,h.p.x,-1,r);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);r.lineEnd()}}}function Ao(t){if(n=t.length){for(var n,e,i=0,r=t[0];++i<n;)r.n=e=t[i],e.p=r,r=e;r.n=e=t[0],e.p=r}}function So(t){return Ur(t[0])<=Wr?t[0]:Kr(t[0])*((Ur(t[0])+Wr)%Xr-Wr)}function No(t,n,e,i){return function(r){var o,a,s,l=n(r),c=bo(),u=n(c),f=!1,h={point:d,lineStart:g,lineEnd:m,polygonStart:function(){h.point=y,h.lineStart=$,h.lineEnd=v,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=m,a=Ot(a);var t=function(t,n){var e=So(n),i=n[1],r=Jr(i),o=[Jr(e),-Qr(e),0],a=0,s=0,l=new Et;1===r?i=Hr+Lr:-1===r&&(i=-Hr-Lr);for(var c=0,u=t.length;c<u;++c)if(h=(f=t[c]).length)for(var f,h,d=f[h-1],p=So(d),g=d[1]/2+Gr,m=Jr(g),y=Qr(g),$=0;$<h;++$,p=w,m=_,y=b,d=v){var v=f[$],w=So(v),x=v[1]/2+Gr,_=Jr(x),b=Qr(x),M=w-p,k=M>=0?1:-1,E=k*M,A=E>Wr,S=m*_;if(l.add(Zr(S*k*Jr(E),y*b+S*Qr(E))),a+=A?M+k*Xr:M,A^p>=e^w>=e){var N=ho(uo(d),uo(v));mo(N);var R=ho(o,N);mo(R);var z=(A^M>=0?-1:1)*no(R[2]);(i>z||i===z&&(N[0]||N[1]))&&(s+=A^M>=0?1:-1)}}return(a<-Lr||a<Lr&&l<-Br)^1&s}(o,i);a.length?(f||(r.polygonStart(),f=!0),Eo(a,zo,t,e,r)):t&&(f||(r.polygonStart(),f=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),f&&(r.polygonEnd(),f=!1),a=o=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(n,e){t(n,e)&&r.point(n,e)}function p(t,n){l.point(t,n)}function g(){h.point=p,l.lineStart()}function m(){h.point=d,l.lineEnd()}function y(t,n){s.push([t,n]),u.point(t,n)}function $(){u.lineStart(),s=[]}function v(){y(s[0][0],s[0][1]),u.lineEnd();var t,n,e,i,l=u.clean(),h=c.result(),d=h.length;if(s.pop(),o.push(s),s=null,d)if(1&l){if((n=(e=h[0]).length-1)>0){for(f||(r.polygonStart(),f=!0),r.lineStart(),t=0;t<n;++t)r.point((i=e[t])[0],i[1]);r.lineEnd()}}else d>1&&2&l&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Ro))}return h}}function Ro(t){return t.length>1}function zo(t,n){return((t=t.x)[0]<0?t[1]-Hr-Lr:Hr-t[1])-((n=n.x)[0]<0?n[1]-Hr-Lr:Hr-n[1])}$o.invert=$o;var Co=No((function(){return!0}),(function(t){var n,e=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var s=o>0?Wr:-Wr,l=Ur(o-e);Ur(l-Wr)<Lr?(t.point(e,i=(i+a)/2>0?Hr:-Hr),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),n=0):r!==s&&l>=Wr&&(Ur(e-r)<Lr&&(e-=r*Lr),Ur(o-s)<Lr&&(o-=s*Lr),i=function(t,n,e,i){var r,o,a=Jr(t-e);return Ur(a)>Lr?Vr((Jr(n)*(o=Qr(i))*Jr(e)-Jr(i)*(r=Qr(n))*Jr(t))/(r*o*a)):(n+i)/2}(e,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),n=0),t.point(e=o,i=a),r=s},lineEnd:function(){t.lineEnd(),e=i=NaN},clean:function(){return 2-n}}}),(function(t,n,e,i){var r;if(null==t)r=e*Hr,i.point(-Wr,r),i.point(0,r),i.point(Wr,r),i.point(Wr,0),i.point(Wr,-r),i.point(0,-r),i.point(-Wr,-r),i.point(-Wr,0),i.point(-Wr,r);else if(Ur(t[0]-n[0])>Lr){var o=t[0]<n[0]?Wr:-Wr;r=e*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(n[0],n[1])}),[-Wr,-Hr]);function To(t){var n=Qr(t),e=2*Yr,i=n>0,r=Ur(n)>Lr;function o(t,e){return Qr(t)*Qr(e)>n}function a(t,e,i){var r=[1,0,0],o=ho(uo(t),uo(e)),a=fo(o,o),s=o[0],l=a-s*s;if(!l)return!i&&t;var c=n*a/l,u=-n*s/l,f=ho(r,o),h=go(r,c);po(h,go(o,u));var d=f,p=fo(h,d),g=fo(d,d),m=p*p-g*(fo(h,h)-1);if(!(m<0)){var y=to(m),$=go(d,(-p-y)/g);if(po($,h),$=co($),!i)return $;var v,w=t[0],x=e[0],_=t[1],b=e[1];x<w&&(v=w,w=x,x=v);var M=x-w,k=Ur(M-Wr)<Lr;if(!k&&b<_&&(v=_,_=b,b=v),k||M<Lr?k?_+b>0^$[1]<(Ur($[0]-w)<Lr?_:b):_<=$[1]&&$[1]<=b:M>Wr^(w<=$[0]&&$[0]<=x)){var E=go(d,(-p+y)/g);return po(E,h),[$,co(E)]}}}function s(n,e){var r=i?t:Wr-t,o=0;return n<-r?o|=1:n>r&&(o|=2),e<-r?o|=4:e>r&&(o|=8),o}return No(o,(function(t){var n,e,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(f,h){var d,p=[f,h],g=o(f,h),m=i?g?0:s(f,h):g?s(f+(f<0?Wr:-Wr),h):0;if(!n&&(c=l=g)&&t.lineStart(),g!==l&&(!(d=a(n,p))||Mo(n,d)||Mo(p,d))&&(p[2]=1),g!==l)u=0,g?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1],2),t.lineEnd()),n=d;else if(r&&n&&i^g){var y;m&e||!(y=a(p,n,!0))||(u=0,i?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||n&&Mo(n,p)||t.point(p[0],p[1]),n=p,l=g,e=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return u|(c&&l)<<1}}}),(function(n,i,r,o){!function(t,n,e,i,r,o){if(e){var a=Qr(n),s=Jr(n),l=i*e;null==r?(r=n+i*Xr,o=n-l/2):(r=_o(a,r),o=_o(a,o),(i>0?r<o:r>o)&&(r+=i*Xr));for(var c,u=r;i>0?u>o:u<o;u-=l)c=co([a,-s*Qr(u),-s*Jr(u)]),t.point(c[0],c[1])}}(o,t,e,r,n,i)}),i?[0,-t]:[-Wr,t-Wr])}var Po=1e9,Do=-Po;function jo(t,n,e,i){function r(r,o){return t<=r&&r<=e&&n<=o&&o<=i}function o(r,o,s,c){var u=0,f=0;if(null==r||(u=a(r,s))!==(f=a(o,s))||l(r,o)<0^s>0)do{c.point(0===u||3===u?t:e,u>1?i:n)}while((u=(u+s+4)%4)!==f);else c.point(o[0],o[1])}function a(i,r){return Ur(i[0]-t)<Lr?r>0?0:3:Ur(i[0]-e)<Lr?r>0?2:1:Ur(i[1]-n)<Lr?r>0?1:0:r>0?3:2}function s(t,n){return l(t.x,n.x)}function l(t,n){var e=a(t,1),i=a(n,1);return e!==i?e-i:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var l,c,u,f,h,d,p,g,m,y,$,v=a,w=bo(),x={point:_,lineStart:function(){x.point=b,c&&c.push(u=[]);y=!0,m=!1,p=g=NaN},lineEnd:function(){l&&(b(f,h),d&&m&&w.rejoin(),l.push(w.result()));x.point=_,m&&v.lineEnd()},polygonStart:function(){v=w,l=[],c=[],$=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,r=c.length;e<r;++e)for(var o,a,s=c[e],l=1,u=s.length,f=s[0],h=f[0],d=f[1];l<u;++l)o=h,a=d,h=(f=s[l])[0],d=f[1],a<=i?d>i&&(h-o)*(i-a)>(d-a)*(t-o)&&++n:d<=i&&(h-o)*(i-a)<(d-a)*(t-o)&&--n;return n}(),e=$&&n,r=(l=Ot(l)).length;(e||r)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),r&&Eo(l,s,n,o,a),a.polygonEnd());v=a,l=c=u=null}};function _(t,n){r(t,n)&&v.point(t,n)}function b(o,a){var s=r(o,a);if(c&&u.push([o,a]),y)f=o,h=a,d=s,y=!1,s&&(v.lineStart(),v.point(o,a));else if(s&&m)v.point(o,a);else{var l=[p=Math.max(Do,Math.min(Po,p)),g=Math.max(Do,Math.min(Po,g))],w=[o=Math.max(Do,Math.min(Po,o)),a=Math.max(Do,Math.min(Po,a))];!function(t,n,e,i,r,o){var a,s=t[0],l=t[1],c=0,u=1,f=n[0]-s,h=n[1]-l;if(a=e-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>c&&(c=a)}if(a=r-s,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<u&&(u=a)}if(a=i-l,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>c&&(c=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<u&&(u=a)}return c>0&&(t[0]=s+c*f,t[1]=l+c*h),u<1&&(n[0]=s+u*f,n[1]=l+u*h),!0}}}}}(l,w,t,n,e,i)?s&&(v.lineStart(),v.point(o,a),$=!1):(m||(v.lineStart(),v.point(l[0],l[1])),v.point(w[0],w[1]),s||v.lineEnd(),$=!1)}p=o,g=a,m=s}return x}}var Oo,Io,qo,Lo,Bo=t=>t,Wo=new Et,Ho=new Et,Go={point:eo,lineStart:eo,lineEnd:eo,polygonStart:function(){Go.lineStart=Xo,Go.lineEnd=Uo},polygonEnd:function(){Go.lineStart=Go.lineEnd=Go.point=eo,Wo.add(Ur(Ho)),Ho=new Et},result:function(){var t=Wo/2;return Wo=new Et,t}};function Xo(){Go.point=Fo}function Fo(t,n){Go.point=Yo,Oo=qo=t,Io=Lo=n}function Yo(t,n){Ho.add(Lo*t-qo*n),qo=t,Lo=n}function Uo(){Yo(Oo,Io)}var Vo=1/0,Zo=Vo,Qo=-Vo,Jo=Qo,Ko={point:function(t,n){t<Vo&&(Vo=t);t>Qo&&(Qo=t);n<Zo&&(Zo=n);n>Jo&&(Jo=n)},lineStart:eo,lineEnd:eo,polygonStart:eo,polygonEnd:eo,result:function(){var t=[[Vo,Zo],[Qo,Jo]];return Qo=Jo=-(Zo=Vo=1/0),t}};var ta,na,ea,ia,ra=0,oa=0,aa=0,sa=0,la=0,ca=0,ua=0,fa=0,ha=0,da={point:pa,lineStart:ga,lineEnd:$a,polygonStart:function(){da.lineStart=va,da.lineEnd=wa},polygonEnd:function(){da.point=pa,da.lineStart=ga,da.lineEnd=$a},result:function(){var t=ha?[ua/ha,fa/ha]:ca?[sa/ca,la/ca]:aa?[ra/aa,oa/aa]:[NaN,NaN];return ra=oa=aa=sa=la=ca=ua=fa=ha=0,t}};function pa(t,n){ra+=t,oa+=n,++aa}function ga(){da.point=ma}function ma(t,n){da.point=ya,pa(ea=t,ia=n)}function ya(t,n){var e=t-ea,i=n-ia,r=to(e*e+i*i);sa+=r*(ea+t)/2,la+=r*(ia+n)/2,ca+=r,pa(ea=t,ia=n)}function $a(){da.point=pa}function va(){da.point=xa}function wa(){_a(ta,na)}function xa(t,n){da.point=_a,pa(ta=ea=t,na=ia=n)}function _a(t,n){var e=t-ea,i=n-ia,r=to(e*e+i*i);sa+=r*(ea+t)/2,la+=r*(ia+n)/2,ca+=r,ua+=(r=ia*t-ea*n)*(ea+t),fa+=r*(ia+n),ha+=3*r,pa(ea=t,ia=n)}function ba(t){this._context=t}ba.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Xr)}},result:eo};var Ma,ka,Ea,Aa,Sa,Na=new Et,Ra={point:eo,lineStart:function(){Ra.point=za},lineEnd:function(){Ma&&Ca(ka,Ea),Ra.point=eo},polygonStart:function(){Ma=!0},polygonEnd:function(){Ma=null},result:function(){var t=+Na;return Na=new Et,t}};function za(t,n){Ra.point=Ca,ka=Aa=t,Ea=Sa=n}function Ca(t,n){Aa-=t,Sa-=n,Na.add(to(Aa*Aa+Sa*Sa)),Aa=t,Sa=n}let Ta,Pa,Da,ja;class Oa{constructor(t){this._append=null==t?Ia:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Ia;if(n!==Ta){const t=10**n;Ta=n,Pa=function(n){let e=1;this._+=n[0];for(const i=n.length;e<i;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return Pa}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==Da||this._append!==Pa){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Da=t,Pa=this._append,ja=this._,this._=n}this._+=ja}}result(){const t=this._;return this._="",t.length?t:null}}function Ia(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function qa(t){return function(n){var e=new La;for(var i in t)e[i]=t[i];return e.stream=n,e}}function La(){}function Ba(t,n,e){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),lo(e,t.stream(Ko)),n(Ko.result()),null!=i&&t.clipExtent(i),t}function Wa(t,n,e){return Ba(t,(function(e){var i=n[1][0]-n[0][0],r=n[1][1]-n[0][1],o=Math.min(i/(e[1][0]-e[0][0]),r/(e[1][1]-e[0][1])),a=+n[0][0]+(i-o*(e[1][0]+e[0][0]))/2,s=+n[0][1]+(r-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,s])}),e)}La.prototype={constructor:La,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ha=16,Ga=Qr(30*Yr);function Xa(t,n){return+n?function(t,n){function e(i,r,o,a,s,l,c,u,f,h,d,p,g,m){var y=c-i,$=u-r,v=y*y+$*$;if(v>4*n&&g--){var w=a+h,x=s+d,_=l+p,b=to(w*w+x*x+_*_),M=no(_/=b),k=Ur(Ur(_)-1)<Lr||Ur(o-f)<Lr?(o+f)/2:Zr(x,w),E=t(k,M),A=E[0],S=E[1],N=A-i,R=S-r,z=$*N-y*R;(z*z/v>n||Ur((y*N+$*R)/v-.5)>.3||a*h+s*d+l*p<Ga)&&(e(i,r,o,a,s,l,A,S,k,w/=b,x/=b,_,g,m),m.point(A,S),e(A,S,k,w,x,_,c,u,f,h,d,p,g,m))}}return function(n){var i,r,o,a,s,l,c,u,f,h,d,p,g={point:m,lineStart:y,lineEnd:v,polygonStart:function(){n.polygonStart(),g.lineStart=w},polygonEnd:function(){n.polygonEnd(),g.lineStart=y}};function m(e,i){e=t(e,i),n.point(e[0],e[1])}function y(){u=NaN,g.point=$,n.lineStart()}function $(i,r){var o=uo([i,r]),a=t(i,r);e(u,f,c,h,d,p,u=a[0],f=a[1],c=i,h=o[0],d=o[1],p=o[2],Ha,n),n.point(u,f)}function v(){g.point=m,n.lineEnd()}function w(){y(),g.point=x,g.lineEnd=_}function x(t,n){$(i=t,n),r=u,o=f,a=h,s=d,l=p,g.point=$}function _(){e(u,f,c,h,d,p,r,o,i,a,s,l,Ha,n),g.lineEnd=v,v()}return g}}(t,n):function(t){return qa({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var Fa=qa({point:function(t,n){this.stream.point(t*Yr,n*Yr)}});function Ya(t,n,e,i,r,o){if(!o)return function(t,n,e,i,r){function o(o,a){return[n+t*(o*=i),e-t*(a*=r)]}return o.invert=function(o,a){return[(o-n)/t*i,(e-a)/t*r]},o}(t,n,e,i,r);var a=Qr(o),s=Jr(o),l=a*t,c=s*t,u=a/t,f=s/t,h=(s*e-a*n)/t,d=(s*n+a*e)/t;function p(t,o){return[l*(t*=i)-c*(o*=r)+n,e-c*t-l*o]}return p.invert=function(t,n){return[i*(u*t-f*n+h),r*(d-f*t-u*n)]},p}function Ua(t){return function(t){var n,e,i,r,o,a,s,l,c,u,f=150,h=480,d=250,p=0,g=0,m=0,y=0,$=0,v=0,w=1,x=1,_=null,b=Co,M=null,k=Bo,E=.5;function A(t){return l(t[0]*Yr,t[1]*Yr)}function S(t){return(t=l.invert(t[0],t[1]))&&[t[0]*Fr,t[1]*Fr]}function N(){var t=Ya(f,0,0,w,x,v).apply(null,n(p,g)),i=Ya(f,h-t[0],d-t[1],w,x,v);return e=function(t,n,e){return(t%=Xr)?n||e?yo(wo(t),xo(n,e)):wo(t):n||e?xo(n,e):$o}(m,y,$),s=yo(n,i),l=yo(e,s),a=Xa(s,E),R()}function R(){return c=u=null,A}return A.stream=function(t){return c&&u===t?c:c=Fa(function(t){return qa({point:function(n,e){var i=t(n,e);return this.stream.point(i[0],i[1])}})}(e)(b(a(k(u=t)))))},A.preclip=function(t){return arguments.length?(b=t,_=void 0,R()):b},A.postclip=function(t){return arguments.length?(k=t,M=i=r=o=null,R()):k},A.clipAngle=function(t){return arguments.length?(b=+t?To(_=t*Yr):(_=null,Co),R()):_*Fr},A.clipExtent=function(t){return arguments.length?(k=null==t?(M=i=r=o=null,Bo):jo(M=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),R()):null==M?null:[[M,i],[r,o]]},A.scale=function(t){return arguments.length?(f=+t,N()):f},A.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],N()):[h,d]},A.center=function(t){return arguments.length?(p=t[0]%360*Yr,g=t[1]%360*Yr,N()):[p*Fr,g*Fr]},A.rotate=function(t){return arguments.length?(m=t[0]%360*Yr,y=t[1]%360*Yr,$=t.length>2?t[2]%360*Yr:0,N()):[m*Fr,y*Fr,$*Fr]},A.angle=function(t){return arguments.length?(v=t%360*Yr,N()):v*Fr},A.reflectX=function(t){return arguments.length?(w=t?-1:1,N()):w<0},A.reflectY=function(t){return arguments.length?(x=t?-1:1,N()):x<0},A.precision=function(t){return arguments.length?(a=Xa(s,E=t*t),R()):to(E)},A.fitExtent=function(t,n){return Wa(A,t,n)},A.fitSize=function(t,n){return function(t,n,e){return Wa(t,[[0,0],n],e)}(A,t,n)},A.fitWidth=function(t,n){return function(t,n,e){return Ba(t,(function(e){var i=+n,r=i/(e[1][0]-e[0][0]),o=(i-r*(e[1][0]+e[0][0]))/2,a=-r*e[0][1];t.scale(150*r).translate([o,a])}),e)}(A,t,n)},A.fitHeight=function(t,n){return function(t,n,e){return Ba(t,(function(e){var i=+n,r=i/(e[1][1]-e[0][1]),o=-r*e[0][0],a=(i-r*(e[1][1]+e[0][1]))/2;t.scale(150*r).translate([o,a])}),e)}(A,t,n)},function(){return n=t.apply(this,arguments),A.invert=n.invert&&S,N()}}((function(){return t}))()}function Va(t,n){var e=n*n,i=e*e;return[t*(.8707-.131979*e+i*(i*(.003971*e-.001529*i)-.013791)),n*(1.007226+e*(.015085+i*(.028874*e-.044475-.005916*i)))]}function Za(){return Ua(Va).scale(175.295)}function Qa(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}Va.invert=function(t,n){var e,i=n,r=25;do{var o=i*i,a=o*o;i-=e=(i*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Ur(e)>Lr&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]};const Ja=Symbol("implicit");function Ka(){var t=new At,n=[],e=[],i=Ja;function r(r){let o=t.get(r);if(void 0===o){if(i!==Ja)return i;t.set(r,o=n.push(r)-1)}return e[o%e.length]}return r.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new At;for(const i of e)t.has(i)||t.set(i,n.push(i)-1);return r},r.range=function(t){return arguments.length?(e=Array.from(t),r):e.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return Ka(n,e).unknown(i)},Qa.apply(r,arguments),r}function ts(){var t,n,e=Ka().unknown(void 0),i=e.domain,r=e.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function f(){var e=i().length,f=a<o,h=f?a:o,d=f?o:a;t=(d-h)/Math.max(1,e-l+2*c),s&&(t=Math.floor(t)),h+=(d-h-t*(e-l))*u,n=t*(1-l),s&&(h=Math.round(h),n=Math.round(n));var p=function(t,n,e){t=+t,n=+n,e=(r=arguments.length)<2?(n=t,t=0,1):r<3?1:+e;for(var i=-1,r=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(r);++i<r;)o[i]=t+i*e;return o}(e).map((function(n){return h+t*n}));return r(f?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(i(t),f()):i()},e.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},e.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,s=!0,f()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(s=!!t,f()):s},e.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),f()):l},e.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),f()):l},e.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},e.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),f()):u},e.copy=function(){return ts(i(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},Qa.apply(f(),arguments)}function ns(t){return+t}var es=[0,1];function is(t){return t}function rs(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function os(t,n,e){var i=t[0],r=t[1],o=n[0],a=n[1];return r<i?(i=rs(r,i),o=e(a,o)):(i=rs(i,r),o=e(o,a)),function(t){return o(i(t))}}function as(t,n,e){var i=Math.min(t.length,n.length)-1,r=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<i;)r[a]=rs(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=kt(t,n,1,i)-1;return o[e](r[e](n))}}function ss(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ls(){var t,n,e,i,r,o,a=es,s=es,l=Ve,c=is;function u(){var t,n,e,l=Math.min(a.length,s.length);return c!==is&&(t=a[0],n=a[l-1],t>n&&(e=t,t=n,n=e),c=function(e){return Math.max(t,Math.min(n,e))}),i=l>2?as:os,r=o=null,f}function f(n){return null==n||isNaN(n=+n)?e:(r||(r=i(a.map(t),s,l)))(t(c(n)))}return f.invert=function(e){return c(n((o||(o=i(s,a.map(t),Ge)))(e)))},f.domain=function(t){return arguments.length?(a=Array.from(t,ns),u()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),l=Ze,u()},f.clamp=function(t){return arguments.length?(c=!!t||is,u()):c!==is},f.interpolate=function(t){return arguments.length?(l=t,u()):l},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,i){return t=e,n=i,u()}}function cs(t,n,e,i){var r,o=function(t,n,e){e=+e;const i=(n=+n)<(t=+t),r=i?jt(n,t,e):jt(t,n,e);return(i?-1:1)*(r<0?1/-r:r)}(t,n,e);switch((i=Nr(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=i.precision||isNaN(r=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Er(n)/3)))-Er(Math.abs(t)))}(o,a))||(i.precision=r),jr(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Er(n)-Er(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Er(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return Dr(i)}function us(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){if(!((e=+e)>0))return[];if((t=+t)==(n=+n))return[t];const i=n<t,[r,o,a]=i?Dt(n,t,e):Dt(t,n,e);if(!(o>=r))return[];const s=o-r+1,l=new Array(s);if(i)if(a<0)for(let t=0;t<s;++t)l[t]=(o-t)/-a;else for(let t=0;t<s;++t)l[t]=(o-t)*a;else if(a<0)for(let t=0;t<s;++t)l[t]=(r+t)/-a;else for(let t=0;t<s;++t)l[t]=(r+t)*a;return l}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var i=n();return cs(i[0],i[i.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var i,r,o=n(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(r=l,l=c,c=r,r=a,a=s,s=r);u-- >0;){if((r=jt(l,c,e))===i)return o[a]=l,o[s]=c,n(o);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return t},t}function fs(){var t=ls()(is,is);return t.copy=function(){return ss(t,fs())},Qa.apply(t,arguments),us(t)}function hs(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function ds(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ps(t){return t<0?-t*t:t*t}function gs(t){var n=t(is,is),e=1;return n.exponent=function(n){return arguments.length?1===(e=+n)?t(is,is):.5===e?t(ds,ps):t(hs(e),hs(1/e)):e},us(n)}function ms(){var t=gs(ls());return t.copy=function(){return ss(t,ms()).exponent(t.exponent())},Qa.apply(t,arguments),t}function ys(t){return function(){return t}}function $s(t){this._context=t}function vs(t){return new $s(t)}function ws(t){return t[0]}function xs(t){return t[1]}function _s(t){return t<0?-1:1}function bs(t,n,e){var i=t._x1-t._x0,r=n-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),a=(e-t._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(_s(o)+_s(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Ms(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function ks(t,n,e){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,s=(o-i)/3;t._context.bezierCurveTo(i+s,r+s*n,o-s,a-s*e,o,a)}function Es(t){this._context=t}function As(t){this._context=t}function Ss(t,n,e){this.k=t,this.x=n,this.y=e}$s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}},Es.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ks(this,this._t0,Ms(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,ks(this,Ms(this,e=bs(this,t,n)),e);break;default:ks(this,this._t0,e=bs(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(function(t){this._context=new As(t)}.prototype=Object.create(Es.prototype)).point=function(t,n){Es.prototype.point.call(this,n,t)},As.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,i,r,o){this._context.bezierCurveTo(n,t,i,e,o,r)}},Ss.prototype={constructor:Ss,scale:function(t){return 1===t?this:new Ss(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Ss(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ns=new Ss(1,0,0);const Rs={light:{text:"#222",muted:"#777",pale:"#f0f0f0",background:"#fff"},dark:{text:"black",muted:"#bbb",pale:"#333",background:"gray"},lightblue:{text:"#206095",muted:"#707070",pale:"#f0f0f0",background:"rgb(188, 207, 222)"}};function zs(n){let e,i,r;return{c(){e=N("nav"),i=N("div"),D(i,"class","col-wide"),I(i,"margin-left","0px"),I(i,"margin-top","0px"),H(i,"center",n[2]),D(e,"style",r="border-bottom-color: "+Rs[n[0]].muted+"; "+(n[1]?"background-color: "+Rs[n[0]].background+";":"")),D(e,"class","svelte-1fqkfrf")},m(t,n){E(t,e,n),k(e,i)},p(t,[n]){4&n&&H(i,"center",t[2]),3&n&&r!==(r="border-bottom-color: "+Rs[t[0]].muted+"; "+(t[1]?"background-color: "+Rs[t[0]].background+";":""))&&D(e,"style",r)},i:t,o:t,d(t){t&&A(e)}}}function Cs(t,n,e){let{theme:i=V("theme")}=n,{filled:r=!0}=n,{center:o=!0}=n;return t.$$set=t=>{"theme"in t&&e(0,i=t.theme),"filled"in t&&e(1,r=t.filled),"center"in t&&e(2,o=t.center)},[i,r,o]}class Ts extends wt{constructor(t){super(),vt(this,t,Cs,zs,s,{theme:0,filled:1,center:2})}}function Ps(t){let n,e,i,r,o;const a=t[6].default,s=h(a,t,t[5],null);return{c(){n=N("header"),e=N("div"),i=N("div"),s&&s.c(),H(i,"center",t[0]),D(e,"class","v-padded col-wide middle svelte-19u0sv3"),I(e,"position","relative"),H(e,"short",t[1]),H(e,"height-full",!t[1]),D(n,"style",r="color: white}; background-color: black; "+t[2]),D(n,"class","svelte-19u0sv3"),H(n,"short",t[1])},m(t,r){E(t,n,r),k(n,e),k(e,i),s&&s.m(i,null),o=!0},p(t,[l]){s&&s.p&&(!o||32&l)&&g(s,a,t,t[5],o?p(a,t[5],l,null):m(t[5]),null),(!o||1&l)&&H(i,"center",t[0]),(!o||2&l)&&H(e,"short",t[1]),(!o||2&l)&&H(e,"height-full",!t[1]),(!o||4&l&&r!==(r="color: white}; background-color: black; "+t[2]))&&D(n,"style",r),(!o||2&l)&&H(n,"short",t[1])},i(t){o||(ht(s,t),o=!0)},o(t){dt(s,t),o=!1},d(t){t&&A(n),s&&s.d(t)}}}function Ds(t,n,e){let{$$slots:i={},$$scope:r}=n,{bgimage:o=null}=n,{bgfixed:a=!1}=n,{center:s=!0}=n,{short:l=!1}=n,c="";return c+=o?`background-image: url(${o});`:"background-image: none;",a&&(c+=" background-attachment: fixed;"),t.$$set=t=>{"bgimage"in t&&e(3,o=t.bgimage),"bgfixed"in t&&e(4,a=t.bgfixed),"center"in t&&e(0,s=t.center),"short"in t&&e(1,l=t.short),"$$scope"in t&&e(5,r=t.$$scope)},[s,l,c,o,a,r,i]}class js extends wt{constructor(t){super(),vt(this,t,Ds,Ps,s,{bgimage:3,bgfixed:4,center:0,short:1})}}const{window:Os}=M,Is=t=>({}),qs=t=>({}),Ls=t=>({}),Bs=t=>({});function Ws(t){let n,e,i,r,o,a,s,l;et(t[21]);const c=t[20].background,u=h(c,t,t[19],Bs),f=t[20].foreground,d=h(f,t,t[19],qs);return{c(){n=N("svelte-scroller-outer"),e=N("svelte-scroller-background-container"),i=N("svelte-scroller-background"),u&&u.c(),r=C(),o=N("svelte-scroller-foreground"),d&&d.c(),j(i,"class","svelte-1byeste"),j(e,"class","background-container svelte-1byeste"),j(o,"class","svelte-1byeste"),j(n,"style",t[6]),j(n,"class","svelte-1byeste"),H(n,"splitscreen",t[0])},m(c,f){E(c,n,f),k(n,e),k(e,i),u&&u.m(i,null),t[22](i),t[23](e),k(n,r),k(n,o),d&&d.m(o,null),t[24](o),t[25](n),a=!0,s||(l=P(Os,"resize",t[21]),s=!0)},p(t,e){u&&u.p&&(!a||524288&e[0])&&g(u,c,t,t[19],a?p(c,t[19],e,Ls):m(t[19]),Bs),d&&d.p&&(!a||524288&e[0])&&g(d,f,t,t[19],a?p(f,t[19],e,Is):m(t[19]),qs),(!a||64&e[0])&&j(n,"style",t[6]),(!a||1&e[0])&&H(n,"splitscreen",t[0])},i(t){a||(ht(u,t),ht(d,t),a=!0)},o(t){dt(u,t),dt(d,t),a=!1},d(e){e&&A(n),u&&u.d(e),t[22](null),t[23](null),d&&d.d(e),t[24](null),t[25](null),s=!1,l()}}}const Hs=[];let Gs;if("undefined"!=typeof window){const t=()=>Hs.forEach((t=>t()));window.addEventListener("scroll",t),window.addEventListener("resize",t)}if("undefined"!=typeof IntersectionObserver){const t=new Map,n=new IntersectionObserver(((n,e)=>{n.forEach((n=>{const e=t.get(n.target),i=Hs.indexOf(e);n.isIntersecting?-1===i&&Hs.push(e):(e(),-1!==i&&Hs.splice(i,1))}))}),{rootMargin:"400px 0px"});Gs={add:({outer:e,update:i})=>{const{top:r,bottom:o}=e.getBoundingClientRect();r<window.innerHeight&&o>0&&Hs.push(i),t.set(e,i),n.observe(e)},remove:({outer:e,update:i})=>{const r=Hs.indexOf(i);-1!==r&&Hs.splice(r,1),t.delete(e),n.unobserve(e)}}}else Gs={add:({update:t})=>{Hs.push(t)},remove:({update:t})=>{const n=Hs.indexOf(t);-1!==n&&Hs.splice(n,1)}};function Xs(t,n,e){let i,r,o,a,s,l,c,u,f,h,d,{$$slots:p={},$$scope:g}=n,{top:m=0}=n,{bottom:y=1}=n,{threshold:$=.5}=n,{query:v="section"}=n,{parallax:w=!1}=n,{shadow:x}=n,{index:_=0}=n,{count:b=0}=n,{offset:M=0}=n,{progress:k=0}=n,{visible:E=!1}=n,{splitscreen:A=!1}=n,{id:S=null}=n,N=0,R=1;function z(){if(s){let t=`position: ${h?"fixed":"absolute"}; top: 0; transform: translate(0, ${d}px); width: ${R}px; z-index: 1;`;e(3,s.style.cssText=t,s)}}function C(){if(!l)return;const t=a.getBoundingClientRect();u=t.left,R=t.right-t.left;const n=l.getBoundingClientRect(),s=c.getBoundingClientRect();e(11,E=n.top<N&&n.bottom>0);const p=n.bottom-n.top,g=s.bottom-s.top,m=r-i;for(e(10,k=(i-n.top)/(p-m)),k<=0?(d=0,h&&(h=!1,z())):k>=1?(d=w?p-g:p-m,h&&(h=!1,z())):(d=w?Math.round(i-k*(g-m)):i,h||(h=!0,z())),e(7,_=0);_<f.length;e(7,_+=1)){const t=f[_],{top:i}=t.getBoundingClientRect(),r=f[_+1],a=r?r.getBoundingClientRect().top:n.bottom;if(e(9,M=(o-i)/(a-i)),e(12,S=t.dataset.id?t.dataset.id:null),a>=o)break}}F((()=>{f=l.querySelectorAll(v),e(8,b=f.length),C();const t={outer:a,update:C};return Gs.add(t),()=>Gs.remove(t)}));let T="";return x&&(T="box-shadow: inset 0 -10px 10px -8px rgba(0, 0, 0, 1); background-color: gray"),t.$$set=t=>{"top"in t&&e(13,m=t.top),"bottom"in t&&e(14,y=t.bottom),"threshold"in t&&e(15,$=t.threshold),"query"in t&&e(16,v=t.query),"parallax"in t&&e(17,w=t.parallax),"shadow"in t&&e(18,x=t.shadow),"index"in t&&e(7,_=t.index),"count"in t&&e(8,b=t.count),"offset"in t&&e(9,M=t.offset),"progress"in t&&e(10,k=t.progress),"visible"in t&&e(11,E=t.visible),"splitscreen"in t&&e(0,A=t.splitscreen),"id"in t&&e(12,S=t.id),"$$scope"in t&&e(19,g=t.$$scope)},t.$$.update=()=>{8194&t.$$.dirty[0]&&(i=Math.round(m*N)),16386&t.$$.dirty[0]&&(r=Math.round(y*N)),32770&t.$$.dirty[0]&&(o=Math.round($*N)),188416&t.$$.dirty[0]&&C()},[A,N,a,s,l,c,T,_,b,M,k,E,S,m,y,$,v,w,x,g,p,function(){e(1,N=Os.innerHeight)},function(t){Q[t?"unshift":"push"]((()=>{c=t,e(5,c)}))},function(t){Q[t?"unshift":"push"]((()=>{s=t,e(3,s)}))},function(t){Q[t?"unshift":"push"]((()=>{l=t,e(4,l)}))},function(t){Q[t?"unshift":"push"]((()=>{a=t,e(2,a)}))}]}class Fs extends wt{constructor(t){super(),vt(this,t,Xs,Ws,s,{top:13,bottom:14,threshold:15,query:16,parallax:17,shadow:18,index:7,count:8,offset:9,progress:10,visible:11,splitscreen:0,id:12},null,[-1,-1])}}function Ys(t){let n,e,i;const r=t[5].default,o=h(r,t,t[4],null);return{c(){n=N("section"),e=N("div"),o&&o.c(),D(e,"class","middle"),H(e,"center",t[0]),H(e,"col-medium",!t[1]),H(e,"col-wide",t[1]),H(e,"height-full",!t[2]),H(e,"short",t[2]),D(n,"class","svelte-1h2eog8")},m(t,r){E(t,n,r),k(n,e),o&&o.m(e,null),i=!0},p(t,[n]){o&&o.p&&(!i||16&n)&&g(o,r,t,t[4],i?p(r,t[4],n,null):m(t[4]),null),(!i||1&n)&&H(e,"center",t[0]),(!i||2&n)&&H(e,"col-medium",!t[1]),(!i||2&n)&&H(e,"col-wide",t[1]),(!i||4&n)&&H(e,"height-full",!t[2]),(!i||4&n)&&H(e,"short",t[2])},i(t){i||(ht(o,t),i=!0)},o(t){dt(o,t),i=!1},d(t){t&&A(n),o&&o.d(t)}}}function Us(t,n,e){let{$$slots:i={},$$scope:r}=n,{center:o=!0}=n,{wide:a=!1}=n,{short:s=!1}=n,{shadow:l}=n;return t.$$set=t=>{"center"in t&&e(0,o=t.center),"wide"in t&&e(1,a=t.wide),"short"in t&&e(2,s=t.short),"shadow"in t&&e(3,l=t.shadow),"$$scope"in t&&e(4,r=t.$$scope)},[o,a,s,l,r,i]}class Vs extends wt{constructor(t){super(),vt(this,t,Us,Ys,s,{center:0,wide:1,short:2,shadow:3})}}function Zs(n){let e;return{c(){e=N("hr"),I(e,"color",Rs[n[0]]),D(e,"class","svelte-j57g2v")},m(t,n){E(t,e,n)},p(t,[n]){1&n&&I(e,"color",Rs[t[0]])},i:t,o:t,d(t){t&&A(e)}}}function Qs(t,n,e){let{theme:i=V("theme")}=n;return t.$$set=t=>{"theme"in t&&e(0,i=t.theme)},[i]}class Js extends wt{constructor(t){super(),vt(this,t,Qs,Zs,s,{theme:0})}}const Ks=[];function tl(n,e=t){let i;const r=new Set;function o(t){if(s(n,t)&&(n=t,i)){const t=!Ks.length;for(const t of r)t[1](),Ks.push(t,n);if(t){for(let t=0;t<Ks.length;t+=2)Ks[t][0](Ks[t+1]);Ks.length=0}}}return{set:o,update:function(t){o(t(n))},subscribe:function(a,s=t){const l=[a,s];return r.add(l),1===r.size&&(i=e(o)||t),a(n),()=>{r.delete(l),0===r.size&&i&&(i(),i=null)}}}}function nl(n,e,i){const r=!Array.isArray(n),s=r?[n]:n,l=e.length<2;return function(t,n){return{subscribe:tl(t,n).subscribe}}(i,(n=>{let i=!1;const c=[];let f=0,h=t;const d=()=>{if(f)return;h();const i=e(r?c[0]:c,n);l?n(i):h=a(i)?i:t},p=s.map(((t,n)=>u(t,(t=>{c[n]=t,f&=~(1<<n),i&&d()}),(()=>{f|=1<<n}))));return i=!0,d(),function(){o(p),h(),i=!1}}))}const el=tl([]);async function il(t){const n=t.map((t=>async function(t){return await br(t)}(t)));return await Promise.all(n)}async function rl(t){const n=function(t,n){return fetch(t,n).then(Mr)}(t);return n}el.subscribe((t=>{}));(function(t,n){var e=ys(!0),i=null,r=vs,o=null,a=function(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);n=t}return t},()=>new hr(n)}(s);function s(s){var l,c,u,f=(s=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(s)).length,h=!1;for(null==i&&(o=r(u=a())),l=0;l<=f;++l)!(l<f&&e(c=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(c,l,s),+n(c,l,s));if(u)return o=null,u+""||null}return t="function"==typeof t?t:void 0===t?ws:ys(t),n="function"==typeof n?n:void 0===n?xs:ys(n),s.x=function(n){return arguments.length?(t="function"==typeof n?n:ys(+n),s):t},s.y=function(t){return arguments.length?(n="function"==typeof t?t:ys(+t),s):n},s.defined=function(t){return arguments.length?(e="function"==typeof t?t:ys(!!t),s):e},s.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),s):r},s.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),s):i},s})().x((t=>t[0])).y((t=>t[1])).curve((function(t){return new Es(t)}));let ol=["1990","1991","1992","1993","1994","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023"];function al(t){const n={};t.forEach((t=>{n[t.Loc1ISO]?n[t.Loc1ISO]++:n[t.Loc1ISO]=1}));return Object.entries(n).map((([t,n])=>({iso:t,count:n}))).filter((t=>""!=t.iso))}let sl=3;function ll(t,n,e,i){let r=Math.ceil(Math.sqrt(i*(e/n))),o=Math.ceil(i/r),a=(e-(r-1)*sl)/r,s=(n-(o-1)*sl)/o;return t.map(((t,e)=>({x:e%r*(a+sl)+2*Math.random()-1,y:n-(Math.floor(e/r)+1)*(s+sl)+2*Math.random()-1,width:a,height:s,id:t.AgtId,info:t.Agt})))}function cl(t,n,e){let i=t,r=(e-60)/7,o=(r-18)/10,a=Math.max(...i.map((([t,n])=>n.length))),s=Math.ceil(a/10),l=(n-2*(s-1))/s,c=i.flatMap((([t,e],i)=>e.map(((t,e)=>{let a=i*(r+10),s=Math.floor(e/10),c=n-(s+1)*(l+2);return{x:a+e%10*(o+2)+2*Math.random()-1,y:c+2*Math.random()-1,width:o,height:l,info:t.Agt,id:t.AgtId}}))));return c}function ul(t,n,e){const i=t.slice();return i[9]=n[e],i}function fl(t){let n,e,i,r,o;return{c(){n=R("path"),D(n,"fill",e=t[2](t[9])),D(n,"fill-opacity",i=t[3](t[9])),D(n,"class",r=y("country "+t[9].properties.adm0_iso)+" svelte-1ro1ar2"),D(n,"stroke","#4d4d4d"),D(n,"stroke-width","0.5"),D(n,"d",o=t[9].path)},m(t,e){E(t,n,e)},p(t,a){2&a&&e!==(e=t[2](t[9]))&&D(n,"fill",e),2&a&&i!==(i=t[3](t[9]))&&D(n,"fill-opacity",i),2&a&&r!==(r=y("country "+t[9].properties.adm0_iso)+" svelte-1ro1ar2")&&D(n,"class",r),2&a&&o!==(o=t[9].path)&&D(n,"d",o)},d(t){t&&A(n)}}}function hl(n){let e,i=n[1],r=[];for(let t=0;t<i.length;t+=1)r[t]=fl(ul(n,i,t));return{c(){e=R("g");for(let t=0;t<r.length;t+=1)r[t].c();D(e,"class","map-group"),D(e,"transform",n[0])},m(t,n){E(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,[n]){if(14&n){let o;for(i=t[1],o=0;o<i.length;o+=1){const a=ul(t,i,o);r[o]?r[o].p(a,n):(r[o]=fl(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}1&n&&D(e,"transform",t[0])},i:t,o:t,d(t){t&&A(e),S(r,t)}}}function dl(t,n,e){let{cumulative_isos:i}=n,{transform:r}=n,{countries:o}=n;const{data:a,width:s,height:l}=V("LayerCake");let c=fs().domain([0,150]).range([.2,1]);return t.$$set=t=>{"cumulative_isos"in t&&e(4,i=t.cumulative_isos),"transform"in t&&e(0,r=t.transform),"countries"in t&&e(1,o=t.countries)},t.$$.update=()=>{16&t.$$.dirty&&i&&(ee(".country").style("fill"," black"),i.forEach((t=>{ee("."+t.iso).style("fill","#f6f1d6").style("fill-opacity",c(t.count))})))},[r,o,function(t){return i.some((n=>n.iso===t.properties.adm0_iso))?"#f6f1d6":"black"},function(t){let n=t.properties.adm0_iso,e=i.find((t=>t.iso==n));return e?c(e.count):1},i]}class pl extends wt{constructor(t){super(),vt(this,t,dl,hl,s,{cumulative_isos:4,transform:0,countries:1})}}function gl(t){const n=t-1;return n*n*n+1}function ml(t){return"[object Date]"===Object.prototype.toString.call(t)}function yl(t,n){if(t===n||t!=t)return()=>t;const e=typeof t;if(e!==typeof n||Array.isArray(t)!==Array.isArray(n))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const e=n.map(((n,e)=>yl(t[e],n)));return t=>e.map((n=>n(t)))}if("object"===e){if(!t||!n)throw new Error("Object cannot be null");if(ml(t)&&ml(n)){t=t.getTime();const e=(n=n.getTime())-t;return n=>new Date(t+n*e)}const e=Object.keys(n),i={};return e.forEach((e=>{i[e]=yl(t[e],n[e])})),t=>{const n={};return e.forEach((e=>{n[e]=i[e](t)})),n}}if("number"===e){const e=n-t;return n=>t+n*e}throw new Error(`Cannot interpolate ${e} values`)}function $l(t,i={}){const r=tl(t);let o,a=t;function s(s,l){if(null==t)return r.set(t=s),Promise.resolve();a=s;let c=o,u=!1,{delay:f=0,duration:h=400,easing:d=n,interpolate:p=yl}=e(e({},i),l);if(0===h)return c&&(c.abort(),c=null),r.set(t=a),Promise.resolve();const g=w()+f;let m;return o=function(t){let n;return 0===_.size&&x(b),{promise:new Promise((e=>{_.add(n={c:t,f:e})})),abort(){_.delete(n)}}}((n=>{if(n<g)return!0;u||(m=p(t,s),"function"==typeof h&&(h=h(t,s)),u=!0),c&&(c.abort(),c=null);const e=n-g;return e>h?(r.set(t=s),!1):(r.set(t=m(d(e/h))),!0)})),o.promise}return{set:s,update:(n,e)=>s(n(a,t),e),subscribe:r.subscribe}}function vl(n){let e,i,r,a,s;return{c(){e=R("g"),i=R("rect"),D(i,"id",n[0]),D(i,"x","0"),D(i,"y","0"),D(i,"width",n[4]),D(i,"height",n[5]),D(i,"rx","1"),D(i,"fill","#F6F1D6"),D(i,"stroke","gray"),D(i,"stroke-width","0.5"),D(i,"class","svelte-34w7o9"),H(i,"is-hovered",n[1]),D(e,"transform",r="translate("+n[2]+" "+n[3]+")")},m(t,r){E(t,e,r),k(e,i),a||(s=[P(i,"mouseenter",n[10]),P(i,"mouseleave",n[11])],a=!0)},p(t,[n]){1&n&&D(i,"id",t[0]),16&n&&D(i,"width",t[4]),32&n&&D(i,"height",t[5]),2&n&&H(i,"is-hovered",t[1]),12&n&&r!==(r="translate("+t[2]+" "+t[3]+")")&&D(e,"transform",r)},i:t,o:t,d(t){t&&A(e),a=!1,o(s)}}}function wl(t,n,e){let i,r,o,a,{x:s}=n,{y:l}=n,{id:c}=n,{width:u}=n,{height:h}=n,{info:d}=n,{i:p}=n;const g=Y(),m={delay:p/4*Math.random(),duration:300,easing:gl},y=$l(null,m);f(t,y,(t=>e(2,i=t)));const $=$l(null,m);f(t,$,(t=>e(3,r=t)));const v=$l(null,{duration:300,easing:gl});f(t,v,(t=>e(4,o=t)));const w=$l(null,m);f(t,w,(t=>e(5,a=t)));let x=!1;return t.$$set=t=>{"x"in t&&e(12,s=t.x),"y"in t&&e(13,l=t.y),"id"in t&&e(0,c=t.id),"width"in t&&e(14,u=t.width),"height"in t&&e(15,h=t.height),"info"in t&&e(16,d=t.info),"i"in t&&e(17,p=t.i)},t.$$.update=()=>{4096&t.$$.dirty&&y.set(s),8192&t.$$.dirty&&$.set(l),16384&t.$$.dirty&&v.set(u),32768&t.$$.dirty&&w.set(h)},[c,x,i,r,o,a,y,$,v,w,()=>{e(1,x=!0),g("hover",{x:s,y:l,info:d})},()=>{setTimeout((()=>{e(1,x=!1)}),0),g("leave")},s,l,u,h,d,p]}class xl extends wt{constructor(t){super(),vt(this,t,wl,vl,s,{x:12,y:13,id:0,width:14,height:15,info:16,i:17})}}function _l(n){let e,i,r;return{c(){e=R("g"),i=R("rect"),D(i,"x","0"),D(i,"y","0"),D(i,"width",n[2]),D(i,"height",n[3]),D(i,"rx","1"),D(i,"fill","#F6F1D6"),D(i,"stroke","gray"),D(i,"stroke-width","0.5"),D(i,"class","svelte-16ghwgf"),D(e,"transform",r="translate("+n[0]+" "+n[1]+")")},m(t,n){E(t,e,n),k(e,i)},p(t,[n]){4&n&&D(i,"width",t[2]),8&n&&D(i,"height",t[3]),3&n&&r!==(r="translate("+t[0]+" "+t[1]+")")&&D(e,"transform",r)},i:t,o:t,d(t){t&&A(e)}}}function bl(t,n,e){let i,r,o,a,{i:s}=n,{x:l}=n,{y:c}=n,{width:u}=n,{height:h}=n,{info:d}=n;const p={delay:s/4*Math.random(),duration:300,easing:gl},g=$l(null,p);f(t,g,(t=>e(0,i=t)));const m=$l(null,p);f(t,m,(t=>e(1,r=t)));const y=$l(null,{duration:300,easing:gl});f(t,y,(t=>e(2,o=t)));const $=$l(null,p);return f(t,$,(t=>e(3,a=t))),t.$$set=t=>{"i"in t&&e(8,s=t.i),"x"in t&&e(9,l=t.x),"y"in t&&e(10,c=t.y),"width"in t&&e(11,u=t.width),"height"in t&&e(12,h=t.height),"info"in t&&e(13,d=t.info)},t.$$.update=()=>{512&t.$$.dirty&&g.set(l),1024&t.$$.dirty&&m.set(c),2048&t.$$.dirty&&y.set(u),4096&t.$$.dirty&&$.set(h)},[i,r,o,a,g,m,y,$,s,l,c,u,h,d]}class Ml extends wt{constructor(t){super(),vt(this,t,bl,_l,s,{i:8,x:9,y:10,width:11,height:12,info:13})}}function kl(t,n,e){const i=t.slice();return i[22]=n[e],i[24]=e,i}function El(t,n,e){const i=t.slice();return i[22]=n[e],i[24]=e,i}function Al(t,n,e){const i=t.slice();return i[22]=n[e],i[24]=e,i}function Sl(t){let n,e,i,r,o,a,s,l,u,f,h,d,p,g,m=t[9],y=[];for(let n=0;n<m.length;n+=1)y[n]=Nl(Al(t,m,n));let $=t[6],v=[];for(let n=0;n<$.length;n+=1)v[n]=Rl(El(t,$,n));const w=t=>dt(v[t],1,1,(()=>{v[t]=null}));let x=t[5],_=[];for(let n=0;n<x.length;n+=1)_[n]=zl(kl(t,x,n));const b=t=>dt(_[t],1,1,(()=>{_[t]=null}));let M=t[7]&&Cl(t);return{c(){n=N("div"),e=R("svg"),i=R("g");for(let t=0;t<y.length;t+=1)y[t].c();r=T();for(let t=0;t<v.length;t+=1)v[t].c();o=T();for(let t=0;t<_.length;t+=1)_[t].c();M&&M.c(),s=C(),l=N("div"),u=N("img"),D(i,"class","timeline"),D(i,"transform",a="translate("+t[10].left+", "+t[10].top+")"),D(e,"width",t[0]),D(e,"height",t[1]),D(u,"class","example_img svelte-1me5ikt"),c(u.src,f=Pl)||D(u,"src",f),D(u,"alt","agt"),D(l,"id","example_stage"),D(l,"class","svelte-1me5ikt"),D(n,"class","wrapper svelte-1me5ikt"),et((()=>t[18].call(n)))},m(a,c){E(a,n,c),k(n,e),k(e,i);for(let t=0;t<y.length;t+=1)y[t]&&y[t].m(i,null);k(i,r);for(let t=0;t<v.length;t+=1)v[t]&&v[t].m(i,null);k(i,o);for(let t=0;t<_.length;t+=1)_[t]&&_[t].m(i,null);M&&M.m(e,null),k(n,s),k(n,l),k(l,u),t[17](u),h=W(n,t[18].bind(n)),d=!0,p||(g=P(u,"load",t[11]),p=!0)},p(t,n){if(772&n){let e;for(m=t[9],e=0;e<m.length;e+=1){const o=Al(t,m,e);y[e]?y[e].p(o,n):(y[e]=Nl(o),y[e].c(),y[e].m(i,r))}for(;e<y.length;e+=1)y[e].d(1);y.length=m.length}if(64&n){let e;for($=t[6],e=0;e<$.length;e+=1){const r=El(t,$,e);v[e]?(v[e].p(r,n),ht(v[e],1)):(v[e]=Rl(r),v[e].c(),ht(v[e],1),v[e].m(i,o))}for(ut(),e=$.length;e<v.length;e+=1)w(e);ft()}if(32&n){let e;for(x=t[5],e=0;e<x.length;e+=1){const r=kl(t,x,e);_[e]?(_[e].p(r,n),ht(_[e],1)):(_[e]=zl(r),_[e].c(),ht(_[e],1),_[e].m(i,null))}for(ut(),e=x.length;e<_.length;e+=1)b(e);ft()}t[7]?M?M.p(t,n):(M=Cl(t),M.c(),M.m(e,null)):M&&(M.d(1),M=null),(!d||1&n)&&D(e,"width",t[0]),(!d||2&n)&&D(e,"height",t[1])},i(t){if(!d){for(let t=0;t<$.length;t+=1)ht(v[t]);for(let t=0;t<x.length;t+=1)ht(_[t]);d=!0}},o(t){v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)dt(v[t]);_=_.filter(Boolean);for(let t=0;t<_.length;t+=1)dt(_[t]);d=!1},d(e){e&&A(n),S(y,e),S(v,e),S(_,e),M&&M.d(),t[17](null),h(),p=!1,g()}}}function Nl(t){let n,e,i,r,o=t[22]+"";return{c(){n=R("text"),e=z(o),D(n,"x",i=t[8]*t[24]+t[8]/2),D(n,"y",r=t[2]+14),D(n,"text-anchor","middle"),D(n,"font-family","Montserrat"),D(n,"fill","white"),D(n,"font-size","14px")},m(t,i){E(t,n,i),k(n,e)},p(t,e){256&e&&i!==(i=t[8]*t[24]+t[8]/2)&&D(n,"x",i),4&e&&r!==(r=t[2]+14)&&D(n,"y",r)},d(t){t&&A(n)}}}function Rl(t){let n,e;return n=new Ml({props:{i:t[24],x:t[22].x,y:t[22].y,width:t[22].width,height:t[22].height,info:t[22].info}}),{c(){gt(n.$$.fragment)},m(t,i){mt(n,t,i),e=!0},p(t,e){const i={};64&e&&(i.x=t[22].x),64&e&&(i.y=t[22].y),64&e&&(i.width=t[22].width),64&e&&(i.height=t[22].height),64&e&&(i.info=t[22].info),n.$set(i)},i(t){e||(ht(n.$$.fragment,t),e=!0)},o(t){dt(n.$$.fragment,t),e=!1},d(t){yt(n,t)}}}function zl(t){let n,e;return n=new xl({props:{i:t[24],x:t[22].x,y:t[22].y,width:t[22].width,height:t[22].height,info:t[22].info,id:t[22].id}}),{c(){gt(n.$$.fragment)},m(t,i){mt(n,t,i),e=!0},p(t,e){const i={};32&e&&(i.x=t[22].x),32&e&&(i.y=t[22].y),32&e&&(i.width=t[22].width),32&e&&(i.height=t[22].height),32&e&&(i.info=t[22].info),32&e&&(i.id=t[22].id),n.$set(i)},i(t){e||(ht(n.$$.fragment,t),e=!0)},o(t){dt(n.$$.fragment,t),e=!1},d(t){yt(n,t)}}}function Cl(t){let n,e;return{c(){n=R("path"),D(n,"id","example_stage"),D(n,"d",e=`M ${2*t[8]},${t[2]-30} \n                       C ${2*t[8]},${t[2]-100} \n                         ${t[4]},${t[7]+100} \n                         ${t[4]},${t[7]}`),D(n,"fill","none"),D(n,"stroke","white"),D(n,"stroke-width","1"),D(n,"opacity","0"),D(n,"class","svelte-1me5ikt")},m(t,e){E(t,n,e)},p(t,i){404&i&&e!==(e=`M ${2*t[8]},${t[2]-30} \n                       C ${2*t[8]},${t[2]-100} \n                         ${t[4]},${t[7]+100} \n                         ${t[4]},${t[7]}`)&&D(n,"d",e)},d(t){t&&A(n)}}}function Tl(t){let n,e,i=t[5]&&Sl(t);return{c(){i&&i.c(),n=T()},m(t,r){i&&i.m(t,r),E(t,n,r),e=!0},p(t,[e]){t[5]?i?(i.p(t,e),32&e&&ht(i,1)):(i=Sl(t),i.c(),ht(i,1),i.m(n.parentNode,n)):i&&(ut(),dt(i,1,1,(()=>{i=null})),ft())},i(t){e||(ht(i),e=!0)},o(t){dt(i),e=!1},d(t){i&&i.d(t),t&&A(n)}}}let Pl="./img/africa.png";function Dl(t,n,e){let i,r,o,a,s,l,c,u,f,h,d,{pax:p}=n,{pax_stages:g}=n,{step:m}=n,y=400,$=400;const v={top:20,right:20,bottom:20,left:40};let w;return t.$$set=t=>{"pax"in t&&e(12,p=t.pax),"pax_stages"in t&&e(13,g=t.pax_stages),"step"in t&&e(14,m=t.step)},t.$$.update=()=>{1&t.$$.dirty&&e(16,u=y-v.left-v.right),2&t.$$.dirty&&e(2,f=$-v.top-v.bottom),65536&t.$$.dirty&&e(8,i=u/7),65536&t.$$.dirty&&(h=ts().domain(ol).range([0,u]).padding(.1)),4&t.$$.dirty&&(d=fs().domain([0,100]).range([f,0])),77828&t.$$.dirty&&p&&g&&(c=p.length,e(5,s=cl(g,f,u)),e(6,l=cl(g,f,u))),90116&t.$$.dirty&&("stage01"==m?e(5,s=cl(g,f,u)):"stage02"==m?(e(5,s=function(t,n,e,i){let r=t,o=(e-60)/7,a=(o-18)/10,s=Math.max(...r.map((([t,n])=>n.length))),l=Math.ceil(s/10),c=(n-2*(l-1))/l,u=r.flatMap((([t,e],r)=>{let s=0,l=0;return e.map((t=>{if("0"===t[i])return{x:r*(o+10)+l*(a+2),y:n+100,width:a,height:0,info:t.Agt,id:t.AgtId};let e=r*(o+10)+l*(a+2),u=n-(s+1)*(c+2);return l++,l>=10&&(l=0,s++),{x:e+2*Math.random()-1,y:u+2*Math.random()-1,width:a,height:c,info:t.Agt}}))}));return u}(g,f,u,"GeWom")),ee("#example_stage").style("opacity",0)):"stage03"==m&&ee("#example_stage").style("opacity",1)),32772&t.$$.dirty&&f&&e(7,w=f-(f-a))},[y,$,f,r,o,s,l,w,i,["Pre-Negotiation","Ceasefire","Partial","Comprehensive","Implementation","Renewal","Other"],v,function(){if(r){const t=r.getBoundingClientRect();e(15,a=t.height),e(4,o=t.x)}},p,g,m,a,u,function(t){Q[t?"unshift":"push"]((()=>{r=t,e(3,r)}))},function(){y=this.clientWidth,$=this.clientHeight,e(0,y),e(1,$)}]}class jl extends wt{constructor(t){super(),vt(this,t,Dl,Tl,s,{pax:12,pax_stages:13,step:14})}}function Ol(t,n,e){const i=t.slice();return i[16]=n[e],i[18]=e,i}function Il(t,n,e){const i=t.slice();return i[16]=n[e],i[18]=e,i}function ql(t){let n,e,i,r,o,a,s,l=t[3],c=[];for(let n=0;n<l.length;n+=1)c[n]=Ll(Il(t,l,n));const u=t=>dt(c[t],1,1,(()=>{c[t]=null}));let f=t[2],h=[];for(let n=0;n<f.length;n+=1)h[n]=Bl(Ol(t,f,n));const d=t=>dt(h[t],1,1,(()=>{h[t]=null}));return{c(){n=N("div"),e=R("svg"),i=R("g");for(let t=0;t<c.length;t+=1)c[t].c();r=T();for(let t=0;t<h.length;t+=1)h[t].c();D(i,"class","timeline"),D(i,"transform",o="translate("+t[4].left+", "+t[4].top+")"),D(e,"width",t[0]),D(e,"height",t[1]),D(n,"class","wrapper svelte-1m5ii99"),et((()=>t[12].call(n)))},m(o,l){E(o,n,l),k(n,e),k(e,i);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(i,null);k(i,r);for(let t=0;t<h.length;t+=1)h[t]&&h[t].m(i,null);a=W(n,t[12].bind(n)),s=!0},p(t,n){if(8&n){let e;for(l=t[3],e=0;e<l.length;e+=1){const o=Il(t,l,e);c[e]?(c[e].p(o,n),ht(c[e],1)):(c[e]=Ll(o),c[e].c(),ht(c[e],1),c[e].m(i,r))}for(ut(),e=l.length;e<c.length;e+=1)u(e);ft()}if(100&n){let e;for(f=t[2],e=0;e<f.length;e+=1){const r=Ol(t,f,e);h[e]?(h[e].p(r,n),ht(h[e],1)):(h[e]=Bl(r),h[e].c(),ht(h[e],1),h[e].m(i,null))}for(ut(),e=f.length;e<h.length;e+=1)d(e);ft()}(!s||1&n)&&D(e,"width",t[0]),(!s||2&n)&&D(e,"height",t[1])},i(t){if(!s){for(let t=0;t<l.length;t+=1)ht(c[t]);for(let t=0;t<f.length;t+=1)ht(h[t]);s=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)dt(c[t]);h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)dt(h[t]);s=!1},d(t){t&&A(n),S(c,t),S(h,t),a()}}}function Ll(t){let n,e;return n=new Ml({props:{i:t[18],x:t[16].x,y:t[16].y,width:t[16].width,height:t[16].height,info:t[16].info}}),{c(){gt(n.$$.fragment)},m(t,i){mt(n,t,i),e=!0},p(t,e){const i={};8&e&&(i.x=t[16].x),8&e&&(i.y=t[16].y),8&e&&(i.width=t[16].width),8&e&&(i.height=t[16].height),8&e&&(i.info=t[16].info),n.$set(i)},i(t){e||(ht(n.$$.fragment,t),e=!0)},o(t){dt(n.$$.fragment,t),e=!1},d(t){yt(n,t)}}}function Bl(t){let n,e;return n=new xl({props:{i:t[18],x:t[16].x,y:t[16].y,width:t[16].width,height:t[16].height,info:t[16].info,id:t[16].id}}),n.$on("hover",t[5]),n.$on("leave",t[6]),{c(){gt(n.$$.fragment)},m(t,i){mt(n,t,i),e=!0},p(t,e){const i={};4&e&&(i.x=t[16].x),4&e&&(i.y=t[16].y),4&e&&(i.width=t[16].width),4&e&&(i.height=t[16].height),4&e&&(i.info=t[16].info),4&e&&(i.id=t[16].id),n.$set(i)},i(t){e||(ht(n.$$.fragment,t),e=!0)},o(t){dt(n.$$.fragment,t),e=!1},d(t){yt(n,t)}}}function Wl(t){let n,e,i=t[2]&&ql(t);return{c(){i&&i.c(),n=T()},m(t,r){i&&i.m(t,r),E(t,n,r),e=!0},p(t,[e]){t[2]?i?(i.p(t,e),4&e&&ht(i,1)):(i=ql(t),i.c(),ht(i,1),i.m(n.parentNode,n)):i&&(ut(),dt(i,1,1,(()=>{i=null})),ft())},i(t){e||(ht(i),e=!0)},o(t){dt(i),e=!1},d(t){i&&i.d(t),t&&A(n)}}}function Hl(t,n,e){let i,r,o,a,s,l,c,{pax:u}=n,{step:f}=n,h={visible:!1,x:0,y:0,info:""},d=400,p=400;const g={top:20,right:20,bottom:20,left:40};return t.$$set=t=>{"pax"in t&&e(7,u=t.pax),"step"in t&&e(8,f=t.step)},t.$$.update=()=>{1&t.$$.dirty&&e(10,a=d-g.left-g.right),2&t.$$.dirty&&e(11,s=p-g.top-g.bottom),1024&t.$$.dirty&&(l=ts().domain(ol).range([0,a]).padding(.1)),2048&t.$$.dirty&&(c=fs().domain([0,100]).range([s,0])),3712&t.$$.dirty&&u&&(e(9,o=u.length),e(2,i=ll(u,s,a,o)),e(3,r=ll(u,s,a,o))),3968&t.$$.dirty&&("rect01"==f?e(2,i=ll(u,s,a,o)):"rect02"==f&&e(2,i=function(t,n,e,i){let r=Math.ceil(Math.sqrt(i*(e/n))),o=Math.ceil(i/r),a=(e-(r-1)*sl)/r,s=(n-(o-1)*sl)/o,l=0,c=t.map((t=>{if("0"===t.GeWom)return{x:l%r*(a+sl),y:n+100,width:a,height:s,info:t.Agt};const e=l%r*(a+sl)+2*Math.random()-1,i=n-(Math.floor(l/r)+1)*(s+sl)+2*Math.random()-1;return l++,{x:e,y:i,width:a,height:s,info:t.Agt}}));return c}(u,s,a,o)))},[d,p,i,r,g,t=>{let n,e;t.detail.x>=a/2?n=t.detail.x-140:t.detail.x<a/2&&(n=t.detail.x+70),t.detail.y>=s/2?e=t.detail.y-50:t.detail.y<s/2&&(e=t.detail.y),h={visible:!0,x:n,y:e,info:t.detail.info}},()=>{h={...h,visible:!1}},u,f,o,a,s,function(){d=this.clientWidth,p=this.clientHeight,e(0,d),e(1,p)}]}class Gl extends wt{constructor(t){super(),vt(this,t,Hl,Wl,s,{pax:7,step:8})}}function Xl(t,n,e){const i=t.slice();return i[23]=n[e],i[25]=e,i}function Fl(t,n,e){const i=t.slice();return i[23]=n[e],i[25]=e,i}function Yl(t,n,e){const i=t.slice();return i[27]=n[e],i}function Ul(t){let n,e,i,r,o,a,s,l,u,f,h,d,p,g,m,y,$,v,w,x,_,b,M=ol,j=[];for(let n=0;n<M.length;n+=1)j[n]=Vl(Yl(t,M,n));let O=t[6],I=[];for(let n=0;n<O.length;n+=1)I[n]=Zl(Fl(t,O,n));const q=t=>dt(I[t],1,1,(()=>{I[t]=null}));let L=t[5],B=[];for(let n=0;n<L.length;n+=1)B[n]=Ql(Xl(t,L,n));const H=t=>dt(B[t],1,1,(()=>{B[t]=null}));let G=t[12]&&Jl(t);return{c(){n=N("div"),e=R("svg"),i=R("g"),r=R("g");for(let t=0;t<j.length;t+=1)j[t].c();for(let t=0;t<I.length;t+=1)I[t].c();o=T();for(let t=0;t<B.length;t+=1)B[t].c();a=R("rect"),G&&G.c(),f=R("text"),h=z("UN Resolution 1325"),m=C(),y=N("div"),$=N("img"),D(r,"class","axis x-axis svelte-1k0ffvp"),D(a,"class","un_resolution svelte-1k0ffvp"),D(a,"x",s=t[7]("2000")+t[7].bandwidth()/2),D(a,"y",l=20),D(a,"width","1"),D(a,"height",u=t[4]-100),D(a,"fill","white"),D(f,"class","un_resolution svelte-1k0ffvp"),D(f,"x",d=t[7]("2000")+t[7].bandwidth()),D(f,"y",p=20),D(f,"fill","white"),D(i,"class","timeline"),D(i,"transform",g="translate("+t[13].left+", "+t[13].top+")"),D(e,"width",t[1]),D(e,"height",t[2]),D($,"class","example_img svelte-1k0ffvp"),c($.src,v=t[9])||D($,"src",v),D($,"alt","agt"),D(y,"id","example"),D(y,"class","svelte-1k0ffvp"),D(n,"class","wrapper svelte-1k0ffvp"),et((()=>t[19].call(n)))},m(s,l){E(s,n,l),k(n,e),k(e,i),k(i,r);for(let t=0;t<j.length;t+=1)j[t]&&j[t].m(r,null);for(let t=0;t<I.length;t+=1)I[t]&&I[t].m(i,null);k(i,o);for(let t=0;t<B.length;t+=1)B[t]&&B[t].m(i,null);k(i,a),G&&G.m(i,null),k(i,f),k(f,h),k(n,m),k(n,y),k(y,$),t[18]($),w=W(n,t[19].bind(n)),x=!0,_||(b=P($,"load",t[14]),_=!0)},p(t,n){if(152&n){let e;for(M=ol,e=0;e<M.length;e+=1){const i=Yl(t,M,e);j[e]?j[e].p(i,n):(j[e]=Vl(i),j[e].c(),j[e].m(r,null))}for(;e<j.length;e+=1)j[e].d(1);j.length=M.length}if(64&n){let e;for(O=t[6],e=0;e<O.length;e+=1){const r=Fl(t,O,e);I[e]?(I[e].p(r,n),ht(I[e],1)):(I[e]=Zl(r),I[e].c(),ht(I[e],1),I[e].m(i,o))}for(ut(),e=O.length;e<I.length;e+=1)q(e);ft()}if(32&n){let e;for(L=t[5],e=0;e<L.length;e+=1){const r=Xl(t,L,e);B[e]?(B[e].p(r,n),ht(B[e],1)):(B[e]=Ql(r),B[e].c(),ht(B[e],1),B[e].m(i,a))}for(ut(),e=L.length;e<B.length;e+=1)H(e);ft()}(!x||128&n&&s!==(s=t[7]("2000")+t[7].bandwidth()/2))&&D(a,"x",s),(!x||16&n&&u!==(u=t[4]-100))&&D(a,"height",u),t[12]?G?G.p(t,n):(G=Jl(t),G.c(),G.m(i,f)):G&&(G.d(1),G=null),(!x||128&n&&d!==(d=t[7]("2000")+t[7].bandwidth()))&&D(f,"x",d),(!x||2&n)&&D(e,"width",t[1]),(!x||4&n)&&D(e,"height",t[2]),(!x||512&n&&!c($.src,v=t[9]))&&D($,"src",v)},i(t){if(!x){for(let t=0;t<O.length;t+=1)ht(I[t]);for(let t=0;t<L.length;t+=1)ht(B[t]);x=!0}},o(t){I=I.filter(Boolean);for(let t=0;t<I.length;t+=1)dt(I[t]);B=B.filter(Boolean);for(let t=0;t<B.length;t+=1)dt(B[t]);x=!1},d(e){e&&A(n),S(j,e),S(I,e),S(B,e),G&&G.d(),t[18](null),w(),_=!1,b()}}}function Vl(t){let n,e,i,r,o,a=(t[3]>800?t[27]:tc(t[27]))+"";return{c(){n=R("g"),e=R("text"),i=z(a),D(e,"y","1"),D(e,"class","svelte-1k0ffvp"),D(n,"class",r="tick tick-"+t[27]+" svelte-1k0ffvp"),D(n,"transform",o="translate("+(t[7](t[27])+t[7].bandwidth()/2)+","+(t[4]+17)+")")},m(t,r){E(t,n,r),k(n,e),k(e,i)},p(t,e){8&e&&a!==(a=(t[3]>800?t[27]:tc(t[27]))+"")&&O(i,a),144&e&&o!==(o="translate("+(t[7](t[27])+t[7].bandwidth()/2)+","+(t[4]+17)+")")&&D(n,"transform",o)},d(t){t&&A(n)}}}function Zl(t){let n,e;return n=new Ml({props:{i:t[25],x:t[23].x,y:t[23].y,width:t[23].width,height:t[23].height,info:t[23].info}}),{c(){gt(n.$$.fragment)},m(t,i){mt(n,t,i),e=!0},p(t,e){const i={};64&e&&(i.x=t[23].x),64&e&&(i.y=t[23].y),64&e&&(i.width=t[23].width),64&e&&(i.height=t[23].height),64&e&&(i.info=t[23].info),n.$set(i)},i(t){e||(ht(n.$$.fragment,t),e=!0)},o(t){dt(n.$$.fragment,t),e=!1},d(t){yt(n,t)}}}function Ql(t){let n,e;return n=new xl({props:{i:t[25],id:t[23].id,x:t[23].x,y:t[23].y,width:t[23].width,height:t[23].height,info:t[23].info}}),{c(){gt(n.$$.fragment)},m(t,i){mt(n,t,i),e=!0},p(t,e){const i={};32&e&&(i.id=t[23].id),32&e&&(i.x=t[23].x),32&e&&(i.y=t[23].y),32&e&&(i.width=t[23].width),32&e&&(i.height=t[23].height),32&e&&(i.info=t[23].info),n.$set(i)},i(t){e||(ht(n.$$.fragment,t),e=!0)},o(t){dt(n.$$.fragment,t),e=!1},d(t){yt(n,t)}}}function Jl(t){let n,e;return{c(){n=R("path"),D(n,"id","example"),D(n,"d",e=`M ${t[7](t[11])},${t[4]-10} \n                       C ${t[7](t[11])},${t[4]-100} \n                         ${t[8]-t[13].left},${t[12]+100} \n                         ${t[8]-t[13].left},${t[12]}`),D(n,"fill","none"),D(n,"stroke","white"),D(n,"stroke-width","1"),D(n,"opacity","0"),D(n,"class","svelte-1k0ffvp")},m(t,e){E(t,n,e)},p(t,i){6544&i&&e!==(e=`M ${t[7](t[11])},${t[4]-10} \n                       C ${t[7](t[11])},${t[4]-100} \n                         ${t[8]-t[13].left},${t[12]+100} \n                         ${t[8]-t[13].left},${t[12]}`)&&D(n,"d",e)},d(t){t&&A(n)}}}function Kl(t){let n,e,i=t[5]&&t[0]&&Ul(t);return{c(){i&&i.c(),n=T()},m(t,r){i&&i.m(t,r),E(t,n,r),e=!0},p(t,[e]){t[5]&&t[0]?i?(i.p(t,e),33&e&&ht(i,1)):(i=Ul(t),i.c(),ht(i,1),i.m(n.parentNode,n)):i&&(ut(),dt(i,1,1,(()=>{i=null})),ft())},i(t){e||(ht(i),e=!0)},o(t){dt(i),e=!1},d(t){i&&i.d(t),t&&A(n)}}}function tc(t){return"'"+t.toString().slice(-2)}function nc(t,n,e){let i,r,o,a,s,l,c,u,f,h,{pax:d}=n,{pax_timeline:p}=n,{step:g}=n,m=400,y=400,$="./img/lome.png",v={top:20,right:20,bottom:20,left:40};function w(t,n,e){let i,r=null;return i="none"===e?0:-1,t.map((t=>{let n;const o=t.Dat.substring(6,10);o!==r&&(i="none"===e?0:-1,r=o),n="none"==e?c(i):"1"===t[e]?c(++i):s+100;const a={x:l(o)+2*Math.random()-1,y:n+2*Math.random()-1,width:l.bandwidth(),height:3,info:t.Agt};return"none"===e&&i++,a}))}window.addEventListener("resize",b);let x,_="1999";function b(){if(f){const t=f.getBoundingClientRect();e(17,h=t.height),e(8,u=t.x)}}return b(),t.$$set=t=>{"pax"in t&&e(15,d=t.pax),"pax_timeline"in t&&e(0,p=t.pax_timeline),"step"in t&&e(16,g=t.step)},t.$$.update=()=>{2&t.$$.dirty&&e(3,a=m-v.left-v.right),4&t.$$.dirty&&e(4,s=y-v.top-v.bottom),8&t.$$.dirty&&e(7,l=ts().domain(ol).range([0,a]).padding(.1)),16&t.$$.dirty&&(c=fs().domain([0,100]).range([s,0])),16&t.$$.dirty&&(i=fs().domain([0,4e4]).range([0,s])),32776&t.$$.dirty&&d&&(e(6,o=w(d,0,"none")),e(5,r=w(d,0,"none"))),98312&t.$$.dirty&&("1"==g?(ee(".un_resolution").style("visibility","hidden"),e(5,r=w(d,0,"none"))):"2"==g||"3"==g?(ee(".un_resolution").style("visibility","visible"),e(5,r=w(d,0,"GeWom"))):"4"==g?(ee(".un_resolution").style("visibility","hidden"),ee("#example").style("opacity",0),e(5,r=w(d,0,"WggRehab"))):"5"==g?(ee("#example").style("opacity",1),e(9,$="./img/lome.png"),e(11,_="1999"),e(5,r=w(d,0,"WggRehab"))):"6"==g?(ee("#example").style("opacity",0),e(5,r=w(d,0,"WggImplRole"))):"7"==g?(ee("#example").style("opacity",1),e(9,$="./img/colombia.png"),e(11,_="2016"),e(5,r=w(d,0,"WggImplRole"))):"8"==g?(ee("#example").style("opacity",0),e(5,r=w(d,0,"WggHR"))):"9"==g&&(e(9,$="./img/guatemala.png"),ee("#example").style("opacity",1),e(11,_="1996"))),131088&t.$$.dirty&&s&&e(12,x=s-(s-h))},[p,m,y,a,s,r,o,l,u,$,f,_,x,v,b,d,g,h,function(t){Q[t?"unshift":"push"]((()=>{f=t,e(10,f)}))},function(){m=this.clientWidth,y=this.clientHeight,e(1,m),e(2,y)}]}class ec extends wt{constructor(t){super(),vt(this,t,nc,Kl,s,{pax:15,pax_timeline:0,step:16})}}function ic(t){return 0===(n=t)||n?Array.isArray(t)?n=>t.map((t=>"function"!=typeof t?n[t]:t(n))):"function"!=typeof t?n=>n[t]:t:null;var n}function rc(t,n={}){return function(t){const n={};for(const e of t){if(Object(e)!==e)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:i}=e;Object.defineProperty(n,t,{configurable:!0,enumerable:!0,writable:!0,value:i})}return n}(Object.entries(t).filter((([t,e])=>void 0!==e&&void 0===n[t])))}function oc(t,n){if(!Array.isArray(t))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(n)||null==n)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const e={},i=Object.keys(n),r=i.length;let o,a,s,l,c,u,f,h;const d=t.length;for(o=0;o<r;o+=1){for(l=i[o],f=n[l],c=null,u=null,a=0;a<d;a+=1)if(h=f(t[a]),Array.isArray(h)){const t=h.length;for(s=0;s<t;s+=1)!1!==h[s]&&void 0!==h[s]&&null!==h[s]&&!1===Number.isNaN(h[s])&&((null===c||h[s]<c)&&(c=h[s]),(null===u||h[s]>u)&&(u=h[s]))}else!1!==h&&null!=h&&!1===Number.isNaN(h)&&((null===c||h<c)&&(c=h),(null===u||h>u)&&(u=h));e[l]=[c,u]}return e}function ac(t,n){return t.length===n.length&&t.every((t=>n.includes(t)))}function sc(t){return"function"==typeof t.bandwidth||!!ac(Object.keys(t),["domain","range","unknown","copy"])}function lc(t,n,e){const i=Object.keys(e).reduce(((t,i)=>{const r=!0===sc(e[i])?"ordinal":"other";return t[r]||(t[r]={}),t[r][i]=n[i],t}),{ordinal:!1,other:!1});let r={};return i.ordinal&&(r=function(t,n,{sort:e=!1}={}){if(!Array.isArray(t))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(n)||null==n)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const i={},r=Object.keys(n),o=r.length;let a,s,l,c,u,f,h;const d=t.length;for(a=0;a<o;a+=1){for(h=new Set,c=r[a],u=n[c],s=0;s<d;s+=1)if(f=u(t[s]),Array.isArray(f)){const t=f.length;for(l=0;l<t;l+=1)h.add(f[l])}else h.add(f);const o=Array.from(h);i[c]=!0===e?o.sort():o}return i}(t,i.ordinal)),i.other&&(r={...r,...oc(t,i.other)}),r}function cc(t){return function([n,e]){return"function"==typeof e&&(e=e(n[t])),n?function(t=[],n){return!0===Array.isArray(n)?n.map(((n,e)=>null===n?t[e]:n)):t}(n[t],e):e}}var uc={x:fs,y:fs,z:fs,r:function(){return ms.apply(null,arguments).exponent(.5)}};function fc(t){return t}function hc(t){return n=>Math.log(t*n)}function dc(t){return n=>t*Math.exp(n)}function pc(t){return n=>Math.sign(n)*Math.expm1(Math.abs(n))*t}function gc(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function mc(t){return t.replace(/^\w/,(t=>t.toUpperCase()))}function yc(t,n=""){return`scale${mc(n)}${mc(t)}`}function $c(t){if("function"==typeof t.bandwidth)return"function"==typeof t.paddingInner?yc("band"):yc("point");if(ac(Object.keys(t),["domain","range","unknown","copy"]))return yc("ordinal");let n="";if(t.interpolator&&(n=3===t.domain().length?"diverging":"sequential"),t.quantiles)return yc("quantile",n);if(t.thresholds)return yc("quantize",n);if(t.constant)return yc("symlog",n);if(t.base)return yc("log",n);if(t.exponent)return.5===t.exponent()?yc("sqrt",n):yc("pow",n);if(ac(Object.keys(t),["domain","range","invertExtent","unknown","copy"]))return yc("threshold");if(ac(Object.keys(t),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return yc("identity");if(ac(Object.keys(t),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return yc("radial");if(n)return yc(n);if(t.domain()[0]instanceof Date){const n=new Date;let e;return n.getDay=()=>e="time",n.getUTCDay=()=>e="utc",t.tickFormat(0,"%a")(n),yc(e)}return yc("linear")}const vc=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function wc(t,n){if("function"!=typeof t.range)throw console.log(t),new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(n)||vc.includes($c(t)))return t.domain();if(!0===sc(t))return t.domain();const{lift:e,ground:i}=function(t){const n=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===n){const e=Math.sign(t.domain()[0]);return{lift:hc(e),ground:dc(e),scaleType:n}}if("pow"===n){const t=1;return{lift:gc(t),ground:gc(1/t),scaleType:n}}if("sqrt"===n){const t=.5;return{lift:gc(t),ground:gc(1/t),scaleType:n}}if("symlog"===n){const t=1;return{lift:(e=t,t=>Math.sign(t)*Math.log1p(Math.abs(t/e))),ground:pc(t),scaleType:n}}var e;return{lift:fc,ground:fc,scaleType:n}}(t),r=t.domain()[0],o="[object Date]"===Object.prototype.toString.call(r),[a,s]=t.domain().map((t=>e(o?t.getTime():t))),[l,c]=t.range(),u=n[0]||0,f=n[1]||0,h=(s-a)/(Math.abs(c-l)-u-f);return[a-u*h,f*h+s].map((t=>i(o?new Date(t):t)))}function xc(t){return function([n,e,i,r,o,a,s,l,c,u]){if(null===e)return null;const f=function(t,n,e,i,r,o){return r?"function"==typeof r?r({width:n,height:e}):r:function(t,n,e,i,r){let o,a;return!0===r?(o=0,a=100):(o="r"===t?1:0,a="y"===t?e:"r"===t?25:n),!0===i?[a,o]:[o,a]}(t,n,e,i,o)}(t,s,l,a,c,u),h=n===uc[t]?n():n.copy();return h.domain(i),(!h.interpolator||"function"==typeof h.interpolator&&h.interpolator().name.startsWith("identity"))&&h.range(f),r&&h.domain(wc(h,r)),!0!==o&&"number"!=typeof o||("function"==typeof h.nice?h.nice("number"==typeof o?o:void 0):console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),h}}function _c([t,n]){return e=>{const i=t(e);return Array.isArray(i)?i.map((t=>n(t))):n(i)}}function bc([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Mc="    ";function kc(t){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),function(t){Object.entries(t).forEach((([t,n])=>{console.log(`${Mc}${t}:`,n)}))}(t.boundingBox),console.log("Scales:\n"),Object.keys(t.activeGetters).forEach((n=>{!function(t,n,e){const i=$c(n);console.log(`${Mc}${t}:`),console.log(`${Mc}${Mc}Accessor: "${e.toString()}"`),console.log(`${Mc}${Mc}Type: ${i}`),Ec(n,"domain"),Ec(n,"range"," ")}(n,t[`${n}Scale`],t[n])})),console.log("/************ End LayerCake Debug ***************/\n")}function Ec(t,n,e=""){const i=t[n](),r=function(t){const n=[],e=t.map(((e,i)=>{const r=function(t){const{r:n,g:e,b:i,opacity:r}=Me(t);return!![n,e,i].every((t=>t>=0&&t<=255))&&{r:n,g:e,b:i,o:r}}(e);if(!1!==r){n.push(r);return`%c ${e}${i===t.length-1?" ":""}`}return e}));if(n.length)return[`%c[ ${e.join(", ")}`,n.map((t=>`background-color: rgba(${t.r}, ${t.g}, ${t.b}, ${t.o}); color:${function({r:t,g:n,b:e}){return(.2126*t+.7152*n+.0722*e)/255>.6?"black":"white"}(t)};`))];return null}(i);r?function(t,n,e){console.log(`${Mc}${Mc}${mc(n)}:    %cArray%c(${e.length}) `+t[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...t[1],"color: #1478e4")}(r,n,i):console.log(`${Mc}${Mc}${mc(n)}:${e}`,i)}const Ac=t=>({element:4&t[0],width:8&t[1],height:16&t[1],aspectRatio:32&t[1],containerWidth:2&t[1],containerHeight:1&t[1],activeGetters:1024&t[0],percentRange:4&t[1],x:268435456&t[0],y:134217728&t[0],z:67108864&t[0],r:33554432&t[0],custom:4096&t[0],data:1073741824&t[0],xNice:16777216&t[0],yNice:8388608&t[0],zNice:4194304&t[0],rNice:2097152&t[0],xReverse:1048576&t[0],yReverse:524288&t[0],zReverse:262144&t[0],rReverse:131072&t[0],xPadding:65536&t[0],yPadding:32768&t[0],zPadding:16384&t[0],rPadding:8192&t[0],padding:64&t[1],flatData:536870912&t[0],extents:128&t[1],xDomain:256&t[1],yDomain:512&t[1],zDomain:1024&t[1],rDomain:2048&t[1],xRange:4096&t[1],yRange:8192&t[1],zRange:16384&t[1],rRange:32768&t[1],config:2048&t[0],xScale:512&t[0],xGet:65536&t[1],yScale:256&t[0],yGet:131072&t[1],zScale:128&t[0],zGet:262144&t[1],rScale:64&t[0],rGet:524288&t[1]}),Sc=t=>({element:t[2],width:t[34],height:t[35],aspectRatio:t[36],containerWidth:t[32],containerHeight:t[31],activeGetters:t[10],percentRange:t[33],x:t[28],y:t[27],z:t[26],r:t[25],custom:t[12],data:t[30],xNice:t[24],yNice:t[23],zNice:t[22],rNice:t[21],xReverse:t[20],yReverse:t[19],zReverse:t[18],rReverse:t[17],xPadding:t[16],yPadding:t[15],zPadding:t[14],rPadding:t[13],padding:t[37],flatData:t[29],extents:t[38],xDomain:t[39],yDomain:t[40],zDomain:t[41],rDomain:t[42],xRange:t[43],yRange:t[44],zRange:t[45],rRange:t[46],config:t[11],xScale:t[9],xGet:t[47],yScale:t[8],yGet:t[48],zScale:t[7],zGet:t[49],rScale:t[6],rGet:t[50]});function Nc(t){let n,e,i;const r=t[153].default,o=h(r,t,t[152],Sc);return{c(){n=N("div"),o&&o.c(),D(n,"class","layercake-container svelte-vhzpsp"),et((()=>t[155].call(n))),I(n,"position",t[5]),I(n,"top","absolute"===t[5]?"0":null),I(n,"right","absolute"===t[5]?"0":null),I(n,"bottom","absolute"===t[5]?"0":null),I(n,"left","absolute"===t[5]?"0":null),I(n,"pointer-events",!1===t[4]?"none":null)},m(r,a){E(r,n,a),o&&o.m(n,null),t[154](n),e=W(n,t[155].bind(n)),i=!0},p(t,e){o&&o.p&&(!i||2147483588&e[0]|1048575&e[1]|268435456&e[4])&&g(o,r,t,t[152],i?p(r,t[152],e,Ac):m(t[152]),Sc),32&e[0]&&I(n,"position",t[5]),32&e[0]&&I(n,"top","absolute"===t[5]?"0":null),32&e[0]&&I(n,"right","absolute"===t[5]?"0":null),32&e[0]&&I(n,"bottom","absolute"===t[5]?"0":null),32&e[0]&&I(n,"left","absolute"===t[5]?"0":null),16&e[0]&&I(n,"pointer-events",!1===t[4]?"none":null)},i(t){i||(ht(o,t),i=!0)},o(t){dt(o,t),i=!1},d(i){i&&A(n),o&&o.d(i),t[154](null),e()}}}function Rc(t){let n,e,i=(!0===t[3]||"undefined"!=typeof window)&&Nc(t);return{c(){i&&i.c(),n=T()},m(t,r){i&&i.m(t,r),E(t,n,r),e=!0},p(t,e){!0===t[3]||"undefined"!=typeof window?i?(i.p(t,e),8&e[0]&&ht(i,1)):(i=Nc(t),i.c(),ht(i,1),i.m(n.parentNode,n)):i&&(ut(),dt(i,1,1,(()=>{i=null})),ft())},i(t){e||(ht(i),e=!0)},o(t){dt(i),e=!1},d(t){i&&i.d(t),t&&A(n)}}}function zc(t,n,e){let i,r,o,a,s,l,c,u,h,d,p,g,m,y,v,w,x,_,b,M,k,E,A,S,N,R,z,C,T,P,D,j,O,I,q,L,B,W,H,G,X,Y,V,Z,J,K,tt,nt,et,it,rt,ot,at,st,lt,ct,ut,ft,ht,dt,pt,gt,{$$slots:mt={},$$scope:yt}=n;const $t=function(t,n=300){let e;return(...i)=>{clearTimeout(e),e=setTimeout((()=>{t.apply(this,i)}),n)}}(kc,200);let{ssr:vt=!1}=n,{pointerEvents:wt=!0}=n,{position:xt="relative"}=n,{percentRange:_t=!1}=n,{width:bt}=n,{height:Mt}=n,{containerWidth:kt=bt||100}=n,{containerHeight:Et=Mt||100}=n,{element:At}=n,{x:St}=n,{y:Nt}=n,{z:Rt}=n,{r:zt}=n,{data:Ct=[]}=n,{xDomain:Tt}=n,{yDomain:Pt}=n,{zDomain:Dt}=n,{rDomain:jt}=n,{xNice:Ot=!1}=n,{yNice:It=!1}=n,{zNice:qt=!1}=n,{rNice:Lt=!1}=n,{xPadding:Bt}=n,{yPadding:Wt}=n,{zPadding:Ht}=n,{rPadding:Gt}=n,{xScale:Xt=uc.x}=n,{yScale:Ft=uc.y}=n,{zScale:Yt=uc.z}=n,{rScale:Ut=uc.r}=n,{xRange:Vt}=n,{yRange:Zt}=n,{zRange:Qt}=n,{rRange:Jt}=n,{xReverse:Kt=!1}=n,{yReverse:tn}=n,{zReverse:nn=!1}=n,{rReverse:en=!1}=n,{padding:rn={}}=n,{extents:on={}}=n,{flatData:an}=n,{custom:sn={}}=n,{debug:ln=!1}=n,cn=!1;F((()=>{cn=!0}));const un={},fn=tl(_t);f(t,fn,(t=>e(33,J=t)));const hn=tl(kt);f(t,hn,(t=>e(32,Z=t)));const dn=tl(Et);f(t,dn,(t=>e(31,V=t)));const pn=tl(rc(on));f(t,pn,(t=>e(170,Y=t)));const gn=tl(Ct);f(t,gn,(t=>e(30,X=t)));const mn=tl(an||Ct);f(t,mn,(t=>e(29,G=t)));const yn=tl(rn);f(t,yn,(t=>e(169,H=t)));const $n=tl(ic(St));f(t,$n,(t=>e(28,W=t)));const vn=tl(ic(Nt));f(t,vn,(t=>e(27,B=t)));const wn=tl(ic(Rt));f(t,wn,(t=>e(26,L=t)));const xn=tl(ic(zt));f(t,xn,(t=>e(25,q=t)));const _n=tl(Tt);f(t,_n,(t=>e(168,I=t)));const bn=tl(Pt);f(t,bn,(t=>e(167,O=t)));const Mn=tl(Dt);f(t,Mn,(t=>e(166,j=t)));const kn=tl(jt);f(t,kn,(t=>e(165,D=t)));const En=tl(Ot);f(t,En,(t=>e(24,P=t)));const An=tl(It);f(t,An,(t=>e(23,T=t)));const Sn=tl(qt);f(t,Sn,(t=>e(22,C=t)));const Nn=tl(Lt);f(t,Nn,(t=>e(21,z=t)));const Rn=tl(Kt);f(t,Rn,(t=>e(20,R=t)));const zn=tl(i);f(t,zn,(t=>e(19,N=t)));const Cn=tl(nn);f(t,Cn,(t=>e(18,S=t)));const Tn=tl(en);f(t,Tn,(t=>e(17,A=t)));const Pn=tl(Bt);f(t,Pn,(t=>e(16,E=t)));const Dn=tl(Wt);f(t,Dn,(t=>e(15,k=t)));const jn=tl(Ht);f(t,jn,(t=>e(14,M=t)));const On=tl(Gt);f(t,On,(t=>e(13,b=t)));const In=tl(Vt);f(t,In,(t=>e(164,_=t)));const qn=tl(Zt);f(t,qn,(t=>e(163,x=t)));const Ln=tl(Qt);f(t,Ln,(t=>e(162,w=t)));const Bn=tl(Jt);f(t,Bn,(t=>e(161,v=t)));const Wn=tl(Xt);f(t,Wn,(t=>e(160,y=t)));const Hn=tl(Ft);f(t,Hn,(t=>e(159,m=t)));const Gn=tl(Yt);f(t,Gn,(t=>e(158,g=t)));const Xn=tl(Ut);f(t,Xn,(t=>e(157,p=t)));const Fn=tl(un);f(t,Fn,(t=>e(11,h=t)));const Yn=tl(sn);f(t,Yn,(t=>e(12,d=t)));const Un=nl([$n,vn,wn,xn],(([t,n,e,i])=>{const r={};return t&&(r.x=t),n&&(r.y=n),e&&(r.z=e),i&&(r.r=i),r}));f(t,Un,(t=>e(10,c=t)));const Vn=nl([yn,hn,dn],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t)));f(t,Vn,(t=>e(37,et=t)));const Zn=nl([hn,dn,Vn],(([t,n,e])=>{const i={};return i.top=e.top,i.right=t-e.right,i.bottom=n-e.bottom,i.left=e.left,i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<=0&&!0===cn&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),i.height<=0&&!0===cn&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),i}));f(t,Zn,(t=>e(151,u=t)));const Qn=nl([Zn],(([t])=>t.width));f(t,Qn,(t=>e(34,K=t)));const Jn=nl([Zn],(([t])=>t.height));f(t,Jn,(t=>e(35,tt=t)));const Kn=nl([mn,Un,pn,Wn,Hn,Xn,Gn],(([t,n,e,i,r,o,a])=>{const s={x:i,y:r,r:o,z:a},l=rc(n,e),c=Object.fromEntries(Object.keys(l).map((t=>[t,s[t]])));if(Object.keys(l).length>0){return{...lc(t,l,c),...e}}return{}}));f(t,Kn,(t=>e(38,it=t)));const te=nl([Kn,_n],cc("x"));f(t,te,(t=>e(39,rt=t)));const ne=nl([Kn,bn],cc("y"));f(t,ne,(t=>e(40,ot=t)));const ee=nl([Kn,Mn],cc("z"));f(t,ee,(t=>e(41,at=t)));const ie=nl([Kn,kn],cc("r"));f(t,ie,(t=>e(42,st=t)));const re=nl([Wn,Kn,te,Pn,En,Rn,Qn,Jn,In,fn],xc("x"));f(t,re,(t=>e(9,l=t)));const oe=nl([$n,re],_c);f(t,oe,(t=>e(47,ht=t)));const ae=nl([Hn,Kn,ne,Dn,An,zn,Qn,Jn,qn,fn],xc("y"));f(t,ae,(t=>e(8,s=t)));const se=nl([vn,ae],_c);f(t,se,(t=>e(48,dt=t)));const le=nl([Gn,Kn,ee,jn,Sn,Cn,Qn,Jn,Ln,fn],xc("z"));f(t,le,(t=>e(7,a=t)));const ce=nl([wn,le],_c);f(t,ce,(t=>e(49,pt=t)));const ue=nl([Xn,Kn,ie,On,Nn,Tn,Qn,Jn,Bn,fn],xc("r"));f(t,ue,(t=>e(6,o=t)));const fe=nl([xn,ue],_c);f(t,fe,(t=>e(50,gt=t)));const he=nl([re],bc);f(t,he,(t=>e(43,lt=t)));const de=nl([ae],bc);f(t,de,(t=>e(44,ct=t)));const pe=nl([le],bc);f(t,pe,(t=>e(45,ut=t)));const ge=nl([ue],bc);f(t,ge,(t=>e(46,ft=t)));const me=nl([Qn,Jn],(([t,n])=>t/n));return f(t,me,(t=>e(36,nt=t))),t.$$set=t=>{"ssr"in t&&e(3,vt=t.ssr),"pointerEvents"in t&&e(4,wt=t.pointerEvents),"position"in t&&e(5,xt=t.position),"percentRange"in t&&e(111,_t=t.percentRange),"width"in t&&e(112,bt=t.width),"height"in t&&e(113,Mt=t.height),"containerWidth"in t&&e(0,kt=t.containerWidth),"containerHeight"in t&&e(1,Et=t.containerHeight),"element"in t&&e(2,At=t.element),"x"in t&&e(114,St=t.x),"y"in t&&e(115,Nt=t.y),"z"in t&&e(116,Rt=t.z),"r"in t&&e(117,zt=t.r),"data"in t&&e(118,Ct=t.data),"xDomain"in t&&e(119,Tt=t.xDomain),"yDomain"in t&&e(120,Pt=t.yDomain),"zDomain"in t&&e(121,Dt=t.zDomain),"rDomain"in t&&e(122,jt=t.rDomain),"xNice"in t&&e(123,Ot=t.xNice),"yNice"in t&&e(124,It=t.yNice),"zNice"in t&&e(125,qt=t.zNice),"rNice"in t&&e(126,Lt=t.rNice),"xPadding"in t&&e(127,Bt=t.xPadding),"yPadding"in t&&e(128,Wt=t.yPadding),"zPadding"in t&&e(129,Ht=t.zPadding),"rPadding"in t&&e(130,Gt=t.rPadding),"xScale"in t&&e(131,Xt=t.xScale),"yScale"in t&&e(132,Ft=t.yScale),"zScale"in t&&e(133,Yt=t.zScale),"rScale"in t&&e(134,Ut=t.rScale),"xRange"in t&&e(135,Vt=t.xRange),"yRange"in t&&e(136,Zt=t.yRange),"zRange"in t&&e(137,Qt=t.zRange),"rRange"in t&&e(138,Jt=t.rRange),"xReverse"in t&&e(139,Kt=t.xReverse),"yReverse"in t&&e(140,tn=t.yReverse),"zReverse"in t&&e(141,nn=t.zReverse),"rReverse"in t&&e(142,en=t.rReverse),"padding"in t&&e(143,rn=t.padding),"extents"in t&&e(144,on=t.extents),"flatData"in t&&e(145,an=t.flatData),"custom"in t&&e(146,sn=t.custom),"debug"in t&&e(147,ln=t.debug),"$$scope"in t&&e(152,yt=t.$$scope)},t.$$.update=()=>{65792&t.$$.dirty[4]&&e(150,i=void 0===tn?"function"!=typeof Ft.bandwidth:tn),2097152&t.$$.dirty[3]&&St&&e(148,un.x=St,un),4194304&t.$$.dirty[3]&&Nt&&e(148,un.y=Nt,un),8388608&t.$$.dirty[3]&&Rt&&e(148,un.z=Rt,un),16777216&t.$$.dirty[3]&&zt&&e(148,un.r=zt,un),67108864&t.$$.dirty[3]&&Tt&&e(148,un.xDomain=Tt,un),134217728&t.$$.dirty[3]&&Pt&&e(148,un.yDomain=Pt,un),268435456&t.$$.dirty[3]&&Dt&&e(148,un.zDomain=Dt,un),536870912&t.$$.dirty[3]&&jt&&e(148,un.rDomain=jt,un),2048&t.$$.dirty[4]&&Vt&&e(148,un.xRange=Vt,un),4096&t.$$.dirty[4]&&Zt&&e(148,un.yRange=Zt,un),8192&t.$$.dirty[4]&&Qt&&e(148,un.zRange=Qt,un),16384&t.$$.dirty[4]&&Jt&&e(148,un.rRange=Jt,un),262144&t.$$.dirty[3]&&$(fn,J=_t,J),1&t.$$.dirty[0]&&$(hn,Z=kt,Z),2&t.$$.dirty[0]&&$(dn,V=Et,V),1048576&t.$$.dirty[4]&&$(pn,Y=rc(on),Y),33554432&t.$$.dirty[3]&&$(gn,X=Ct,X),33554432&t.$$.dirty[3]|2097152&t.$$.dirty[4]&&$(mn,G=an||Ct,G),524288&t.$$.dirty[4]&&$(yn,H=rn,H),2097152&t.$$.dirty[3]&&$($n,W=ic(St),W),4194304&t.$$.dirty[3]&&$(vn,B=ic(Nt),B),8388608&t.$$.dirty[3]&&$(wn,L=ic(Rt),L),16777216&t.$$.dirty[3]&&$(xn,q=ic(zt),q),67108864&t.$$.dirty[3]&&$(_n,I=Tt,I),134217728&t.$$.dirty[3]&&$(bn,O=Pt,O),268435456&t.$$.dirty[3]&&$(Mn,j=Dt,j),536870912&t.$$.dirty[3]&&$(kn,D=jt,D),1073741824&t.$$.dirty[3]&&$(En,P=Ot,P),1&t.$$.dirty[4]&&$(An,T=It,T),2&t.$$.dirty[4]&&$(Sn,C=qt,C),4&t.$$.dirty[4]&&$(Nn,z=Lt,z),32768&t.$$.dirty[4]&&$(Rn,R=Kt,R),67108864&t.$$.dirty[4]&&$(zn,N=i,N),131072&t.$$.dirty[4]&&$(Cn,S=nn,S),262144&t.$$.dirty[4]&&$(Tn,A=en,A),8&t.$$.dirty[4]&&$(Pn,E=Bt,E),16&t.$$.dirty[4]&&$(Dn,k=Wt,k),32&t.$$.dirty[4]&&$(jn,M=Ht,M),64&t.$$.dirty[4]&&$(On,b=Gt,b),2048&t.$$.dirty[4]&&$(In,_=Vt,_),4096&t.$$.dirty[4]&&$(qn,x=Zt,x),8192&t.$$.dirty[4]&&$(Ln,w=Qt,w),16384&t.$$.dirty[4]&&$(Bn,v=Jt,v),128&t.$$.dirty[4]&&$(Wn,y=Xt,y),256&t.$$.dirty[4]&&$(Hn,m=Ft,m),512&t.$$.dirty[4]&&$(Gn,g=Yt,g),1024&t.$$.dirty[4]&&$(Xn,p=Ut,p),4194304&t.$$.dirty[4]&&$(Yn,d=sn,d),16777216&t.$$.dirty[4]&&$(Fn,h=un,h),33554432&t.$$.dirty[4]&&U("LayerCake",r),1992&t.$$.dirty[0]|159383552&t.$$.dirty[4]&&(!u||!0!==ln||!0!==vt&&"undefined"==typeof window||$t({boundingBox:u,activeGetters:c,x:un.x,y:un.y,z:un.z,r:un.r,xScale:l,yScale:s,zScale:a,rScale:o}))},e(149,r={activeGetters:Un,width:Qn,height:Jn,percentRange:fn,aspectRatio:me,containerWidth:hn,containerHeight:dn,x:$n,y:vn,z:wn,r:xn,custom:Yn,data:gn,xNice:En,yNice:An,zNice:Sn,rNice:Nn,xReverse:Rn,yReverse:zn,zReverse:Cn,rReverse:Tn,xPadding:Pn,yPadding:Dn,zPadding:jn,rPadding:On,padding:Vn,flatData:mn,extents:Kn,xDomain:te,yDomain:ne,zDomain:ee,rDomain:ie,xRange:he,yRange:de,zRange:pe,rRange:ge,config:Fn,xScale:re,xGet:oe,yScale:ae,yGet:se,zScale:le,zGet:ce,rScale:ue,rGet:fe}),[kt,Et,At,vt,wt,xt,o,a,s,l,c,h,d,b,M,k,E,A,S,N,R,z,C,T,P,q,L,B,W,G,X,V,Z,J,K,tt,nt,et,it,rt,ot,at,st,lt,ct,ut,ft,ht,dt,pt,gt,fn,hn,dn,pn,gn,mn,yn,$n,vn,wn,xn,_n,bn,Mn,kn,En,An,Sn,Nn,Rn,zn,Cn,Tn,Pn,Dn,jn,On,In,qn,Ln,Bn,Wn,Hn,Gn,Xn,Fn,Yn,Un,Vn,Zn,Qn,Jn,Kn,te,ne,ee,ie,re,oe,ae,se,le,ce,ue,fe,he,de,pe,ge,me,_t,bt,Mt,St,Nt,Rt,zt,Ct,Tt,Pt,Dt,jt,Ot,It,qt,Lt,Bt,Wt,Ht,Gt,Xt,Ft,Yt,Ut,Vt,Zt,Qt,Jt,Kt,tn,nn,en,rn,on,an,sn,ln,un,r,i,u,yt,mt,function(t){Q[t?"unshift":"push"]((()=>{At=t,e(2,At)}))},function(){kt=this.clientWidth,Et=this.clientHeight,e(0,kt),e(1,Et)}]}class Cc extends wt{constructor(t){super(),vt(this,t,zc,Rc,s,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},null,[-1,-1,-1,-1,-1,-1])}}const Tc=t=>({element:1&t}),Pc=t=>({element:t[0]}),Dc=t=>({element:1&t}),jc=t=>({element:t[0]}),Oc=t=>({element:1&t}),Ic=t=>({element:t[0]});function qc(t){let n,e;return{c(){n=R("title"),e=z(t[8])},m(t,i){E(t,n,i),k(n,e)},p(t,n){256&n&&O(e,t[8])},d(t){t&&A(n)}}}function Lc(t){let n,e,i,r,o;const a=t[16].title,s=h(a,t,t[15],Ic),l=s||function(t){let n,e=t[8]&&qc(t);return{c(){e&&e.c(),n=T()},m(t,i){e&&e.m(t,i),E(t,n,i)},p(t,i){t[8]?e?e.p(t,i):(e=qc(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&A(n)}}}(t),c=t[16].defs,u=h(c,t,t[15],jc),f=t[16].default,d=h(f,t,t[15],Pc);return{c(){n=R("svg"),l&&l.c(),e=R("defs"),u&&u.c(),i=R("g"),d&&d.c(),D(i,"class","layercake-layout-svg_g"),D(i,"transform",r="translate("+t[11].left+", "+t[11].top+")"),D(n,"class","layercake-layout-svg svelte-u84d8d"),D(n,"viewBox",t[4]),D(n,"width",t[9]),D(n,"height",t[10]),D(n,"aria-label",t[5]),D(n,"aria-labelledby",t[6]),D(n,"aria-describedby",t[7]),I(n,"z-index",t[2]),I(n,"pointer-events",!1===t[3]?"none":null)},m(r,a){E(r,n,a),l&&l.m(n,null),k(n,e),u&&u.m(e,null),k(n,i),d&&d.m(i,null),t[17](i),t[18](n),o=!0},p(t,[e]){s?s.p&&(!o||32769&e)&&g(s,a,t,t[15],o?p(a,t[15],e,Oc):m(t[15]),Ic):l&&l.p&&(!o||256&e)&&l.p(t,o?e:-1),u&&u.p&&(!o||32769&e)&&g(u,c,t,t[15],o?p(c,t[15],e,Dc):m(t[15]),jc),d&&d.p&&(!o||32769&e)&&g(d,f,t,t[15],o?p(f,t[15],e,Tc):m(t[15]),Pc),(!o||2048&e&&r!==(r="translate("+t[11].left+", "+t[11].top+")"))&&D(i,"transform",r),(!o||16&e)&&D(n,"viewBox",t[4]),(!o||512&e)&&D(n,"width",t[9]),(!o||1024&e)&&D(n,"height",t[10]),(!o||32&e)&&D(n,"aria-label",t[5]),(!o||64&e)&&D(n,"aria-labelledby",t[6]),(!o||128&e)&&D(n,"aria-describedby",t[7]),4&e&&I(n,"z-index",t[2]),8&e&&I(n,"pointer-events",!1===t[3]?"none":null)},i(t){o||(ht(l,t),ht(u,t),ht(d,t),o=!0)},o(t){dt(l,t),dt(u,t),dt(d,t),o=!1},d(e){e&&A(n),l&&l.d(e),u&&u.d(e),d&&d.d(e),t[17](null),t[18](null)}}}function Bc(t,n,e){let i,r,o,{$$slots:a={},$$scope:s}=n,{element:l}=n,{innerElement:c}=n,{zIndex:u}=n,{pointerEvents:h}=n,{viewBox:d}=n,{label:p}=n,{labelledBy:g}=n,{describedBy:m}=n,{title:y}=n;const{containerWidth:$,containerHeight:v,padding:w}=V("LayerCake");return f(t,$,(t=>e(9,i=t))),f(t,v,(t=>e(10,r=t))),f(t,w,(t=>e(11,o=t))),t.$$set=t=>{"element"in t&&e(0,l=t.element),"innerElement"in t&&e(1,c=t.innerElement),"zIndex"in t&&e(2,u=t.zIndex),"pointerEvents"in t&&e(3,h=t.pointerEvents),"viewBox"in t&&e(4,d=t.viewBox),"label"in t&&e(5,p=t.label),"labelledBy"in t&&e(6,g=t.labelledBy),"describedBy"in t&&e(7,m=t.describedBy),"title"in t&&e(8,y=t.title),"$$scope"in t&&e(15,s=t.$$scope)},[l,c,u,h,d,p,g,m,y,i,r,o,$,v,w,s,a,function(t){Q[t?"unshift":"push"]((()=>{c=t,e(1,c)}))},function(t){Q[t?"unshift":"push"]((()=>{l=t,e(0,l)}))}]}class Wc extends wt{constructor(t){super(),vt(this,t,Bc,Lc,s,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function Hc(t){let n,e,i,r=t[0]&&Gc(t);return{c(){n=N("div"),r&&r.c(),D(n,"class","wrapper svelte-zaiuf5"),et((()=>t[21].call(n)))},m(o,a){E(o,n,a),r&&r.m(n,null),e=W(n,t[21].bind(n)),i=!0},p(t,e){t[0]?r?(r.p(t,e),1&e&&ht(r,1)):(r=Gc(t),r.c(),ht(r,1),r.m(n,null)):r&&(ut(),dt(r,1,1,(()=>{r=null})),ft())},i(t){i||(ht(r),i=!0)},o(t){dt(r),i=!1},d(t){t&&A(n),r&&r.d(),e()}}}function Gc(t){let n,e;return n=new Cc({props:{$$slots:{default:[Fc]},$$scope:{ctx:t}}}),{c(){gt(n.$$.fragment)},m(t,i){mt(n,t,i),e=!0},p(t,e){const i={};134217840&e&&(i.$$scope={dirty:e,ctx:t}),n.$set(i)},i(t){e||(ht(n.$$.fragment,t),e=!0)},o(t){dt(n.$$.fragment,t),e=!1},d(t){yt(n,t)}}}function Xc(t){let n,e;return n=new pl({props:{countries:t[5],transform:t[6],cumulative_isos:t[4]}}),{c(){gt(n.$$.fragment)},m(t,i){mt(n,t,i),e=!0},p(t,e){const i={};32&e&&(i.countries=t[5]),64&e&&(i.transform=t[6]),16&e&&(i.cumulative_isos=t[4]),n.$set(i)},i(t){e||(ht(n.$$.fragment,t),e=!0)},o(t){dt(n.$$.fragment,t),e=!1},d(t){yt(n,t)}}}function Fc(t){let n,e;return n=new Wc({props:{$$slots:{default:[Xc]},$$scope:{ctx:t}}}),{c(){gt(n.$$.fragment)},m(t,i){mt(n,t,i),e=!0},p(t,e){const i={};134217840&e&&(i.$$scope={dirty:e,ctx:t}),n.$set(i)},i(t){e||(ht(n.$$.fragment,t),e=!0)},o(t){dt(n.$$.fragment,t),e=!1},d(t){yt(n,t)}}}function Yc(t){let n,e,i=t[0]&&t[1]&&Hc(t);return{c(){i&&i.c(),n=T()},m(t,r){i&&i.m(t,r),E(t,n,r),e=!0},p(t,[e]){t[0]&&t[1]?i?(i.p(t,e),3&e&&ht(i,1)):(i=Hc(t),i.c(),ht(i,1),i.m(n.parentNode,n)):i&&(ut(),dt(i,1,1,(()=>{i=null})),ft())},i(t){e||(ht(i),e=!0)},o(t){dt(i),e=!1},d(t){i&&i.d(t),t&&A(n)}}}function Uc(t,n,e){let i,r;const o=Y();let a,s,l,c,u,f,{pax:h}=n,{mygeojson:d}=n,{pax_timeline:p}=n,{pax_gender:g}=n,{step:m}=n,{central_points:y}=n,$=Ns,v=400,w=400;const x=20,_=20,b=20,M=40;let k,E,A,S,N,R=[];function z(t){const n=oi($,t);er().duration(750).tween("zoom",(()=>t=>{e(6,$=n(t))}))}return t.$$set=t=>{"pax"in t&&e(7,h=t.pax),"mygeojson"in t&&e(0,d=t.mygeojson),"pax_timeline"in t&&e(1,p=t.pax_timeline),"pax_gender"in t&&e(8,g=t.pax_gender),"step"in t&&e(9,m=t.step),"central_points"in t&&e(10,y=t.central_points)},t.$$.update=()=>{13&t.$$.dirty&&e(20,i=Za().fitSize([v,w],d)),1048576&t.$$.dirty&&e(19,r=function(t,n){let e,i,r=3,o=4.5;function a(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),lo(t,e(i))),i.result()}return a.area=function(t){return lo(t,e(Go)),Go.result()},a.measure=function(t){return lo(t,e(Ra)),Ra.result()},a.bounds=function(t){return lo(t,e(Ko)),Ko.result()},a.centroid=function(t){return lo(t,e(da)),da.result()},a.projection=function(n){return arguments.length?(e=null==n?(t=null,Bo):(t=n).stream,a):t},a.context=function(t){return arguments.length?(i=null==t?(n=null,new Oa(r)):new ba(n=t),"function"!=typeof o&&i.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return r;if(null==t)r=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);r=n}return null===n&&(i=new Oa(r)),a},a.projection(t).digits(r).context(n)}(i)),524289&t.$$.dirty&&d&&e(5,R=d.features.map((t=>({...t,path:r(t),bounds:r.bounds(t),centroid:r.centroid(t)})))),16416&t.$$.dirty&&R.length>0&&(e(14,k=R.find((t=>"Afghanistan"==t.properties.admin))),e(15,[[E,A],[S,N]]=k.bounds,E,(e(16,A),e(5,R),e(14,k),e(0,d),e(19,r),e(20,i),e(2,v),e(3,w)),(e(17,S),e(5,R),e(14,k),e(0,d),e(19,r),e(20,i),e(2,v),e(3,w)),(e(18,N),e(5,R),e(14,k),e(0,d),e(19,r),e(20,i),e(2,v),e(3,w)))),4&t.$$.dirty&&e(12,l=v-M-_),8&t.$$.dirty&&e(13,c=w-x-b),4096&t.$$.dirty&&(u=ts().domain(ol).range([0,l]).padding(.1)),8192&t.$$.dirty&&(f=fs().domain([0,100]).range([c,0])),128&t.$$.dirty&&h&&(e(4,s=al(h)),o("mapLoaded")),494492&t.$$.dirty&&("map_one"==m?(e(4,s=al(h)),console.log(s)):"map_two"==m?(e(4,s=al(g)),e(4,s=s.filter((t=>t.count>1))),z(Ns)):"map_three"==m&&(e(4,s=[{iso:"AFG",count:30}]),e(11,a=Ns.translate(v/2,w/2).scale(Math.min(2,.9/Math.max((S-E)/v,(N-A)/w))).translate(-(E+S)/2,-(A+N)/2)),z(a)))},[d,p,v,w,s,R,$,h,g,m,y,a,l,c,k,E,A,S,N,r,i,function(){v=this.clientWidth,w=this.clientHeight,e(2,v),e(3,w)}]}class Vc extends wt{constructor(t){super(),vt(this,t,Uc,Yc,s,{pax:7,mygeojson:0,pax_timeline:1,pax_gender:8,step:9,central_points:10})}}function Zc(t,n,e){const i=t.slice();return i[16]=n[e],i}function Qc(t,n,e){const i=t.slice();return i[16]=n[e],i[20]=e,i}function Jc(t){let n,e,i,r,o,a,s,l=t[4],c=[];for(let n=0;n<l.length;n+=1)c[n]=Kc(Qc(t,l,n));const u=t=>dt(c[t],1,1,(()=>{c[t]=null}));let f=t[3],h=[];for(let n=0;n<f.length;n+=1)h[n]=tu(Zc(t,f,n));return{c(){n=N("div"),e=R("svg"),i=R("g");for(let t=0;t<c.length;t+=1)c[t].c();r=T();for(let t=0;t<h.length;t+=1)h[t].c();D(i,"class","timeline"),D(i,"transform",o="translate("+t[5].left+", "+t[5].top+")"),D(e,"width",t[1]),D(e,"height",t[2]),D(n,"class","wrapper svelte-1k0ffvp"),et((()=>t[14].call(n)))},m(o,l){E(o,n,l),k(n,e),k(e,i);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(i,null);k(i,r);for(let t=0;t<h.length;t+=1)h[t]&&h[t].m(i,null);a=W(n,t[14].bind(n)),s=!0},p(t,n){if(16&n){let e;for(l=t[4],e=0;e<l.length;e+=1){const o=Qc(t,l,e);c[e]?(c[e].p(o,n),ht(c[e],1)):(c[e]=Kc(o),c[e].c(),ht(c[e],1),c[e].m(i,r))}for(ut(),e=l.length;e<c.length;e+=1)u(e);ft()}if(8&n){let e;for(f=t[3],e=0;e<f.length;e+=1){const r=Zc(t,f,e);h[e]?h[e].p(r,n):(h[e]=tu(r),h[e].c(),h[e].m(i,null))}for(;e<h.length;e+=1)h[e].d(1);h.length=f.length}(!s||2&n)&&D(e,"width",t[1]),(!s||4&n)&&D(e,"height",t[2])},i(t){if(!s){for(let t=0;t<l.length;t+=1)ht(c[t]);s=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)dt(c[t]);s=!1},d(t){t&&A(n),S(c,t),S(h,t),a()}}}function Kc(t){let n,e;return n=new xl({props:{i:t[20],id:t[16].id,x:t[16].x,y:t[16].y,width:t[16].width,height:t[16].height,info:t[16].info}}),{c(){gt(n.$$.fragment)},m(t,i){mt(n,t,i),e=!0},p(t,e){const i={};16&e&&(i.id=t[16].id),16&e&&(i.x=t[16].x),16&e&&(i.y=t[16].y),16&e&&(i.width=t[16].width),16&e&&(i.height=t[16].height),16&e&&(i.info=t[16].info),n.$set(i)},i(t){e||(ht(n.$$.fragment,t),e=!0)},o(t){dt(n.$$.fragment,t),e=!1},d(t){yt(n,t)}}}function tu(t){let n,e,i,r,o;return{c(){n=R("rect"),D(n,"class","gender_text"),D(n,"x",e=t[16].x+2),D(n,"y",i=+t[16].y-2),D(n,"width",r=t[16].width-4),D(n,"height",o=t[16].height),D(n,"fill","black")},m(t,e){E(t,n,e)},p(t,a){8&a&&e!==(e=t[16].x+2)&&D(n,"x",e),8&a&&i!==(i=+t[16].y-2)&&D(n,"y",i),8&a&&r!==(r=t[16].width-4)&&D(n,"width",r),8&a&&o!==(o=t[16].height)&&D(n,"height",o)},d(t){t&&A(n)}}}function nu(t){let n,e,i=t[4]&&t[0]&&Jc(t);return{c(){i&&i.c(),n=T()},m(t,r){i&&i.m(t,r),E(t,n,r),e=!0},p(t,[e]){t[4]&&t[0]?i?(i.p(t,e),17&e&&ht(i,1)):(i=Jc(t),i.c(),ht(i,1),i.m(n.parentNode,n)):i&&(ut(),dt(i,1,1,(()=>{i=null})),ft())},i(t){e||(ht(i),e=!0)},o(t){dt(i),e=!1},d(t){i&&i.d(t),t&&A(n)}}}function eu(t,n,e){let i,r,o,a,s,l,{pax:c}=n,{pax_timeline:u}=n,{step:f}=n,{afghanistan:h}=n,d=400,p=400,g=[],m={top:20,right:20,bottom:20,left:40};return t.$$set=t=>{"pax"in t&&e(6,c=t.pax),"pax_timeline"in t&&e(0,u=t.pax_timeline),"step"in t&&e(7,f=t.step),"afghanistan"in t&&e(8,h=t.afghanistan)},t.$$.update=()=>{if(2&t.$$.dirty&&e(9,o=d-m.left-m.right),4&t.$$.dirty&&e(10,a=p-m.top-m.bottom),512&t.$$.dirty&&e(11,s=ts().domain(ol).range([0,o]).padding(.1)),1024&t.$$.dirty&&e(12,l=fs().domain([0,100]).range([a,0])),1024&t.$$.dirty&&e(13,i=fs().domain([0,4e4]).range([0,a])),7232&t.$$.dirty&&c){let n=null,u=0;e(4,r=c.map((t=>{const e=t.Dat.substring(6,10);e!==n&&(u=0,n=e);const i="Afghanistan"===t.Con?l(++u):a+100;return{x:s(e),y:i,width:s.bandwidth(),height:3}})))}if(16328&t.$$.dirty)if("afgh01"==f){let y=null,$=0;e(4,r=c.map((t=>{const n=t.Dat.substring(6,10);n!==y&&($=0,y=n);const e="Afghanistan"===t.Con?l(++$):a+100;return{x:s(n),y:e,width:s.bandwidth(),height:3}})))}else if("afgh02"==f){let v=0;e(4,r=c.map((t=>{const n=o/22,e=n-4,i=v*n,r="Afghanistan"===t.Con?10:a+100;return"Afghanistan"===t.Con&&(v++,v>=22&&(v=0)),{x:i,y:r,width:e,height:3,info:t.info}})))}else if("afgh03"==f){function w(t,n,i,r,o){let a=h.filter((n=>n.AgtID===t));0!==a.length&&(a.forEach((t=>{g.push({x:n,y:o+r/100*t.provisionLocation,width:i,height:3})})),e(3,g=[...g]))}e(3,g=[]);let x=0;e(4,r=c.map((t=>{const n=o/22,e=n-4;let r,s,l=x*n;return"Afghanistan"===t.Con?(x++,x>=22&&(x=0),s=10,r=i(t.N_characters),w(t.AgtId,l,e,r,s)):(s=a+100,r=0),{x:l,y:s,width:e,height:r,info:t.Agt}})))}128&t.$$.dirty&&console.log(f)},[u,d,p,g,r,m,c,f,h,o,a,s,l,i,function(){d=this.clientWidth,p=this.clientHeight,e(1,d),e(2,p)}]}class iu extends wt{constructor(t){super(),vt(this,t,eu,nu,s,{pax:6,pax_timeline:0,step:7,afghanistan:8})}}function ru(n){let e,i,r,o;return{c(){e=N("img"),r=C(),o=N("p"),o.innerHTML="This scrollytelling visualization uses PA-X database to show how and to\n\t\twhat extent <br/> women, girls and gender are taken into consideration in\n\t\tpeace agreements around the world.",D(e,"class","peace_logo"),c(e.src,i="./img/gen_logo.svg")||D(e,"src","./img/gen_logo.svg"),D(e,"alt","peacerep logo"),I(e,"width","50%")},m(t,n){E(t,e,n),E(t,r,n),E(t,o,n)},p:t,d(t){t&&A(e),t&&A(r),t&&A(o)}}}function ou(n){let e,i,r,o;return{c(){e=N("img"),r=C(),o=N("p"),o.innerHTML="A <strong>peace agreement</strong> is a document produced after discussion\n\t\twith conflict protagonists and mutually agreed to by some or all of them,\n\t\taddressing conflict with a view to ending it. Below is a ceasefire agreement\n\t\tfrom 1990 Nicaragua.",c(e.src,i="./img/toncontin.png")||D(e,"src","./img/toncontin.png"),D(e,"alt","peace agreement example"),I(e,"width","100%")},m(t,n){E(t,e,n),E(t,r,n),E(t,o,n)},p:t,d(t){t&&A(e),t&&A(r),t&&A(o)}}}function au(t){let n,e,i,r,o,a;return o=new Gl({props:{pax:t[3],step:t[1]}}),{c(){n=N("div"),e=N("figure"),i=N("div"),r=N("div"),gt(o.$$.fragment),D(r,"class","rect svelte-gx3i4e"),D(i,"class","col-wide height-full"),D(n,"slot","background")},m(t,s){E(t,n,s),k(n,e),k(e,i),k(i,r),mt(o,r,null),a=!0},p(t,n){const e={};8&n&&(e.pax=t[3]),2&n&&(e.step=t[1]),o.$set(e)},i(t){a||(ht(o.$$.fragment,t),a=!0)},o(t){dt(o.$$.fragment,t),a=!1},d(t){t&&A(n),yt(o)}}}function su(n){let e;return{c(){e=N("div"),e.innerHTML='<section data-id="rect01"><div class="col-medium"><p style="text-align: center;">Every rectangle in this view represents one of 2055\n\t\t\t\t\tagreements in the PA-X Peace Agreement Database, the most\n\t\t\t\t\texpansive collection of peace agreements data in the world.</p></div></section> \n\t\t<section data-id="rect02"><div class="col-medium"><p style="text-align: center;">Out of the 2055 agreements, only 436 contain references to\n\t\t\t\t\tgender.<br/> That&#39;s less than a quarter.</p></div></section>',D(e,"slot","foreground")},m(t,n){E(t,e,n)},p:t,d(t){t&&A(e)}}}function lu(n){let e;return{c(){e=N("p"),e.textContent="Why should peace agreements incorporate a gender perspective?"},m(t,n){E(t,e,n)},p:t,d(t){t&&A(e)}}}function cu(n){let e;return{c(){e=N("video"),e.innerHTML='<source src="./img/laura.mp4" type="video/mp4"/><track src="captions_en" kind="captions" srclang="en" label="english_captions"/>\n\n\t\tYour browser does not support the video tag.',D(e,"poster","./img/lr_bl.png"),e.controls=!0,I(e,"width","80%"),I(e,"height","auto"),I(e,"margin","auto"),I(e,"border-radius","3px")},m(t,n){E(t,e,n)},p:t,d(t){t&&A(e)}}}function uu(n){let e,i,r;return{c(){e=N("p"),e.textContent="In 2000, the United Nations Security Council passed Resolution 1325 on\r\n\t\tWomen, Peace, and Security, calling on all actors involved in\r\n\t\tnegotiating and implementing peace agreements to adopt a gender\r\n\t\tperspective, including:",i=C(),r=N("div"),r.innerHTML='<div class="icon-item svelte-gx3i4e"><img src="./img/fir.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t\t<p style="text-align: left; font-size: 14px">Responding to the special needs of women and girls during\n\t\t\t\trepatriation, resettlement, rehabilitation, reintegration and\n\t\t\t\tpost-conflict reconstruction</p></div> \n\t\t<div class="icon-item svelte-gx3i4e"><img src="./img/sec.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t\t<p style="text-align: left; font-size: 14px">Supporting local womens and indigenous initiatives for conflict\n\t\t\t\tresolution, and involving women in all implementation mechanisms</p></div> \n\t\t<div class="icon-item svelte-gx3i4e"><img src="./img/thi.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t\t<p style="text-align: left; font-size: 14px">Ensuring the protection of human rights of women and girls,\n\t\t\t\tparticularly relating to the constitution, the electoral system,\n\t\t\t\tthe police and the judiciary</p></div>',D(r,"id","icons"),D(r,"class","svelte-gx3i4e")},m(t,n){E(t,e,n),E(t,i,n),E(t,r,n)},p:t,d(t){t&&A(e),t&&A(i),t&&A(r)}}}function fu(t){let n,e,i,r,o,a;return o=new ec({props:{pax:t[3],pax_timeline:t[5],step:t[1]}}),{c(){n=N("div"),e=N("figure"),i=N("div"),r=N("div"),gt(o.$$.fragment),D(r,"class","time svelte-gx3i4e"),D(i,"class","col-wide height-full"),D(n,"slot","background")},m(t,s){E(t,n,s),k(n,e),k(e,i),k(i,r),mt(o,r,null),a=!0},p(t,n){const e={};8&n&&(e.pax=t[3]),32&n&&(e.pax_timeline=t[5]),2&n&&(e.step=t[1]),o.$set(e)},i(t){a||(ht(o.$$.fragment,t),a=!0)},o(t){dt(o.$$.fragment,t),a=!1},d(t){t&&A(n),yt(o)}}}function hu(n){let e;return{c(){e=N("div"),e.innerHTML='<section data-id="time01"><div class="col-medium"><p style="text-align: center;">Each line represents a peace agreements listed on PA-X that\n\t\t\t\t\twas reached between 1990 and 2023.</p></div></section> \n\t\t<section data-id="time02"><div class="col-medium"><p style="text-align: center;">PA-X Gender agreements over time.</p></div></section> \n\t\t<section data-id="time03"><div class="col-medium"><p style="text-align: center;">It&#39;s crucial to emphasize that gender references can differ\n\t\t\t\t\thugely in terms of their substantive quality and\n\t\t\t\t\tspecificity, ranging from detailed commitments to rhetorical\n\t\t\t\t\treferences to &#39;women&#39;.</p></div></section> \n\t\t<section data-id="time04"><div class="col-medium"><p style="text-align: center;">The highlighted agreements include references to the special\n\t\t\t\t\tneeds of women and girls during rehabilitation and\n\t\t\t\t\treconstruction.</p></div></section> \n\t\t<section data-id="time05"><div class="col-medium"><p style="text-align: center;">For example, the Lome Agreement for Sierra Leone in 1999\n\t\t\t\t\tacknowledged women&#39;s victimization during the war, and\n\t\t\t\t\tstated that &#39;special attention shall be accorded to their\n\t\t\t\t\tneeds and potentials in formulating and implementing\n\t\t\t\t\tnational rehabilitation, reconstruction and development\n\t\t\t\t\tprogrammes, to enable them to play a central role in the\n\t\t\t\t\tmoral, social and physical reconstruction of Sierra Leone.&#39;</p></div></section> \n\t\t<section data-id="time06"><div class="col-medium"><p style="text-align: center;">Turning to involving women in all implementation mechanisms,\n\t\t\t\t\tthese peace agreements included references to women playing\n\t\t\t\t\ta role in implementing the agreement.</p></div></section> \n\t\t<section data-id="time07"><div class="col-medium"><p style="text-align: center;">For example, the 2016 Final Agreement between the Colombian\n\t\t\t\t\tGovernment and the FARC set up a special forum comprising\n\t\t\t\t\trepresentatives from 6 national and regional Colombian\n\t\t\t\t\twomen&#39;s organisations, to work with the implementation\n\t\t\t\t\tcommission on monitoring and guaranteeing the rights of\n\t\t\t\t\twomen in the implementation of the peace agreement.</p></div></section> \n\t\t<section data-id="time08"><div class="col-medium"><p style="text-align: center;">Turning to the protection of human rights of women and\n\t\t\t\t\tgirls, these peace agreements include references to\n\t\t\t\t\tinternational human rights laws relating to women and\n\t\t\t\t\tgender, including specific human rights standards.</p></div></section> \n\t\t<section data-id="time09"><div class="col-medium"><p style="text-align: center;">For example, in a 1996 peace agreement from Guatemala, the\n\t\t\t\t\tgovernment agreed to revise national legislation to\n\t\t\t\t\teliminate all forms of discrimination against women, and to\n\t\t\t\t\tgive effect to the government commitments deriving from the\n\t\t\t\t\tratification of the Convention on the Elimination of All\n\t\t\t\t\tForms of Discrimination against Women.</p></div></section>',D(e,"slot","foreground")},m(t,n){E(t,e,n)},p:t,d(t){t&&A(e)}}}function du(n){let e;return{c(){e=N("p"),e.textContent="When does gender get discussed in peace processes?"},m(t,n){E(t,e,n)},p:t,d(t){t&&A(e)}}}function pu(n){let e,i,r,o;return{c(){e=N("img"),r=C(),o=N("p"),o.textContent="If peace negotiations went smoothly from one stage to the next, they\r\n\t\twould be represented by this blue line going steadily up.",c(e.src,i="./img/messy_1.png")||D(e,"src","./img/messy_1.png"),D(e,"alt","peace agreement example"),I(e,"width","100%")},m(t,n){E(t,e,n),E(t,r,n),E(t,o,n)},p:t,d(t){t&&A(e),t&&A(r),t&&A(o)}}}function gu(n){let e,i,r,o;return{c(){e=N("img"),r=C(),o=N("p"),o.textContent="Instead, peace processes frequently involve a series of back-and-forth\r\n\t\tmovements, reflecting the reality that progress is rarely uniform or\r\n\t\tpredictable.",c(e.src,i="./img/messy_2.png")||D(e,"src","./img/messy_2.png"),D(e,"alt","peace agreement example"),I(e,"width","100%")},m(t,n){E(t,e,n),E(t,r,n),E(t,o,n)},p:t,d(t){t&&A(e),t&&A(r),t&&A(o)}}}function mu(t){let n,e,i,r,o,a;return o=new jl({props:{pax_stages:t[7],pax:t[3],step:t[1]}}),{c(){n=N("div"),e=N("figure"),i=N("div"),r=N("div"),gt(o.$$.fragment),D(r,"class","stage svelte-gx3i4e"),D(i,"class","col-wide height-full"),D(n,"slot","background")},m(t,s){E(t,n,s),k(n,e),k(e,i),k(i,r),mt(o,r,null),a=!0},p(t,n){const e={};128&n&&(e.pax_stages=t[7]),8&n&&(e.pax=t[3]),2&n&&(e.step=t[1]),o.$set(e)},i(t){a||(ht(o.$$.fragment,t),a=!0)},o(t){dt(o.$$.fragment,t),a=!1},d(t){t&&A(n),yt(o)}}}function yu(n){let e;return{c(){e=N("div"),e.innerHTML='<section data-id="stage01"><div class="col-medium"><p style="text-align: center;">Dividing all PA-X agreements into different peace process\n\t\t\t\t\tstages shows the predominance of <strong>Pre-Negotiation, Ceasefire, and Partial</strong>\n\t\t\t\t\tagreements.</p></div></section> \n\t\t<section data-id="stage02"><div class="col-medium"><p style="text-align: center;">A common perception is that dealing with &#39;gender&#39; must wait\n\t\t\t\t\tuntil comprehensive stages of negotiations, so that\n\t\t\t\t\tpre-negotiation or ceasefire talks can focus on more\n\t\t\t\t\t&#39;urgent&#39; issues.</p></div></section> \n\t\t<section data-id="stage03"><div class="col-medium"><p style="text-align: center;">For example, the 2014 Brazzaville Agreement on Cessation of\n\t\t\t\t\tHostilities in Central African Republic included sexual\n\t\t\t\t\tviolence as an act that parties would cease under the\n\t\t\t\t\tagreement.</p></div></section>',D(e,"slot","foreground")},m(t,n){E(t,e,n)},p:t,d(t){t&&A(e)}}}function $u(n){let e;return{c(){e=N("p"),e.textContent="Geography",D(e,"class","text-big")},m(t,n){E(t,e,n)},p:t,d(t){t&&A(e)}}}function vu(t){let n,e,i,r,o,a;return o=new Vc({props:{mygeojson:t[2],central_points:t[6],pax:t[3],pax_timeline:t[5],pax_gender:t[4],step:t[1]}}),o.$on("mapLoaded",t[9]),{c(){n=N("div"),e=N("figure"),i=N("div"),r=N("div"),gt(o.$$.fragment),D(r,"class","map svelte-gx3i4e"),D(i,"class","col-wide height-full"),D(n,"slot","background")},m(t,s){E(t,n,s),k(n,e),k(e,i),k(i,r),mt(o,r,null),a=!0},p(t,n){const e={};4&n&&(e.mygeojson=t[2]),64&n&&(e.central_points=t[6]),8&n&&(e.pax=t[3]),32&n&&(e.pax_timeline=t[5]),16&n&&(e.pax_gender=t[4]),2&n&&(e.step=t[1]),o.$set(e)},i(t){a||(ht(o.$$.fragment,t),a=!0)},o(t){dt(o.$$.fragment,t),a=!1},d(t){t&&A(n),yt(o)}}}function wu(n){let e;return{c(){e=N("div"),e.innerHTML='<section data-id="map01"><div class="col-medium"><p style="text-align: center;">Countries where peace agreements have been signed since\n\t\t\t\t\t1990. The brighter the colour, the more signed agreements.</p></div></section> \n\t\t<section data-id="map02"><div class="col-medium"><p style="text-align: center;">Countries with at least 2 signed agreements containing\n\t\t\t\t\treferences to gender.</p></div></section> \n\t\t<section data-id="map03"><div class="col-medium"><p style="text-align: center;">Let&#39;s have a closer look at Afghanistan.</p></div></section>',D(e,"slot","foreground")},m(t,n){E(t,e,n)},p:t,d(t){t&&A(e)}}}function xu(t){let n,e,i,r,o,a;return o=new iu({props:{pax:t[3],pax_timeline:t[5],step:t[1],afghanistan:t[8]}}),{c(){n=N("div"),e=N("figure"),i=N("div"),r=N("div"),gt(o.$$.fragment),D(r,"class","afgh svelte-gx3i4e"),D(i,"class","col-wide height-full"),D(n,"slot","background")},m(t,s){E(t,n,s),k(n,e),k(e,i),k(i,r),mt(o,r,null),a=!0},p(t,n){const e={};8&n&&(e.pax=t[3]),32&n&&(e.pax_timeline=t[5]),2&n&&(e.step=t[1]),256&n&&(e.afghanistan=t[8]),o.$set(e)},i(t){a||(ht(o.$$.fragment,t),a=!0)},o(t){dt(o.$$.fragment,t),a=!1},d(t){t&&A(n),yt(o)}}}function _u(n){let e;return{c(){e=N("div"),e.innerHTML='<section data-id="afgh01"><div class="col-medium"><p style="text-align: center;">Each line represents a peace agreements listed on PA-X that\n\t\t\t\t\twas reached between 1990 and 2023.</p></div></section> \n\t\t<section data-id="afgh02"><div class="col-medium"><p style="text-align: center;">PA-X Gender agreements over time.</p></div></section> \n\t\t<section data-id="afgh03"><div class="col-medium"><p style="text-align: center;">It&#39;s crucial to emphasize that gender references can differ\n\t\t\t\t\thugely in terms of their substantive quality and\n\t\t\t\t\tspecificity, ranging from detailed commitments to rhetorical\n\t\t\t\t\treferences to &#39;women&#39;.</p></div></section>',D(e,"slot","foreground")},m(t,n){E(t,e,n)},p:t,d(t){t&&A(e)}}}function bu(t){let n,e,i,r,a,s,l,c,u,f,h,d,p,g,m,y,$,v,w,x,_,b,M,S,R,z,T,j,O,q,L,B,W,H,G,X,F,Y,U,V,Z,J,K,tt,nt,et,rt,ot,at,st,lt,ct;function ut(n){t[11](n)}s=new Ts({props:{filled:!1,center:!1}}),c=new js({props:{bgfixed:!1,center:!0,short:!1,$$slots:{default:[ru]},$$scope:{ctx:t}}}),f=new Js({}),d=new Vs({props:{short:!0,wide:!0,center:!0,shadow:!0,$$slots:{default:[ou]},$$scope:{ctx:t}}}),g=new Js({});let ft={threshold:ku,splitscreen:!1,shadow:!1,$$slots:{foreground:[su],background:[au]},$$scope:{ctx:t}};function $t(n){t[12](n)}void 0!==t[0].rect&&(ft.id=t[0].rect),y=new Fs({props:ft}),Q.push((()=>pt(y,"id",ut))),w=new Js({}),_=new Vs({props:{short:!1,wide:!0,center:!0,shadow:!1,$$slots:{default:[lu]},$$scope:{ctx:t}}}),M=new Vs({props:{short:!0,wide:!0,center:!0,shadow:!1,$$slots:{default:[cu]},$$scope:{ctx:t}}}),R=new Vs({props:{short:!1,wide:!0,center:!0,shadow:!1,$$slots:{default:[uu]},$$scope:{ctx:t}}}),T=new Js({});let vt={threshold:ku,splitscreen:!1,shadow:!1,$$slots:{foreground:[hu],background:[fu]},$$scope:{ctx:t}};function wt(n){t[13](n)}void 0!==t[0].time&&(vt.id=t[0].time),O=new Fs({props:vt}),Q.push((()=>pt(O,"id",$t))),B=new Vs({props:{short:!1,wide:!0,center:!0,shadow:!1,$$slots:{default:[du]},$$scope:{ctx:t}}}),H=new Vs({props:{short:!1,wide:!0,center:!0,shadow:!0,$$slots:{default:[pu]},$$scope:{ctx:t}}}),X=new Vs({props:{short:!1,wide:!0,center:!0,shadow:!0,$$slots:{default:[gu]},$$scope:{ctx:t}}});let xt={threshold:ku,splitscreen:!1,shadow:!1,$$slots:{foreground:[yu],background:[mu]},$$scope:{ctx:t}};function _t(n){t[14](n)}void 0!==t[0].stage&&(xt.id=t[0].stage),Y=new Fs({props:xt}),Q.push((()=>pt(Y,"id",wt))),Z=new Vs({props:{short:!1,wide:!0,center:!0,shadow:!1,$$slots:{default:[$u]},$$scope:{ctx:t}}});let bt={threshold:ku,splitscreen:!1,shadow:!1,$$slots:{foreground:[wu],background:[vu]},$$scope:{ctx:t}};function Mt(n){t[15](n)}void 0!==t[0].map&&(bt.id=t[0].map),K=new Fs({props:bt}),Q.push((()=>pt(K,"id",_t))),et=new Vs({props:{short:!1,wide:!0,center:!0,shadow:!0}});let kt={threshold:ku,splitscreen:!1,shadow:!1,$$slots:{foreground:[_u],background:[xu]},$$scope:{ctx:t}};return void 0!==t[0].afgh&&(kt.id=t[0].afgh),ot=new Fs({props:kt}),Q.push((()=>pt(ot,"id",Mt))),{c(){n=N("div"),e=N("button"),e.textContent="Visualization",i=C(),r=N("p"),r.textContent="loading...",a=C(),gt(s.$$.fragment),l=C(),gt(c.$$.fragment),u=C(),gt(f.$$.fragment),h=C(),gt(d.$$.fragment),p=C(),gt(g.$$.fragment),m=C(),gt(y.$$.fragment),v=C(),gt(w.$$.fragment),x=C(),gt(_.$$.fragment),b=C(),gt(M.$$.fragment),S=C(),gt(R.$$.fragment),z=C(),gt(T.$$.fragment),j=C(),gt(O.$$.fragment),L=C(),gt(B.$$.fragment),W=C(),gt(H.$$.fragment),G=C(),gt(X.$$.fragment),F=C(),gt(Y.$$.fragment),V=C(),gt(Z.$$.fragment),J=C(),gt(K.$$.fragment),nt=C(),gt(et.$$.fragment),rt=C(),gt(ot.$$.fragment),D(e,"id","loading_button"),D(e,"class","svelte-gx3i4e"),D(r,"id","loading_text"),D(r,"class","svelte-gx3i4e"),D(n,"role","presentation"),D(n,"id","loading_screen"),I(n,"height","calc(var(--vh, 1vh) * 100)"),D(n,"class","svelte-gx3i4e")},m(o,$){E(o,n,$),k(n,e),k(n,i),k(n,r),E(o,a,$),mt(s,o,$),E(o,l,$),mt(c,o,$),E(o,u,$),mt(f,o,$),E(o,h,$),mt(d,o,$),E(o,p,$),mt(g,o,$),E(o,m,$),mt(y,o,$),E(o,v,$),mt(w,o,$),E(o,x,$),mt(_,o,$),E(o,b,$),mt(M,o,$),E(o,S,$),mt(R,o,$),E(o,z,$),mt(T,o,$),E(o,j,$),mt(O,o,$),E(o,L,$),mt(B,o,$),E(o,W,$),mt(H,o,$),E(o,G,$),mt(X,o,$),E(o,F,$),mt(Y,o,$),E(o,V,$),mt(Z,o,$),E(o,J,$),mt(K,o,$),E(o,nt,$),mt(et,o,$),E(o,rt,$),mt(ot,o,$),st=!0,lt||(ct=[P(e,"click",t[10]),P(n,"click",t[10])],lt=!0)},p(t,[n]){const e={};33554432&n&&(e.$$scope={dirty:n,ctx:t}),c.$set(e);const i={};33554432&n&&(i.$$scope={dirty:n,ctx:t}),d.$set(i);const r={};33554442&n&&(r.$$scope={dirty:n,ctx:t}),!$&&1&n&&($=!0,r.id=t[0].rect,it((()=>$=!1))),y.$set(r);const o={};33554432&n&&(o.$$scope={dirty:n,ctx:t}),_.$set(o);const a={};33554432&n&&(a.$$scope={dirty:n,ctx:t}),M.$set(a);const s={};33554432&n&&(s.$$scope={dirty:n,ctx:t}),R.$set(s);const l={};33554474&n&&(l.$$scope={dirty:n,ctx:t}),!q&&1&n&&(q=!0,l.id=t[0].time,it((()=>q=!1))),O.$set(l);const u={};33554432&n&&(u.$$scope={dirty:n,ctx:t}),B.$set(u);const f={};33554432&n&&(f.$$scope={dirty:n,ctx:t}),H.$set(f);const h={};33554432&n&&(h.$$scope={dirty:n,ctx:t}),X.$set(h);const p={};33554570&n&&(p.$$scope={dirty:n,ctx:t}),!U&&1&n&&(U=!0,p.id=t[0].stage,it((()=>U=!1))),Y.$set(p);const g={};33554432&n&&(g.$$scope={dirty:n,ctx:t}),Z.$set(g);const m={};33554558&n&&(m.$$scope={dirty:n,ctx:t}),!tt&&1&n&&(tt=!0,m.id=t[0].map,it((()=>tt=!1))),K.$set(m);const v={};33554730&n&&(v.$$scope={dirty:n,ctx:t}),!at&&1&n&&(at=!0,v.id=t[0].afgh,it((()=>at=!1))),ot.$set(v)},i(t){st||(ht(s.$$.fragment,t),ht(c.$$.fragment,t),ht(f.$$.fragment,t),ht(d.$$.fragment,t),ht(g.$$.fragment,t),ht(y.$$.fragment,t),ht(w.$$.fragment,t),ht(_.$$.fragment,t),ht(M.$$.fragment,t),ht(R.$$.fragment,t),ht(T.$$.fragment,t),ht(O.$$.fragment,t),ht(B.$$.fragment,t),ht(H.$$.fragment,t),ht(X.$$.fragment,t),ht(Y.$$.fragment,t),ht(Z.$$.fragment,t),ht(K.$$.fragment,t),ht(et.$$.fragment,t),ht(ot.$$.fragment,t),st=!0)},o(t){dt(s.$$.fragment,t),dt(c.$$.fragment,t),dt(f.$$.fragment,t),dt(d.$$.fragment,t),dt(g.$$.fragment,t),dt(y.$$.fragment,t),dt(w.$$.fragment,t),dt(_.$$.fragment,t),dt(M.$$.fragment,t),dt(R.$$.fragment,t),dt(T.$$.fragment,t),dt(O.$$.fragment,t),dt(B.$$.fragment,t),dt(H.$$.fragment,t),dt(X.$$.fragment,t),dt(Y.$$.fragment,t),dt(Z.$$.fragment,t),dt(K.$$.fragment,t),dt(et.$$.fragment,t),dt(ot.$$.fragment,t),st=!1},d(t){t&&A(n),t&&A(a),yt(s,t),t&&A(l),yt(c,t),t&&A(u),yt(f,t),t&&A(h),yt(d,t),t&&A(p),yt(g,t),t&&A(m),yt(y,t),t&&A(v),yt(w,t),t&&A(x),yt(_,t),t&&A(b),yt(M,t),t&&A(S),yt(R,t),t&&A(z),yt(T,t),t&&A(j),yt(O,t),t&&A(L),yt(B,t),t&&A(W),yt(H,t),t&&A(G),yt(X,t),t&&A(F),yt(Y,t),t&&A(V),yt(Z,t),t&&A(J),yt(K,t),t&&A(nt),yt(et,t),t&&A(rt),yt(ot,t),lt=!1,o(ct)}}}let Mu="dark";const ku=.65;function Eu(t,n,e){let i=!1;U("theme",Mu),function(t,n){for(let e in t[n])document.documentElement.style.setProperty("--"+e,t[n][e])}(Rs,Mu);let r={},o={};F((()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo({top:0,behavior:"auto"}),o={...r}}));let a=null;const s={rect:{rect01:()=>{e(1,a="rect01")},rect02:()=>{e(1,a="rect02")}},chart:{chart01:()=>{e(1,a="one")},chart02:()=>{e(1,a="two")},chart03:()=>{e(1,a="three")},chart04:()=>{e(1,a="four")},chart05:()=>{e(1,a="five")}},time:{time01:()=>{e(1,a="1")},time02:()=>{e(1,a="2")},time03:()=>{e(1,a="3")},time04:()=>{e(1,a="4")},time05:()=>{e(1,a="5")},time06:()=>{e(1,a="6")},time07:()=>{e(1,a="7")},time08:()=>{e(1,a="8")},time09:()=>{e(1,a="9")}},stage:{stage01:()=>{e(1,a="stage01")},stage02:()=>{e(1,a="stage02")},stage03:()=>{e(1,a="stage03")},stage04:()=>{e(1,a="stage04")}},map:{map01:()=>{e(1,a="map_one")},map02:()=>{e(1,a="map_two")},map03:()=>{e(1,a="map_three")},map04:()=>{e(1,a="map_four")}},afgh:{afgh01:()=>{e(1,a="afgh01")},afgh02:()=>{e(1,a="afgh02")},afgh03:()=>{e(1,a="afgh03")}}};let l;rl("./data/custom.geo.json").then((t=>{e(2,l=t)}));let c,u,f,h,d,p,g,m,y,$;return il(["./data/pax.csv","./data/pax_gender.csv","./data/pax_central_points.csv","./data/pax_gender_text.csv","./data/text_corr.csv","./data/wgg_text.csv","./data/gender_provisions_afghanistan.csv"]).then((t=>{e(3,c=t[0]),e(4,u=t[1]),e(6,g=t[2]),el.set(g),f=t[3],h=t[4],m=t[5],e(8,$=t[6]),u.forEach((t=>{const n=f.find((n=>n.AgtId===t.AgtId)),e=h.find((n=>n.AgtId===t.AgtId)),i=m.find((n=>n.AgtId===t.AgtId)),r=(e.Text_length,n.GeWom.length,i.WggGenQuot.length),o=i.WggIntLaw.length,a=i.WggUnsc.length;n&&(t.text=n.GeWom,t.quotas=r,t.law=o,t.un=a,t.corr_char_no=+e.Text_length)})),c.forEach((t=>{const n=u.find((n=>n.AgtId===t.AgtId));n?(t.WggRehab=n.WggRehab,t.WggImplRole=n.WggImplRole,t.WggHR=n.WggHR):(t.WggRehab="0",t.WggImplRole="0",t.WggHR="0")})),c.sort((function(t,n){return xt(t.Dat.substring(6,10),n.Dat.substring(6,10))})),e(7,y=zt(c,(t=>t.Stage)));let n=["Pre","Cea","SubPar","SubComp","Imp","Ren","Oth"];y.sort(((t,e)=>n.indexOf(t[0])-n.indexOf(e[0]))),d=zt(u,(t=>t.Dat.substring(0,4))),e(5,p=zt(c,(t=>t.Dat.substring(6,10))))})),t.$$.update=()=>{1&t.$$.dirty&&r&&function(t=[]){t.forEach((t=>{r[t]!=o[t]&&(s[t][r[t]]&&s[t][r[t]](),o[t]=r[t])}))}(Object.keys(s))},[r,a,l,c,u,p,g,y,$,function(){i=!0,document.getElementById("loading_text").style.visibility="hidden",document.getElementById("loading_button").style.visibility="visible"},function(t){i&&(document.getElementById("loading_screen").style.visibility="hidden",document.getElementById("loading_button").style.visibility="hidden",document.documentElement.style.overflow="visible",document.body.style.overflow="visible")},function(n){t.$$.not_equal(r.rect,n)&&(r.rect=n,e(0,r))},function(n){t.$$.not_equal(r.time,n)&&(r.time=n,e(0,r))},function(n){t.$$.not_equal(r.stage,n)&&(r.stage=n,e(0,r))},function(n){t.$$.not_equal(r.map,n)&&(r.map=n,e(0,r))},function(n){t.$$.not_equal(r.afgh,n)&&(r.afgh=n,e(0,r))}]}return new class extends wt{constructor(t){super(),vt(this,t,Eu,bu,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map

var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function i(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(i)}function l(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s;function c(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function u(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function f(t,e,n){t.$$.on_destroy.push(u(e,n))}function d(t,e,n,i){if(t){const r=h(t,e,n,i);return t[0](r)}}function h(t,e,i,r){return t[1]&&r?n(i.ctx.slice(),t[1](r(e))):i.ctx}function p(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|r[i];return t}return e.dirty|r}return e.dirty}function g(t,e,n,i,r,o){if(r){const l=h(e,n,i,o);t.p(l,r)}}function m(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function y(t,e,n){return t.set(n),e}function v(e){return e&&l(e.destroy)?e.destroy:t}const x="undefined"!=typeof window;let w=x?()=>window.performance.now():()=>Date.now(),$=x?t=>requestAnimationFrame(t):t;const b=new Set;function _(t){b.forEach((e=>{e.c(t)||(b.delete(e),e.f())})),0!==b.size&&$(_)}const k="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function S(t,e){t.appendChild(e)}function M(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode&&t.parentNode.removeChild(t)}function A(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function R(t){return document.createElement(t)}function N(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function T(t){return document.createTextNode(t)}function C(){return T(" ")}function O(){return T("")}function P(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function z(t){return function(e){return e.preventDefault(),t.call(this,e)}}function L(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function I(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const W=["width","height"];function D(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)null==e[i]?t.removeAttribute(i):"style"===i?t.style.cssText=e[i]:"__value"===i?t.value=t[i]=e[i]:n[i]&&n[i].set&&-1===W.indexOf(i)?t[i]=e[i]:I(t,i,e[i])}function q(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:I(t,e,n)}function j(t,e){e=""+e,t.data!==e&&(t.data=e)}function H(t,e){t.value=null==e?"":e}function B(t,e,n,i){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}let F,G;function X(){if(void 0===F){F=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){F=!0}}return F}function V(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=R("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=X();let r;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=P(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{r=P(n.contentWindow,"resize",e),e()}),S(t,n),()=>{(i||r&&n.contentWindow)&&r(),E(n)}}function Y(t,e,n){t.classList[n?"add":"remove"](e)}function U(t){G=t}function J(){if(!G)throw new Error("Function called outside component initialization");return G}function Z(t){J().$$.on_mount.push(t)}function Q(t){J().$$.on_destroy.push(t)}function K(){const t=J();return(e,n,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[e];if(r){const o=function(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,i,e),r}(e,n,{cancelable:i});return r.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}function tt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const et=[],nt=[];let it=[];const rt=[],ot=Promise.resolve();let lt=!1;function at(){lt||(lt=!0,ot.then(ht))}function st(){return at(),ot}function ct(t){it.push(t)}function ut(t){rt.push(t)}const ft=new Set;let dt=0;function ht(){if(0!==dt)return;const t=G;do{try{for(;dt<et.length;){const t=et[dt];dt++,U(t),pt(t.$$)}}catch(t){throw et.length=0,dt=0,t}for(U(null),et.length=0,dt=0;nt.length;)nt.pop()();for(let t=0;t<it.length;t+=1){const e=it[t];ft.has(e)||(ft.add(e),e())}it.length=0}while(et.length);for(;rt.length;)rt.pop()();lt=!1,ft.clear(),U(t)}function pt(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ct)}}const gt=new Set;let mt;function yt(){mt={r:0,c:[],p:mt}}function vt(){mt.r||o(mt.c),mt=mt.p}function xt(t,e){t&&t.i&&(gt.delete(t),t.i(e))}function wt(t,e,n,i){if(t&&t.o){if(gt.has(t))return;gt.add(t),mt.c.push((()=>{gt.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}else i&&i()}function $t(t,e,n){const i=t.$$.props[e];void 0!==i&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function bt(t){t&&t.c()}function _t(t,e,n,r){const{fragment:a,after_update:s}=t.$$;a&&a.m(e,n),r||ct((()=>{const e=t.$$.on_mount.map(i).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),s.forEach(ct)}function kt(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];it.forEach((i=>-1===t.indexOf(i)?e.push(i):n.push(i))),n.forEach((t=>t())),it=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function St(e,n,i,l,a,s,c,u=[-1]){const f=G;U(e);const d=e.$$={fragment:null,ctx:[],props:s,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};c&&c(d.root);let h=!1;if(d.ctx=i?i(e,n.props||{},((t,n,...i)=>{const r=i.length?i[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),h&&function(t,e){-1===t.$$.dirty[0]&&(et.push(t),at(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],d.update(),h=!0,o(d.before_update),d.fragment=!!l&&l(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(E)}else d.fragment&&d.fragment.c();n.intro&&xt(e.$$.fragment),_t(e,n.target,n.anchor,n.customElement),ht()}U(f)}class Mt{$destroy(){kt(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const t=i.indexOf(n);-1!==t&&i.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Et(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function At(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Rt(t){let e,n,i;function r(t,i,r=0,o=t.length){if(r<o){if(0!==e(i,i))return o;do{const e=r+o>>>1;n(t[e],i)<0?r=e+1:o=e}while(r<o)}return r}return 2!==t.length?(e=Et,n=(e,n)=>Et(t(e),n),i=(e,n)=>t(e)-n):(e=t===Et||t===At?t:Nt,n=t,i=t),{left:r,center:function(t,e,n=0,o=t.length){const l=r(t,e,n,o-1);return l>n&&i(t[l-1],e)>-i(t[l],e)?l-1:l},right:function(t,i,r=0,o=t.length){if(r<o){if(0!==e(i,i))return o;do{const e=r+o>>>1;n(t[e],i)<=0?r=e+1:o=e}while(r<o)}return r}}}function Nt(){return 0}const Tt=Rt(Et).right;Rt((function(t){return null===t?NaN:+t})).center;class Ct{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const r=e[i],o=t+r,l=Math.abs(t)<Math.abs(r)?t-(o-r):r-(o-t);l&&(e[n++]=l),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,i,r=this._n,o=0;if(r>0){for(o=t[--r];r>0&&(e=o,n=t[--r],o=e+n,i=n-(o-e),!i););r>0&&(i<0&&t[r-1]<0||i>0&&t[r-1]>0)&&(n=2*i,e=o+n,n==e-o&&(o=e))}return o}}class Ot extends Map{constructor(t,e=zt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(Pt(this,t))}has(t){return super.has(Pt(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const i=e(n);t.has(i)&&(n=t.get(i),t.delete(i));return n}(this,t))}}function Pt({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function zt(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Lt(t){return t}function It(t,...e){return function(t,e,n,i){return function t(r,o){if(o>=i.length)return n(r);const l=new Ot,a=i[o++];let s=-1;for(const t of r){const e=a(t,++s,r),n=l.get(e);n?n.push(t):l.set(e,[t])}for(const[e,n]of l)l.set(e,t(n,o));return e(l)}(t,0)}(t,Array.from,Lt,e)}const Wt=Math.sqrt(50),Dt=Math.sqrt(10),qt=Math.sqrt(2);function jt(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),l=o>=Wt?10:o>=Dt?5:o>=qt?2:1;let a,s,c;return r<0?(c=Math.pow(10,-r)/l,a=Math.round(t*c),s=Math.round(e*c),a/c<t&&++a,s/c>e&&--s,c=-c):(c=Math.pow(10,r)*l,a=Math.round(t/c),s=Math.round(e/c),a*c<t&&++a,s*c>e&&--s),s<a&&.5<=n&&n<2?jt(t,e,2*n):[a,s,c]}function Ht(t,e,n){return jt(t=+t,e=+e,n=+n)[2]}function Bt(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}var Ft={value:()=>{}};function Gt(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new Xt(i)}function Xt(t){this._=t}function Vt(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function Yt(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Ft,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}Xt.prototype=Gt.prototype={constructor:Xt,on:function(t,e){var n,i,r=this._,o=(i=r,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),l=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++l<a;)if(n=(t=o[l]).type)r[n]=Yt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Yt(r[n],t.name,null);return this}for(;++l<a;)if((n=(t=o[l]).type)&&(n=Vt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Xt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var Ut="http://www.w3.org/1999/xhtml",Jt={svg:"http://www.w3.org/2000/svg",xhtml:Ut,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zt(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Jt.hasOwnProperty(e)?{space:Jt[e],local:t}:t}function Qt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ut&&e.documentElement.namespaceURI===Ut?e.createElement(t):e.createElementNS(n,t)}}function Kt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function te(t){var e=Zt(t);return(e.local?Kt:Qt)(e)}function ee(){}function ne(t){return null==t?ee:function(){return this.querySelector(t)}}function ie(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function re(){return[]}function oe(t){return null==t?re:function(){return this.querySelectorAll(t)}}function le(t){return function(){return this.matches(t)}}function ae(t){return function(e){return e.matches(t)}}var se=Array.prototype.find;function ce(){return this.firstElementChild}var ue=Array.prototype.filter;function fe(){return Array.from(this.children)}function de(t){return new Array(t.length)}function he(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function pe(t,e,n,i,r,o){for(var l,a=0,s=e.length,c=o.length;a<c;++a)(l=e[a])?(l.__data__=o[a],i[a]=l):n[a]=new he(t,o[a]);for(;a<s;++a)(l=e[a])&&(r[a]=l)}function ge(t,e,n,i,r,o,l){var a,s,c,u=new Map,f=e.length,d=o.length,h=new Array(f);for(a=0;a<f;++a)(s=e[a])&&(h[a]=c=l.call(s,s.__data__,a,e)+"",u.has(c)?r[a]=s:u.set(c,s));for(a=0;a<d;++a)c=l.call(t,o[a],a,o)+"",(s=u.get(c))?(i[a]=s,s.__data__=o[a],u.delete(c)):n[a]=new he(t,o[a]);for(a=0;a<f;++a)(s=e[a])&&u.get(h[a])===s&&(r[a]=s)}function me(t){return t.__data__}function ye(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function ve(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function xe(t){return function(){this.removeAttribute(t)}}function we(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $e(t,e){return function(){this.setAttribute(t,e)}}function be(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function _e(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ke(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Se(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Me(t){return function(){this.style.removeProperty(t)}}function Ee(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ae(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Re(t,e){return t.style.getPropertyValue(e)||Se(t).getComputedStyle(t,null).getPropertyValue(e)}function Ne(t){return function(){delete this[t]}}function Te(t,e){return function(){this[t]=e}}function Ce(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Oe(t){return t.trim().split(/^|\s+/)}function Pe(t){return t.classList||new ze(t)}function ze(t){this._node=t,this._names=Oe(t.getAttribute("class")||"")}function Le(t,e){for(var n=Pe(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Ie(t,e){for(var n=Pe(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function We(t){return function(){Le(this,t)}}function De(t){return function(){Ie(this,t)}}function qe(t,e){return function(){(e.apply(this,arguments)?Le:Ie)(this,t)}}function je(){this.textContent=""}function He(t){return function(){this.textContent=t}}function Be(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Fe(){this.innerHTML=""}function Ge(t){return function(){this.innerHTML=t}}function Xe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Ve(){this.nextSibling&&this.parentNode.appendChild(this)}function Ye(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ue(){return null}function Je(){var t=this.parentNode;t&&t.removeChild(this)}function Ze(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Qe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ke(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function tn(t,e,n){return function(){var i,r=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var l=0,a=r.length;l<a;++l)if((i=r[l]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=e);this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function en(t,e,n){var i=Se(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function nn(t,e){return function(){return en(this,t,e)}}function rn(t,e){return function(){return en(this,t,e.apply(this,arguments))}}he.prototype={constructor:he,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},ze.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var on=[null];function ln(t,e){this._groups=t,this._parents=e}function an(){return new ln([[document.documentElement]],on)}function sn(t){return"string"==typeof t?new ln([[document.querySelector(t)]],[document.documentElement]):new ln([[t]],on)}function cn(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}function un(t){return"string"==typeof t?new ln([document.querySelectorAll(t)],[document.documentElement]):new ln([ie(t)],on)}function fn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function dn(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function hn(){}ln.prototype=an.prototype={constructor:ln,select:function(t){"function"!=typeof t&&(t=ne(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,l,a=e[r],s=a.length,c=i[r]=new Array(s),u=0;u<s;++u)(o=a[u])&&(l=t.call(o,o.__data__,u,a))&&("__data__"in o&&(l.__data__=o.__data__),c[u]=l);return new ln(i,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return ie(t.apply(this,arguments))}}(t):oe(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var l,a=e[o],s=a.length,c=0;c<s;++c)(l=a[c])&&(i.push(t.call(l,l.__data__,c,a)),r.push(l));return new ln(i,r)},selectChild:function(t){return this.select(null==t?ce:function(t){return function(){return se.call(this.children,t)}}("function"==typeof t?t:ae(t)))},selectChildren:function(t){return this.selectAll(null==t?fe:function(t){return function(){return ue.call(this.children,t)}}("function"==typeof t?t:ae(t)))},filter:function(t){"function"!=typeof t&&(t=le(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,l=e[r],a=l.length,s=i[r]=[],c=0;c<a;++c)(o=l[c])&&t.call(o,o.__data__,c,l)&&s.push(o);return new ln(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,me);var n=e?ge:pe,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=r.length,l=new Array(o),a=new Array(o),s=new Array(o),c=0;c<o;++c){var u=i[c],f=r[c],d=f.length,h=ye(t.call(u,u&&u.__data__,c,i)),p=h.length,g=a[c]=new Array(p),m=l[c]=new Array(p);n(u,f,g,m,s[c]=new Array(d),h,e);for(var y,v,x=0,w=0;x<p;++x)if(y=g[x]){for(x>=w&&(w=x+1);!(v=m[w])&&++w<p;);y._next=v||null}}return(l=new ln(l,i))._enter=a,l._exit=s,l},enter:function(){return new ln(this._enter||this._groups.map(de),this._parents)},exit:function(){return new ln(this._exit||this._groups.map(de),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=i.length,l=Math.min(r,o),a=new Array(r),s=0;s<l;++s)for(var c,u=n[s],f=i[s],d=u.length,h=a[s]=new Array(d),p=0;p<d;++p)(c=u[p]||f[p])&&(h[p]=c);for(;s<r;++s)a[s]=n[s];return new ln(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,l=r[o];--o>=0;)(i=r[o])&&(l&&4^i.compareDocumentPosition(l)&&l.parentNode.insertBefore(i,l),l=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=ve);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var l,a=n[o],s=a.length,c=r[o]=new Array(s),u=0;u<s;++u)(l=a[u])&&(c[u]=l);c.sort(e)}return new ln(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var l=i[r];if(l)return l}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],l=0,a=o.length;l<a;++l)(r=o[l])&&t.call(r,r.__data__,l,o);return this},attr:function(t,e){var n=Zt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?we:xe:"function"==typeof e?n.local?ke:_e:n.local?be:$e)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Me:"function"==typeof e?Ae:Ee)(t,e,null==n?"":n)):Re(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ne:"function"==typeof e?Ce:Te)(t,e)):this.node()[t]},classed:function(t,e){var n=Oe(t+"");if(arguments.length<2){for(var i=Pe(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?qe:e?We:De)(n,e))},text:function(t){return arguments.length?this.each(null==t?je:("function"==typeof t?Be:He)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Fe:("function"==typeof t?Xe:Ge)(t)):this.node().innerHTML},raise:function(){return this.each(Ve)},lower:function(){return this.each(Ye)},append:function(t){var e="function"==typeof t?t:te(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:te(t),i=null==e?Ue:"function"==typeof e?e:ne(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Je)},clone:function(t){return this.select(t?Qe:Ze)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),l=o.length;if(!(arguments.length<2)){for(a=e?tn:Ke,i=0;i<l;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var s,c=0,u=a.length;c<u;++c)for(i=0,s=a[c];i<l;++i)if((r=o[i]).type===s.type&&r.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?rn:nn)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],o=0,l=r.length;o<l;++o)(i=r[o])&&(yield i)}};var pn=.7,gn=1/pn,mn="\\s*([+-]?\\d+)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xn=/^#([0-9a-f]{3,8})$/,wn=new RegExp(`^rgb\\(${mn},${mn},${mn}\\)$`),$n=new RegExp(`^rgb\\(${vn},${vn},${vn}\\)$`),bn=new RegExp(`^rgba\\(${mn},${mn},${mn},${yn}\\)$`),_n=new RegExp(`^rgba\\(${vn},${vn},${vn},${yn}\\)$`),kn=new RegExp(`^hsl\\(${yn},${vn},${vn}\\)$`),Sn=new RegExp(`^hsla\\(${yn},${vn},${vn},${yn}\\)$`),Mn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function En(){return this.rgb().formatHex()}function An(){return this.rgb().formatRgb()}function Rn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=xn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Nn(e):3===n?new On(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Tn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Tn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=wn.exec(t))?new On(e[1],e[2],e[3],1):(e=$n.exec(t))?new On(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=bn.exec(t))?Tn(e[1],e[2],e[3],e[4]):(e=_n.exec(t))?Tn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=kn.exec(t))?Dn(e[1],e[2]/100,e[3]/100,1):(e=Sn.exec(t))?Dn(e[1],e[2]/100,e[3]/100,e[4]):Mn.hasOwnProperty(t)?Nn(Mn[t]):"transparent"===t?new On(NaN,NaN,NaN,0):null}function Nn(t){return new On(t>>16&255,t>>8&255,255&t,1)}function Tn(t,e,n,i){return i<=0&&(t=e=n=NaN),new On(t,e,n,i)}function Cn(t,e,n,i){return 1===arguments.length?((r=t)instanceof hn||(r=Rn(r)),r?new On((r=r.rgb()).r,r.g,r.b,r.opacity):new On):new On(t,e,n,null==i?1:i);var r}function On(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Pn(){return`#${Wn(this.r)}${Wn(this.g)}${Wn(this.b)}`}function zn(){const t=Ln(this.opacity);return`${1===t?"rgb(":"rgba("}${In(this.r)}, ${In(this.g)}, ${In(this.b)}${1===t?")":`, ${t})`}`}function Ln(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function In(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wn(t){return((t=In(t))<16?"0":"")+t.toString(16)}function Dn(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new jn(t,e,n,i)}function qn(t){if(t instanceof jn)return new jn(t.h,t.s,t.l,t.opacity);if(t instanceof hn||(t=Rn(t)),!t)return new jn;if(t instanceof jn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),l=NaN,a=o-r,s=(o+r)/2;return a?(l=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=s<.5?o+r:2-o-r,l*=60):a=s>0&&s<1?0:l,new jn(l,a,s,t.opacity)}function jn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Hn(t){return(t=(t||0)%360)<0?t+360:t}function Bn(t){return Math.max(0,Math.min(1,t||0))}function Fn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}fn(hn,Rn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:En,formatHex:En,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return qn(this).formatHsl()},formatRgb:An,toString:An}),fn(On,Cn,dn(hn,{brighter(t){return t=null==t?gn:Math.pow(gn,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?pn:Math.pow(pn,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new On(In(this.r),In(this.g),In(this.b),Ln(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pn,formatHex:Pn,formatHex8:function(){return`#${Wn(this.r)}${Wn(this.g)}${Wn(this.b)}${Wn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:zn,toString:zn})),fn(jn,(function(t,e,n,i){return 1===arguments.length?qn(t):new jn(t,e,n,null==i?1:i)}),dn(hn,{brighter(t){return t=null==t?gn:Math.pow(gn,t),new jn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?pn:Math.pow(pn,t),new jn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new On(Fn(t>=240?t-240:t+120,r,i),Fn(t,r,i),Fn(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new jn(Hn(this.h),Bn(this.s),Bn(this.l),Ln(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ln(this.opacity);return`${1===t?"hsl(":"hsla("}${Hn(this.h)}, ${100*Bn(this.s)}%, ${100*Bn(this.l)}%${1===t?")":`, ${t})`}`}}));var Gn=t=>()=>t;function Xn(t){return 1==(t=+t)?Vn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):Gn(isNaN(e)?n:e)}}function Vn(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Gn(isNaN(t)?e:t)}var Yn=function t(e){var n=Xn(e);function i(t,e){var i=n((t=Cn(t)).r,(e=Cn(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),l=Vn(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=l(e),t+""}}return i.gamma=t,i}(1);function Un(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}}function Jn(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),l=new Array(i);for(n=0;n<r;++n)o[n]=ii(t[n],e[n]);for(;n<i;++n)l[n]=e[n];return function(t){for(n=0;n<r;++n)l[n]=o[n](t);return l}}function Zn(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Qn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Kn(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=ii(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}var ti=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ei=new RegExp(ti.source,"g");function ni(t,e){var n,i,r,o=ti.lastIndex=ei.lastIndex=0,l=-1,a=[],s=[];for(t+="",e+="";(n=ti.exec(t))&&(i=ei.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[l]?a[l]+=r:a[++l]=r),(n=n[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:Qn(n,i)})),o=ei.lastIndex;return o<e.length&&(r=e.slice(o),a[l]?a[l]+=r:a[++l]=r),a.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,i=0;i<e;++i)a[(n=s[i]).i]=n.x(t);return a.join("")})}function ii(t,e){var n,i=typeof e;return null==e||"boolean"===i?Gn(e):("number"===i?Qn:"string"===i?(n=Rn(e))?(e=n,Yn):ni:e instanceof Rn?Yn:e instanceof Date?Zn:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Un:Array.isArray(e)?Jn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Kn:Qn)(t,e)}function ri(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var oi,li=180/Math.PI,ai={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function si(t,e,n,i,r,o){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*i)&&(n-=t*s,i-=e*s),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,s/=a),t*i<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*li,skewX:Math.atan(s)*li,scaleX:l,scaleY:a}}function ci(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,l){var a=[],s=[];return o=t(o),l=t(l),function(t,i,r,o,l,a){if(t!==r||i!==o){var s=l.push("translate(",null,e,null,n);a.push({i:s-4,x:Qn(t,r)},{i:s-2,x:Qn(i,o)})}else(r||o)&&l.push("translate("+r+e+o+n)}(o.translateX,o.translateY,l.translateX,l.translateY,a,s),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Qn(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,l.rotate,a,s),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Qn(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,l.skewX,a,s),function(t,e,n,i,o,l){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");l.push({i:a-4,x:Qn(t,n)},{i:a-2,x:Qn(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,l.scaleX,l.scaleY,a,s),o=l=null,function(t){for(var e,n=-1,i=s.length;++n<i;)a[(e=s[n]).i]=e.x(t);return a.join("")}}}var ui,fi,di=ci((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ai:si(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),hi=ci((function(t){return null==t?ai:(oi||(oi=document.createElementNS("http://www.w3.org/2000/svg","g")),oi.setAttribute("transform",t),(t=oi.transform.baseVal.consolidate())?si((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ai)}),", ",")",")"),pi=0,gi=0,mi=0,yi=1e3,vi=0,xi=0,wi=0,$i="object"==typeof performance&&performance.now?performance:Date,bi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _i(){return xi||(bi(ki),xi=$i.now()+wi)}function ki(){xi=0}function Si(){this._call=this._time=this._next=null}function Mi(t,e,n){var i=new Si;return i.restart(t,e,n),i}function Ei(){xi=(vi=$i.now())+wi,pi=gi=0;try{!function(){_i(),++pi;for(var t,e=ui;e;)(t=xi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--pi}()}finally{pi=0,function(){var t,e,n=ui,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ui=e);fi=t,Ri(i)}(),xi=0}}function Ai(){var t=$i.now(),e=t-vi;e>yi&&(wi-=e,vi=t)}function Ri(t){pi||(gi&&(gi=clearTimeout(gi)),t-xi>24?(t<1/0&&(gi=setTimeout(Ei,t-$i.now()-wi)),mi&&(mi=clearInterval(mi))):(mi||(vi=$i.now(),mi=setInterval(Ai,yi)),pi=1,bi(Ei)))}function Ni(t,e,n){var i=new Si;return e=null==e?0:+e,i.restart((n=>{i.stop(),t(n+e)}),e,n),i}Si.prototype=Mi.prototype={constructor:Si,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?_i():+n)+(null==e?0:+e),this._next||fi===this||(fi?fi._next=this:ui=this,fi=this),this._call=t,this._time=n,Ri()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ri())}};var Ti=Gt("start","end","cancel","interrupt"),Ci=[],Oi=0,Pi=1,zi=2,Li=3,Ii=4,Wi=5,Di=6;function qi(t,e,n,i,r,o){var l=t.__transition;if(l){if(n in l)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function o(t){n.state=Pi,n.timer.restart(l,n.delay,n.time),n.delay<=t&&l(t-n.delay)}function l(o){var c,u,f,d;if(n.state!==Pi)return s();for(c in r)if((d=r[c]).name===n.name){if(d.state===Li)return Ni(l);d.state===Ii?(d.state=Di,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=Di,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(Ni((function(){n.state===Li&&(n.state=Ii,n.timer.restart(a,n.delay,n.time),a(o))})),n.state=zi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===zi){for(n.state=Li,i=new Array(f=n.tween.length),c=0,u=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=d);i.length=u+1}}function a(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=Wi,1),o=-1,l=i.length;++o<l;)i[o].call(t,r);n.state===Wi&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var i in n.state=Di,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=Mi(o,0,n.time)}(t,n,{name:e,index:i,group:r,on:Ti,tween:Ci,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Oi})}function ji(t,e){var n=Bi(t,e);if(n.state>Oi)throw new Error("too late; already scheduled");return n}function Hi(t,e){var n=Bi(t,e);if(n.state>Li)throw new Error("too late; already running");return n}function Bi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Fi(t,e){var n,i;return function(){var r=Hi(this,t),o=r.tween;if(o!==n)for(var l=0,a=(i=n=o).length;l<a;++l)if(i[l].name===e){(i=i.slice()).splice(l,1);break}r.tween=i}}function Gi(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Hi(this,t),l=o.tween;if(l!==i){r=(i=l).slice();for(var a={name:e,value:n},s=0,c=r.length;s<c;++s)if(r[s].name===e){r[s]=a;break}s===c&&r.push(a)}o.tween=r}}function Xi(t,e,n){var i=t._id;return t.each((function(){var t=Hi(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Bi(t,i).value[e]}}function Vi(t,e){var n;return("number"==typeof e?Qn:e instanceof Rn?Yn:(n=Rn(e))?(e=n,Yn):ni)(t,e)}function Yi(t){return function(){this.removeAttribute(t)}}function Ui(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ji(t,e,n){var i,r,o=n+"";return function(){var l=this.getAttribute(t);return l===o?null:l===i?r:r=e(i=l,n)}}function Zi(t,e,n){var i,r,o=n+"";return function(){var l=this.getAttributeNS(t.space,t.local);return l===o?null:l===i?r:r=e(i=l,n)}}function Qi(t,e,n){var i,r,o;return function(){var l,a,s=n(this);if(null!=s)return(l=this.getAttribute(t))===(a=s+"")?null:l===i&&a===r?o:(r=a,o=e(i=l,s));this.removeAttribute(t)}}function Ki(t,e,n){var i,r,o;return function(){var l,a,s=n(this);if(null!=s)return(l=this.getAttributeNS(t.space,t.local))===(a=s+"")?null:l===i&&a===r?o:(r=a,o=e(i=l,s));this.removeAttributeNS(t.space,t.local)}}function tr(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,r)),n}return r._value=e,r}function er(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,r)),n}return r._value=e,r}function nr(t,e){return function(){ji(this,t).delay=+e.apply(this,arguments)}}function ir(t,e){return e=+e,function(){ji(this,t).delay=e}}function rr(t,e){return function(){Hi(this,t).duration=+e.apply(this,arguments)}}function or(t,e){return e=+e,function(){Hi(this,t).duration=e}}var lr=an.prototype.constructor;function ar(t){return function(){this.style.removeProperty(t)}}var sr=0;function cr(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function ur(t){return an().transition(t)}function fr(){return++sr}var dr=an.prototype;cr.prototype=ur.prototype={constructor:cr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ne(t));for(var i=this._groups,r=i.length,o=new Array(r),l=0;l<r;++l)for(var a,s,c=i[l],u=c.length,f=o[l]=new Array(u),d=0;d<u;++d)(a=c[d])&&(s=t.call(a,a.__data__,d,c))&&("__data__"in a&&(s.__data__=a.__data__),f[d]=s,qi(f[d],e,n,d,f,Bi(a,n)));return new cr(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=oe(t));for(var i=this._groups,r=i.length,o=[],l=[],a=0;a<r;++a)for(var s,c=i[a],u=c.length,f=0;f<u;++f)if(s=c[f]){for(var d,h=t.call(s,s.__data__,f,c),p=Bi(s,n),g=0,m=h.length;g<m;++g)(d=h[g])&&qi(d,e,n,g,h,p);o.push(h),l.push(s)}return new cr(o,l,e,n)},selectChild:dr.selectChild,selectChildren:dr.selectChildren,filter:function(t){"function"!=typeof t&&(t=le(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,l=e[r],a=l.length,s=i[r]=[],c=0;c<a;++c)(o=l[c])&&t.call(o,o.__data__,c,l)&&s.push(o);return new cr(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),l=new Array(i),a=0;a<o;++a)for(var s,c=e[a],u=n[a],f=c.length,d=l[a]=new Array(f),h=0;h<f;++h)(s=c[h]||u[h])&&(d[h]=s);for(;a<i;++a)l[a]=e[a];return new cr(l,this._parents,this._name,this._id)},selection:function(){return new lr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=fr(),i=this._groups,r=i.length,o=0;o<r;++o)for(var l,a=i[o],s=a.length,c=0;c<s;++c)if(l=a[c]){var u=Bi(l,e);qi(l,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new cr(i,this._parents,t,n)},call:dr.call,nodes:dr.nodes,node:dr.node,size:dr.size,empty:dr.empty,each:dr.each,on:function(t,e){var n=this._id;return arguments.length<2?Bi(this.node(),n).on.on(t):this.each(function(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?ji:Hi;return function(){var l=o(this,t),a=l.on;a!==i&&(r=(i=a).copy()).on(e,n),l.on=r}}(n,t,e))},attr:function(t,e){var n=Zt(t),i="transform"===n?hi:Vi;return this.attrTween(t,"function"==typeof e?(n.local?Ki:Qi)(n,i,Xi(this,"attr."+t,e)):null==e?(n.local?Ui:Yi)(n):(n.local?Zi:Ji)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Zt(t);return this.tween(n,(i.local?tr:er)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?di:Vi;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=Re(this,t),l=(this.style.removeProperty(t),Re(this,t));return o===l?null:o===n&&l===i?r:r=e(n=o,i=l)}}(t,i)).on("end.style."+t,ar(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,o;return function(){var l=Re(this,t),a=n(this),s=a+"";return null==a&&(this.style.removeProperty(t),s=a=Re(this,t)),l===s?null:l===i&&s===r?o:(r=s,o=e(i=l,a))}}(t,i,Xi(this,"style."+t,e))).each(function(t,e){var n,i,r,o,l="style."+e,a="end."+l;return function(){var s=Hi(this,t),c=s.on,u=null==s.value[l]?o||(o=ar(e)):void 0;c===n&&r===u||(i=(n=c).copy()).on(a,r=u),s.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,o=n+"";return function(){var l=Re(this,t);return l===o?null:l===i?r:r=e(i=l,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&function(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}(t,o,n)),i}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Xi(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&function(t){return function(e){this.textContent=t.call(this,e)}}(i)),e}return i._value=t,i}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Bi(this.node(),n).tween,o=0,l=r.length;o<l;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?Fi:Gi)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?nr:ir)(e,t)):Bi(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?rr:or)(e,t)):Bi(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Hi(this,t).ease=e}}(e,t)):Bi(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Hi(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(o,l){var a={value:l},s={value:function(){0==--r&&o()}};n.each((function(){var n=Hi(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),n.on=e})),0===r&&o()}))},[Symbol.iterator]:dr[Symbol.iterator]};var hr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function pr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}an.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,i,r,o=t.__transition,l=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>zi&&n.state<Wi,n.state=Di,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):l=!1;l&&delete t.__transition}}(this,t)}))},an.prototype.transition=function(t){var e,n;t instanceof cr?(e=t._id,t=t._name):(e=fr(),(n=hr).time=_i(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var l,a=i[o],s=a.length,c=0;c<s;++c)(l=a[c])&&qi(l,t,e,c,a,n||pr(l,e));return new cr(i,this._parents,t,e)};const gr=Math.PI,mr=2*gr,yr=1e-6,vr=mr-yr;function xr(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class wr{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?xr:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return xr;const n=10**e;return function(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,i){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,e,n,i,r,o){this._append`C${+t},${+e},${+n},${+i},${this._x1=+r},${this._y1=+o}`}arcTo(t,e,n,i,r){if(t=+t,e=+e,n=+n,i=+i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=this._x1,l=this._y1,a=n-t,s=i-e,c=o-t,u=l-e,f=c*c+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(f>yr)if(Math.abs(u*a-s*c)>yr&&r){let d=n-o,h=i-l,p=a*a+s*s,g=d*d+h*h,m=Math.sqrt(p),y=Math.sqrt(f),v=r*Math.tan((gr-Math.acos((p+f-g)/(2*m*y)))/2),x=v/y,w=v/m;Math.abs(x-1)>yr&&this._append`L${t+x*c},${e+x*u}`,this._append`A${r},${r},0,0,${+(u*d>c*h)},${this._x1=t+w*a},${this._y1=e+w*s}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,i,r,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),a=n*Math.sin(i),s=t+l,c=e+a,u=1^o,f=o?i-r:r-i;null===this._x1?this._append`M${s},${c}`:(Math.abs(this._x1-s)>yr||Math.abs(this._y1-c)>yr)&&this._append`L${s},${c}`,n&&(f<0&&(f=f%mr+mr),f>vr?this._append`A${n},${n},0,1,${u},${t-l},${e-a}A${n},${n},0,1,${u},${this._x1=s},${this._y1=c}`:f>yr&&this._append`A${n},${n},0,${+(f>=gr)},${u},${this._x1=t+n*Math.cos(r)},${this._y1=e+n*Math.sin(r)}`)}rect(t,e,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}var $r={},br={};function _r(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function kr(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var i in t)i in e||n.push(e[i]=i)})),n}function Sr(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function Mr(t){var e,n=t.getUTCHours(),i=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+Sr(-e,6):e>9999?"+"+Sr(e,6):Sr(e,4))+"-"+Sr(t.getUTCMonth()+1,2)+"-"+Sr(t.getUTCDate(),2)+(o?"T"+Sr(n,2)+":"+Sr(i,2)+":"+Sr(r,2)+"."+Sr(o,3)+"Z":r?"T"+Sr(n,2)+":"+Sr(i,2)+":"+Sr(r,2)+"Z":i||n?"T"+Sr(n,2)+":"+Sr(i,2)+"Z":"")}var Er=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var i,r=[],o=t.length,l=0,a=0,s=o<=0,c=!1;function u(){if(s)return br;if(c)return c=!1,$r;var e,i,r=l;if(34===t.charCodeAt(r)){for(;l++<o&&34!==t.charCodeAt(l)||34===t.charCodeAt(++l););return(e=l)>=o?s=!0:10===(i=t.charCodeAt(l++))?c=!0:13===i&&(c=!0,10===t.charCodeAt(l)&&++l),t.slice(r+1,e-1).replace(/""/g,'"')}for(;l<o;){if(10===(i=t.charCodeAt(e=l++)))c=!0;else if(13===i)c=!0,10===t.charCodeAt(l)&&++l;else if(i!==n)continue;return t.slice(r,e)}return s=!0,t.slice(r,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(i=u())!==br;){for(var f=[];i!==$r&&i!==br;)f.push(i),i=u();e&&null==(f=e(f,a++))||r.push(f)}return r}function r(e,n){return e.map((function(e){return n.map((function(t){return l(e[t])})).join(t)}))}function o(e){return e.map(l).join(t)}function l(t){return null==t?"":t instanceof Date?Mr(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,o=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=_r(t);return function(i,r){return e(n(i),r,t)}}(t,e):_r(t)}));return o.columns=r||[],o},parseRows:i,format:function(e,n){return null==n&&(n=kr(e)),[n.map(l).join(t)].concat(r(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=kr(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:l}}(","),Ar=Er.parse;function Rr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Nr,Tr=(Nr=Ar,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),function(t,e){return fetch(t,e).then(Rr)}(t,e).then((function(t){return Nr(t,n)}))});function Cr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Or(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Pr(t){return(t=Or(Math.abs(t)))?t[1]:NaN}var zr,Lr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ir(t){if(!(e=Lr.exec(t)))throw new Error("invalid format: "+t);var e;return new Wr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Wr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Dr(t,e){var n=Or(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Ir.prototype=Wr.prototype,Wr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var qr={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Dr(100*t,e),r:Dr,s:function(t,e){var n=Or(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(zr=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,l=i.length;return o===l?i:o>l?i+new Array(o-l+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Or(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jr(t){return t}var Hr,Br,Fr,Gr=Array.prototype.map,Xr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Vr(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?jr:(e=Gr.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,o=[],l=0,a=e[0],s=0;r>0&&a>0&&(s+a+1>i&&(a=Math.max(1,i-s)),o.push(t.substring(r-=a,r+a)),!((s+=a+1)>i));)a=e[l=(l+1)%e.length];return o.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",l=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?jr:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Gr.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Ir(t)).fill,n=t.align,f=t.sign,d=t.symbol,h=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):qr[v]||(void 0===m&&(m=12),y=!0,v="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var x="$"===d?r:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===d?o:/[%p]/.test(v)?s:"",$=qr[v],b=/[defgprs%]/.test(v);function _(t){var r,o,s,d=x,_=w;if("c"===v)_=$(t)+_,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:$(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),d=(k?"("===f?f:c:"-"===f||"("===f?"":f)+d,_=("s"===v?Xr[8+zr/3]:"")+_+(k&&"("===f?")":""),b)for(r=-1,o=t.length;++r<o;)if(48>(s=t.charCodeAt(r))||s>57){_=(46===s?l+t.slice(r+1):t.slice(r))+_,t=t.slice(0,r);break}}g&&!h&&(t=i(t,1/0));var S=d.length+t.length+_.length,M=S<p?new Array(p-S+1).join(e):"";switch(g&&h&&(t=i(M+t,M.length?p-_.length:1/0),M=""),n){case"<":t=d+t+_+M;break;case"=":t=d+M+t+_;break;case"^":t=M.slice(0,S=M.length>>1)+d+t+_+M.slice(S);break;default:t=M+d+t+_}return a(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),_.toString=function(){return t+""},_}return{format:f,formatPrefix:function(t,e){var n=f(((t=Ir(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Pr(e)/3))),r=Math.pow(10,-i),o=Xr[8+i/3];return function(t){return n(r*t)+o}}}}Hr=Vr({thousands:",",grouping:[3],currency:["$",""]}),Br=Hr.format,Fr=Hr.formatPrefix;var Yr=1e-6,Ur=1e-12,Jr=Math.PI,Zr=Jr/2,Qr=Jr/4,Kr=2*Jr,to=180/Jr,eo=Jr/180,no=Math.abs,io=Math.atan,ro=Math.atan2,oo=Math.cos,lo=Math.sin,ao=Math.sign||function(t){return t>0?1:t<0?-1:0},so=Math.sqrt;function co(t){return t>1?Zr:t<-1?-Zr:Math.asin(t)}function uo(){}function fo(t,e){t&&po.hasOwnProperty(t.type)&&po[t.type](t,e)}var ho={Feature:function(t,e){fo(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)fo(n[i].geometry,e)}},po={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){go(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)go(n[i],e,0)},Polygon:function(t,e){mo(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)mo(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)fo(n[i],e)}};function go(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function mo(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)go(t[n],e,1);e.polygonEnd()}function yo(t,e){t&&ho.hasOwnProperty(t.type)?ho[t.type](t,e):fo(t,e)}function vo(t){return[ro(t[1],t[0]),co(t[2])]}function xo(t){var e=t[0],n=t[1],i=oo(n);return[i*oo(e),i*lo(e),lo(n)]}function wo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function $o(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function bo(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function _o(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ko(t){var e=so(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function So(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function Mo(t,e){return no(t)>Jr&&(t-=Math.round(t/Kr)*Kr),[t,e]}function Eo(t){return function(e,n){return no(e+=t)>Jr&&(e-=Math.round(e/Kr)*Kr),[e,n]}}function Ao(t){var e=Eo(t);return e.invert=Eo(-t),e}function Ro(t,e){var n=oo(t),i=lo(t),r=oo(e),o=lo(e);function l(t,e){var l=oo(e),a=oo(t)*l,s=lo(t)*l,c=lo(e),u=c*n+a*i;return[ro(s*r-u*o,a*n-c*i),co(u*r+s*o)]}return l.invert=function(t,e){var l=oo(e),a=oo(t)*l,s=lo(t)*l,c=lo(e),u=c*r-s*o;return[ro(s*r+c*o,a*n+u*i),co(u*n-a*i)]},l}function No(t,e){(e=xo(e))[0]-=t,ko(e);var n=function(t){return t>1?0:t<-1?Jr:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+Kr-Yr)%Kr}function To(){var t,e=[];return{point:function(e,n,i){t.push([e,n,i])},lineStart:function(){e.push(t=[])},lineEnd:uo,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Co(t,e){return no(t[0]-e[0])<Yr&&no(t[1]-e[1])<Yr}function Oo(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Po(t,e,n,i,r){var o,l,a=[],s=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],l=t[e];if(Co(i,l)){if(!i[2]&&!l[2]){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}l[0]+=2*Yr}a.push(n=new Oo(i,t,null,!0)),s.push(n.o=new Oo(i,null,n,!1)),a.push(n=new Oo(l,t,null,!1)),s.push(n.o=new Oo(l,null,n,!0))}})),a.length){for(s.sort(e),zo(a),zo(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var c,u,f=a[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(o=0,l=c.length;o<l;++o)r.point((u=c[o])[0],u[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(h)for(c=d.p.z,o=c.length-1;o>=0;--o)r.point((u=c[o])[0],u[1]);else i(d.x,d.p.x,-1,r);d=d.p}c=(d=d.o).z,h=!h}while(!d.v);r.lineEnd()}}}function zo(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Lo(t){return no(t[0])<=Jr?t[0]:ao(t[0])*((no(t[0])+Jr)%Kr-Jr)}function Io(t,e,n,i){return function(r){var o,l,a,s=e(r),c=To(),u=e(c),f=!1,d={point:h,lineStart:g,lineEnd:m,polygonStart:function(){d.point=y,d.lineStart=v,d.lineEnd=x,l=[],o=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=m,l=Bt(l);var t=function(t,e){var n=Lo(e),i=e[1],r=lo(i),o=[lo(n),-oo(n),0],l=0,a=0,s=new Ct;1===r?i=Zr+Yr:-1===r&&(i=-Zr-Yr);for(var c=0,u=t.length;c<u;++c)if(d=(f=t[c]).length)for(var f,d,h=f[d-1],p=Lo(h),g=h[1]/2+Qr,m=lo(g),y=oo(g),v=0;v<d;++v,p=w,m=b,y=_,h=x){var x=f[v],w=Lo(x),$=x[1]/2+Qr,b=lo($),_=oo($),k=w-p,S=k>=0?1:-1,M=S*k,E=M>Jr,A=m*b;if(s.add(ro(A*S*lo(M),y*_+A*oo(M))),l+=E?k+S*Kr:k,E^p>=n^w>=n){var R=$o(xo(h),xo(x));ko(R);var N=$o(o,R);ko(N);var T=(E^k>=0?-1:1)*co(N[2]);(i>T||i===T&&(R[0]||R[1]))&&(a+=E^k>=0?1:-1)}}return(l<-Yr||l<Yr&&s<-Ur)^1&a}(o,i);l.length?(f||(r.polygonStart(),f=!0),Po(l,Do,t,n,r)):t&&(f||(r.polygonStart(),f=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),f&&(r.polygonEnd(),f=!1),l=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function h(e,n){t(e,n)&&r.point(e,n)}function p(t,e){s.point(t,e)}function g(){d.point=p,s.lineStart()}function m(){d.point=h,s.lineEnd()}function y(t,e){a.push([t,e]),u.point(t,e)}function v(){u.lineStart(),a=[]}function x(){y(a[0][0],a[0][1]),u.lineEnd();var t,e,n,i,s=u.clean(),d=c.result(),h=d.length;if(a.pop(),o.push(a),a=null,h)if(1&s){if((e=(n=d[0]).length-1)>0){for(f||(r.polygonStart(),f=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else h>1&&2&s&&d.push(d.pop().concat(d.shift())),l.push(d.filter(Wo))}return d}}function Wo(t){return t.length>1}function Do(t,e){return((t=t.x)[0]<0?t[1]-Zr-Yr:Zr-t[1])-((e=e.x)[0]<0?e[1]-Zr-Yr:Zr-e[1])}Mo.invert=Mo;var qo=Io((function(){return!0}),(function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,l){var a=o>0?Jr:-Jr,s=no(o-n);no(s-Jr)<Yr?(t.point(n,i=(i+l)/2>0?Zr:-Zr),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&s>=Jr&&(no(n-r)<Yr&&(n-=r*Yr),no(o-a)<Yr&&(o-=a*Yr),i=function(t,e,n,i){var r,o,l=lo(t-n);return no(l)>Yr?io((lo(e)*(o=oo(i))*lo(n)-lo(i)*(r=oo(e))*lo(t))/(r*o*l)):(e+i)/2}(n,i,o,l),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=l),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}),(function(t,e,n,i){var r;if(null==t)r=n*Zr,i.point(-Jr,r),i.point(0,r),i.point(Jr,r),i.point(Jr,0),i.point(Jr,-r),i.point(0,-r),i.point(-Jr,-r),i.point(-Jr,0),i.point(-Jr,r);else if(no(t[0]-e[0])>Yr){var o=t[0]<e[0]?Jr:-Jr;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}),[-Jr,-Zr]);function jo(t){var e=oo(t),n=2*eo,i=e>0,r=no(e)>Yr;function o(t,n){return oo(t)*oo(n)>e}function l(t,n,i){var r=[1,0,0],o=$o(xo(t),xo(n)),l=wo(o,o),a=o[0],s=l-a*a;if(!s)return!i&&t;var c=e*l/s,u=-e*a/s,f=$o(r,o),d=_o(r,c);bo(d,_o(o,u));var h=f,p=wo(d,h),g=wo(h,h),m=p*p-g*(wo(d,d)-1);if(!(m<0)){var y=so(m),v=_o(h,(-p-y)/g);if(bo(v,d),v=vo(v),!i)return v;var x,w=t[0],$=n[0],b=t[1],_=n[1];$<w&&(x=w,w=$,$=x);var k=$-w,S=no(k-Jr)<Yr;if(!S&&_<b&&(x=b,b=_,_=x),S||k<Yr?S?b+_>0^v[1]<(no(v[0]-w)<Yr?b:_):b<=v[1]&&v[1]<=_:k>Jr^(w<=v[0]&&v[0]<=$)){var M=_o(h,(-p+y)/g);return bo(M,d),[v,vo(M)]}}}function a(e,n){var r=i?t:Jr-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return Io(o,(function(t){var e,n,s,c,u;return{lineStart:function(){c=s=!1,u=1},point:function(f,d){var h,p=[f,d],g=o(f,d),m=i?g?0:a(f,d):g?a(f+(f<0?Jr:-Jr),d):0;if(!e&&(c=s=g)&&t.lineStart(),g!==s&&(!(h=l(e,p))||Co(e,h)||Co(p,h))&&(p[2]=1),g!==s)u=0,g?(t.lineStart(),h=l(p,e),t.point(h[0],h[1])):(h=l(e,p),t.point(h[0],h[1],2),t.lineEnd()),e=h;else if(r&&e&&i^g){var y;m&n||!(y=l(p,e,!0))||(u=0,i?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||e&&Co(e,p)||t.point(p[0],p[1]),e=p,s=g,n=m},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return u|(c&&s)<<1}}}),(function(e,i,r,o){!function(t,e,n,i,r,o){if(n){var l=oo(e),a=lo(e),s=i*n;null==r?(r=e+i*Kr,o=e-s/2):(r=No(l,r),o=No(l,o),(i>0?r<o:r>o)&&(r+=i*Kr));for(var c,u=r;i>0?u>o:u<o;u-=s)c=vo([l,-a*oo(u),-a*lo(u)]),t.point(c[0],c[1])}}(o,t,n,r,e,i)}),i?[0,-t]:[-Jr,t-Jr])}var Ho=1e9,Bo=-Ho;function Fo(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,a,c){var u=0,f=0;if(null==r||(u=l(r,a))!==(f=l(o,a))||s(r,o)<0^a>0)do{c.point(0===u||3===u?t:n,u>1?i:e)}while((u=(u+a+4)%4)!==f);else c.point(o[0],o[1])}function l(i,r){return no(i[0]-t)<Yr?r>0?0:3:no(i[0]-n)<Yr?r>0?2:1:no(i[1]-e)<Yr?r>0?1:0:r>0?3:2}function a(t,e){return s(t.x,e.x)}function s(t,e){var n=l(t,1),i=l(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(l){var s,c,u,f,d,h,p,g,m,y,v,x=l,w=To(),$={point:b,lineStart:function(){$.point=_,c&&c.push(u=[]);y=!0,m=!1,p=g=NaN},lineEnd:function(){s&&(_(f,d),h&&m&&w.rejoin(),s.push(w.result()));$.point=b,m&&x.lineEnd()},polygonStart:function(){x=w,s=[],c=[],v=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=c.length;n<r;++n)for(var o,l,a=c[n],s=1,u=a.length,f=a[0],d=f[0],h=f[1];s<u;++s)o=d,l=h,d=(f=a[s])[0],h=f[1],l<=i?h>i&&(d-o)*(i-l)>(h-l)*(t-o)&&++e:h<=i&&(d-o)*(i-l)<(h-l)*(t-o)&&--e;return e}(),n=v&&e,r=(s=Bt(s)).length;(n||r)&&(l.polygonStart(),n&&(l.lineStart(),o(null,null,1,l),l.lineEnd()),r&&Po(s,a,e,o,l),l.polygonEnd());x=l,s=c=u=null}};function b(t,e){r(t,e)&&x.point(t,e)}function _(o,l){var a=r(o,l);if(c&&u.push([o,l]),y)f=o,d=l,h=a,y=!1,a&&(x.lineStart(),x.point(o,l));else if(a&&m)x.point(o,l);else{var s=[p=Math.max(Bo,Math.min(Ho,p)),g=Math.max(Bo,Math.min(Ho,g))],w=[o=Math.max(Bo,Math.min(Ho,o)),l=Math.max(Bo,Math.min(Ho,l))];!function(t,e,n,i,r,o){var l,a=t[0],s=t[1],c=0,u=1,f=e[0]-a,d=e[1]-s;if(l=n-a,f||!(l>0)){if(l/=f,f<0){if(l<c)return;l<u&&(u=l)}else if(f>0){if(l>u)return;l>c&&(c=l)}if(l=r-a,f||!(l<0)){if(l/=f,f<0){if(l>u)return;l>c&&(c=l)}else if(f>0){if(l<c)return;l<u&&(u=l)}if(l=i-s,d||!(l>0)){if(l/=d,d<0){if(l<c)return;l<u&&(u=l)}else if(d>0){if(l>u)return;l>c&&(c=l)}if(l=o-s,d||!(l<0)){if(l/=d,d<0){if(l>u)return;l>c&&(c=l)}else if(d>0){if(l<c)return;l<u&&(u=l)}return c>0&&(t[0]=a+c*f,t[1]=s+c*d),u<1&&(e[0]=a+u*f,e[1]=s+u*d),!0}}}}}(s,w,t,e,n,i)?a&&(x.lineStart(),x.point(o,l),v=!1):(m||(x.lineStart(),x.point(s[0],s[1])),x.point(w[0],w[1]),a||x.lineEnd(),v=!1)}p=o,g=l,m=a}return $}}var Go,Xo,Vo,Yo,Uo=t=>t,Jo=new Ct,Zo=new Ct,Qo={point:uo,lineStart:uo,lineEnd:uo,polygonStart:function(){Qo.lineStart=Ko,Qo.lineEnd=nl},polygonEnd:function(){Qo.lineStart=Qo.lineEnd=Qo.point=uo,Jo.add(no(Zo)),Zo=new Ct},result:function(){var t=Jo/2;return Jo=new Ct,t}};function Ko(){Qo.point=tl}function tl(t,e){Qo.point=el,Go=Vo=t,Xo=Yo=e}function el(t,e){Zo.add(Yo*t-Vo*e),Vo=t,Yo=e}function nl(){el(Go,Xo)}var il=1/0,rl=il,ol=-il,ll=ol,al={point:function(t,e){t<il&&(il=t);t>ol&&(ol=t);e<rl&&(rl=e);e>ll&&(ll=e)},lineStart:uo,lineEnd:uo,polygonStart:uo,polygonEnd:uo,result:function(){var t=[[il,rl],[ol,ll]];return ol=ll=-(rl=il=1/0),t}};var sl,cl,ul,fl,dl=0,hl=0,pl=0,gl=0,ml=0,yl=0,vl=0,xl=0,wl=0,$l={point:bl,lineStart:_l,lineEnd:Ml,polygonStart:function(){$l.lineStart=El,$l.lineEnd=Al},polygonEnd:function(){$l.point=bl,$l.lineStart=_l,$l.lineEnd=Ml},result:function(){var t=wl?[vl/wl,xl/wl]:yl?[gl/yl,ml/yl]:pl?[dl/pl,hl/pl]:[NaN,NaN];return dl=hl=pl=gl=ml=yl=vl=xl=wl=0,t}};function bl(t,e){dl+=t,hl+=e,++pl}function _l(){$l.point=kl}function kl(t,e){$l.point=Sl,bl(ul=t,fl=e)}function Sl(t,e){var n=t-ul,i=e-fl,r=so(n*n+i*i);gl+=r*(ul+t)/2,ml+=r*(fl+e)/2,yl+=r,bl(ul=t,fl=e)}function Ml(){$l.point=bl}function El(){$l.point=Rl}function Al(){Nl(sl,cl)}function Rl(t,e){$l.point=Nl,bl(sl=ul=t,cl=fl=e)}function Nl(t,e){var n=t-ul,i=e-fl,r=so(n*n+i*i);gl+=r*(ul+t)/2,ml+=r*(fl+e)/2,yl+=r,vl+=(r=fl*t-ul*e)*(ul+t),xl+=r*(fl+e),wl+=3*r,bl(ul=t,fl=e)}function Tl(t){this._context=t}Tl.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Kr)}},result:uo};var Cl,Ol,Pl,zl,Ll,Il=new Ct,Wl={point:uo,lineStart:function(){Wl.point=Dl},lineEnd:function(){Cl&&ql(Ol,Pl),Wl.point=uo},polygonStart:function(){Cl=!0},polygonEnd:function(){Cl=null},result:function(){var t=+Il;return Il=new Ct,t}};function Dl(t,e){Wl.point=ql,Ol=zl=t,Pl=Ll=e}function ql(t,e){zl-=t,Ll-=e,Il.add(so(zl*zl+Ll*Ll)),zl=t,Ll=e}let jl,Hl,Bl,Fl;class Gl{constructor(t){this._append=null==t?Xl:function(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Xl;if(e!==jl){const t=10**e;jl=e,Hl=function(e){let n=1;this._+=e[0];for(const i=e.length;n<i;++n)this._+=Math.round(arguments[n]*t)/t+e[n]}}return Hl}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:this._append`M${t},${e}`,this._point=1;break;case 1:this._append`L${t},${e}`;break;default:if(this._append`M${t},${e}`,this._radius!==Bl||this._append!==Hl){const t=this._radius,e=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Bl=t,Hl=this._append,Fl=this._,this._=e}this._+=Fl}}result(){const t=this._;return this._="",t.length?t:null}}function Xl(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Vl(t){return function(e){var n=new Yl;for(var i in t)n[i]=t[i];return n.stream=e,n}}function Yl(){}function Ul(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),yo(n,t.stream(al)),e(al.result()),null!=i&&t.clipExtent(i),t}function Jl(t,e,n){return Ul(t,(function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),l=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,a=+e[0][1]+(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([l,a])}),n)}Yl.prototype={constructor:Yl,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Zl=16,Ql=oo(30*eo);function Kl(t,e){return+e?function(t,e){function n(i,r,o,l,a,s,c,u,f,d,h,p,g,m){var y=c-i,v=u-r,x=y*y+v*v;if(x>4*e&&g--){var w=l+d,$=a+h,b=s+p,_=so(w*w+$*$+b*b),k=co(b/=_),S=no(no(b)-1)<Yr||no(o-f)<Yr?(o+f)/2:ro($,w),M=t(S,k),E=M[0],A=M[1],R=E-i,N=A-r,T=v*R-y*N;(T*T/x>e||no((y*R+v*N)/x-.5)>.3||l*d+a*h+s*p<Ql)&&(n(i,r,o,l,a,s,E,A,S,w/=_,$/=_,b,g,m),m.point(E,A),n(E,A,S,w,$,b,c,u,f,d,h,p,g,m))}}return function(e){var i,r,o,l,a,s,c,u,f,d,h,p,g={point:m,lineStart:y,lineEnd:x,polygonStart:function(){e.polygonStart(),g.lineStart=w},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function m(n,i){n=t(n,i),e.point(n[0],n[1])}function y(){u=NaN,g.point=v,e.lineStart()}function v(i,r){var o=xo([i,r]),l=t(i,r);n(u,f,c,d,h,p,u=l[0],f=l[1],c=i,d=o[0],h=o[1],p=o[2],Zl,e),e.point(u,f)}function x(){g.point=m,e.lineEnd()}function w(){y(),g.point=$,g.lineEnd=b}function $(t,e){v(i=t,e),r=u,o=f,l=d,a=h,s=p,g.point=v}function b(){n(u,f,c,d,h,p,r,o,i,l,a,s,Zl,e),g.lineEnd=x,x()}return g}}(t,e):function(t){return Vl({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var ta=Vl({point:function(t,e){this.stream.point(t*eo,e*eo)}});function ea(t,e,n,i,r,o){if(!o)return function(t,e,n,i,r){function o(o,l){return[e+t*(o*=i),n-t*(l*=r)]}return o.invert=function(o,l){return[(o-e)/t*i,(n-l)/t*r]},o}(t,e,n,i,r);var l=oo(o),a=lo(o),s=l*t,c=a*t,u=l/t,f=a/t,d=(a*n-l*e)/t,h=(a*e+l*n)/t;function p(t,o){return[s*(t*=i)-c*(o*=r)+e,n-c*t-s*o]}return p.invert=function(t,e){return[i*(u*t-f*e+d),r*(h-f*t-u*e)]},p}function na(t){return function(t){var e,n,i,r,o,l,a,s,c,u,f=150,d=480,h=250,p=0,g=0,m=0,y=0,v=0,x=0,w=1,$=1,b=null,_=qo,k=null,S=Uo,M=.5;function E(t){return s(t[0]*eo,t[1]*eo)}function A(t){return(t=s.invert(t[0],t[1]))&&[t[0]*to,t[1]*to]}function R(){var t=ea(f,0,0,w,$,x).apply(null,e(p,g)),i=ea(f,d-t[0],h-t[1],w,$,x);return n=function(t,e,n){return(t%=Kr)?e||n?So(Ao(t),Ro(e,n)):Ao(t):e||n?Ro(e,n):Mo}(m,y,v),a=So(e,i),s=So(n,a),l=Kl(a,M),N()}function N(){return c=u=null,E}return E.stream=function(t){return c&&u===t?c:c=ta(function(t){return Vl({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}(n)(_(l(S(u=t)))))},E.preclip=function(t){return arguments.length?(_=t,b=void 0,N()):_},E.postclip=function(t){return arguments.length?(S=t,k=i=r=o=null,N()):S},E.clipAngle=function(t){return arguments.length?(_=+t?jo(b=t*eo):(b=null,qo),N()):b*to},E.clipExtent=function(t){return arguments.length?(S=null==t?(k=i=r=o=null,Uo):Fo(k=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),N()):null==k?null:[[k,i],[r,o]]},E.scale=function(t){return arguments.length?(f=+t,R()):f},E.translate=function(t){return arguments.length?(d=+t[0],h=+t[1],R()):[d,h]},E.center=function(t){return arguments.length?(p=t[0]%360*eo,g=t[1]%360*eo,R()):[p*to,g*to]},E.rotate=function(t){return arguments.length?(m=t[0]%360*eo,y=t[1]%360*eo,v=t.length>2?t[2]%360*eo:0,R()):[m*to,y*to,v*to]},E.angle=function(t){return arguments.length?(x=t%360*eo,R()):x*to},E.reflectX=function(t){return arguments.length?(w=t?-1:1,R()):w<0},E.reflectY=function(t){return arguments.length?($=t?-1:1,R()):$<0},E.precision=function(t){return arguments.length?(l=Kl(a,M=t*t),N()):so(M)},E.fitExtent=function(t,e){return Jl(E,t,e)},E.fitSize=function(t,e){return function(t,e,n){return Jl(t,[[0,0],e],n)}(E,t,e)},E.fitWidth=function(t,e){return function(t,e,n){return Ul(t,(function(n){var i=+e,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,l=-r*n[0][1];t.scale(150*r).translate([o,l])}),n)}(E,t,e)},E.fitHeight=function(t,e){return function(t,e,n){return Ul(t,(function(n){var i=+e,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],l=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([o,l])}),n)}(E,t,e)},function(){return e=t.apply(this,arguments),E.invert=e.invert&&A,R()}}((function(){return t}))()}function ia(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function ra(){return na(ia).scale(175.295)}function oa(t,e){return t.parent===e.parent?1:2}function la(t,e){return t+e.x}function aa(t,e){return Math.max(t,e.y)}function sa(){var t=oa,e=1,n=1,i=!1;function r(r){var o,l=0;r.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(la,0)/t.length}(n),e.y=function(t){return 1+t.reduce(aa,0)}(n)):(e.x=o?l+=t(e,o):0,e.y=0,o=e)}));var a=function(t){for(var e;e=t.children;)t=e[0];return t}(r),s=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),c=a.x-t(a,s)/2,u=s.x+t(s,a)/2;return r.eachAfter(i?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-c)/(u-c)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r}function ca(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function ua(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=da)):void 0===e&&(e=fa);for(var n,i,r,o,l,a=new ga(t),s=[a];n=s.pop();)if((r=e(n.data))&&(l=(r=Array.from(r)).length))for(n.children=r,o=l-1;o>=0;--o)s.push(i=r[o]=new ga(r[o])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(pa)}function fa(t){return t.children}function da(t){return Array.isArray(t)?t[1]:null}function ha(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function pa(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function ga(t){this.data=t,this.depth=this.height=0,this.parent=null}function ma(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}ia.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,l=o*o;i-=n=(i*(1.007226+o*(.015085+l*(.028874*o-.044475-.005916*l)))-e)/(1.007226+o*(.045255+l*(.259866*o-.311325-.005916*11*l)))}while(no(n)>Yr&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]},ga.prototype=ua.prototype={constructor:ga,count:function(){return this.eachAfter(ca)},each:function(t,e){let n=-1;for(const i of this)t.call(e,i,++n,this);return this},eachAfter:function(t,e){for(var n,i,r,o=this,l=[o],a=[],s=-1;o=l.pop();)if(a.push(o),n=o.children)for(i=0,r=n.length;i<r;++i)l.push(n[i]);for(;o=a.pop();)t.call(e,o,++s,this);return this},eachBefore:function(t,e){for(var n,i,r=this,o=[r],l=-1;r=o.pop();)if(t.call(e,r,++l,this),n=r.children)for(i=n.length-1;i>=0;--i)o.push(n[i]);return this},find:function(t,e){let n=-1;for(const i of this)if(t.call(e,i,++n,this))return i},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;t=n.pop(),e=i.pop();for(;t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return ua(this).eachBefore(ha)},[Symbol.iterator]:function*(){var t,e,n,i,r=this,o=[r];do{for(t=o.reverse(),o=[];r=t.pop();)if(yield r,e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n])}while(o.length)}};const ya=Symbol("implicit");function va(){var t=new Ot,e=[],n=[],i=ya;function r(r){let o=t.get(r);if(void 0===o){if(i!==ya)return i;t.set(r,o=e.push(r)-1)}return n[o%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Ot;for(const i of n)t.has(i)||t.set(i,e.push(i)-1);return r},r.range=function(t){return arguments.length?(n=Array.from(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return va(e,n).unknown(i)},ma.apply(r,arguments),r}function xa(){var t,e,n=va().unknown(void 0),i=n.domain,r=n.range,o=0,l=1,a=!1,s=0,c=0,u=.5;function f(){var n=i().length,f=l<o,d=f?l:o,h=f?o:l;t=(h-d)/Math.max(1,n-s+2*c),a&&(t=Math.floor(t)),d+=(h-d-t*(n-s))*u,e=t*(1-s),a&&(d=Math.round(d),e=Math.round(e));var p=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}(n).map((function(e){return d+t*e}));return r(f?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),f()):i()},n.range=function(t){return arguments.length?([o,l]=t,o=+o,l=+l,f()):[o,l]},n.rangeRound=function(t){return[o,l]=t,o=+o,l=+l,a=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,f()):a},n.padding=function(t){return arguments.length?(s=Math.min(1,c=+t),f()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),f()):s},n.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),f()):u},n.copy=function(){return xa(i(),[o,l]).round(a).paddingInner(s).paddingOuter(c).align(u)},ma.apply(f(),arguments)}function wa(t){return+t}var $a=[0,1];function ba(t){return t}function _a(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function ka(t,e,n){var i=t[0],r=t[1],o=e[0],l=e[1];return r<i?(i=_a(r,i),o=n(l,o)):(i=_a(i,r),o=n(o,l)),function(t){return o(i(t))}}function Sa(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<i;)r[l]=_a(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(e){var n=Tt(t,e,1,i)-1;return o[n](r[n](e))}}function Ma(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ea(){var t,e,n,i,r,o,l=$a,a=$a,s=ii,c=ba;function u(){var t,e,n,s=Math.min(l.length,a.length);return c!==ba&&(t=l[0],e=l[s-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),i=s>2?Sa:ka,r=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(r||(r=i(l.map(t),a,s)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=i(a,l.map(t),Qn)))(n)))},f.domain=function(t){return arguments.length?(l=Array.from(t,wa),u()):l.slice()},f.range=function(t){return arguments.length?(a=Array.from(t),u()):a.slice()},f.rangeRound=function(t){return a=Array.from(t),s=ri,u()},f.clamp=function(t){return arguments.length?(c=!!t||ba,u()):c!==ba},f.interpolate=function(t){return arguments.length?(s=t,u()):s},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,i){return t=n,e=i,u()}}function Aa(t,e,n,i){var r,o=function(t,e,n){n=+n;const i=(e=+e)<(t=+t),r=i?Ht(e,t,n):Ht(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}(t,e,n);switch((i=Ir(null==i?",f":i)).type){case"s":var l=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Pr(e)/3)))-Pr(Math.abs(t)))}(o,l))||(i.precision=r),Fr(i,l);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Pr(e)-Pr(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Pr(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return Br(i)}function Ra(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const i=e<t,[r,o,l]=i?jt(e,t,n):jt(t,e,n);if(!(o>=r))return[];const a=o-r+1,s=new Array(a);if(i)if(l<0)for(let t=0;t<a;++t)s[t]=(o-t)/-l;else for(let t=0;t<a;++t)s[t]=(o-t)*l;else if(l<0)for(let t=0;t<a;++t)s[t]=(r+t)/-l;else for(let t=0;t<a;++t)s[t]=(r+t)*l;return s}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return Aa(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r,o=e(),l=0,a=o.length-1,s=o[l],c=o[a],u=10;for(c<s&&(r=s,s=c,c=r,r=l,l=a,a=r);u-- >0;){if((r=Ht(s,c,n))===i)return o[l]=s,o[a]=c,e(o);if(r>0)s=Math.floor(s/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;s=Math.ceil(s*r)/r,c=Math.floor(c*r)/r}i=r}return t},t}function Na(){var t=Ea()(ba,ba);return t.copy=function(){return Ma(t,Na())},ma.apply(t,arguments),Ra(t)}function Ta(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ca(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Oa(t){return t<0?-t*t:t*t}function Pa(t){var e=t(ba,ba),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(ba,ba):.5===n?t(Ca,Oa):t(Ta(n),Ta(1/n)):n},Ra(e)}function za(){var t=Pa(Ea());return t.copy=function(){return Ma(t,za()).exponent(t.exponent())},ma.apply(t,arguments),t}function La(t){return function(){return t}}function Ia(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new wr(e)}var Wa=Array.prototype.slice;function Da(t){this._context=t}function qa(t){return new Da(t)}function ja(t){return t[0]}function Ha(t){return t[1]}function Ba(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Da.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};class Fa{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,e){if(t=+t,e=+e,0===this._point)this._point=1;else{const n=Ba(this._x0,this._y0),i=Ba(this._x0,this._y0=(this._y0+e)/2),r=Ba(t,this._y0),o=Ba(t,e);this._context.moveTo(...n),this._context.bezierCurveTo(...i,...r,...o)}this._x0=t,this._y0=e}}function Ga(t){return new Fa(t)}function Xa(t){return t.source}function Va(t){return t.target}function Ya(){const t=function(t){let e=Xa,n=Va,i=ja,r=Ha,o=null,l=null,a=Ia(s);function s(){let s;const c=Wa.call(arguments),u=e.apply(this,c),f=n.apply(this,c);if(null==o&&(l=t(s=a())),l.lineStart(),c[0]=u,l.point(+i.apply(this,c),+r.apply(this,c)),c[0]=f,l.point(+i.apply(this,c),+r.apply(this,c)),l.lineEnd(),s)return l=null,s+""||null}return s.source=function(t){return arguments.length?(e=t,s):e},s.target=function(t){return arguments.length?(n=t,s):n},s.x=function(t){return arguments.length?(i="function"==typeof t?t:La(+t),s):i},s.y=function(t){return arguments.length?(r="function"==typeof t?t:La(+t),s):r},s.context=function(e){return arguments.length?(null==e?o=l=null:l=t(o=e),s):o},s}(Ga);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}function Ua(t){return t<0?-1:1}function Ja(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),l=(n-t._y1)/(r||i<0&&-0),a=(o*r+l*i)/(i+r);return(Ua(o)+Ua(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(a))||0}function Za(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Qa(t,e,n){var i=t._x0,r=t._y0,o=t._x1,l=t._y1,a=(o-i)/3;t._context.bezierCurveTo(i+a,r+a*e,o-a,l-a*n,o,l)}function Ka(t){this._context=t}function ts(t){this._context=t}function es(t,e,n){this.k=t,this.x=e,this.y=n}Ka.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qa(this,this._t0,Za(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Qa(this,Za(this,n=Ja(this,t,e)),n);break;default:Qa(this,this._t0,n=Ja(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(function(t){this._context=new ts(t)}.prototype=Object.create(Ka.prototype)).point=function(t,e){Ka.prototype.point.call(this,e,t)},ts.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},es.prototype={constructor:es,scale:function(t){return 1===t?this:new es(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new es(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ns=new es(1,0,0);const is=[];function rs(e,n=t){let i;const r=new Set;function o(t){if(a(e,t)&&(e=t,i)){const t=!is.length;for(const t of r)t[1](),is.push(t,e);if(t){for(let t=0;t<is.length;t+=2)is[t][0](is[t+1]);is.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(l,a=t){const s=[l,a];return r.add(s),1===r.size&&(i=n(o)||t),l(e),()=>{r.delete(s),0===r.size&&i&&(i(),i=null)}}}}function os(e,n,i){const r=!Array.isArray(e),a=r?[e]:e,s=n.length<2;return function(t,e){return{subscribe:rs(t,e).subscribe}}(i,(e=>{let i=!1;const c=[];let f=0,d=t;const h=()=>{if(f)return;d();const i=n(r?c[0]:c,e);s?e(i):d=l(i)?i:t},p=a.map(((t,e)=>u(t,(t=>{c[e]=t,f&=~(1<<e),i&&h()}),(()=>{f|=1<<e}))));return i=!0,h(),function(){o(p),d(),i=!1}}))}const ls=rs([]);let as={name:"pax",children:[{name:"Participation",colname:"level2",key:"WggPar",children:[{name:"Gender quotas",colname:"level3",key:"WggGenQuot"},{name:"Effective participation",colname:"level3",key:"WggEffPart"},{name:"Citizenship",colname:"level3",key:"WggCitizen"},{name:"Other",colname:"level3",key:"WggParOth"}]},{name:"Equality",colname:"level2",key:"WggEq",children:[{name:"Equality (general)",colname:"level3",key:"WggEqGen"},{name:"Social equality",colname:"level3",key:"WggSocEq"},{name:"Other",colname:"level3",key:"WggEqOth"}]},{name:"Particular groups of women",colname:"level2",key:"WggGrp",children:[{name:"Indigenous/nomadic women",colname:"level3",key:"WggIndNom"},{name:"Refugee / Displaced women",colname:"level3",key:"WggRefDisp"},{name:"Pregnancy/Maternity",colname:"level3",key:"WggPreg"},{name:"Other",colname:"level3",key:"WggGrpOth"}]},{name:"International law",colname:"level2",key:"WggIntLaw",children:[{name:"General mentions of international human rights law",colname:"level3",key:"WggHR"},{name:"International human rights standards",colname:"level3",key:"WggHrSta"},{name:"References to UNSCR 1325",colname:"level3",key:"WggUnsc"},{name:"Other",colname:"level3",key:"WggIntLawOth"}]},{name:"New Institutions",colname:"level2",key:"WggNewInst",children:[{name:"Institutions for women",colname:"level3",key:"WggInstWom"},{name:"Infrastructure (general)",colname:"level3",key:"WggInf"},{name:"Reconciliation and Peace",colname:"level3",key:"WggRecon"},{name:"Other",colname:"level3",key:"WggNewInstOth"}]},{name:"Violence Against women",colname:"level2",key:"WggVio",children:[{name:"Sexual violence",colname:"level3",key:"WggVioSex"},{name:"Gender-based violence / VAW (general)",colname:"level3",key:"WggVioGen"},{name:"Protection (general)",colname:"level3",key:"WggVioProt"},{name:"Other",colname:"level3",key:"WggVioOth"}]},{name:"Transitional Justice",colname:"level2",key:"WggTraJus",children:[{name:"Past and gender",colname:"level3",key:"WggPast"},{name:"Prisons, prisoner release",colname:"level3",key:"WggPri"},{name:"Other",colname:"level3",key:"WggTraJusOth"}]},{name:"Institutional Reform",colname:"level2",key:"WggInstRef",children:[{name:"Constitution-making/reform",colname:"level3",key:"WggConst"},{name:"Emergency/criminal law/corruption reform",colname:"level3",key:"WggLawRef"},{name:"Judiciary, judicial reform",colname:"level3",key:"WggJud"},{name:"Police",colname:"level3",key:"WggPol"},{name:"DDR, Army, Parastatal or rebel forces",colname:"level3",key:"WggDdr"},{name:"Public administration",colname:"level3",key:"WggPubAdm"},{name:"Other",colname:"level3",key:"WggInstRefOth"}]},{name:"Development",colname:"level2",key:"WggDev",children:[{name:"General",colname:"level3",key:"WggDevGen"},{name:"Rehabilitation and reconstruction",colname:"level3",key:"WggRehab"},{name:"Education",colname:"level3",key:"WggEdu"},{name:"Health (general)",colname:"level3",key:"WggHea"},{name:"Reproductive rights",colname:"level3",key:"WggRepro"},{name:"Other",colname:"level3",key:"WggDevOth"}]},{name:"Implementation",colname:"level2",key:"WggImpl",children:[{name:"Women’s role and consideration in implementation of the agreement",colname:"level3",key:"WggImplRole"},{name:"Signing or Witnessing agreement",colname:"level3",key:"WggImplSign"},{name:"Other",colname:"level3",key:"WggImplOth"}]},{name:"Other",colname:"level2",key:"WggOth",children:[{name:"Other",colname:"level3",key:"WggOth"}]}]};async function ss(t){const e=t.map((t=>async function(t){return await Tr(t)}(t)));return await Promise.all(e)}async function cs(t){const e=function(t,e){return fetch(t,e).then(Cr)}(t);return e}ls.subscribe((t=>{}));(function(t,e){var n=La(!0),i=null,r=qa,o=null,l=Ia(a);function a(a){var s,c,u,f=(a=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(a)).length,d=!1;for(null==i&&(o=r(u=l())),s=0;s<=f;++s)!(s<f&&n(c=a[s],s,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(c,s,a),+e(c,s,a));if(u)return o=null,u+""||null}return t="function"==typeof t?t:void 0===t?ja:La(t),e="function"==typeof e?e:void 0===e?Ha:La(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:La(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:La(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:La(!!t),a):n},a.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),a):r},a.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),a):i},a})().x((t=>t[0])).y((t=>t[1])).curve((function(t){return new Ka(t)}));let us=["1990","1991","1992","1993","1994","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023","2024"];function fs(t){const e={};t.forEach((t=>{e[t.Loc1ISO]?e[t.Loc1ISO]++:e[t.Loc1ISO]=1}));const n=Object.entries(e).map((([t,e])=>({iso:t,count:e})));return n.filter((t=>""!=t.iso))}let ds=3;function hs(t,e,n,i){let r=Math.ceil(Math.sqrt(i*(n/e))),o=Math.ceil(i/r),l=(n-(r-1)*ds)/r,a=(e-(o-1)*ds)/o;return t.map(((t,n)=>({x:n%r*(l+ds)+2*Math.random()-1,y:e-(Math.floor(n/r)+1)*(a+ds)+2*Math.random()-1,width:l,height:a,id:t.AgtId,info:t.Agt})))}function ps(t,e,n){let i=t,r=(n-60)/7,o=(r-18)/10,l=Math.max(...i.map((([t,e])=>e.length))),a=Math.ceil(l/10),s=(e-2*(a-1))/a,c=i.flatMap((([t,n],i)=>n.map(((t,n)=>{let l=i*(r+10),a=Math.floor(n/10),c=e-(a+1)*(s+2);return{x:l+n%10*(o+2)+2*Math.random()-1,y:c+2*Math.random()-1,width:o,height:s,info:t.Agt,id:t.AgtId}}))));return c}function gs(t){let e,n,i,r;const o=t[3].default,l=d(o,t,t[2],null);return{c(){e=R("header"),n=R("div"),i=R("div"),l&&l.c(),Y(i,"center",t[0]),I(n,"class","v-padded col-wide middle svelte-11k4qos"),B(n,"position","relative"),Y(n,"short",t[1]),Y(n,"height-full",!t[1]),B(e,"color","white"),B(e,"background-color","#001C23"),I(e,"class","svelte-11k4qos"),Y(e,"short",t[1])},m(t,o){M(t,e,o),S(e,n),S(n,i),l&&l.m(i,null),r=!0},p(t,[a]){l&&l.p&&(!r||4&a)&&g(l,o,t,t[2],r?p(o,t[2],a,null):m(t[2]),null),(!r||1&a)&&Y(i,"center",t[0]),(!r||2&a)&&Y(n,"short",t[1]),(!r||2&a)&&Y(n,"height-full",!t[1]),(!r||2&a)&&Y(e,"short",t[1])},i(t){r||(xt(l,t),r=!0)},o(t){wt(l,t),r=!1},d(t){t&&E(e),l&&l.d(t)}}}function ms(t,e,n){let{$$slots:i={},$$scope:r}=e,{center:o=!0}=e,{short:l=!1}=e;return t.$$set=t=>{"center"in t&&n(0,o=t.center),"short"in t&&n(1,l=t.short),"$$scope"in t&&n(2,r=t.$$scope)},[o,l,r,i]}class ys extends Mt{constructor(t){super(),St(this,t,ms,gs,a,{center:0,short:1})}}const{window:vs}=k,xs=t=>({}),ws=t=>({}),$s=t=>({}),bs=t=>({});function _s(t){let e,n,i,r,o,l,a,s;ct(t[21]);const c=t[20].background,u=d(c,t,t[19],bs),f=t[20].foreground,h=d(f,t,t[19],ws);return{c(){e=R("svelte-scroller-outer"),n=R("svelte-scroller-background-container"),i=R("svelte-scroller-background"),u&&u.c(),r=C(),o=R("svelte-scroller-foreground"),h&&h.c(),q(i,"class","svelte-15scopa"),q(n,"class","background-container svelte-15scopa"),q(o,"class","svelte-15scopa"),q(e,"style",t[6]),q(e,"class","svelte-15scopa"),Y(e,"splitscreen",t[0])},m(c,f){M(c,e,f),S(e,n),S(n,i),u&&u.m(i,null),t[22](i),t[23](n),S(e,r),S(e,o),h&&h.m(o,null),t[24](o),t[25](e),l=!0,a||(s=P(vs,"resize",t[21]),a=!0)},p(t,n){u&&u.p&&(!l||524288&n[0])&&g(u,c,t,t[19],l?p(c,t[19],n,$s):m(t[19]),bs),h&&h.p&&(!l||524288&n[0])&&g(h,f,t,t[19],l?p(f,t[19],n,xs):m(t[19]),ws),(!l||64&n[0])&&q(e,"style",t[6]),(!l||1&n[0])&&Y(e,"splitscreen",t[0])},i(t){l||(xt(u,t),xt(h,t),l=!0)},o(t){wt(u,t),wt(h,t),l=!1},d(n){n&&E(e),u&&u.d(n),t[22](null),t[23](null),h&&h.d(n),t[24](null),t[25](null),a=!1,s()}}}const ks=[];let Ss;if("undefined"!=typeof window){const t=()=>ks.forEach((t=>t()));window.addEventListener("scroll",t),window.addEventListener("resize",t)}if("undefined"!=typeof IntersectionObserver){const t=new Map,e=new IntersectionObserver(((e,n)=>{e.forEach((e=>{const n=t.get(e.target),i=ks.indexOf(n);e.isIntersecting?-1===i&&ks.push(n):(n(),-1!==i&&ks.splice(i,1))}))}),{rootMargin:"400px 0px"});Ss={add:({outer:n,update:i})=>{const{top:r,bottom:o}=n.getBoundingClientRect();r<window.innerHeight&&o>0&&ks.push(i),t.set(n,i),e.observe(n)},remove:({outer:n,update:i})=>{const r=ks.indexOf(i);-1!==r&&ks.splice(r,1),t.delete(n),e.unobserve(n)}}}else Ss={add:({update:t})=>{ks.push(t)},remove:({update:t})=>{const e=ks.indexOf(t);-1!==e&&ks.splice(e,1)}};function Ms(t,e,n){let i,r,o,l,a,s,c,u,f,d,h,{$$slots:p={},$$scope:g}=e,{top:m=0}=e,{bottom:y=1}=e,{threshold:v=.5}=e,{query:x="section"}=e,{parallax:w=!1}=e,{shadow:$}=e,{index:b=0}=e,{count:_=0}=e,{offset:k=0}=e,{progress:S=0}=e,{visible:M=!1}=e,{splitscreen:E=!1}=e,{id:A=null}=e,R=0,N=1;function T(){if(a){let t=`position: ${d?"fixed":"absolute"}; top: 0; transform: translate(0, ${h}px); width: ${N}px; z-index: 1;`;n(3,a.style.cssText=t,a)}}function C(){if(!s)return;const t=l.getBoundingClientRect();u=t.left,N=t.right-t.left;const e=s.getBoundingClientRect(),a=c.getBoundingClientRect();n(11,M=e.top<R&&e.bottom>0);const p=e.bottom-e.top,g=a.bottom-a.top,m=r-i;for(n(10,S=(i-e.top)/(p-m)),S<=0?(h=0,d&&(d=!1,T())):S>=1?(h=w?p-g:p-m,d&&(d=!1,T())):(h=w?Math.round(i-S*(g-m)):i,d||(d=!0,T())),n(7,b=0);b<f.length;n(7,b+=1)){const t=f[b],{top:i}=t.getBoundingClientRect(),r=f[b+1],l=r?r.getBoundingClientRect().top:e.bottom;if(n(9,k=(o-i)/(l-i)),n(12,A=t.dataset.id?t.dataset.id:null),l>=o)break}}Z((()=>{f=s.querySelectorAll(x),n(8,_=f.length),C();const t={outer:l,update:C};return Ss.add(t),()=>Ss.remove(t)}));let O="";return $&&(O="box-shadow: inset 0 -10px 10px -8px rgba(0, 0, 0, 1); background-color: gray"),t.$$set=t=>{"top"in t&&n(13,m=t.top),"bottom"in t&&n(14,y=t.bottom),"threshold"in t&&n(15,v=t.threshold),"query"in t&&n(16,x=t.query),"parallax"in t&&n(17,w=t.parallax),"shadow"in t&&n(18,$=t.shadow),"index"in t&&n(7,b=t.index),"count"in t&&n(8,_=t.count),"offset"in t&&n(9,k=t.offset),"progress"in t&&n(10,S=t.progress),"visible"in t&&n(11,M=t.visible),"splitscreen"in t&&n(0,E=t.splitscreen),"id"in t&&n(12,A=t.id),"$$scope"in t&&n(19,g=t.$$scope)},t.$$.update=()=>{8194&t.$$.dirty[0]&&(i=Math.round(m*R)),16386&t.$$.dirty[0]&&(r=Math.round(y*R)),32770&t.$$.dirty[0]&&(o=Math.round(v*R)),188416&t.$$.dirty[0]&&C()},[E,R,l,a,s,c,O,b,_,k,S,M,A,m,y,v,x,w,$,g,p,function(){n(1,R=vs.innerHeight)},function(t){nt[t?"unshift":"push"]((()=>{c=t,n(5,c)}))},function(t){nt[t?"unshift":"push"]((()=>{a=t,n(3,a)}))},function(t){nt[t?"unshift":"push"]((()=>{s=t,n(4,s)}))},function(t){nt[t?"unshift":"push"]((()=>{l=t,n(2,l)}))}]}class Es extends Mt{constructor(t){super(),St(this,t,Ms,_s,a,{top:13,bottom:14,threshold:15,query:16,parallax:17,shadow:18,index:7,count:8,offset:9,progress:10,visible:11,splitscreen:0,id:12},null,[-1,-1])}}function As(t){const e=t-1;return e*e*e+1}function Rs(t){return"[object Date]"===Object.prototype.toString.call(t)}function Ns(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>Ns(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(Rs(t)&&Rs(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),i={};return n.forEach((n=>{i[n]=Ns(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=i[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function Ts(t,i={}){const r=rs(t);let o,l=t;function a(a,s){if(null==t)return r.set(t=a),Promise.resolve();l=a;let c=o,u=!1,{delay:f=0,duration:d=400,easing:h=e,interpolate:p=Ns}=n(n({},i),s);if(0===d)return c&&(c.abort(),c=null),r.set(t=l),Promise.resolve();const g=w()+f;let m;return o=function(t){let e;return 0===b.size&&$(_),{promise:new Promise((n=>{b.add(e={c:t,f:n})})),abort(){b.delete(e)}}}((e=>{if(e<g)return!0;u||(m=p(t,a),"function"==typeof d&&(d=d(t,a)),u=!0),c&&(c.abort(),c=null);const n=e-g;return n>d?(r.set(t=a),!1):(r.set(t=m(h(n/d))),!0)})),o.promise}return{set:a,update:(e,n)=>a(e(l,t),n),subscribe:r.subscribe}}function Cs(e){let n,i,r,l,a,s;return{c(){n=N("g"),i=N("rect"),I(i,"id",r="id_"+e[0]),I(i,"x","0"),I(i,"y","0"),I(i,"width",e[4]),I(i,"height",e[5]),I(i,"rx","1"),I(i,"fill","#F6F1D6"),I(i,"stroke","gray"),I(i,"stroke-width","0.5"),I(i,"class","svelte-aanmc6"),Y(i,"is-hovered",e[1]),I(n,"transform",l="translate("+e[2]+" "+e[3]+")")},m(t,r){M(t,n,r),S(n,i),a||(s=[P(i,"mouseenter",e[10]),P(i,"mouseleave",e[11])],a=!0)},p(t,[e]){1&e&&r!==(r="id_"+t[0])&&I(i,"id",r),16&e&&I(i,"width",t[4]),32&e&&I(i,"height",t[5]),2&e&&Y(i,"is-hovered",t[1]),12&e&&l!==(l="translate("+t[2]+" "+t[3]+")")&&I(n,"transform",l)},i:t,o:t,d(t){t&&E(n),a=!1,o(s)}}}function Os(t,e,n){let i,r,o,l,{x:a}=e,{y:s}=e,{id:c}=e,{width:u}=e,{height:d}=e,{info:h}=e,{i:p}=e;const g=K(),m={delay:p/4*Math.random(),duration:300,easing:As},y=Ts(null,m);f(t,y,(t=>n(2,i=t)));const v=Ts(null,m);f(t,v,(t=>n(3,r=t)));const x=Ts(null,{duration:300,easing:As});f(t,x,(t=>n(4,o=t)));const w=Ts(null,m);f(t,w,(t=>n(5,l=t)));let $=!1;return t.$$set=t=>{"x"in t&&n(12,a=t.x),"y"in t&&n(13,s=t.y),"id"in t&&n(0,c=t.id),"width"in t&&n(14,u=t.width),"height"in t&&n(15,d=t.height),"info"in t&&n(16,h=t.info),"i"in t&&n(17,p=t.i)},t.$$.update=()=>{4096&t.$$.dirty&&y.set(a),8192&t.$$.dirty&&v.set(s),16384&t.$$.dirty&&x.set(u),32768&t.$$.dirty&&w.set(d)},[c,$,i,r,o,l,y,v,x,w,()=>{n(1,$=!0),g("hover",{x:a,y:s,info:h})},()=>{setTimeout((()=>{n(1,$=!1)}),0),g("leave")},a,s,u,d,h,p]}class Ps extends Mt{constructor(t){super(),St(this,t,Os,Cs,a,{x:12,y:13,id:0,width:14,height:15,info:16,i:17})}}function zs(e){let n,i,r;return{c(){n=N("g"),i=N("rect"),I(i,"x","0"),I(i,"y","0"),I(i,"width",e[2]),I(i,"height",e[3]),I(i,"rx","1"),I(i,"stroke","#595959"),I(i,"stroke-width","0.5"),I(i,"class","svelte-ulxzp1"),I(n,"transform",r="translate("+e[0]+" "+e[1]+")")},m(t,e){M(t,n,e),S(n,i)},p(t,[e]){4&e&&I(i,"width",t[2]),8&e&&I(i,"height",t[3]),3&e&&r!==(r="translate("+t[0]+" "+t[1]+")")&&I(n,"transform",r)},i:t,o:t,d(t){t&&E(n)}}}function Ls(t,e,n){let i,r,o,l,{i:a}=e,{x:s}=e,{y:c}=e,{width:u}=e,{height:d}=e;const h={delay:a/4*Math.random(),duration:300,easing:As},p=Ts(null,h);f(t,p,(t=>n(0,i=t)));const g=Ts(null,h);f(t,g,(t=>n(1,r=t)));const m=Ts(null,{duration:300,easing:As});f(t,m,(t=>n(2,o=t)));const y=Ts(null,h);return f(t,y,(t=>n(3,l=t))),t.$$set=t=>{"i"in t&&n(8,a=t.i),"x"in t&&n(9,s=t.x),"y"in t&&n(10,c=t.y),"width"in t&&n(11,u=t.width),"height"in t&&n(12,d=t.height)},t.$$.update=()=>{512&t.$$.dirty&&p.set(s),1024&t.$$.dirty&&g.set(c),2048&t.$$.dirty&&m.set(u),4096&t.$$.dirty&&y.set(d)},[i,r,o,l,p,g,m,y,a,s,c,u,d]}class Is extends Mt{constructor(t){super(),St(this,t,Ls,zs,a,{i:8,x:9,y:10,width:11,height:12})}}function Ws(t,e,n){const i=t.slice();return i[25]=e[n],i[27]=n,i}function Ds(t,e,n){const i=t.slice();return i[25]=e[n],i[27]=n,i}function qs(t,e,n){const i=t.slice();return i[25]=e[n],i[27]=n,i}function js(t){let e,n,i,r,o,l,a,s,u,f,d,h,p,g,m,y=t[10],v=[];for(let e=0;e<y.length;e+=1)v[e]=Hs(qs(t,y,e));let x=t[7],w=[];for(let e=0;e<x.length;e+=1)w[e]=Bs(Ds(t,x,e));const $=t=>wt(w[t],1,1,(()=>{w[t]=null}));let b=t[6],_=[];for(let e=0;e<b.length;e+=1)_[e]=Fs(Ws(t,b,e));const k=t=>wt(_[t],1,1,(()=>{_[t]=null}));let T=t[8]&&Gs(t),z=t[3].visible&&Xs(t);return{c(){e=R("div"),n=N("svg"),i=N("g");for(let t=0;t<v.length;t+=1)v[t].c();r=O();for(let t=0;t<w.length;t+=1)w[t].c();o=O();for(let t=0;t<_.length;t+=1)_[t].c();T&&T.c(),a=C(),z&&z.c(),s=C(),u=R("div"),f=R("img"),I(i,"class","timeline"),I(i,"transform",l="translate("+t[11].left+", "+t[11].top+")"),I(n,"width",t[0]),I(n,"height",t[1]),I(f,"class","example_img svelte-h6te49"),c(f.src,d=Ys)||I(f,"src",d),I(f,"alt","agt"),I(u,"id","example_stage"),I(u,"class","svelte-h6te49"),I(e,"class","wrapper svelte-h6te49"),ct((()=>t[21].call(e)))},m(l,c){M(l,e,c),S(e,n),S(n,i);for(let t=0;t<v.length;t+=1)v[t]&&v[t].m(i,null);S(i,r);for(let t=0;t<w.length;t+=1)w[t]&&w[t].m(i,null);S(i,o);for(let t=0;t<_.length;t+=1)_[t]&&_[t].m(i,null);T&&T.m(n,null),S(e,a),z&&z.m(e,null),S(e,s),S(e,u),S(u,f),t[20](f),h=V(e,t[21].bind(e)),p=!0,g||(m=P(f,"load",t[12]),g=!0)},p(t,l){if(1540&l){let e;for(y=t[10],e=0;e<y.length;e+=1){const n=qs(t,y,e);v[e]?v[e].p(n,l):(v[e]=Hs(n),v[e].c(),v[e].m(i,r))}for(;e<v.length;e+=1)v[e].d(1);v.length=y.length}if(128&l){let e;for(x=t[7],e=0;e<x.length;e+=1){const n=Ds(t,x,e);w[e]?(w[e].p(n,l),xt(w[e],1)):(w[e]=Bs(n),w[e].c(),xt(w[e],1),w[e].m(i,o))}for(yt(),e=x.length;e<w.length;e+=1)$(e);vt()}if(24640&l){let e;for(b=t[6],e=0;e<b.length;e+=1){const n=Ws(t,b,e);_[e]?(_[e].p(n,l),xt(_[e],1)):(_[e]=Fs(n),_[e].c(),xt(_[e],1),_[e].m(i,null))}for(yt(),e=b.length;e<_.length;e+=1)k(e);vt()}t[8]?T?T.p(t,l):(T=Gs(t),T.c(),T.m(n,null)):T&&(T.d(1),T=null),(!p||1&l)&&I(n,"width",t[0]),(!p||2&l)&&I(n,"height",t[1]),t[3].visible?z?z.p(t,l):(z=Xs(t),z.c(),z.m(e,s)):z&&(z.d(1),z=null)},i(t){if(!p){for(let t=0;t<x.length;t+=1)xt(w[t]);for(let t=0;t<b.length;t+=1)xt(_[t]);p=!0}},o(t){w=w.filter(Boolean);for(let t=0;t<w.length;t+=1)wt(w[t]);_=_.filter(Boolean);for(let t=0;t<_.length;t+=1)wt(_[t]);p=!1},d(n){n&&E(e),A(v,n),A(w,n),A(_,n),T&&T.d(),z&&z.d(),t[20](null),h(),g=!1,m()}}}function Hs(t){let e,n,i,r,o=t[25]+"";return{c(){e=N("text"),n=T(o),I(e,"x",i=t[9]*t[27]+t[9]/2),I(e,"y",r=t[2]+14),I(e,"text-anchor","middle"),I(e,"font-family","Montserrat"),I(e,"fill","white"),I(e,"font-size","14px")},m(t,i){M(t,e,i),S(e,n)},p(t,n){512&n&&i!==(i=t[9]*t[27]+t[9]/2)&&I(e,"x",i),4&n&&r!==(r=t[2]+14)&&I(e,"y",r)},d(t){t&&E(e)}}}function Bs(t){let e,n;return e=new Is({props:{i:t[27],x:t[25].x,y:t[25].y,width:t[25].width,height:t[25].height}}),{c(){bt(e.$$.fragment)},m(t,i){_t(e,t,i),n=!0},p(t,n){const i={};128&n&&(i.x=t[25].x),128&n&&(i.y=t[25].y),128&n&&(i.width=t[25].width),128&n&&(i.height=t[25].height),e.$set(i)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function Fs(t){let e,n;return e=new Ps({props:{i:t[27],x:t[25].x,y:t[25].y,width:t[25].width,height:t[25].height,info:t[25].info,id:t[25].id}}),e.$on("hover",t[13]),e.$on("leave",t[14]),{c(){bt(e.$$.fragment)},m(t,i){_t(e,t,i),n=!0},p(t,n){const i={};64&n&&(i.x=t[25].x),64&n&&(i.y=t[25].y),64&n&&(i.width=t[25].width),64&n&&(i.height=t[25].height),64&n&&(i.info=t[25].info),64&n&&(i.id=t[25].id),e.$set(i)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function Gs(t){let e,n;return{c(){e=N("path"),I(e,"id","example_stage"),I(e,"d",n=`M ${2*t[9]},${t[2]-30} \n                       C ${2*t[9]},${t[2]-100} \n                         ${t[5]},${t[8]+100} \n                         ${t[5]},${t[8]}`),I(e,"fill","none"),I(e,"stroke","white"),I(e,"stroke-width","1"),I(e,"opacity","0"),I(e,"class","svelte-h6te49")},m(t,n){M(t,e,n)},p(t,i){804&i&&n!==(n=`M ${2*t[9]},${t[2]-30} \n                       C ${2*t[9]},${t[2]-100} \n                         ${t[5]},${t[8]+100} \n                         ${t[5]},${t[8]}`)&&I(e,"d",n)},d(t){t&&E(e)}}}function Xs(t){let e,n,i,r=t[3].info+"";return{c(){e=R("div"),n=R("p"),i=T(r),I(n,"class","svelte-h6te49"),I(e,"class","tooltip svelte-h6te49"),B(e,"position","absolute"),B(e,"left",t[3].x+"px"),B(e,"top",t[3].y+"px")},m(t,r){M(t,e,r),S(e,n),S(n,i)},p(t,n){8&n&&r!==(r=t[3].info+"")&&j(i,r),8&n&&B(e,"left",t[3].x+"px"),8&n&&B(e,"top",t[3].y+"px")},d(t){t&&E(e)}}}function Vs(t){let e,n,i=t[6]&&js(t);return{c(){i&&i.c(),e=O()},m(t,r){i&&i.m(t,r),M(t,e,r),n=!0},p(t,[n]){t[6]?i?(i.p(t,n),64&n&&xt(i,1)):(i=js(t),i.c(),xt(i,1),i.m(e.parentNode,e)):i&&(yt(),wt(i,1,1,(()=>{i=null})),vt())},i(t){n||(xt(i),n=!0)},o(t){wt(i),n=!1},d(t){i&&i.d(t),t&&E(e)}}}let Ys="./img/africa.png";function Us(t,e,n){let i,r,o,l,a,s,c,u,f,d,h,{pax:p}=e,{pax_stages:g}=e,{step:m}=e,y={visible:!1,x:0,y:0,info:""},v=400,x=400;const w={top:20,right:20,bottom:20,left:40};let $;return t.$$set=t=>{"pax"in t&&n(15,p=t.pax),"pax_stages"in t&&n(16,g=t.pax_stages),"step"in t&&n(17,m=t.step)},t.$$.update=()=>{1&t.$$.dirty&&n(19,u=v-w.left-w.right),2&t.$$.dirty&&n(2,f=x-w.top-w.bottom),524288&t.$$.dirty&&n(9,i=u/7),524288&t.$$.dirty&&(d=xa().domain(us).range([0,u]).padding(.1)),4&t.$$.dirty&&(h=Na().domain([0,100]).range([f,0])),622596&t.$$.dirty&&p&&g&&(c=p.length,n(6,a=ps(g,f,u)),n(7,s=ps(g,f,u))),720900&t.$$.dirty&&("stage01"==m?n(6,a=ps(g,f,u)):"stage02"==m?(n(6,a=function(t,e,n,i){let r=t,o=(n-60)/7,l=(o-18)/10,a=Math.max(...r.map((([t,e])=>e.length))),s=Math.ceil(a/10),c=(e-2*(s-1))/s,u=r.flatMap((([t,n],r)=>{let a=0,s=0;return n.map((t=>{if("0"===t[i])return{x:r*(o+10)+s*(l+2),y:e+100,width:l,height:0,info:t.Agt,id:t.AgtId};let n=r*(o+10)+s*(l+2),u=e-(a+1)*(c+2);return s++,s>=10&&(s=0,a++),{x:n+2*Math.random()-1,y:u+2*Math.random()-1,width:l,height:c,info:t.Agt,id:t.AgtId}}))}));return u}(g,f,u,"GeWom")),un("#example_stage").style("opacity",0)):"stage03"==m&&un("#example_stage").style("opacity",1)),262148&t.$$.dirty&&f&&n(8,$=f-(f-l))},[v,x,f,y,r,o,a,s,$,i,["Pre-Negotiation","Ceasefire","Partial","Comprehensive","Implementation","Renewal","Other"],w,function(){if(r){const t=r.getBoundingClientRect();n(18,l=t.height),n(5,o=t.x)}},t=>{let e,i;t.detail.x>=u/2?e=t.detail.x-140:t.detail.x<u/2&&(e=t.detail.x+70),t.detail.y>=f/2?i=t.detail.y-50:t.detail.y<f/2&&(i=t.detail.y),n(3,y={visible:!0,x:e,y:i,info:t.detail.info})},()=>{n(3,y={...y,visible:!1})},p,g,m,l,u,function(t){nt[t?"unshift":"push"]((()=>{r=t,n(4,r)}))},function(){v=this.clientWidth,x=this.clientHeight,n(0,v),n(1,x)}]}class Js extends Mt{constructor(t){super(),St(this,t,Us,Vs,a,{pax:15,pax_stages:16,step:17})}}function Zs(t,e,n){const i=t.slice();return i[16]=e[n],i[18]=n,i}function Qs(t,e,n){const i=t.slice();return i[16]=e[n],i[18]=n,i}function Ks(t){let e,n,i,r,o,l,a,s,c=t[4],u=[];for(let e=0;e<c.length;e+=1)u[e]=tc(Qs(t,c,e));const f=t=>wt(u[t],1,1,(()=>{u[t]=null}));let d=t[3],h=[];for(let e=0;e<d.length;e+=1)h[e]=ec(Zs(t,d,e));const p=t=>wt(h[t],1,1,(()=>{h[t]=null}));let g=t[2].visible&&nc(t);return{c(){e=R("div"),n=N("svg"),i=N("g");for(let t=0;t<u.length;t+=1)u[t].c();r=O();for(let t=0;t<h.length;t+=1)h[t].c();l=C(),g&&g.c(),I(i,"class","timeline"),I(i,"transform",o="translate("+t[5].left+", "+t[5].top+")"),I(n,"width",t[0]),I(n,"height",t[1]),I(e,"class","wrapper svelte-1n4lum0"),ct((()=>t[13].call(e)))},m(o,c){M(o,e,c),S(e,n),S(n,i);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(i,null);S(i,r);for(let t=0;t<h.length;t+=1)h[t]&&h[t].m(i,null);S(e,l),g&&g.m(e,null),a=V(e,t[13].bind(e)),s=!0},p(t,o){if(16&o){let e;for(c=t[4],e=0;e<c.length;e+=1){const n=Qs(t,c,e);u[e]?(u[e].p(n,o),xt(u[e],1)):(u[e]=tc(n),u[e].c(),xt(u[e],1),u[e].m(i,r))}for(yt(),e=c.length;e<u.length;e+=1)f(e);vt()}if(200&o){let e;for(d=t[3],e=0;e<d.length;e+=1){const n=Zs(t,d,e);h[e]?(h[e].p(n,o),xt(h[e],1)):(h[e]=ec(n),h[e].c(),xt(h[e],1),h[e].m(i,null))}for(yt(),e=d.length;e<h.length;e+=1)p(e);vt()}(!s||1&o)&&I(n,"width",t[0]),(!s||2&o)&&I(n,"height",t[1]),t[2].visible?g?g.p(t,o):(g=nc(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(t){if(!s){for(let t=0;t<c.length;t+=1)xt(u[t]);for(let t=0;t<d.length;t+=1)xt(h[t]);s=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)wt(u[t]);h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)wt(h[t]);s=!1},d(t){t&&E(e),A(u,t),A(h,t),g&&g.d(),a()}}}function tc(t){let e,n;return e=new Is({props:{i:t[18],x:t[16].x,y:t[16].y,width:t[16].width,height:t[16].height}}),{c(){bt(e.$$.fragment)},m(t,i){_t(e,t,i),n=!0},p(t,n){const i={};16&n&&(i.x=t[16].x),16&n&&(i.y=t[16].y),16&n&&(i.width=t[16].width),16&n&&(i.height=t[16].height),e.$set(i)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function ec(t){let e,n;return e=new Ps({props:{i:t[18],x:t[16].x,y:t[16].y,width:t[16].width,height:t[16].height,info:t[16].info,id:t[16].id}}),e.$on("hover",t[6]),e.$on("leave",t[7]),{c(){bt(e.$$.fragment)},m(t,i){_t(e,t,i),n=!0},p(t,n){const i={};8&n&&(i.x=t[16].x),8&n&&(i.y=t[16].y),8&n&&(i.width=t[16].width),8&n&&(i.height=t[16].height),8&n&&(i.info=t[16].info),8&n&&(i.id=t[16].id),e.$set(i)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function nc(t){let e,n,i,r=t[2].info+"";return{c(){e=R("div"),n=R("p"),i=T(r),I(n,"class","svelte-1n4lum0"),I(e,"class","tooltip svelte-1n4lum0"),B(e,"position","absolute"),B(e,"left",t[2].x+"px"),B(e,"top",t[2].y+"px")},m(t,r){M(t,e,r),S(e,n),S(n,i)},p(t,n){4&n&&r!==(r=t[2].info+"")&&j(i,r),4&n&&B(e,"left",t[2].x+"px"),4&n&&B(e,"top",t[2].y+"px")},d(t){t&&E(e)}}}function ic(t){let e,n,i=t[3]&&Ks(t);return{c(){i&&i.c(),e=O()},m(t,r){i&&i.m(t,r),M(t,e,r),n=!0},p(t,[n]){t[3]?i?(i.p(t,n),8&n&&xt(i,1)):(i=Ks(t),i.c(),xt(i,1),i.m(e.parentNode,e)):i&&(yt(),wt(i,1,1,(()=>{i=null})),vt())},i(t){n||(xt(i),n=!0)},o(t){wt(i),n=!1},d(t){i&&i.d(t),t&&E(e)}}}function rc(t,e,n){let i,r,o,l,a,s,c,{pax:u}=e,{step:f}=e,d={visible:!1,x:0,y:0,info:""},h=400,p=400;const g={top:20,right:20,bottom:20,left:40};return t.$$set=t=>{"pax"in t&&n(8,u=t.pax),"step"in t&&n(9,f=t.step)},t.$$.update=()=>{1&t.$$.dirty&&n(11,l=h-g.left-g.right),2&t.$$.dirty&&n(12,a=p-g.top-g.bottom),2048&t.$$.dirty&&(s=xa().domain(us).range([0,l]).padding(.1)),4096&t.$$.dirty&&(c=Na().domain([0,100]).range([a,0])),7424&t.$$.dirty&&u&&(n(10,o=u.length),n(3,i=hs(u,a,l,o)),n(4,r=hs(u,a,l,o))),7936&t.$$.dirty&&("rect01"==f?n(3,i=hs(u,a,l,o)):"rect02"==f&&n(3,i=function(t,e,n,i){let r=Math.ceil(Math.sqrt(i*(n/e))),o=Math.ceil(i/r),l=(n-(r-1)*ds)/r,a=(e-(o-1)*ds)/o,s=0,c=t.map((t=>{if("0"===t.GeWom)return{x:s%r*(l+ds),y:e+100,width:l,height:a,id:t.AgtId,info:t.Agt};const n=s%r*(l+ds)+2*Math.random()-1,i=e-(Math.floor(s/r)+1)*(a+ds)+2*Math.random()-1;return s++,{x:n,y:i,width:l,height:a,id:t.AgtId,info:t.Agt}}));return c}(u,a,l,o)))},[h,p,d,i,r,g,t=>{let e,i;t.detail.x>=l/2?e=t.detail.x-140:t.detail.x<l/2&&(e=t.detail.x+70),t.detail.y>=a/2?i=t.detail.y-50:t.detail.y<a/2&&(i=t.detail.y),n(2,d={visible:!0,x:e,y:i,info:t.detail.info})},()=>{n(2,d={...d,visible:!1})},u,f,o,l,a,function(){h=this.clientWidth,p=this.clientHeight,n(0,h),n(1,p)}]}class oc extends Mt{constructor(t){super(),St(this,t,rc,ic,a,{pax:8,step:9})}}function lc(t,e,n){const i=t.slice();return i[25]=e[n],i[27]=n,i}function ac(t,e,n){const i=t.slice();return i[25]=e[n],i[27]=n,i}function sc(t,e,n){const i=t.slice();return i[29]=e[n],i}function cc(t){let e,n,i,r,o,l,a,s,u,f,d,h,p,g,m,y,v,x,w,$,b,_,k,z=us,L=[];for(let e=0;e<z.length;e+=1)L[e]=uc(sc(t,z,e));let W=t[7],D=[];for(let e=0;e<W.length;e+=1)D[e]=fc(ac(t,W,e));const q=t=>wt(D[t],1,1,(()=>{D[t]=null}));let j=t[6],H=[];for(let e=0;e<j.length;e+=1)H[e]=dc(lc(t,j,e));const B=t=>wt(H[t],1,1,(()=>{H[t]=null}));let F=t[13]&&hc(t),G=t[5].visible&&pc(t);return{c(){e=R("div"),n=N("svg"),i=N("g"),r=N("g");for(let t=0;t<L.length;t+=1)L[t].c();for(let t=0;t<D.length;t+=1)D[t].c();o=O();for(let t=0;t<H.length;t+=1)H[t].c();l=N("rect"),F&&F.c(),f=N("text"),d=T("UN Resolution 1325"),m=C(),G&&G.c(),y=C(),v=R("div"),x=R("img"),I(r,"class","axis x-axis svelte-114raep"),I(l,"class","un_resolution svelte-114raep"),I(l,"x",a=t[8]("2000")+t[8].bandwidth()/2),I(l,"y",s=20),I(l,"width","1"),I(l,"height",u=t[4]-100),I(l,"fill","white"),I(f,"class","un_resolution svelte-114raep"),I(f,"x",h=t[8]("2000")+t[8].bandwidth()),I(f,"y",p=20),I(f,"fill","white"),I(i,"class","timeline"),I(i,"transform",g="translate("+t[14].left+", "+t[14].top+")"),I(n,"width",t[1]),I(n,"height",t[2]),I(x,"class","example_img svelte-114raep"),c(x.src,w=t[10])||I(x,"src",w),I(x,"alt","agt"),I(v,"id","example"),I(v,"class","svelte-114raep"),I(e,"class","wrapper svelte-114raep"),ct((()=>t[22].call(e)))},m(a,s){M(a,e,s),S(e,n),S(n,i),S(i,r);for(let t=0;t<L.length;t+=1)L[t]&&L[t].m(r,null);for(let t=0;t<D.length;t+=1)D[t]&&D[t].m(i,null);S(i,o);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(i,null);S(i,l),F&&F.m(i,null),S(i,f),S(f,d),S(e,m),G&&G.m(e,null),S(e,y),S(e,v),S(v,x),t[21](x),$=V(e,t[22].bind(e)),b=!0,_||(k=P(x,"load",t[15]),_=!0)},p(t,s){if(280&s[0]){let e;for(z=us,e=0;e<z.length;e+=1){const n=sc(t,z,e);L[e]?L[e].p(n,s):(L[e]=uc(n),L[e].c(),L[e].m(r,null))}for(;e<L.length;e+=1)L[e].d(1);L.length=z.length}if(128&s[0]){let e;for(W=t[7],e=0;e<W.length;e+=1){const n=ac(t,W,e);D[e]?(D[e].p(n,s),xt(D[e],1)):(D[e]=fc(n),D[e].c(),xt(D[e],1),D[e].m(i,o))}for(yt(),e=W.length;e<D.length;e+=1)q(e);vt()}if(196672&s[0]){let e;for(j=t[6],e=0;e<j.length;e+=1){const n=lc(t,j,e);H[e]?(H[e].p(n,s),xt(H[e],1)):(H[e]=dc(n),H[e].c(),xt(H[e],1),H[e].m(i,l))}for(yt(),e=j.length;e<H.length;e+=1)B(e);vt()}(!b||256&s[0]&&a!==(a=t[8]("2000")+t[8].bandwidth()/2))&&I(l,"x",a),(!b||16&s[0]&&u!==(u=t[4]-100))&&I(l,"height",u),t[13]?F?F.p(t,s):(F=hc(t),F.c(),F.m(i,f)):F&&(F.d(1),F=null),(!b||256&s[0]&&h!==(h=t[8]("2000")+t[8].bandwidth()))&&I(f,"x",h),(!b||2&s[0])&&I(n,"width",t[1]),(!b||4&s[0])&&I(n,"height",t[2]),t[5].visible?G?G.p(t,s):(G=pc(t),G.c(),G.m(e,y)):G&&(G.d(1),G=null),(!b||1024&s[0]&&!c(x.src,w=t[10]))&&I(x,"src",w)},i(t){if(!b){for(let t=0;t<W.length;t+=1)xt(D[t]);for(let t=0;t<j.length;t+=1)xt(H[t]);b=!0}},o(t){D=D.filter(Boolean);for(let t=0;t<D.length;t+=1)wt(D[t]);H=H.filter(Boolean);for(let t=0;t<H.length;t+=1)wt(H[t]);b=!1},d(n){n&&E(e),A(L,n),A(D,n),A(H,n),F&&F.d(),G&&G.d(),t[21](null),$(),_=!1,k()}}}function uc(t){let e,n,i,r,o,l=(t[3]>800?t[29]:mc(t[29]))+"";return{c(){e=N("g"),n=N("text"),i=T(l),I(n,"y","1"),I(n,"class","svelte-114raep"),I(e,"class",r="tick tick-"+t[29]+" svelte-114raep"),I(e,"transform",o="translate("+(t[8](t[29])+t[8].bandwidth()/2)+","+(t[4]+17)+")")},m(t,r){M(t,e,r),S(e,n),S(n,i)},p(t,n){8&n[0]&&l!==(l=(t[3]>800?t[29]:mc(t[29]))+"")&&j(i,l),272&n[0]&&o!==(o="translate("+(t[8](t[29])+t[8].bandwidth()/2)+","+(t[4]+17)+")")&&I(e,"transform",o)},d(t){t&&E(e)}}}function fc(t){let e,n;return e=new Is({props:{i:t[27],x:t[25].x,y:t[25].y,width:t[25].width,height:t[25].height}}),{c(){bt(e.$$.fragment)},m(t,i){_t(e,t,i),n=!0},p(t,n){const i={};128&n[0]&&(i.x=t[25].x),128&n[0]&&(i.y=t[25].y),128&n[0]&&(i.width=t[25].width),128&n[0]&&(i.height=t[25].height),e.$set(i)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function dc(t){let e,n;return e=new Ps({props:{i:t[27],id:t[25].id,x:t[25].x,y:t[25].y,width:t[25].width,height:t[25].height,info:t[25].info}}),e.$on("hover",t[16]),e.$on("leave",t[17]),{c(){bt(e.$$.fragment)},m(t,i){_t(e,t,i),n=!0},p(t,n){const i={};64&n[0]&&(i.id=t[25].id),64&n[0]&&(i.x=t[25].x),64&n[0]&&(i.y=t[25].y),64&n[0]&&(i.width=t[25].width),64&n[0]&&(i.height=t[25].height),64&n[0]&&(i.info=t[25].info),e.$set(i)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function hc(t){let e,n;return{c(){e=N("path"),I(e,"id","example"),I(e,"d",n=`M ${t[8](t[12])},${t[4]-10} \n                       C ${t[8](t[12])},${t[4]-100} \n                         ${t[9]-t[14].left},${t[13]+100} \n                         ${t[9]-t[14].left},${t[13]}`),I(e,"fill","none"),I(e,"stroke","white"),I(e,"stroke-width","1"),I(e,"opacity","0"),I(e,"class","svelte-114raep")},m(t,n){M(t,e,n)},p(t,i){13072&i[0]&&n!==(n=`M ${t[8](t[12])},${t[4]-10} \n                       C ${t[8](t[12])},${t[4]-100} \n                         ${t[9]-t[14].left},${t[13]+100} \n                         ${t[9]-t[14].left},${t[13]}`)&&I(e,"d",n)},d(t){t&&E(e)}}}function pc(t){let e,n,i,r=t[5].info+"";return{c(){e=R("div"),n=R("p"),i=T(r),I(n,"class","svelte-114raep"),I(e,"class","tooltip svelte-114raep"),B(e,"position","absolute"),B(e,"left",t[5].x+"px"),B(e,"top",t[5].y+"px")},m(t,r){M(t,e,r),S(e,n),S(n,i)},p(t,n){32&n[0]&&r!==(r=t[5].info+"")&&j(i,r),32&n[0]&&B(e,"left",t[5].x+"px"),32&n[0]&&B(e,"top",t[5].y+"px")},d(t){t&&E(e)}}}function gc(t){let e,n,i=t[6]&&t[0]&&cc(t);return{c(){i&&i.c(),e=O()},m(t,r){i&&i.m(t,r),M(t,e,r),n=!0},p(t,n){t[6]&&t[0]?i?(i.p(t,n),65&n[0]&&xt(i,1)):(i=cc(t),i.c(),xt(i,1),i.m(e.parentNode,e)):i&&(yt(),wt(i,1,1,(()=>{i=null})),vt())},i(t){n||(xt(i),n=!0)},o(t){wt(i),n=!1},d(t){i&&i.d(t),t&&E(e)}}}function mc(t){return"'"+t.toString().slice(-2)}function yc(t,e,n){let i,r,o,l,a,s,c,u,f,{pax:d}=e,{pax_timeline:h}=e,{step:p}=e,g={visible:!1,x:0,y:0,info:""},m=400,y=400,v="./img/lome.png",x={top:20,right:20,bottom:20,left:40};function w(t,e,n){let i,r=null;return i="none"===n?0:-1,t.map((t=>{let e;const o=t.Dat.substring(0,4);o!==r&&(i="none"===n?0:-1,r=o),e="none"==n?s(i):"1"===t[n]?s(++i):l+100;const c={x:a(o)+2*Math.random()-1,y:e+2*Math.random()-1,width:a.bandwidth(),height:3,info:t.Agt,id:t.AgtId};return"none"===n&&i++,c}))}window.addEventListener("resize",_);let $,b="1999";function _(){if(u){const t=u.getBoundingClientRect();n(20,f=t.height),n(9,c=t.x)}}_();return t.$$set=t=>{"pax"in t&&n(18,d=t.pax),"pax_timeline"in t&&n(0,h=t.pax_timeline),"step"in t&&n(19,p=t.step)},t.$$.update=()=>{2&t.$$.dirty[0]&&n(3,o=m-x.left-x.right),4&t.$$.dirty[0]&&n(4,l=y-x.top-x.bottom),8&t.$$.dirty[0]&&n(8,a=xa().domain(us).range([0,o]).padding(.1)),16&t.$$.dirty[0]&&(s=Na().domain([0,100]).range([l,0])),262152&t.$$.dirty[0]&&d&&(n(7,r=w(d,0,"none")),n(6,i=w(d,0,"none"))),786440&t.$$.dirty[0]&&("1"==p?(un(".un_resolution").style("visibility","hidden"),n(6,i=w(d,0,"none"))):"2"==p||"3"==p?(un(".un_resolution").style("visibility","visible"),n(6,i=w(d,0,"GeWom"))):"4"==p?(un(".un_resolution").style("visibility","hidden"),un("#example").style("opacity",0),n(6,i=w(d,0,"WggRehab"))):"5"==p?(un("#example").style("opacity",1),n(10,v="./img/lome.png"),n(12,b="1999"),n(6,i=w(d,0,"WggRehab"))):"6"==p?(un("#example").style("opacity",0),n(6,i=w(d,0,"WggImplRole"))):"7"==p?(un("#example").style("opacity",1),n(10,v="./img/colombia.png"),n(12,b="2016"),n(6,i=w(d,0,"WggImplRole"))):"8"==p?(un("#example").style("opacity",0),n(6,i=w(d,0,"WggHR"))):"9"==p&&(n(10,v="./img/guatemala.png"),un("#example").style("opacity",1),n(12,b="1996"))),1048592&t.$$.dirty[0]&&l&&n(13,$=l-(l-f))},[h,m,y,o,l,g,i,r,a,c,v,u,b,$,x,_,t=>{let e,i;t.detail.x>=o/2?e=t.detail.x-140:t.detail.x<o/2&&(e=t.detail.x+70),t.detail.y>=l/2?i=t.detail.y-50:t.detail.y<l/2&&(i=t.detail.y),n(5,g={visible:!0,x:e,y:i,info:t.detail.info})},()=>{n(5,g={...g,visible:!1})},d,p,f,function(t){nt[t?"unshift":"push"]((()=>{u=t,n(11,u)}))},function(){m=this.clientWidth,y=this.clientHeight,n(1,m),n(2,y)}]}class vc extends Mt{constructor(t){super(),St(this,t,yc,gc,a,{pax:18,pax_timeline:0,step:19},null,[-1,-1])}}function xc(t){return 0===(e=t)||e?Array.isArray(t)?e=>t.map((t=>"function"!=typeof t?e[t]:t(e))):"function"!=typeof t?e=>e[t]:t:null;var e}function wc(t,e={}){return function(t){const e={};for(const n of t){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:i}=n;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:i})}return e}(Object.entries(t).filter((([t,n])=>void 0!==n&&void 0===e[t])))}function $c(t,e){if(!Array.isArray(t))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},i=Object.keys(e),r=i.length;let o,l,a,s,c,u,f,d;const h=t.length;for(o=0;o<r;o+=1){for(s=i[o],f=e[s],c=null,u=null,l=0;l<h;l+=1)if(d=f(t[l]),Array.isArray(d)){const t=d.length;for(a=0;a<t;a+=1)!1!==d[a]&&void 0!==d[a]&&null!==d[a]&&!1===Number.isNaN(d[a])&&((null===c||d[a]<c)&&(c=d[a]),(null===u||d[a]>u)&&(u=d[a]))}else!1!==d&&null!=d&&!1===Number.isNaN(d)&&((null===c||d<c)&&(c=d),(null===u||d>u)&&(u=d));n[s]=[c,u]}return n}function bc(t,e){return t.length===e.length&&t.every((t=>e.includes(t)))}function _c(t){return"function"==typeof t.bandwidth||!!bc(Object.keys(t),["domain","range","unknown","copy"])}function kc(t,e,n){const i=Object.keys(n).reduce(((t,i)=>{const r=!0===_c(n[i])?"ordinal":"other";return t[r]||(t[r]={}),t[r][i]=e[i],t}),{ordinal:!1,other:!1});let r={};return i.ordinal&&(r=function(t,e,{sort:n=!1}={}){if(!Array.isArray(t))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const i={},r=Object.keys(e),o=r.length;let l,a,s,c,u,f,d;const h=t.length;for(l=0;l<o;l+=1){for(d=new Set,c=r[l],u=e[c],a=0;a<h;a+=1)if(f=u(t[a]),Array.isArray(f)){const t=f.length;for(s=0;s<t;s+=1)d.add(f[s])}else d.add(f);const o=Array.from(d);i[c]=!0===n?o.sort():o}return i}(t,i.ordinal)),i.other&&(r={...r,...$c(t,i.other)}),r}function Sc(t){return function([e,n]){return"function"==typeof n&&(n=n(e[t])),e?function(t=[],e){return!0===Array.isArray(e)?e.map(((e,n)=>null===e?t[n]:e)):t}(e[t],n):n}}var Mc={x:Na,y:Na,z:Na,r:function(){return za.apply(null,arguments).exponent(.5)}};function Ec(t){return t}function Ac(t){return e=>Math.log(t*e)}function Rc(t){return e=>t*Math.exp(e)}function Nc(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function Tc(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Cc(t){return t.replace(/^\w/,(t=>t.toUpperCase()))}function Oc(t,e=""){return`scale${Cc(e)}${Cc(t)}`}function Pc(t){if("function"==typeof t.bandwidth)return"function"==typeof t.paddingInner?Oc("band"):Oc("point");if(bc(Object.keys(t),["domain","range","unknown","copy"]))return Oc("ordinal");let e="";if(t.interpolator&&(e=3===t.domain().length?"diverging":"sequential"),t.quantiles)return Oc("quantile",e);if(t.thresholds)return Oc("quantize",e);if(t.constant)return Oc("symlog",e);if(t.base)return Oc("log",e);if(t.exponent)return.5===t.exponent()?Oc("sqrt",e):Oc("pow",e);if(bc(Object.keys(t),["domain","range","invertExtent","unknown","copy"]))return Oc("threshold");if(bc(Object.keys(t),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return Oc("identity");if(bc(Object.keys(t),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return Oc("radial");if(e)return Oc(e);if(t.domain()[0]instanceof Date){const e=new Date;let n;return e.getDay=()=>n="time",e.getUTCDay=()=>n="utc",t.tickFormat(0,"%a")(e),Oc(n)}return Oc("linear")}const zc=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function Lc(t,e){if("function"!=typeof t.range)throw console.log(t),new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e)||zc.includes(Pc(t)))return t.domain();if(!0===_c(t))return t.domain();const{lift:n,ground:i}=function(t){const e=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===e){const n=Math.sign(t.domain()[0]);return{lift:Ac(n),ground:Rc(n),scaleType:e}}if("pow"===e){const t=1;return{lift:Tc(t),ground:Tc(1/t),scaleType:e}}if("sqrt"===e){const t=.5;return{lift:Tc(t),ground:Tc(1/t),scaleType:e}}if("symlog"===e){const t=1;return{lift:(n=t,t=>Math.sign(t)*Math.log1p(Math.abs(t/n))),ground:Nc(t),scaleType:e}}var n;return{lift:Ec,ground:Ec,scaleType:e}}(t),r=t.domain()[0],o="[object Date]"===Object.prototype.toString.call(r),[l,a]=t.domain().map((t=>n(o?t.getTime():t))),[s,c]=t.range(),u=e[0]||0,f=e[1]||0,d=(a-l)/(Math.abs(c-s)-u-f);return[l-u*d,f*d+a].map((t=>i(o?new Date(t):t)))}function Ic(t){return function([e,n,i,r,o,l,a,s,c,u]){if(null===n)return null;const f=function(t,e,n,i,r,o){return r?"function"==typeof r?r({width:e,height:n}):r:function(t,e,n,i,r){let o,l;return!0===r?(o=0,l=100):(o="r"===t?1:0,l="y"===t?n:"r"===t?25:e),!0===i?[l,o]:[o,l]}(t,e,n,i,o)}(t,a,s,l,c,u),d=e===Mc[t]?e():e.copy();return d.domain(i),(!d.interpolator||"function"==typeof d.interpolator&&d.interpolator().name.startsWith("identity"))&&d.range(f),r&&d.domain(Lc(d,r)),!0!==o&&"number"!=typeof o||("function"==typeof d.nice?d.nice("number"==typeof o?o:void 0):console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function Wc([t,e]){return n=>{const i=t(n);return Array.isArray(i)?i.map((t=>e(t))):e(i)}}function Dc([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const qc="    ";function jc(t){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),function(t){Object.entries(t).forEach((([t,e])=>{console.log(`${qc}${t}:`,e)}))}(t.boundingBox),console.log("Scales:\n"),Object.keys(t.activeGetters).forEach((e=>{!function(t,e,n){const i=Pc(e);console.log(`${qc}${t}:`),console.log(`${qc}${qc}Accessor: "${n.toString()}"`),console.log(`${qc}${qc}Type: ${i}`),Hc(e,"domain"),Hc(e,"range"," ")}(e,t[`${e}Scale`],t[e])})),console.log("/************ End LayerCake Debug ***************/\n")}function Hc(t,e,n=""){const i=t[e](),r=function(t){const e=[],n=t.map(((n,i)=>{const r=function(t){const{r:e,g:n,b:i,opacity:r}=Cn(t);return!![e,n,i].every((t=>t>=0&&t<=255))&&{r:e,g:n,b:i,o:r}}(n);if(!1!==r){e.push(r);return`%c ${n}${i===t.length-1?" ":""}`}return n}));if(e.length)return[`%c[ ${n.join(", ")}`,e.map((t=>`background-color: rgba(${t.r}, ${t.g}, ${t.b}, ${t.o}); color:${function({r:t,g:e,b:n}){return(.2126*t+.7152*e+.0722*n)/255>.6?"black":"white"}(t)};`))];return null}(i);r?function(t,e,n){console.log(`${qc}${qc}${Cc(e)}:    %cArray%c(${n.length}) `+t[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...t[1],"color: #1478e4")}(r,e,i):console.log(`${qc}${qc}${Cc(e)}:${n}`,i)}const Bc=t=>({element:4&t[0],width:8&t[1],height:16&t[1],aspectRatio:32&t[1],containerWidth:2&t[1],containerHeight:1&t[1],activeGetters:1024&t[0],percentRange:4&t[1],x:268435456&t[0],y:134217728&t[0],z:67108864&t[0],r:33554432&t[0],custom:4096&t[0],data:1073741824&t[0],xNice:16777216&t[0],yNice:8388608&t[0],zNice:4194304&t[0],rNice:2097152&t[0],xReverse:1048576&t[0],yReverse:524288&t[0],zReverse:262144&t[0],rReverse:131072&t[0],xPadding:65536&t[0],yPadding:32768&t[0],zPadding:16384&t[0],rPadding:8192&t[0],padding:64&t[1],flatData:536870912&t[0],extents:128&t[1],xDomain:256&t[1],yDomain:512&t[1],zDomain:1024&t[1],rDomain:2048&t[1],xRange:4096&t[1],yRange:8192&t[1],zRange:16384&t[1],rRange:32768&t[1],config:2048&t[0],xScale:512&t[0],xGet:65536&t[1],yScale:256&t[0],yGet:131072&t[1],zScale:128&t[0],zGet:262144&t[1],rScale:64&t[0],rGet:524288&t[1]}),Fc=t=>({element:t[2],width:t[34],height:t[35],aspectRatio:t[36],containerWidth:t[32],containerHeight:t[31],activeGetters:t[10],percentRange:t[33],x:t[28],y:t[27],z:t[26],r:t[25],custom:t[12],data:t[30],xNice:t[24],yNice:t[23],zNice:t[22],rNice:t[21],xReverse:t[20],yReverse:t[19],zReverse:t[18],rReverse:t[17],xPadding:t[16],yPadding:t[15],zPadding:t[14],rPadding:t[13],padding:t[37],flatData:t[29],extents:t[38],xDomain:t[39],yDomain:t[40],zDomain:t[41],rDomain:t[42],xRange:t[43],yRange:t[44],zRange:t[45],rRange:t[46],config:t[11],xScale:t[9],xGet:t[47],yScale:t[8],yGet:t[48],zScale:t[7],zGet:t[49],rScale:t[6],rGet:t[50]});function Gc(t){let e,n,i;const r=t[153].default,o=d(r,t,t[152],Fc);return{c(){e=R("div"),o&&o.c(),I(e,"class","layercake-container svelte-vhzpsp"),ct((()=>t[155].call(e))),B(e,"position",t[5]),B(e,"top","absolute"===t[5]?"0":null),B(e,"right","absolute"===t[5]?"0":null),B(e,"bottom","absolute"===t[5]?"0":null),B(e,"left","absolute"===t[5]?"0":null),B(e,"pointer-events",!1===t[4]?"none":null)},m(r,l){M(r,e,l),o&&o.m(e,null),t[154](e),n=V(e,t[155].bind(e)),i=!0},p(t,n){o&&o.p&&(!i||2147483588&n[0]|1048575&n[1]|268435456&n[4])&&g(o,r,t,t[152],i?p(r,t[152],n,Bc):m(t[152]),Fc),32&n[0]&&B(e,"position",t[5]),32&n[0]&&B(e,"top","absolute"===t[5]?"0":null),32&n[0]&&B(e,"right","absolute"===t[5]?"0":null),32&n[0]&&B(e,"bottom","absolute"===t[5]?"0":null),32&n[0]&&B(e,"left","absolute"===t[5]?"0":null),16&n[0]&&B(e,"pointer-events",!1===t[4]?"none":null)},i(t){i||(xt(o,t),i=!0)},o(t){wt(o,t),i=!1},d(i){i&&E(e),o&&o.d(i),t[154](null),n()}}}function Xc(t){let e,n,i=(!0===t[3]||"undefined"!=typeof window)&&Gc(t);return{c(){i&&i.c(),e=O()},m(t,r){i&&i.m(t,r),M(t,e,r),n=!0},p(t,n){!0===t[3]||"undefined"!=typeof window?i?(i.p(t,n),8&n[0]&&xt(i,1)):(i=Gc(t),i.c(),xt(i,1),i.m(e.parentNode,e)):i&&(yt(),wt(i,1,1,(()=>{i=null})),vt())},i(t){n||(xt(i),n=!0)},o(t){wt(i),n=!1},d(t){i&&i.d(t),t&&E(e)}}}function Vc(t,e,n){let i,r,o,l,a,s,c,u,d,h,p,g,m,v,x,w,$,b,_,k,S,M,E,A,R,N,T,C,O,P,z,L,I,W,D,q,j,H,B,F,G,X,V,Y,U,Q,K,tt,et,it,rt,ot,lt,at,st,ct,ut,ft,dt,ht,pt,gt,{$$slots:mt={},$$scope:yt}=e;const vt=function(t,e=300){let n;return(...i)=>{clearTimeout(n),n=setTimeout((()=>{t.apply(this,i)}),e)}}(jc,200);let{ssr:xt=!1}=e,{pointerEvents:wt=!0}=e,{position:$t="relative"}=e,{percentRange:bt=!1}=e,{width:_t}=e,{height:kt}=e,{containerWidth:St=_t||100}=e,{containerHeight:Mt=kt||100}=e,{element:Et}=e,{x:At}=e,{y:Rt}=e,{z:Nt}=e,{r:Tt}=e,{data:Ct=[]}=e,{xDomain:Ot}=e,{yDomain:Pt}=e,{zDomain:zt}=e,{rDomain:Lt}=e,{xNice:It=!1}=e,{yNice:Wt=!1}=e,{zNice:Dt=!1}=e,{rNice:qt=!1}=e,{xPadding:jt}=e,{yPadding:Ht}=e,{zPadding:Bt}=e,{rPadding:Ft}=e,{xScale:Gt=Mc.x}=e,{yScale:Xt=Mc.y}=e,{zScale:Vt=Mc.z}=e,{rScale:Yt=Mc.r}=e,{xRange:Ut}=e,{yRange:Jt}=e,{zRange:Zt}=e,{rRange:Qt}=e,{xReverse:Kt=!1}=e,{yReverse:te}=e,{zReverse:ee=!1}=e,{rReverse:ne=!1}=e,{padding:ie={}}=e,{extents:re={}}=e,{flatData:oe}=e,{custom:le={}}=e,{debug:ae=!1}=e,se=!1;Z((()=>{se=!0}));const ce={},ue=rs(bt);f(t,ue,(t=>n(33,U=t)));const fe=rs(St);f(t,fe,(t=>n(32,Y=t)));const de=rs(Mt);f(t,de,(t=>n(31,V=t)));const he=rs(wc(re));f(t,he,(t=>n(170,X=t)));const pe=rs(Ct);f(t,pe,(t=>n(30,G=t)));const ge=rs(oe||Ct);f(t,ge,(t=>n(29,F=t)));const me=rs(ie);f(t,me,(t=>n(169,B=t)));const ye=rs(xc(At));f(t,ye,(t=>n(28,H=t)));const ve=rs(xc(Rt));f(t,ve,(t=>n(27,j=t)));const xe=rs(xc(Nt));f(t,xe,(t=>n(26,q=t)));const we=rs(xc(Tt));f(t,we,(t=>n(25,D=t)));const $e=rs(Ot);f(t,$e,(t=>n(168,W=t)));const be=rs(Pt);f(t,be,(t=>n(167,I=t)));const _e=rs(zt);f(t,_e,(t=>n(166,L=t)));const ke=rs(Lt);f(t,ke,(t=>n(165,z=t)));const Se=rs(It);f(t,Se,(t=>n(24,P=t)));const Me=rs(Wt);f(t,Me,(t=>n(23,O=t)));const Ee=rs(Dt);f(t,Ee,(t=>n(22,C=t)));const Ae=rs(qt);f(t,Ae,(t=>n(21,T=t)));const Re=rs(Kt);f(t,Re,(t=>n(20,N=t)));const Ne=rs(i);f(t,Ne,(t=>n(19,R=t)));const Te=rs(ee);f(t,Te,(t=>n(18,A=t)));const Ce=rs(ne);f(t,Ce,(t=>n(17,E=t)));const Oe=rs(jt);f(t,Oe,(t=>n(16,M=t)));const Pe=rs(Ht);f(t,Pe,(t=>n(15,S=t)));const ze=rs(Bt);f(t,ze,(t=>n(14,k=t)));const Le=rs(Ft);f(t,Le,(t=>n(13,_=t)));const Ie=rs(Ut);f(t,Ie,(t=>n(164,b=t)));const We=rs(Jt);f(t,We,(t=>n(163,$=t)));const De=rs(Zt);f(t,De,(t=>n(162,w=t)));const qe=rs(Qt);f(t,qe,(t=>n(161,x=t)));const je=rs(Gt);f(t,je,(t=>n(160,v=t)));const He=rs(Xt);f(t,He,(t=>n(159,m=t)));const Be=rs(Vt);f(t,Be,(t=>n(158,g=t)));const Fe=rs(Yt);f(t,Fe,(t=>n(157,p=t)));const Ge=rs(ce);f(t,Ge,(t=>n(11,d=t)));const Xe=rs(le);f(t,Xe,(t=>n(12,h=t)));const Ve=os([ye,ve,xe,we],(([t,e,n,i])=>{const r={};return t&&(r.x=t),e&&(r.y=e),n&&(r.z=n),i&&(r.r=i),r}));f(t,Ve,(t=>n(10,c=t)));const Ye=os([me,fe,de],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t)));f(t,Ye,(t=>n(37,et=t)));const Ue=os([fe,de,Ye],(([t,e,n])=>{const i={};return i.top=n.top,i.right=t-n.right,i.bottom=e-n.bottom,i.left=n.left,i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<=0&&!0===se&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),i.height<=0&&!0===se&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),i}));f(t,Ue,(t=>n(151,u=t)));const Je=os([Ue],(([t])=>t.width));f(t,Je,(t=>n(34,Q=t)));const Ze=os([Ue],(([t])=>t.height));f(t,Ze,(t=>n(35,K=t)));const Qe=os([ge,Ve,he,je,He,Fe,Be],(([t,e,n,i,r,o,l])=>{const a={x:i,y:r,r:o,z:l},s=wc(e,n),c=Object.fromEntries(Object.keys(s).map((t=>[t,a[t]])));if(Object.keys(s).length>0){return{...kc(t,s,c),...n}}return{}}));f(t,Qe,(t=>n(38,it=t)));const Ke=os([Qe,$e],Sc("x"));f(t,Ke,(t=>n(39,rt=t)));const tn=os([Qe,be],Sc("y"));f(t,tn,(t=>n(40,ot=t)));const en=os([Qe,_e],Sc("z"));f(t,en,(t=>n(41,lt=t)));const nn=os([Qe,ke],Sc("r"));f(t,nn,(t=>n(42,at=t)));const rn=os([je,Qe,Ke,Oe,Se,Re,Je,Ze,Ie,ue],Ic("x"));f(t,rn,(t=>n(9,s=t)));const on=os([ye,rn],Wc);f(t,on,(t=>n(47,dt=t)));const ln=os([He,Qe,tn,Pe,Me,Ne,Je,Ze,We,ue],Ic("y"));f(t,ln,(t=>n(8,a=t)));const an=os([ve,ln],Wc);f(t,an,(t=>n(48,ht=t)));const sn=os([Be,Qe,en,ze,Ee,Te,Je,Ze,De,ue],Ic("z"));f(t,sn,(t=>n(7,l=t)));const cn=os([xe,sn],Wc);f(t,cn,(t=>n(49,pt=t)));const un=os([Fe,Qe,nn,Le,Ae,Ce,Je,Ze,qe,ue],Ic("r"));f(t,un,(t=>n(6,o=t)));const fn=os([we,un],Wc);f(t,fn,(t=>n(50,gt=t)));const dn=os([rn],Dc);f(t,dn,(t=>n(43,st=t)));const hn=os([ln],Dc);f(t,hn,(t=>n(44,ct=t)));const pn=os([sn],Dc);f(t,pn,(t=>n(45,ut=t)));const gn=os([un],Dc);f(t,gn,(t=>n(46,ft=t)));const mn=os([Je,Ze],(([t,e])=>t/e));return f(t,mn,(t=>n(36,tt=t))),t.$$set=t=>{"ssr"in t&&n(3,xt=t.ssr),"pointerEvents"in t&&n(4,wt=t.pointerEvents),"position"in t&&n(5,$t=t.position),"percentRange"in t&&n(111,bt=t.percentRange),"width"in t&&n(112,_t=t.width),"height"in t&&n(113,kt=t.height),"containerWidth"in t&&n(0,St=t.containerWidth),"containerHeight"in t&&n(1,Mt=t.containerHeight),"element"in t&&n(2,Et=t.element),"x"in t&&n(114,At=t.x),"y"in t&&n(115,Rt=t.y),"z"in t&&n(116,Nt=t.z),"r"in t&&n(117,Tt=t.r),"data"in t&&n(118,Ct=t.data),"xDomain"in t&&n(119,Ot=t.xDomain),"yDomain"in t&&n(120,Pt=t.yDomain),"zDomain"in t&&n(121,zt=t.zDomain),"rDomain"in t&&n(122,Lt=t.rDomain),"xNice"in t&&n(123,It=t.xNice),"yNice"in t&&n(124,Wt=t.yNice),"zNice"in t&&n(125,Dt=t.zNice),"rNice"in t&&n(126,qt=t.rNice),"xPadding"in t&&n(127,jt=t.xPadding),"yPadding"in t&&n(128,Ht=t.yPadding),"zPadding"in t&&n(129,Bt=t.zPadding),"rPadding"in t&&n(130,Ft=t.rPadding),"xScale"in t&&n(131,Gt=t.xScale),"yScale"in t&&n(132,Xt=t.yScale),"zScale"in t&&n(133,Vt=t.zScale),"rScale"in t&&n(134,Yt=t.rScale),"xRange"in t&&n(135,Ut=t.xRange),"yRange"in t&&n(136,Jt=t.yRange),"zRange"in t&&n(137,Zt=t.zRange),"rRange"in t&&n(138,Qt=t.rRange),"xReverse"in t&&n(139,Kt=t.xReverse),"yReverse"in t&&n(140,te=t.yReverse),"zReverse"in t&&n(141,ee=t.zReverse),"rReverse"in t&&n(142,ne=t.rReverse),"padding"in t&&n(143,ie=t.padding),"extents"in t&&n(144,re=t.extents),"flatData"in t&&n(145,oe=t.flatData),"custom"in t&&n(146,le=t.custom),"debug"in t&&n(147,ae=t.debug),"$$scope"in t&&n(152,yt=t.$$scope)},t.$$.update=()=>{65792&t.$$.dirty[4]&&n(150,i=void 0===te?"function"!=typeof Xt.bandwidth:te),2097152&t.$$.dirty[3]&&At&&n(148,ce.x=At,ce),4194304&t.$$.dirty[3]&&Rt&&n(148,ce.y=Rt,ce),8388608&t.$$.dirty[3]&&Nt&&n(148,ce.z=Nt,ce),16777216&t.$$.dirty[3]&&Tt&&n(148,ce.r=Tt,ce),67108864&t.$$.dirty[3]&&Ot&&n(148,ce.xDomain=Ot,ce),134217728&t.$$.dirty[3]&&Pt&&n(148,ce.yDomain=Pt,ce),268435456&t.$$.dirty[3]&&zt&&n(148,ce.zDomain=zt,ce),536870912&t.$$.dirty[3]&&Lt&&n(148,ce.rDomain=Lt,ce),2048&t.$$.dirty[4]&&Ut&&n(148,ce.xRange=Ut,ce),4096&t.$$.dirty[4]&&Jt&&n(148,ce.yRange=Jt,ce),8192&t.$$.dirty[4]&&Zt&&n(148,ce.zRange=Zt,ce),16384&t.$$.dirty[4]&&Qt&&n(148,ce.rRange=Qt,ce),262144&t.$$.dirty[3]&&y(ue,U=bt,U),1&t.$$.dirty[0]&&y(fe,Y=St,Y),2&t.$$.dirty[0]&&y(de,V=Mt,V),1048576&t.$$.dirty[4]&&y(he,X=wc(re),X),33554432&t.$$.dirty[3]&&y(pe,G=Ct,G),33554432&t.$$.dirty[3]|2097152&t.$$.dirty[4]&&y(ge,F=oe||Ct,F),524288&t.$$.dirty[4]&&y(me,B=ie,B),2097152&t.$$.dirty[3]&&y(ye,H=xc(At),H),4194304&t.$$.dirty[3]&&y(ve,j=xc(Rt),j),8388608&t.$$.dirty[3]&&y(xe,q=xc(Nt),q),16777216&t.$$.dirty[3]&&y(we,D=xc(Tt),D),67108864&t.$$.dirty[3]&&y($e,W=Ot,W),134217728&t.$$.dirty[3]&&y(be,I=Pt,I),268435456&t.$$.dirty[3]&&y(_e,L=zt,L),536870912&t.$$.dirty[3]&&y(ke,z=Lt,z),1073741824&t.$$.dirty[3]&&y(Se,P=It,P),1&t.$$.dirty[4]&&y(Me,O=Wt,O),2&t.$$.dirty[4]&&y(Ee,C=Dt,C),4&t.$$.dirty[4]&&y(Ae,T=qt,T),32768&t.$$.dirty[4]&&y(Re,N=Kt,N),67108864&t.$$.dirty[4]&&y(Ne,R=i,R),131072&t.$$.dirty[4]&&y(Te,A=ee,A),262144&t.$$.dirty[4]&&y(Ce,E=ne,E),8&t.$$.dirty[4]&&y(Oe,M=jt,M),16&t.$$.dirty[4]&&y(Pe,S=Ht,S),32&t.$$.dirty[4]&&y(ze,k=Bt,k),64&t.$$.dirty[4]&&y(Le,_=Ft,_),2048&t.$$.dirty[4]&&y(Ie,b=Ut,b),4096&t.$$.dirty[4]&&y(We,$=Jt,$),8192&t.$$.dirty[4]&&y(De,w=Zt,w),16384&t.$$.dirty[4]&&y(qe,x=Qt,x),128&t.$$.dirty[4]&&y(je,v=Gt,v),256&t.$$.dirty[4]&&y(He,m=Xt,m),512&t.$$.dirty[4]&&y(Be,g=Vt,g),1024&t.$$.dirty[4]&&y(Fe,p=Yt,p),4194304&t.$$.dirty[4]&&y(Xe,h=le,h),16777216&t.$$.dirty[4]&&y(Ge,d=ce,d),33554432&t.$$.dirty[4]&&function(t,e){J().$$.context.set(t,e)}("LayerCake",r),1992&t.$$.dirty[0]|159383552&t.$$.dirty[4]&&(!u||!0!==ae||!0!==xt&&"undefined"==typeof window||vt({boundingBox:u,activeGetters:c,x:ce.x,y:ce.y,z:ce.z,r:ce.r,xScale:s,yScale:a,zScale:l,rScale:o}))},n(149,r={activeGetters:Ve,width:Je,height:Ze,percentRange:ue,aspectRatio:mn,containerWidth:fe,containerHeight:de,x:ye,y:ve,z:xe,r:we,custom:Xe,data:pe,xNice:Se,yNice:Me,zNice:Ee,rNice:Ae,xReverse:Re,yReverse:Ne,zReverse:Te,rReverse:Ce,xPadding:Oe,yPadding:Pe,zPadding:ze,rPadding:Le,padding:Ye,flatData:ge,extents:Qe,xDomain:Ke,yDomain:tn,zDomain:en,rDomain:nn,xRange:dn,yRange:hn,zRange:pn,rRange:gn,config:Ge,xScale:rn,xGet:on,yScale:ln,yGet:an,zScale:sn,zGet:cn,rScale:un,rGet:fn}),[St,Mt,Et,xt,wt,$t,o,l,a,s,c,d,h,_,k,S,M,E,A,R,N,T,C,O,P,D,q,j,H,F,G,V,Y,U,Q,K,tt,et,it,rt,ot,lt,at,st,ct,ut,ft,dt,ht,pt,gt,ue,fe,de,he,pe,ge,me,ye,ve,xe,we,$e,be,_e,ke,Se,Me,Ee,Ae,Re,Ne,Te,Ce,Oe,Pe,ze,Le,Ie,We,De,qe,je,He,Be,Fe,Ge,Xe,Ve,Ye,Ue,Je,Ze,Qe,Ke,tn,en,nn,rn,on,ln,an,sn,cn,un,fn,dn,hn,pn,gn,mn,bt,_t,kt,At,Rt,Nt,Tt,Ct,Ot,Pt,zt,Lt,It,Wt,Dt,qt,jt,Ht,Bt,Ft,Gt,Xt,Vt,Yt,Ut,Jt,Zt,Qt,Kt,te,ee,ne,ie,re,oe,le,ae,ce,r,i,u,yt,mt,function(t){nt[t?"unshift":"push"]((()=>{Et=t,n(2,Et)}))},function(){St=this.clientWidth,Mt=this.clientHeight,n(0,St),n(1,Mt)}]}class Yc extends Mt{constructor(t){super(),St(this,t,Vc,Xc,a,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},null,[-1,-1,-1,-1,-1,-1])}}const Uc=t=>({element:1&t}),Jc=t=>({element:t[0]}),Zc=t=>({element:1&t}),Qc=t=>({element:t[0]}),Kc=t=>({element:1&t}),tu=t=>({element:t[0]});function eu(t){let e,n;return{c(){e=N("title"),n=T(t[8])},m(t,i){M(t,e,i),S(e,n)},p(t,e){256&e&&j(n,t[8])},d(t){t&&E(e)}}}function nu(t){let e,n,i,r,o;const l=t[16].title,a=d(l,t,t[15],tu),s=a||function(t){let e,n=t[8]&&eu(t);return{c(){n&&n.c(),e=O()},m(t,i){n&&n.m(t,i),M(t,e,i)},p(t,i){t[8]?n?n.p(t,i):(n=eu(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&E(e)}}}(t),c=t[16].defs,u=d(c,t,t[15],Qc),f=t[16].default,h=d(f,t,t[15],Jc);return{c(){e=N("svg"),s&&s.c(),n=N("defs"),u&&u.c(),i=N("g"),h&&h.c(),I(i,"class","layercake-layout-svg_g"),I(i,"transform",r="translate("+t[11].left+", "+t[11].top+")"),I(e,"class","layercake-layout-svg svelte-u84d8d"),I(e,"viewBox",t[4]),I(e,"width",t[9]),I(e,"height",t[10]),I(e,"aria-label",t[5]),I(e,"aria-labelledby",t[6]),I(e,"aria-describedby",t[7]),B(e,"z-index",t[2]),B(e,"pointer-events",!1===t[3]?"none":null)},m(r,l){M(r,e,l),s&&s.m(e,null),S(e,n),u&&u.m(n,null),S(e,i),h&&h.m(i,null),t[17](i),t[18](e),o=!0},p(t,[n]){a?a.p&&(!o||32769&n)&&g(a,l,t,t[15],o?p(l,t[15],n,Kc):m(t[15]),tu):s&&s.p&&(!o||256&n)&&s.p(t,o?n:-1),u&&u.p&&(!o||32769&n)&&g(u,c,t,t[15],o?p(c,t[15],n,Zc):m(t[15]),Qc),h&&h.p&&(!o||32769&n)&&g(h,f,t,t[15],o?p(f,t[15],n,Uc):m(t[15]),Jc),(!o||2048&n&&r!==(r="translate("+t[11].left+", "+t[11].top+")"))&&I(i,"transform",r),(!o||16&n)&&I(e,"viewBox",t[4]),(!o||512&n)&&I(e,"width",t[9]),(!o||1024&n)&&I(e,"height",t[10]),(!o||32&n)&&I(e,"aria-label",t[5]),(!o||64&n)&&I(e,"aria-labelledby",t[6]),(!o||128&n)&&I(e,"aria-describedby",t[7]),4&n&&B(e,"z-index",t[2]),8&n&&B(e,"pointer-events",!1===t[3]?"none":null)},i(t){o||(xt(s,t),xt(u,t),xt(h,t),o=!0)},o(t){wt(s,t),wt(u,t),wt(h,t),o=!1},d(n){n&&E(e),s&&s.d(n),u&&u.d(n),h&&h.d(n),t[17](null),t[18](null)}}}function iu(t,e,n){let i,r,o,{$$slots:l={},$$scope:a}=e,{element:s}=e,{innerElement:c}=e,{zIndex:u}=e,{pointerEvents:d}=e,{viewBox:h}=e,{label:p}=e,{labelledBy:g}=e,{describedBy:m}=e,{title:y}=e;const{containerWidth:v,containerHeight:x,padding:w}=($="LayerCake",J().$$.context.get($));var $;return f(t,v,(t=>n(9,i=t))),f(t,x,(t=>n(10,r=t))),f(t,w,(t=>n(11,o=t))),t.$$set=t=>{"element"in t&&n(0,s=t.element),"innerElement"in t&&n(1,c=t.innerElement),"zIndex"in t&&n(2,u=t.zIndex),"pointerEvents"in t&&n(3,d=t.pointerEvents),"viewBox"in t&&n(4,h=t.viewBox),"label"in t&&n(5,p=t.label),"labelledBy"in t&&n(6,g=t.labelledBy),"describedBy"in t&&n(7,m=t.describedBy),"title"in t&&n(8,y=t.title),"$$scope"in t&&n(15,a=t.$$scope)},[s,c,u,d,h,p,g,m,y,i,r,o,v,x,w,a,l,function(t){nt[t?"unshift":"push"]((()=>{c=t,n(1,c)}))},function(t){nt[t?"unshift":"push"]((()=>{s=t,n(0,s)}))}]}class ru extends Mt{constructor(t){super(),St(this,t,iu,nu,a,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function ou(t,e,n){const i=t.slice();return i[15]=e[n],i}function lu(t){let e,n,i,r,l,a,s;function c(...e){return t[11](t[15],...e)}return{c(){e=N("path"),I(e,"fill",n=t[5](t[15])),I(e,"fill-opacity",i=t[6](t[15])),I(e,"class",r="country "+t[15].properties.adm0_iso),I(e,"d",l=t[15].path)},m(n,i){M(n,e,i),a||(s=[P(e,"mouseover",c),P(e,"mousemove",t[8]),P(e,"mouseout",t[9])],a=!0)},p(o,a){t=o,2&a&&n!==(n=t[5](t[15]))&&I(e,"fill",n),2&a&&i!==(i=t[6](t[15]))&&I(e,"fill-opacity",i),2&a&&r!==(r="country "+t[15].properties.adm0_iso)&&I(e,"class",r),2&a&&l!==(l=t[15].path)&&I(e,"d",l)},d(t){t&&E(e),a=!1,o(s)}}}function au(t){let e,n,i,r,o,l,a=t[2].iso+"";return{c(){e=N("g"),n=N("rect"),r=N("text"),o=T(a),I(n,"x","0"),I(n,"y","-15"),I(n,"width",i=t[3]+10),I(n,"height","20"),I(n,"fill","black"),I(n,"rx","3"),I(r,"x","5"),I(r,"y","0"),I(r,"font-size","12"),I(r,"fill","white"),I(e,"transform",l="translate("+(t[2].x+10)+", "+(t[2].y-10)+")")},m(i,l){M(i,e,l),S(e,n),S(e,r),S(r,o),t[12](r)},p(t,r){8&r&&i!==(i=t[3]+10)&&I(n,"width",i),4&r&&a!==(a=t[2].iso+"")&&j(o,a),4&r&&l!==(l="translate("+(t[2].x+10)+", "+(t[2].y-10)+")")&&I(e,"transform",l)},d(n){n&&E(e),t[12](null)}}}function su(e){let n,i,r=e[1],o=[];for(let t=0;t<r.length;t+=1)o[t]=lu(ou(e,r,t));let l=e[2].visible&&au(e);return{c(){n=N("g");for(let t=0;t<o.length;t+=1)o[t].c();i=O(),l&&l.c(),I(n,"class","map-group"),I(n,"transform",e[0])},m(t,e){M(t,n,e);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(n,null);S(n,i),l&&l.m(n,null)},p(t,[e]){if(994&e){let l;for(r=t[1],l=0;l<r.length;l+=1){const a=ou(t,r,l);o[l]?o[l].p(a,e):(o[l]=lu(a),o[l].c(),o[l].m(n,i))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}t[2].visible?l?l.p(t,e):(l=au(t),l.c(),l.m(n,null)):l&&(l.d(1),l=null),1&e&&I(n,"transform",t[0])},i:t,o:t,d(t){t&&E(n),A(o,t),l&&l.d()}}}function cu(t,e,n){let{cumulative_isos:i}=e,{transform:r}=e,{countries:o}=e,l=Na().domain([0,150]).range([.2,1]);let a,s=0;let c={iso:null,x:0,y:0,visible:!1};function u(t,e){let r=e.properties.adm0_iso,o=i.find((t=>t.iso==r));if(o){const[i,r]=cn(t);n(2,c={iso:e.properties.admin+": "+o.count,x:i,y:r,visible:!0})}else n(2,c.visible=!1,c)}return t.$$set=t=>{"cumulative_isos"in t&&n(10,i=t.cumulative_isos),"transform"in t&&n(0,r=t.transform),"countries"in t&&n(1,o=t.countries)},t.$$.update=()=>{1024&t.$$.dirty&&i&&(un(".country").style("fill"," black"),i.forEach((t=>{un("."+t.iso).style("fill","#f6f1d6").style("fill-opacity",l(t.count))}))),4&t.$$.dirty&&c.iso&&async function(){await st(),a&&n(3,s=a.getBBox().width)}()},[r,o,c,s,a,function(t){return i.some((e=>e.iso===t.properties.adm0_iso))?"#f6f1d6":"black"},function(t){let e=t.properties.adm0_iso,n=i.find((t=>t.iso==e));return n?l(n.count):1},u,function(t){const[e,i]=cn(t);n(2,c.x=e,c),n(2,c.y=i,c)},function(){n(2,c.visible=!1,c)},i,(t,e)=>u(e,t),function(t){nt[t?"unshift":"push"]((()=>{a=t,n(4,a)}))}]}class uu extends Mt{constructor(t){super(),St(this,t,cu,su,a,{cumulative_isos:10,transform:0,countries:1})}}function fu(t){let e,n,i,r=t[0]&&du(t);return{c(){e=R("div"),r&&r.c(),I(e,"class","wrapper svelte-zaiuf5"),ct((()=>t[20].call(e)))},m(o,l){M(o,e,l),r&&r.m(e,null),n=V(e,t[20].bind(e)),i=!0},p(t,n){t[0]?r?(r.p(t,n),1&n&&xt(r,1)):(r=du(t),r.c(),xt(r,1),r.m(e,null)):r&&(yt(),wt(r,1,1,(()=>{r=null})),vt())},i(t){i||(xt(r),i=!0)},o(t){wt(r),i=!1},d(t){t&&E(e),r&&r.d(),n()}}}function du(t){let e,n;return e=new Yc({props:{$$slots:{default:[pu]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,i){_t(e,t,i),n=!0},p(t,n){const i={};67108976&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function hu(t){let e,n;return e=new uu({props:{countries:t[5],transform:t[6],cumulative_isos:t[4]}}),{c(){bt(e.$$.fragment)},m(t,i){_t(e,t,i),n=!0},p(t,n){const i={};32&n&&(i.countries=t[5]),64&n&&(i.transform=t[6]),16&n&&(i.cumulative_isos=t[4]),e.$set(i)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function pu(t){let e,n;return e=new ru({props:{$$slots:{default:[hu]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,i){_t(e,t,i),n=!0},p(t,n){const i={};67108976&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function gu(t){let e,n,i=t[0]&&t[1]&&fu(t);return{c(){i&&i.c(),e=O()},m(t,r){i&&i.m(t,r),M(t,e,r),n=!0},p(t,[n]){t[0]&&t[1]?i?(i.p(t,n),3&n&&xt(i,1)):(i=fu(t),i.c(),xt(i,1),i.m(e.parentNode,e)):i&&(yt(),wt(i,1,1,(()=>{i=null})),vt())},i(t){n||(xt(i),n=!0)},o(t){wt(i),n=!1},d(t){i&&i.d(t),t&&E(e)}}}function mu(t,e,n){let i,r;const o=K();let l,a,s,c,u,f,{pax:d}=e,{mygeojson:h}=e,{pax_timeline:p}=e,{pax_gender:g}=e,{step:m}=e,y=ns,v=400,x=400;const w=20,$=20,b=20,_=40;let k,S,M,E,A,R=[];function N(t){const e=hi(y,t);ur().duration(750).tween("zoom",(()=>t=>{n(6,y=e(t))}))}return t.$$set=t=>{"pax"in t&&n(7,d=t.pax),"mygeojson"in t&&n(0,h=t.mygeojson),"pax_timeline"in t&&n(1,p=t.pax_timeline),"pax_gender"in t&&n(8,g=t.pax_gender),"step"in t&&n(9,m=t.step)},t.$$.update=()=>{13&t.$$.dirty&&n(19,i=ra().fitSize([v,x],h)),524288&t.$$.dirty&&n(18,r=function(t,e){let n,i,r=3,o=4.5;function l(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),yo(t,n(i))),i.result()}return l.area=function(t){return yo(t,n(Qo)),Qo.result()},l.measure=function(t){return yo(t,n(Wl)),Wl.result()},l.bounds=function(t){return yo(t,n(al)),al.result()},l.centroid=function(t){return yo(t,n($l)),$l.result()},l.projection=function(e){return arguments.length?(n=null==e?(t=null,Uo):(t=e).stream,l):t},l.context=function(t){return arguments.length?(i=null==t?(e=null,new Gl(r)):new Tl(e=t),"function"!=typeof o&&i.pointRadius(o),l):e},l.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),l):o},l.digits=function(t){if(!arguments.length)return r;if(null==t)r=null;else{const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);r=e}return null===e&&(i=new Gl(r)),l},l.projection(t).digits(r).context(e)}(i)),262145&t.$$.dirty&&h&&n(5,R=h.features.map((t=>({...t,path:r(t),bounds:r.bounds(t),centroid:r.centroid(t)})))),8224&t.$$.dirty&&R.length>0&&(n(13,k=R.find((t=>"Afghanistan"==t.properties.admin))),n(14,[[S,M],[E,A]]=k.bounds,S,(n(15,M),n(5,R),n(13,k),n(0,h),n(18,r),n(19,i),n(2,v),n(3,x)),(n(16,E),n(5,R),n(13,k),n(0,h),n(18,r),n(19,i),n(2,v),n(3,x)),(n(17,A),n(5,R),n(13,k),n(0,h),n(18,r),n(19,i),n(2,v),n(3,x)))),4&t.$$.dirty&&n(11,s=v-_-$),8&t.$$.dirty&&n(12,c=x-w-b),2048&t.$$.dirty&&(u=xa().domain(us).range([0,s]).padding(.1)),4096&t.$$.dirty&&(f=Na().domain([0,100]).range([c,0])),128&t.$$.dirty&&d&&(n(4,a=fs(d)),o("mapLoaded")),247708&t.$$.dirty&&("map_one"==m?n(4,a=fs(d)):"map_two"==m?(n(4,a=fs(g)),n(4,a=a.filter((t=>t.count>1))),N(ns)):"map_three"==m&&(n(4,a=[{iso:"AFG",count:30}]),n(10,l=ns.translate(v/2,x/2).scale(Math.min(2,.9/Math.max((E-S)/v,(A-M)/x))).translate(-(S+E)/2,-(M+A)/2)),N(l)))},[h,p,v,x,a,R,y,d,g,m,l,s,c,k,S,M,E,A,r,i,function(){v=this.clientWidth,x=this.clientHeight,n(2,v),n(3,x)}]}class yu extends Mt{constructor(t){super(),St(this,t,mu,gu,a,{pax:7,mygeojson:0,pax_timeline:1,pax_gender:8,step:9})}}function vu(t){let e,n,i,r,o,l,a,s,c,u,f=t[1].iso+"";return{c(){e=N("g"),n=N("rect"),l=N("text"),a=T(f),I(n,"x",i=t[0].x>=180?-25:0),I(n,"y",r=t[0].x>=180?-15:0),I(n,"width",o=t[5]+10),I(n,"height","20"),I(n,"fill","black"),I(n,"rx","3"),I(l,"x",s=t[0].x>=180?-20:5),I(l,"y",c=t[0].x>=180?0:15),I(l,"font-size","12"),I(l,"fill","white"),I(e,"transform",u="translate("+(t[1].x+10)+", "+(t[1].y-10)+") rotate("+(t[0].x>=180?180:0)+")")},m(i,r){M(i,e,r),S(e,n),S(e,l),S(l,a),t[16](l)},p(t,d){1&d&&i!==(i=t[0].x>=180?-25:0)&&I(n,"x",i),1&d&&r!==(r=t[0].x>=180?-15:0)&&I(n,"y",r),32&d&&o!==(o=t[5]+10)&&I(n,"width",o),2&d&&f!==(f=t[1].iso+"")&&j(a,f),1&d&&s!==(s=t[0].x>=180?-20:5)&&I(l,"x",s),1&d&&c!==(c=t[0].x>=180?0:15)&&I(l,"y",c),3&d&&u!==(u="translate("+(t[1].x+10)+", "+(t[1].y-10)+") rotate("+(t[0].x>=180?180:0)+")")&&I(e,"transform",u)},d(n){n&&E(e),t[16](null)}}}function xu(e){let n,i,r,l,a,s,c,u,f,d,h,p,g,m,y,v,x,w,$,b=e[1].visible&&vu(e);return{c(){n=N("g"),i=N("circle"),r=N("g"),l=N("rect"),d=N("text"),h=T(e[4]),b&&b.c(),I(i,"r",e[7]),I(i,"class","svelte-1nvyzy5"),I(l,"x",a=(e[0].x<180?0:-0)+e[3].x-2),I(l,"y",s=e[3].y-1),I(l,"width",c=e[3].width+4),I(l,"height",u=e[3].height+2),I(l,"fill",f=null==e[0].data.key?"none":"#001C23"),I(l,"rx","2"),I(l,"ry","2"),I(d,"x",p=e[0].x<180?15:-15),I(d,"dy","0.32em"),I(d,"text-anchor",g=e[0].x<180?"start":"end"),I(d,"fill","#f6f1d6"),I(d,"font-size","10"),I(d,"opactity",m=null==e[0].data.key?0:1),I(d,"class",y="node "+e[0].data.key),I(r,"transform",v="rotate("+(e[0].x>=180?180:0)+")"),I(n,"transform",x="rotate("+(e[0].x-90)+")translate("+e[0].y+")")},m(t,o){M(t,n,o),S(n,i),S(n,r),S(r,l),S(r,d),S(d,h),e[15](d),b&&b.m(n,null),w||($=[P(i,"mouseover",e[14]),P(i,"mousemove",e[10]),P(i,"mouseout",e[11])],w=!0)},p(t,[e]){128&e&&I(i,"r",t[7]),9&e&&a!==(a=(t[0].x<180?0:-0)+t[3].x-2)&&I(l,"x",a),8&e&&s!==(s=t[3].y-1)&&I(l,"y",s),8&e&&c!==(c=t[3].width+4)&&I(l,"width",c),8&e&&u!==(u=t[3].height+2)&&I(l,"height",u),1&e&&f!==(f=null==t[0].data.key?"none":"#001C23")&&I(l,"fill",f),16&e&&j(h,t[4]),1&e&&p!==(p=t[0].x<180?15:-15)&&I(d,"x",p),1&e&&g!==(g=t[0].x<180?"start":"end")&&I(d,"text-anchor",g),1&e&&m!==(m=null==t[0].data.key?0:1)&&I(d,"opactity",m),1&e&&y!==(y="node "+t[0].data.key)&&I(d,"class",y),1&e&&v!==(v="rotate("+(t[0].x>=180?180:0)+")")&&I(r,"transform",v),t[1].visible?b?b.p(t,e):(b=vu(t),b.c(),b.m(n,null)):b&&(b.d(1),b=null),1&e&&x!==(x="rotate("+(t[0].x-90)+")translate("+t[0].y+")")&&I(n,"transform",x)},i:t,o:t,d(t){t&&E(n),e[15](null),b&&b.d(),w=!1,o($)}}}function wu(t,e,n){let i,r,o,l,{node:a}=e,{categories:s}=e,c=Na().domain([0,200]).range([1.5,25]),u={x:0,y:0,width:0,height:0},d=Ts(0,{duration:500,easing:As});function h(){o&&n(3,u=o.getBBox())}f(t,d,(t=>n(7,r=t))),Z(h);let p,g=0;let m={iso:null,x:0,y:0,visible:!1};function y(t,e){if(e){const[i,r]=cn(t);n(1,m={iso:e.data.count,x:i,y:r,visible:!0})}else n(1,m.visible=!1,m)}return t.$$set=t=>{"node"in t&&n(0,a=t.node),"categories"in t&&n(12,s=t.categories)},t.$$.update=()=>{if(1&t.$$.dirty&&d.set(void 0===a.data.count?0:c(a.data.count)),1&t.$$.dirty&&n(13,i=void 0===a.data.key?"pax_gender":a.data.key),12288&t.$$.dirty&&i&&s){let t=s.find((t=>t.id===i));n(4,l=t?t.name:null)}2&t.$$.dirty&&m.iso&&async function(){await st(),p&&n(5,g=p.getBBox().width)}()},h(),[a,m,o,u,l,g,p,r,d,y,function(t){const[e,i]=cn(t);n(1,m.x=e,m),n(1,m.y=i,m)},function(){n(1,m.visible=!1,m)},s,i,t=>y(t,a),function(t){nt[t?"unshift":"push"]((()=>{o=t,n(2,o)}))},function(t){nt[t?"unshift":"push"]((()=>{p=t,n(6,p)}))}]}class $u extends Mt{constructor(t){super(),St(this,t,wu,xu,a,{node:0,categories:12})}}const bu=Math.min,_u=Math.max,ku=Math.round,Su=Math.floor,Mu=t=>({x:t,y:t}),Eu={left:"right",right:"left",bottom:"top",top:"bottom"},Au={start:"end",end:"start"};function Ru(t,e,n){return _u(t,bu(e,n))}function Nu(t,e){return"function"==typeof t?t(e):t}function Tu(t){return t.split("-")[0]}function Cu(t){return t.split("-")[1]}function Ou(t){return"x"===t?"y":"x"}function Pu(t){return"y"===t?"height":"width"}const zu=new Set(["top","bottom"]);function Lu(t){return zu.has(Tu(t))?"y":"x"}function Iu(t){return Ou(Lu(t))}function Wu(t){return t.replace(/start|end/g,(t=>Au[t]))}const Du=["left","right"],qu=["right","left"],ju=["top","bottom"],Hu=["bottom","top"];function Bu(t,e,n,i){const r=Cu(t);let o=function(t,e,n){switch(t){case"top":case"bottom":return n?e?qu:Du:e?Du:qu;case"left":case"right":return e?ju:Hu;default:return[]}}(Tu(t),"start"===n,i);return r&&(o=o.map((t=>t+"-"+r)),e&&(o=o.concat(o.map(Wu)))),o}function Fu(t){return t.replace(/left|right|bottom|top/g,(t=>Eu[t]))}function Gu(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function Xu(t,e,n){let{reference:i,floating:r}=t;const o=Lu(e),l=Iu(e),a=Pu(l),s=Tu(e),c="y"===o,u=i.x+i.width/2-r.width/2,f=i.y+i.height/2-r.height/2,d=i[a]/2-r[a]/2;let h;switch(s){case"top":h={x:u,y:i.y-r.height};break;case"bottom":h={x:u,y:i.y+i.height};break;case"right":h={x:i.x+i.width,y:f};break;case"left":h={x:i.x-r.width,y:f};break;default:h={x:i.x,y:i.y}}switch(Cu(e)){case"start":h[l]-=d*(n&&c?-1:1);break;case"end":h[l]+=d*(n&&c?-1:1)}return h}async function Vu(t,e){var n;void 0===e&&(e={});const{x:i,y:r,platform:o,rects:l,elements:a,strategy:s}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Nu(e,t),p=function(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}(h),g=a[d?"floating"===f?"reference":"floating":f],m=Gu(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(g)))||n?g:g.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:s})),y="floating"===f?{x:i,y:r,width:l.floating.width,height:l.floating.height}:l.reference,v=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),x=await(null==o.isElement?void 0:o.isElement(v))&&await(null==o.getScale?void 0:o.getScale(v))||{x:1,y:1},w=Gu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:v,strategy:s}):y);return{top:(m.top-w.top+p.top)/x.y,bottom:(w.bottom-m.bottom+p.bottom)/x.y,left:(m.left-w.left+p.left)/x.x,right:(w.right-m.right+p.right)/x.x}}const Yu=new Set(["left","top"]);function Uu(){return"undefined"!=typeof window}function Ju(t){return Ku(t)?(t.nodeName||"").toLowerCase():"#document"}function Zu(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function Qu(t){var e;return null==(e=(Ku(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function Ku(t){return!!Uu()&&(t instanceof Node||t instanceof Zu(t).Node)}function tf(t){return!!Uu()&&(t instanceof Element||t instanceof Zu(t).Element)}function ef(t){return!!Uu()&&(t instanceof HTMLElement||t instanceof Zu(t).HTMLElement)}function nf(t){return!(!Uu()||"undefined"==typeof ShadowRoot)&&(t instanceof ShadowRoot||t instanceof Zu(t).ShadowRoot)}const rf=new Set(["inline","contents"]);function of(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=yf(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!rf.has(r)}const lf=new Set(["table","td","th"]);function af(t){return lf.has(Ju(t))}const sf=[":popover-open",":modal"];function cf(t){return sf.some((e=>{try{return t.matches(e)}catch(t){return!1}}))}const uf=["transform","translate","scale","rotate","perspective"],ff=["transform","translate","scale","rotate","perspective","filter"],df=["paint","layout","strict","content"];function hf(t){const e=pf(),n=tf(t)?yf(t):t;return uf.some((t=>!!n[t]&&"none"!==n[t]))||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||ff.some((t=>(n.willChange||"").includes(t)))||df.some((t=>(n.contain||"").includes(t)))}function pf(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const gf=new Set(["html","body","#document"]);function mf(t){return gf.has(Ju(t))}function yf(t){return Zu(t).getComputedStyle(t)}function vf(t){return tf(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xf(t){if("html"===Ju(t))return t;const e=t.assignedSlot||t.parentNode||nf(t)&&t.host||Qu(t);return nf(e)?e.host:e}function wf(t){const e=xf(t);return mf(e)?t.ownerDocument?t.ownerDocument.body:t.body:ef(e)&&of(e)?e:wf(e)}function $f(t,e,n){var i;void 0===e&&(e=[]),void 0===n&&(n=!0);const r=wf(t),o=r===(null==(i=t.ownerDocument)?void 0:i.body),l=Zu(r);if(o){const t=bf(l);return e.concat(l,l.visualViewport||[],of(r)?r:[],t&&n?$f(t):[])}return e.concat(r,$f(r,[],n))}function bf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _f(t){const e=yf(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=ef(t),o=r?t.offsetWidth:n,l=r?t.offsetHeight:i,a=ku(n)!==o||ku(i)!==l;return a&&(n=o,i=l),{width:n,height:i,$:a}}function kf(t){return tf(t)?t:t.contextElement}function Sf(t){const e=kf(t);if(!ef(e))return Mu(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:o}=_f(e);let l=(o?ku(n.width):n.width)/i,a=(o?ku(n.height):n.height)/r;return l&&Number.isFinite(l)||(l=1),a&&Number.isFinite(a)||(a=1),{x:l,y:a}}const Mf=Mu(0);function Ef(t){const e=Zu(t);return pf()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:Mf}function Af(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n=!1);const r=t.getBoundingClientRect(),o=kf(t);let l=Mu(1);e&&(i?tf(i)&&(l=Sf(i)):l=Sf(t));const a=function(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==Zu(t))&&e}(o,n,i)?Ef(o):Mu(0);let s=(r.left+a.x)/l.x,c=(r.top+a.y)/l.y,u=r.width/l.x,f=r.height/l.y;if(o){const t=Zu(o),e=i&&tf(i)?Zu(i):i;let n=t,r=bf(n);for(;r&&i&&e!==n;){const t=Sf(r),e=r.getBoundingClientRect(),i=yf(r),o=e.left+(r.clientLeft+parseFloat(i.paddingLeft))*t.x,l=e.top+(r.clientTop+parseFloat(i.paddingTop))*t.y;s*=t.x,c*=t.y,u*=t.x,f*=t.y,s+=o,c+=l,n=Zu(r),r=bf(n)}}return Gu({width:u,height:f,x:s,y:c})}function Rf(t,e){const n=vf(t).scrollLeft;return e?e.left+n:Af(Qu(t)).left+n}function Nf(t,e){const n=t.getBoundingClientRect();return{x:n.left+e.scrollLeft-Rf(t,n),y:n.top+e.scrollTop}}const Tf=25;const Cf=new Set(["absolute","fixed"]);function Of(t,e,n){let i;if("viewport"===e)i=function(t,e){const n=Zu(t),i=Qu(t),r=n.visualViewport;let o=i.clientWidth,l=i.clientHeight,a=0,s=0;if(r){o=r.width,l=r.height;const t=pf();(!t||t&&"fixed"===e)&&(a=r.offsetLeft,s=r.offsetTop)}const c=Rf(i);if(c<=0){const t=i.ownerDocument,e=t.body,n=getComputedStyle(e),r="CSS1Compat"===t.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,l=Math.abs(i.clientWidth-e.clientWidth-r);l<=Tf&&(o-=l)}else c<=Tf&&(o+=c);return{width:o,height:l,x:a,y:s}}(t,n);else if("document"===e)i=function(t){const e=Qu(t),n=vf(t),i=t.ownerDocument.body,r=_u(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),o=_u(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let l=-n.scrollLeft+Rf(t);const a=-n.scrollTop;return"rtl"===yf(i).direction&&(l+=_u(e.clientWidth,i.clientWidth)-r),{width:r,height:o,x:l,y:a}}(Qu(t));else if(tf(e))i=function(t,e){const n=Af(t,!0,"fixed"===e),i=n.top+t.clientTop,r=n.left+t.clientLeft,o=ef(t)?Sf(t):Mu(1);return{width:t.clientWidth*o.x,height:t.clientHeight*o.y,x:r*o.x,y:i*o.y}}(e,n);else{const n=Ef(t);i={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return Gu(i)}function Pf(t,e){const n=xf(t);return!(n===e||!tf(n)||mf(n))&&("fixed"===yf(n).position||Pf(n,e))}function zf(t,e,n){const i=ef(e),r=Qu(e),o="fixed"===n,l=Af(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const s=Mu(0);function c(){s.x=Rf(r)}if(i||!i&&!o)if(("body"!==Ju(e)||of(r))&&(a=vf(e)),i){const t=Af(e,!0,o,e);s.x=t.x+e.clientLeft,s.y=t.y+e.clientTop}else r&&c();o&&!i&&r&&c();const u=!r||i||o?Mu(0):Nf(r,a);return{x:l.left+a.scrollLeft-s.x-u.x,y:l.top+a.scrollTop-s.y-u.y,width:l.width,height:l.height}}function Lf(t){return"static"===yf(t).position}function If(t,e){if(!ef(t)||"fixed"===yf(t).position)return null;if(e)return e(t);let n=t.offsetParent;return Qu(t)===n&&(n=n.ownerDocument.body),n}function Wf(t,e){const n=Zu(t);if(cf(t))return n;if(!ef(t)){let e=xf(t);for(;e&&!mf(e);){if(tf(e)&&!Lf(e))return e;e=xf(e)}return n}let i=If(t,e);for(;i&&af(i)&&Lf(i);)i=If(i,e);return i&&mf(i)&&Lf(i)&&!hf(i)?n:i||function(t){let e=xf(t);for(;ef(e)&&!mf(e);){if(hf(e))return e;if(cf(e))return null;e=xf(e)}return null}(t)||n}const Df={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const o="fixed"===r,l=Qu(i),a=!!e&&cf(e.floating);if(i===l||a&&o)return n;let s={scrollLeft:0,scrollTop:0},c=Mu(1);const u=Mu(0),f=ef(i);if((f||!f&&!o)&&(("body"!==Ju(i)||of(l))&&(s=vf(i)),ef(i))){const t=Af(i);c=Sf(i),u.x=t.x+i.clientLeft,u.y=t.y+i.clientTop}const d=!l||f||o?Mu(0):Nf(l,s);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-s.scrollLeft*c.x+u.x+d.x,y:n.y*c.y-s.scrollTop*c.y+u.y+d.y}},getDocumentElement:Qu,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const o="clippingAncestors"===n?cf(e)?[]:function(t,e){const n=e.get(t);if(n)return n;let i=$f(t,[],!1).filter((t=>tf(t)&&"body"!==Ju(t))),r=null;const o="fixed"===yf(t).position;let l=o?xf(t):t;for(;tf(l)&&!mf(l);){const e=yf(l),n=hf(l);n||"fixed"!==e.position||(r=null),(o?!n&&!r:!n&&"static"===e.position&&r&&Cf.has(r.position)||of(l)&&!n&&Pf(t,l))?i=i.filter((t=>t!==l)):r=e,l=xf(l)}return e.set(t,i),i}(e,this._c):[].concat(n),l=[...o,i],a=l[0],s=l.reduce(((t,n)=>{const i=Of(e,n,r);return t.top=_u(i.top,t.top),t.right=bu(i.right,t.right),t.bottom=bu(i.bottom,t.bottom),t.left=_u(i.left,t.left),t}),Of(e,a,r));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:Wf,getElementRects:async function(t){const e=this.getOffsetParent||Wf,n=this.getDimensions,i=await n(t.floating);return{reference:zf(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:n}=_f(t);return{width:e,height:n}},getScale:Sf,isElement:tf,isRTL:function(t){return"rtl"===yf(t).direction}};function qf(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function jf(t,e,n,i){void 0===i&&(i={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:s=!1}=i,c=kf(t),u=r||o?[...c?$f(c):[],...$f(e)]:[];u.forEach((t=>{r&&t.addEventListener("scroll",n,{passive:!0}),o&&t.addEventListener("resize",n)}));const f=c&&a?function(t,e){let n,i=null;const r=Qu(t);function o(){var t;clearTimeout(n),null==(t=i)||t.disconnect(),i=null}return function l(a,s){void 0===a&&(a=!1),void 0===s&&(s=1),o();const c=t.getBoundingClientRect(),{left:u,top:f,width:d,height:h}=c;if(a||e(),!d||!h)return;const p={rootMargin:-Su(f)+"px "+-Su(r.clientWidth-(u+d))+"px "+-Su(r.clientHeight-(f+h))+"px "+-Su(u)+"px",threshold:_u(0,bu(1,s))||1};let g=!0;function m(e){const i=e[0].intersectionRatio;if(i!==s){if(!g)return l();i?l(!1,i):n=setTimeout((()=>{l(!1,1e-7)}),1e3)}1!==i||qf(c,t.getBoundingClientRect())||l(),g=!1}try{i=new IntersectionObserver(m,{...p,root:r.ownerDocument})}catch(t){i=new IntersectionObserver(m,p)}i.observe(t)}(!0),o}(c,n):null;let d,h=-1,p=null;l&&(p=new ResizeObserver((t=>{let[i]=t;i&&i.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame((()=>{var t;null==(t=p)||t.observe(e)}))),n()})),c&&!s&&p.observe(c),p.observe(e));let g=s?Af(t):null;return s&&function e(){const i=Af(t);g&&!qf(g,i)&&n();g=i,d=requestAnimationFrame(e)}(),n(),()=>{var t;u.forEach((t=>{r&&t.removeEventListener("scroll",n),o&&t.removeEventListener("resize",n)})),null==f||f(),null==(t=p)||t.disconnect(),p=null,s&&cancelAnimationFrame(d)}}const Hf=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:o,placement:l,middlewareData:a}=e,s=await async function(t,e){const{placement:n,platform:i,elements:r}=t,o=await(null==i.isRTL?void 0:i.isRTL(r.floating)),l=Tu(n),a=Cu(n),s="y"===Lu(n),c=Yu.has(l)?-1:1,u=o&&s?-1:1,f=Nu(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:p}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&"number"==typeof p&&(h="end"===a?-1*p:p),s?{x:h*u,y:d*c}:{x:d*c,y:h*u}}(e,t);return l===(null==(n=a.offset)?void 0:n.placement)&&null!=(i=a.arrow)&&i.alignmentOffset?{}:{x:r+s.x,y:o+s.y,data:{...s,placement:l}}}}},Bf=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:a={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...s}=Nu(t,e),c={x:n,y:i},u=await Vu(e,s),f=Lu(Tu(r)),d=Ou(f);let h=c[d],p=c[f];if(o){const t="y"===d?"bottom":"right";h=Ru(h+u["y"===d?"top":"left"],h,h-u[t])}if(l){const t="y"===f?"bottom":"right";p=Ru(p+u["y"===f?"top":"left"],p,p-u[t])}const g=a.fn({...e,[d]:h,[f]:p});return{...g,data:{x:g.x-n,y:g.y-i,enabled:{[d]:o,[f]:l}}}}}},Ff=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:o,rects:l,initialPlacement:a,platform:s,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=Nu(t,e);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const y=Tu(r),v=Lu(a),x=Tu(a)===a,w=await(null==s.isRTL?void 0:s.isRTL(c.floating)),$=d||(x||!g?[Fu(a)]:function(t){const e=Fu(t);return[Wu(t),e,Wu(e)]}(a)),b="none"!==p;!d&&b&&$.push(...Bu(a,g,p,w));const _=[a,...$],k=await Vu(e,m),S=[];let M=(null==(i=o.flip)?void 0:i.overflows)||[];if(u&&S.push(k[y]),f){const t=function(t,e,n){void 0===n&&(n=!1);const i=Cu(t),r=Iu(t),o=Pu(r);let l="x"===r?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Fu(l)),[l,Fu(l)]}(r,l,w);S.push(k[t[0]],k[t[1]])}if(M=[...M,{placement:r,overflows:S}],!S.every((t=>t<=0))){var E,A;const t=((null==(E=o.flip)?void 0:E.index)||0)+1,e=_[t];if(e){if(!("alignment"===f&&v!==Lu(e))||M.every((t=>Lu(t.placement)!==v||t.overflows[0]>0)))return{data:{index:t,overflows:M},reset:{placement:e}}}let n=null==(A=M.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:A.placement;if(!n)switch(h){case"bestFit":{var R;const t=null==(R=M.filter((t=>{if(b){const e=Lu(t.placement);return e===v||"y"===e}return!0})).map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:R[0];t&&(n=t);break}case"initialPlacement":n=a}if(r!==n)return{reset:{placement:n}}}return{}}}},Gf=(t,e,n)=>{const i=new Map,r={platform:Df,...n},o={...r.platform,_c:i};return(async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:o=[],platform:l}=n,a=o.filter(Boolean),s=await(null==l.isRTL?void 0:l.isRTL(e));let c=await l.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:f}=Xu(c,i,s),d=i,h={},p=0;for(let n=0;n<a.length;n++){const{name:o,fn:g}=a[n],{x:m,y:y,data:v,reset:x}=await g({x:u,y:f,initialPlacement:i,placement:d,strategy:r,middlewareData:h,rects:c,platform:l,elements:{reference:t,floating:e}});u=null!=m?m:u,f=null!=y?y:f,h={...h,[o]:{...h[o],...v}},x&&p<=50&&(p++,"object"==typeof x&&(x.placement&&(d=x.placement),x.rects&&(c=!0===x.rects?await l.getElementRects({reference:t,floating:e,strategy:r}):x.rects),({x:u,y:f}=Xu(c,d,s))),n=-1)}return{x:u,y:f,placement:d,strategy:r,middlewareData:h}})(t,e,{...r,platform:o})};function Xf({loadOptions:t,filterText:e,items:n,multiple:i,value:r,itemId:o,groupBy:l,filterSelectedItems:a,itemFilter:s,convertStringItemsToObjects:c,filterGroupedItems:u,label:f}){if(n&&t)return n;if(!n)return[];n&&n.length>0&&"object"!=typeof n[0]&&(n=c(n));let d=n.filter((t=>{let n=s(t[f],e,t);return n&&i&&r?.length&&(n=!r.some((e=>!!a&&e[o]===t[o]))),n}));return l&&(d=u(d)),d}async function Vf({dispatch:t,loadOptions:e,convertStringItemsToObjects:n,filterText:i}){let r=await e(i).catch((e=>{console.warn("svelte-select loadOptions error :>> ",e),t("error",{type:"loadOptions",details:e})}));if(r&&!r.cancelled)return r?(r&&r.length>0&&"object"!=typeof r[0]&&(r=n(r)),t("loaded",{items:r})):r=[],{filteredItems:r,loading:!1,focused:!0,listOpen:!0}}function Yf(e){let n,i;return{c(){n=N("svg"),i=N("path"),I(i,"fill","currentColor"),I(i,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747\n          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0\n          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502\n          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0\n          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),I(n,"width","100%"),I(n,"height","100%"),I(n,"viewBox","0 0 20 20"),I(n,"focusable","false"),I(n,"aria-hidden","true"),I(n,"class","svelte-qbd276")},m(t,e){M(t,n,e),S(n,i)},p:t,i:t,o:t,d(t){t&&E(n)}}}class Uf extends Mt{constructor(t){super(),St(this,t,null,Yf,a,{})}}function Jf(e){let n,i;return{c(){n=N("svg"),i=N("path"),I(i,"fill","currentColor"),I(i,"d","M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124\n    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"),I(n,"width","100%"),I(n,"height","100%"),I(n,"viewBox","-2 -2 50 50"),I(n,"focusable","false"),I(n,"aria-hidden","true"),I(n,"role","presentation"),I(n,"class","svelte-whdbu1")},m(t,e){M(t,n,e),S(n,i)},p:t,i:t,o:t,d(t){t&&E(n)}}}class Zf extends Mt{constructor(t){super(),St(this,t,null,Jf,a,{})}}function Qf(e){let n,i;return{c(){n=N("svg"),i=N("circle"),I(i,"class","circle_path svelte-1p3nqvd"),I(i,"cx","50"),I(i,"cy","50"),I(i,"r","20"),I(i,"fill","none"),I(i,"stroke","currentColor"),I(i,"stroke-width","5"),I(i,"stroke-miterlimit","10"),I(n,"class","loading svelte-1p3nqvd"),I(n,"viewBox","25 25 50 50")},m(t,e){M(t,n,e),S(n,i)},p:t,i:t,o:t,d(t){t&&E(n)}}}class Kf extends Mt{constructor(t){super(),St(this,t,null,Qf,a,{})}}const td=t=>({value:8&t[0]}),ed=t=>({value:t[3]}),nd=t=>({value:8&t[0]}),id=t=>({value:t[3]}),rd=t=>({listOpen:64&t[0]}),od=t=>({listOpen:t[6]}),ld=t=>({}),ad=t=>({}),sd=t=>({}),cd=t=>({}),ud=t=>({selection:8&t[0]}),fd=t=>({selection:t[3]});function dd(t,e,n){const i=t.slice();return i[126]=e[n],i[128]=n,i}const hd=t=>({}),pd=t=>({}),gd=t=>({selection:8&t[0]}),md=t=>({selection:t[126],index:t[128]}),yd=t=>({}),vd=t=>({}),xd=t=>({}),wd=t=>({}),$d=t=>({}),bd=t=>({});function _d(t,e,n){const i=t.slice();return i[126]=e[n],i[128]=n,i}const kd=t=>({item:16777216&t[0]}),Sd=t=>({item:t[126],index:t[128]}),Md=t=>({filteredItems:16777216&t[0]}),Ed=t=>({filteredItems:t[24]}),Ad=t=>({}),Rd=t=>({});function Nd(t){let e,n,i,r,l,a,s,c,u,f=t[50]["list-prepend"]&&Td(t);const d=[Pd,Od,Cd],h=[];function p(t,e){return t[50].list?0:t[24].length>0?1:t[19]?-1:2}~(i=p(t))&&(r=h[i]=d[i](t));let g=t[50]["list-append"]&&Ld(t);return{c(){e=R("div"),f&&f.c(),n=C(),r&&r.c(),l=C(),g&&g.c(),I(e,"class","svelte-select-list svelte-82qwg8"),I(e,"role","none"),Y(e,"prefloat",t[28])},m(r,o){M(r,e,o),f&&f.m(e,null),S(e,n),~i&&h[i].m(e,null),S(e,l),g&&g.m(e,null),t[91](e),s=!0,c||(u=[v(a=t[49].call(null,e)),P(e,"scroll",t[41]),P(e,"pointerup",L(z(t[85]))),P(e,"mousedown",L(z(t[86])))],c=!0)},p(t,o){t[50]["list-prepend"]?f?(f.p(t,o),524288&o[1]&&xt(f,1)):(f=Td(t),f.c(),xt(f,1),f.m(e,n)):f&&(yt(),wt(f,1,1,(()=>{f=null})),vt());let a=i;i=p(t),i===a?~i&&h[i].p(t,o):(r&&(yt(),wt(h[a],1,1,(()=>{h[a]=null})),vt()),~i?(r=h[i],r?r.p(t,o):(r=h[i]=d[i](t),r.c()),xt(r,1),r.m(e,l)):r=null),t[50]["list-append"]?g?(g.p(t,o),524288&o[1]&&xt(g,1)):(g=Ld(t),g.c(),xt(g,1),g.m(e,null)):g&&(yt(),wt(g,1,1,(()=>{g=null})),vt()),(!s||268435456&o[0])&&Y(e,"prefloat",t[28])},i(t){s||(xt(f),xt(r),xt(g),s=!0)},o(t){wt(f),wt(r),wt(g),s=!1},d(n){n&&E(e),f&&f.d(),~i&&h[i].d(),g&&g.d(),t[91](null),c=!1,o(u)}}}function Td(t){let e;const n=t[83]["list-prepend"],i=d(n,t,t[82],Rd);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,r){i&&i.p&&(!e||1048576&r[2])&&g(i,n,t,t[82],e?p(n,t[82],r,Ad):m(t[82]),Rd)},i(t){e||(xt(i,t),e=!0)},o(t){wt(i,t),e=!1},d(t){i&&i.d(t)}}}function Cd(e){let n;const i=e[83].empty,r=d(i,e,e[82],bd),o=r||function(){let e;return{c(){e=R("div"),e.textContent="No options",I(e,"class","empty svelte-82qwg8")},m(t,n){M(t,e,n)},p:t,d(t){t&&E(e)}}}();return{c(){o&&o.c()},m(t,e){o&&o.m(t,e),n=!0},p(t,e){r&&r.p&&(!n||1048576&e[2])&&g(r,i,t,t[82],n?p(i,t[82],e,$d):m(t[82]),bd)},i(t){n||(xt(o,t),n=!0)},o(t){wt(o,t),n=!1},d(t){o&&o.d(t)}}}function Od(t){let e,n,i=t[24],r=[];for(let e=0;e<i.length;e+=1)r[e]=zd(_d(t,i,e));const o=t=>wt(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=O()},m(t,i){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,i);M(t,e,i),n=!0},p(t,n){if(1627402376&n[0]|28672&n[1]|1048576&n[2]){let l;for(i=t[24],l=0;l<i.length;l+=1){const o=_d(t,i,l);r[l]?(r[l].p(o,n),xt(r[l],1)):(r[l]=zd(o),r[l].c(),xt(r[l],1),r[l].m(e.parentNode,e))}for(yt(),l=i.length;l<r.length;l+=1)o(l);vt()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)xt(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)wt(r[t]);n=!1},d(t){A(r,t),t&&E(e)}}}function Pd(t){let e;const n=t[83].list,i=d(n,t,t[82],Ed);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,r){i&&i.p&&(!e||16777216&r[0]|1048576&r[2])&&g(i,n,t,t[82],e?p(n,t[82],r,Md):m(t[82]),Ed)},i(t){e||(xt(i,t),e=!0)},o(t){wt(i,t),e=!1},d(t){i&&i.d(t)}}}function zd(t){let e,n,i,r,a,s,c,u;const f=t[83].item,h=d(f,t,t[82],Sd),y=h||function(t){let e,n=t[126]?.[t[12]]+"";return{c(){e=T(n)},m(t,n){M(t,e,n)},p(t,i){16781312&i[0]&&n!==(n=t[126]?.[t[12]]+"")&&j(e,n)},d(t){t&&E(e)}}}(t);function x(){return t[88](t[128])}function w(){return t[89](t[128])}function $(){return t[90](t[126],t[128])}return{c(){e=R("div"),n=R("div"),y&&y.c(),a=C(),I(n,"class","item svelte-82qwg8"),Y(n,"list-group-title",t[126].groupHeader),Y(n,"active",t[45](t[126],t[3],t[13])),Y(n,"first",0===t[128]),Y(n,"hover",t[7]===t[128]),Y(n,"group-item",t[126].groupItem),Y(n,"not-selectable",!1===t[126]?.selectable),I(e,"class","list-item svelte-82qwg8"),I(e,"tabindex","-1"),I(e,"role","none")},m(o,l){M(o,e,l),S(e,n),y&&y.m(n,null),S(e,a),s=!0,c||(u=[v(i=t[46].call(null,n,{scroll:t[45](t[126],t[3],t[13]),listDom:t[30]})),v(r=t[47].call(null,n,{scroll:t[29]===t[128],listDom:t[30]})),P(e,"mouseover",x),P(e,"focus",w),P(e,"click",L($)),P(e,"keydown",L(z(t[87])))],c=!0)},p(e,o){t=e,h?h.p&&(!s||16777216&o[0]|1048576&o[2])&&g(h,f,t,t[82],s?p(f,t[82],o,kd):m(t[82]),Sd):y&&y.p&&(!s||16781312&o[0])&&y.p(t,s?o:[-1,-1,-1,-1,-1]),i&&l(i.update)&&1090527240&o[0]&&i.update.call(null,{scroll:t[45](t[126],t[3],t[13]),listDom:t[30]}),r&&l(r.update)&&1610612736&o[0]&&r.update.call(null,{scroll:t[29]===t[128],listDom:t[30]}),(!s||16777216&o[0])&&Y(n,"list-group-title",t[126].groupHeader),(!s||16785416&o[0]|16384&o[1])&&Y(n,"active",t[45](t[126],t[3],t[13])),(!s||128&o[0])&&Y(n,"hover",t[7]===t[128]),(!s||16777216&o[0])&&Y(n,"group-item",t[126].groupItem),(!s||16777216&o[0])&&Y(n,"not-selectable",!1===t[126]?.selectable)},i(t){s||(xt(y,t),s=!0)},o(t){wt(y,t),s=!1},d(t){t&&E(e),y&&y.d(t),c=!1,o(u)}}}function Ld(t){let e;const n=t[83]["list-append"],i=d(n,t,t[82],wd);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,r){i&&i.p&&(!e||1048576&r[2])&&g(i,n,t,t[82],e?p(n,t[82],r,xd):m(t[82]),wd)},i(t){e||(xt(i,t),e=!0)},o(t){wt(i,t),e=!1},d(t){i&&i.d(t)}}}function Id(t){let e,n,i,r,o;return{c(){e=R("span"),n=T(t[32]),i=C(),r=R("span"),o=T(t[31]),I(e,"id","aria-selection"),I(e,"class","svelte-82qwg8"),I(r,"id","aria-context"),I(r,"class","svelte-82qwg8")},m(t,l){M(t,e,l),S(e,n),M(t,i,l),M(t,r,l),S(r,o)},p(t,e){2&e[1]&&j(n,t[32]),1&e[1]&&j(o,t[31])},d(t){t&&E(e),t&&E(i),t&&E(r)}}}function Wd(t){let e,n,i,r;const o=[qd,Dd],l=[];function a(t,e){return t[9]?0:1}return e=a(t),n=l[e]=o[e](t),{c(){n.c(),i=O()},m(t,n){l[e].m(t,n),M(t,i,n),r=!0},p(t,r){let s=e;e=a(t),e===s?l[e].p(t,r):(yt(),wt(l[s],1,1,(()=>{l[s]=null})),vt(),n=l[e],n?n.p(t,r):(n=l[e]=o[e](t),n.c()),xt(n,1),n.m(i.parentNode,i))},i(t){r||(xt(n),r=!0)},o(t){wt(n),r=!1},d(t){l[e].d(t),t&&E(i)}}}function Dd(t){let e,n;const i=t[83].selection,r=d(i,t,t[82],fd),o=r||function(t){let e,n=t[3][t[12]]+"";return{c(){e=T(n)},m(t,n){M(t,e,n)},p(t,i){4104&i[0]&&n!==(n=t[3][t[12]]+"")&&j(e,n)},d(t){t&&E(e)}}}(t);return{c(){e=R("div"),o&&o.c(),I(e,"class","selected-item svelte-82qwg8"),Y(e,"hide-selected-item",t[35])},m(t,i){M(t,e,i),o&&o.m(e,null),n=!0},p(t,l){r?r.p&&(!n||8&l[0]|1048576&l[2])&&g(r,i,t,t[82],n?p(i,t[82],l,ud):m(t[82]),fd):o&&o.p&&(!n||4104&l[0])&&o.p(t,n?l:[-1,-1,-1,-1,-1]),(!n||16&l[1])&&Y(e,"hide-selected-item",t[35])},i(t){n||(xt(o,t),n=!0)},o(t){wt(o,t),n=!1},d(t){t&&E(e),o&&o.d(t)}}}function qd(t){let e,n,i=t[3],r=[];for(let e=0;e<i.length;e+=1)r[e]=Hd(dd(t,i,e));const o=t=>wt(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=O()},m(t,i){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,i);M(t,e,i),n=!0},p(t,n){if(67116040&n[0]|32&n[1]|1048576&n[2]){let l;for(i=t[3],l=0;l<i.length;l+=1){const o=dd(t,i,l);r[l]?(r[l].p(o,n),xt(r[l],1)):(r[l]=Hd(o),r[l].c(),xt(r[l],1),r[l].m(e.parentNode,e))}for(yt(),l=i.length;l<r.length;l+=1)o(l);vt()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)xt(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)wt(r[t]);n=!1},d(t){A(r,t),t&&E(e)}}}function jd(t){let e,n,i,r;const o=t[83]["multi-clear-icon"],l=d(o,t,t[82],pd),a=l||function(){let t,e;return t=new Zf({}),{c(){bt(t.$$.fragment)},m(n,i){_t(t,n,i),e=!0},i(n){e||(xt(t.$$.fragment,n),e=!0)},o(n){wt(t.$$.fragment,n),e=!1},d(e){kt(t,e)}}}();function s(){return t[92](t[128])}return{c(){e=R("div"),a&&a.c(),I(e,"class","multi-item-clear svelte-82qwg8")},m(t,o){M(t,e,o),a&&a.m(e,null),n=!0,i||(r=P(e,"pointerup",L(z(s))),i=!0)},p(e,i){t=e,l&&l.p&&(!n||1048576&i[2])&&g(l,o,t,t[82],n?p(o,t[82],i,hd):m(t[82]),pd)},i(t){n||(xt(a,t),n=!0)},o(t){wt(a,t),n=!1},d(t){t&&E(e),a&&a.d(t),i=!1,r()}}}function Hd(t){let e,n,i,r,l,a,s;const c=t[83].selection,u=d(c,t,t[82],md),f=u||function(t){let e,n=t[126][t[12]]+"";return{c(){e=T(n)},m(t,n){M(t,e,n)},p(t,i){4104&i[0]&&n!==(n=t[126][t[12]]+"")&&j(e,n)},d(t){t&&E(e)}}}(t);let h=!t[11]&&!t[10]&&Zf&&jd(t);function y(){return t[93](t[128])}return{c(){e=R("div"),n=R("span"),f&&f.c(),i=C(),h&&h.c(),r=C(),I(n,"class","multi-item-text svelte-82qwg8"),I(e,"class","multi-item svelte-82qwg8"),I(e,"role","none"),Y(e,"active",t[26]===t[128]),Y(e,"disabled",t[11])},m(o,c){M(o,e,c),S(e,n),f&&f.m(n,null),S(e,i),h&&h.m(e,null),S(e,r),l=!0,a||(s=[P(e,"click",z(y)),P(e,"keydown",L(z(t[84])))],a=!0)},p(n,i){t=n,u?u.p&&(!l||8&i[0]|1048576&i[2])&&g(u,c,t,t[82],l?p(c,t[82],i,gd):m(t[82]),md):f&&f.p&&(!l||4104&i[0])&&f.p(t,l?i:[-1,-1,-1,-1,-1]),t[11]||t[10]||!Zf?h&&(yt(),wt(h,1,1,(()=>{h=null})),vt()):h?(h.p(t,i),3072&i[0]&&xt(h,1)):(h=jd(t),h.c(),xt(h,1),h.m(e,r)),(!l||67108864&i[0])&&Y(e,"active",t[26]===t[128]),(!l||2048&i[0])&&Y(e,"disabled",t[11])},i(t){l||(xt(f,t),xt(h),l=!0)},o(t){wt(f,t),wt(h),l=!1},d(t){t&&E(e),f&&f.d(t),h&&h.d(),a=!1,o(s)}}}function Bd(t){let e,n;const i=t[83]["loading-icon"],r=d(i,t,t[82],cd),o=r||function(){let t,e;return t=new Kf({}),{c(){bt(t.$$.fragment)},m(n,i){_t(t,n,i),e=!0},i(n){e||(xt(t.$$.fragment,n),e=!0)},o(n){wt(t.$$.fragment,n),e=!1},d(e){kt(t,e)}}}();return{c(){e=R("div"),o&&o.c(),I(e,"class","icon loading svelte-82qwg8"),I(e,"aria-hidden","true")},m(t,i){M(t,e,i),o&&o.m(e,null),n=!0},p(t,e){r&&r.p&&(!n||1048576&e[2])&&g(r,i,t,t[82],n?p(i,t[82],e,sd):m(t[82]),cd)},i(t){n||(xt(o,t),n=!0)},o(t){wt(o,t),n=!1},d(t){t&&E(e),o&&o.d(t)}}}function Fd(t){let e,n,i,r;const o=t[83]["clear-icon"],l=d(o,t,t[82],ad),a=l||function(){let t,e;return t=new Zf({}),{c(){bt(t.$$.fragment)},m(n,i){_t(t,n,i),e=!0},i(n){e||(xt(t.$$.fragment,n),e=!0)},o(n){wt(t.$$.fragment,n),e=!1},d(e){kt(t,e)}}}();return{c(){e=R("button"),a&&a.c(),I(e,"type","button"),I(e,"class","icon clear-select svelte-82qwg8")},m(o,l){M(o,e,l),a&&a.m(e,null),n=!0,i||(r=P(e,"click",t[22]),i=!0)},p(t,e){l&&l.p&&(!n||1048576&e[2])&&g(l,o,t,t[82],n?p(o,t[82],e,ld):m(t[82]),ad)},i(t){n||(xt(a,t),n=!0)},o(t){wt(a,t),n=!1},d(t){t&&E(e),a&&a.d(t),i=!1,r()}}}function Gd(t){let e,n;const i=t[83]["chevron-icon"],r=d(i,t,t[82],od),o=r||function(){let t,e;return t=new Uf({}),{c(){bt(t.$$.fragment)},m(n,i){_t(t,n,i),e=!0},i(n){e||(xt(t.$$.fragment,n),e=!0)},o(n){wt(t.$$.fragment,n),e=!1},d(e){kt(t,e)}}}();return{c(){e=R("div"),o&&o.c(),I(e,"class","icon chevron svelte-82qwg8"),I(e,"aria-hidden","true")},m(t,i){M(t,e,i),o&&o.m(e,null),n=!0},p(t,e){r&&r.p&&(!n||64&e[0]|1048576&e[2])&&g(r,i,t,t[82],n?p(i,t[82],e,rd):m(t[82]),od)},i(t){n||(xt(o,t),n=!0)},o(t){wt(o,t),n=!1},d(t){t&&E(e),o&&o.d(t)}}}function Xd(e){let n;const i=e[83].required,r=d(i,e,e[82],ed),o=r||function(){let e;return{c(){e=R("select"),I(e,"class","required svelte-82qwg8"),e.required=!0,I(e,"tabindex","-1"),I(e,"aria-hidden","true")},m(t,n){M(t,e,n)},p:t,d(t){t&&E(e)}}}();return{c(){o&&o.c()},m(t,e){o&&o.m(t,e),n=!0},p(t,e){r&&r.p&&(!n||8&e[0]|1048576&e[2])&&g(r,i,t,t[82],n?p(i,t[82],e,td):m(t[82]),ed)},i(t){n||(xt(o,t),n=!0)},o(t){wt(o,t),n=!1},d(t){o&&o.d(t)}}}function Vd(t){let e,i,r,l,a,s,c,u,f,h,y,x,w,$,b,_,k,A,N,T,O,L=t[6]&&Nd(t),W=t[2]&&Id(t);const q=t[83].prepend,j=d(q,t,t[82],vd);let B=t[25]&&Wd(t),F=[{readOnly:h=!t[17]},t[27],{placeholder:t[33]},{style:t[18]},{disabled:t[11]}],G={};for(let t=0;t<F.length;t+=1)G=n(G,F[t]);let X=t[5]&&Bd(t),V=t[34]&&Fd(t),U=t[20]&&Gd(t);const J=t[83]["input-hidden"],Z=d(J,t,t[82],id),Q=Z||function(t){let e,n;return{c(){e=R("input"),I(e,"name",t[8]),I(e,"type","hidden"),e.value=n=t[3]?JSON.stringify(t[3]):null,I(e,"class","svelte-82qwg8")},m(t,n){M(t,e,n)},p(t,i){256&i[0]&&I(e,"name",t[8]),8&i[0]&&n!==(n=t[3]?JSON.stringify(t[3]):null)&&(e.value=n)},d(t){t&&E(e)}}}(t);let K=t[16]&&(!t[3]||0===t[3].length)&&Xd(t);return{c(){e=R("div"),L&&L.c(),i=C(),r=R("span"),W&&W.c(),l=C(),a=R("div"),j&&j.c(),s=C(),c=R("div"),B&&B.c(),u=C(),f=R("input"),y=C(),x=R("div"),X&&X.c(),w=C(),V&&V.c(),$=C(),U&&U.c(),b=C(),Q&&Q.c(),_=C(),K&&K.c(),I(r,"aria-live","polite"),I(r,"aria-atomic","false"),I(r,"aria-relevant","additions text"),I(r,"class","a11y-text svelte-82qwg8"),I(a,"class","prepend svelte-82qwg8"),D(f,G),Y(f,"svelte-82qwg8",!0),I(c,"class","value-container svelte-82qwg8"),I(x,"class","indicators svelte-82qwg8"),I(e,"class",k="svelte-select "+t[21]+" svelte-82qwg8"),I(e,"style",t[14]),I(e,"role","none"),Y(e,"multi",t[9]),Y(e,"disabled",t[11]),Y(e,"focused",t[2]),Y(e,"list-open",t[6]),Y(e,"show-chevron",t[20]),Y(e,"error",t[15])},m(n,o){M(n,e,o),L&&L.m(e,null),S(e,i),S(e,r),W&&W.m(r,null),S(e,l),S(e,a),j&&j.m(a,null),S(e,s),S(e,c),B&&B.m(c,null),S(c,u),S(c,f),f.autofocus&&f.focus(),t[94](f),H(f,t[4]),S(e,y),S(e,x),X&&X.m(x,null),S(x,w),V&&V.m(x,null),S(x,$),U&&U.m(x,null),S(e,b),Q&&Q.m(e,null),S(e,_),K&&K.m(e,null),t[96](e),N=!0,T||(O=[P(window,"click",t[42]),P(window,"keydown",t[37]),P(f,"keydown",t[37]),P(f,"blur",t[39]),P(f,"focus",t[38]),P(f,"input",t[95]),P(e,"pointerup",z(t[40])),v(A=t[48].call(null,e))],T=!0)},p(t,n){t[6]?L?(L.p(t,n),64&n[0]&&xt(L,1)):(L=Nd(t),L.c(),xt(L,1),L.m(e,i)):L&&(yt(),wt(L,1,1,(()=>{L=null})),vt()),t[2]?W?W.p(t,n):(W=Id(t),W.c(),W.m(r,null)):W&&(W.d(1),W=null),j&&j.p&&(!N||1048576&n[2])&&g(j,q,t,t[82],N?p(q,t[82],n,yd):m(t[82]),vd),t[25]?B?(B.p(t,n),33554432&n[0]&&xt(B,1)):(B=Wd(t),B.c(),xt(B,1),B.m(c,u)):B&&(yt(),wt(B,1,1,(()=>{B=null})),vt()),D(f,G=function(t,e){const n={},i={},r={$$scope:1};let o=t.length;for(;o--;){const l=t[o],a=e[o];if(a){for(const t in l)t in a||(i[t]=1);for(const t in a)r[t]||(n[t]=a[t],r[t]=1);t[o]=a}else for(const t in l)r[t]=1}for(const t in i)t in n||(n[t]=void 0);return n}(F,[(!N||131072&n[0]&&h!==(h=!t[17]))&&{readOnly:h},134217728&n[0]&&t[27],(!N||4&n[1])&&{placeholder:t[33]},(!N||262144&n[0])&&{style:t[18]},(!N||2048&n[0])&&{disabled:t[11]}])),16&n[0]&&f.value!==t[4]&&H(f,t[4]),Y(f,"svelte-82qwg8",!0),t[5]?X?(X.p(t,n),32&n[0]&&xt(X,1)):(X=Bd(t),X.c(),xt(X,1),X.m(x,w)):X&&(yt(),wt(X,1,1,(()=>{X=null})),vt()),t[34]?V?(V.p(t,n),8&n[1]&&xt(V,1)):(V=Fd(t),V.c(),xt(V,1),V.m(x,$)):V&&(yt(),wt(V,1,1,(()=>{V=null})),vt()),t[20]?U?(U.p(t,n),1048576&n[0]&&xt(U,1)):(U=Gd(t),U.c(),xt(U,1),U.m(x,null)):U&&(yt(),wt(U,1,1,(()=>{U=null})),vt()),Z?Z.p&&(!N||8&n[0]|1048576&n[2])&&g(Z,J,t,t[82],N?p(J,t[82],n,nd):m(t[82]),id):Q&&Q.p&&(!N||264&n[0])&&Q.p(t,N?n:[-1,-1,-1,-1,-1]),!t[16]||t[3]&&0!==t[3].length?K&&(yt(),wt(K,1,1,(()=>{K=null})),vt()):K?(K.p(t,n),65544&n[0]&&xt(K,1)):(K=Xd(t),K.c(),xt(K,1),K.m(e,null)),(!N||2097152&n[0]&&k!==(k="svelte-select "+t[21]+" svelte-82qwg8"))&&I(e,"class",k),(!N||16384&n[0])&&I(e,"style",t[14]),(!N||2097664&n[0])&&Y(e,"multi",t[9]),(!N||2099200&n[0])&&Y(e,"disabled",t[11]),(!N||2097156&n[0])&&Y(e,"focused",t[2]),(!N||2097216&n[0])&&Y(e,"list-open",t[6]),(!N||3145728&n[0])&&Y(e,"show-chevron",t[20]),(!N||2129920&n[0])&&Y(e,"error",t[15])},i(t){N||(xt(L),xt(j,t),xt(B),xt(X),xt(V),xt(U),xt(Q,t),xt(K),N=!0)},o(t){wt(L),wt(j,t),wt(B),wt(X),wt(V),wt(U),wt(Q,t),wt(K),N=!1},d(n){n&&E(e),L&&L.d(),W&&W.d(),j&&j.d(n),B&&B.d(),t[94](null),X&&X.d(),V&&V.d(),U&&U.d(),Q&&Q.d(n),K&&K.d(),t[96](null),T=!1,o(O)}}}function Yd(t){return t.map(((t,e)=>({index:e,value:t,label:`${t}`})))}function Ud(t,e,n){let i,r,o,l,a,s,c,u,f,{$$slots:d={},$$scope:h}=e;const p=function(t){const e={};for(const n in t)e[n]=!0;return e}(d),g=K();let{justValue:m=null}=e,{filter:y=Xf}=e,{getItems:v=Vf}=e,{id:x=null}=e,{name:w=null}=e,{container:$}=e,{input:b}=e,{multiple:_=!1}=e,{multiFullItemClearable:k=!1}=e,{disabled:S=!1}=e,{focused:M=!1}=e,{value:E=null}=e,{filterText:A=""}=e,{placeholder:R="Please select"}=e,{placeholderAlwaysShow:N=!1}=e,{items:T=null}=e,{label:C="label"}=e,{itemFilter:O=(t,e,n)=>`${t}`.toLowerCase().includes(e.toLowerCase())}=e,{groupBy:P}=e,{groupFilter:z=t=>t}=e,{groupHeaderSelectable:L=!1}=e,{itemId:I="value"}=e,{loadOptions:W}=e,{containerStyles:D=""}=e,{hasError:q=!1}=e,{filterSelectedItems:j=!0}=e,{required:H=!1}=e,{closeListOnChange:B=!0}=e,{clearFilterTextOnBlur:F=!0}=e,{createGroupHeaderItem:G=(t,e)=>({value:t,[C]:t})}=e;let X,V,Y,U,et,it,{searchable:rt=!0}=e,{inputStyles:ot=""}=e,{clearable:lt=!0}=e,{loading:at=!1}=e,{listOpen:ct=!1}=e,{debounce:ut=(t,e=1)=>{clearTimeout(X),X=setTimeout(t,e)}}=e,{debounceWait:ft=300}=e,{hideEmptyState:dt=!1}=e,{inputAttributes:ht={}}=e,{listAutoWidth:pt=!0}=e,{showChevron:gt=!1}=e,{listOffset:mt=5}=e,{hoverItemIndex:yt=0}=e,{floatingConfig:vt={}}=e,{class:xt=""}=e;function wt(t){const e=[],n={};t.forEach((t=>{const i=P(t);e.includes(i)||(e.push(i),n[i]=[],i&&n[i].push(Object.assign(G(i,t),{id:i,groupHeader:!0,selectable:L}))),n[i].push(Object.assign({groupItem:!!i},t))}));const i=[];return z(e).forEach((t=>{n[t]&&i.push(...n[t])})),i}function $t(t=0,e){n(7,yt=t<0?0:t),!e&&P&&c[yt]&&!c[yt].selectable&&Dt(1)}var bt;function _t(){let t=!0;if(E){const e=[],i=[];E.forEach((n=>{e.includes(n[I])?t=!1:(e.push(n[I]),i.push(n))})),t||n(3,E=i)}return t}function kt(t){let e=t?t[I]:E[I];return T.find((t=>t[I]===e))}async function St(t){const e=E[t];1===E.length?n(3,E=void 0):n(3,E=E.filter((t=>t!==e))),g("clear",e)}function Mt(t){M&&b===document?.activeElement||(t&&g("focus",t),b?.focus(),n(2,M=!0))}async function Et(t){zt||(ct||M)&&(g("blur",t),At(),n(2,M=!1),n(26,V=void 0),b?.blur())}function At(){F&&n(4,A=""),n(6,ct=!1)}bt=async()=>{n(78,Y=E),n(79,U=A),n(80,et=_)},J().$$.before_update.push(bt),Z((()=>{ct&&n(2,M=!0),M&&b&&b.focus()}));let{ariaValues:Rt=t=>`Option ${t}, selected.`}=e,{ariaListOpen:Nt=(t,e)=>`You are currently focused on option ${t}. There are ${e} results available.`}=e,{ariaFocused:Tt=()=>"Select is focused, type to refine list, press down to open the menu."}=e;let Ct,Ot=null;function Pt(){clearTimeout(Ct),Ct=setTimeout((()=>{zt=!1}),100)}Q((()=>{Ot?.remove()}));let zt=!1;function Lt(t){t&&!1!==t.selectable&&function(t){if(t){n(4,A="");const e=Object.assign({},t);if(e.groupHeader&&!e.selectable)return;n(3,E=_?E?E.concat([e]):[e]:n(3,E=e)),setTimeout((()=>{B&&At(),n(26,V=void 0),g("change",E),g("select",t)}))}}(t)}function It(t){zt||n(7,yt=t)}function Wt(t){const{item:e,i:i}=t;if(!1!==e?.selectable)return E&&!_&&E[I]===e[I]?At():void(function(t){return t.groupHeader&&t.selectable||t.selectable||!t.hasOwnProperty("selectable")}(e)&&(n(7,yt=i),Lt(e)))}function Dt(t){if(0===c.filter((t=>!Object.hasOwn(t,"selectable")||!0===t.selectable)).length)return n(7,yt=0);t>0&&yt===c.length-1?n(7,yt=0):n(7,t<0&&0===yt?yt=c.length-1:yt+=t);const e=c[yt];e&&!1===e.selectable&&(1!==t&&-1!==t||Dt(t))}const qt=Ht,jt=Ht;function Ht(t){return{update(e){e.scroll&&(Pt(),t.scrollIntoView({behavior:"auto",block:"nearest"}))}}}let Bt={strategy:"absolute",placement:"bottom-start",middleware:[Hf(mt),Ff(),Bf()],autoUpdate:!1};const[Ft,Gt,Xt]=function(t){let e,n;const i={autoUpdate:!0};let r=t;const o=e=>({...i,...t||{},...e||{}}),l=t=>{e&&n&&(r=o(t),Gf(e,n,r).then((t=>{Object.assign(n.style,{position:t.strategy,left:`${t.x}px`,top:`${t.y}px`}),r?.onComputed&&r.onComputed(t)})))},a=t=>{Q(t.subscribe((t=>{void 0===e?(e=t,l()):(Object.assign(e,t),l())})))};return[t=>{if("subscribe"in t)return a(t),{};e=t,l()},(t,i)=>{let a;n=t,r=o(i),setTimeout((()=>l(i)),0),l(i);const s=()=>{a&&(a(),a=void 0)},c=({autoUpdate:t}=r||{})=>{s(),!1!==t&&st().then((()=>jf(e,n,(()=>l(r)),!0===t?{}:t)))};return a=c(),{update(t){l(t),a=c(t)},destroy(){s()}}},l]}(Bt);let Vt=!0;return t.$$set=t=>{"justValue"in t&&n(52,m=t.justValue),"filter"in t&&n(53,y=t.filter),"getItems"in t&&n(54,v=t.getItems),"id"in t&&n(55,x=t.id),"name"in t&&n(8,w=t.name),"container"in t&&n(0,$=t.container),"input"in t&&n(1,b=t.input),"multiple"in t&&n(9,_=t.multiple),"multiFullItemClearable"in t&&n(10,k=t.multiFullItemClearable),"disabled"in t&&n(11,S=t.disabled),"focused"in t&&n(2,M=t.focused),"value"in t&&n(3,E=t.value),"filterText"in t&&n(4,A=t.filterText),"placeholder"in t&&n(56,R=t.placeholder),"placeholderAlwaysShow"in t&&n(57,N=t.placeholderAlwaysShow),"items"in t&&n(51,T=t.items),"label"in t&&n(12,C=t.label),"itemFilter"in t&&n(58,O=t.itemFilter),"groupBy"in t&&n(59,P=t.groupBy),"groupFilter"in t&&n(60,z=t.groupFilter),"groupHeaderSelectable"in t&&n(61,L=t.groupHeaderSelectable),"itemId"in t&&n(13,I=t.itemId),"loadOptions"in t&&n(62,W=t.loadOptions),"containerStyles"in t&&n(14,D=t.containerStyles),"hasError"in t&&n(15,q=t.hasError),"filterSelectedItems"in t&&n(63,j=t.filterSelectedItems),"required"in t&&n(16,H=t.required),"closeListOnChange"in t&&n(64,B=t.closeListOnChange),"clearFilterTextOnBlur"in t&&n(65,F=t.clearFilterTextOnBlur),"createGroupHeaderItem"in t&&n(66,G=t.createGroupHeaderItem),"searchable"in t&&n(17,rt=t.searchable),"inputStyles"in t&&n(18,ot=t.inputStyles),"clearable"in t&&n(68,lt=t.clearable),"loading"in t&&n(5,at=t.loading),"listOpen"in t&&n(6,ct=t.listOpen),"debounce"in t&&n(69,ut=t.debounce),"debounceWait"in t&&n(70,ft=t.debounceWait),"hideEmptyState"in t&&n(19,dt=t.hideEmptyState),"inputAttributes"in t&&n(71,ht=t.inputAttributes),"listAutoWidth"in t&&n(72,pt=t.listAutoWidth),"showChevron"in t&&n(20,gt=t.showChevron),"listOffset"in t&&n(73,mt=t.listOffset),"hoverItemIndex"in t&&n(7,yt=t.hoverItemIndex),"floatingConfig"in t&&n(74,vt=t.floatingConfig),"class"in t&&n(21,xt=t.class),"ariaValues"in t&&n(75,Rt=t.ariaValues),"ariaListOpen"in t&&n(76,Nt=t.ariaListOpen),"ariaFocused"in t&&n(77,Tt=t.ariaFocused),"$$scope"in t&&n(82,h=t.$$scope)},t.$$.update=()=>{8&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&E&&function(){if("string"==typeof E){let t=(T||[]).find((t=>t[I]===E));n(3,E=t||{[I]:E,label:E})}else _&&Array.isArray(E)&&E.length>0&&n(3,E=E.map((t=>"string"==typeof t?{value:t,label:t}:t)))}(),131072&t.$$.dirty[0]|512&t.$$.dirty[2]&&(!ht&&rt||(n(27,it=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},ht)),x&&n(27,it.id=x,it),rt||n(27,it.readonly=!0,it))),512&t.$$.dirty[0]&&_&&E&&(Array.isArray(E)?n(3,E=[...E]):n(3,E=[E])),512&t.$$.dirty[0]|262144&t.$$.dirty[2]&&et&&!_&&E&&n(3,E=null),520&t.$$.dirty[0]&&_&&E&&E.length>1&&_t(),8&t.$$.dirty[0]&&E&&(_?JSON.stringify(E)!==JSON.stringify(Y)&&_t()&&g("input",E):Y&&JSON.stringify(E[I])===JSON.stringify(Y[I])||g("input",E)),520&t.$$.dirty[0]|65536&t.$$.dirty[2]&&!E&&_&&Y&&g("input",E),6&t.$$.dirty[0]&&!M&&b&&At(),16&t.$$.dirty[0]|131072&t.$$.dirty[2]&&A!==U&&(W||0!==A.length)&&(W?ut((async function(){n(5,at=!0);let t=await v({dispatch:g,loadOptions:W,convertStringItemsToObjects:Yd,filterText:A});t?(n(5,at=t.loading),n(6,ct=ct?t.listOpen:A.length>0),n(2,M=ct&&t.focused),n(51,T=P?wt(t.filteredItems):t.filteredItems)):(n(5,at=!1),n(2,M=!0),n(6,ct=!0))}),ft):(n(6,ct=!0),_&&n(26,V=void 0))),12824&t.$$.dirty[0]|407896064&t.$$.dirty[1]|3&t.$$.dirty[2]&&n(24,c=y({loadOptions:W,filterText:A,items:T,multiple:_,value:E,itemId:I,groupBy:P,label:C,filterSelectedItems:j,itemFilter:O,convertStringItemsToObjects:Yd,filterGroupedItems:wt})),16777800&t.$$.dirty[0]&&!_&&ct&&E&&c&&$t(c.findIndex((t=>t[I]===E[I])),!0),576&t.$$.dirty[0]&&ct&&_&&n(7,yt=0),16&t.$$.dirty[0]&&A&&n(7,yt=0),128&t.$$.dirty[0]&&g("hoverItem",yt),520&t.$$.dirty[0]&&n(25,i=_?E&&E.length>0:E),33554448&t.$$.dirty[0]&&n(35,r=i&&A.length>0),33556512&t.$$.dirty[0]|64&t.$$.dirty[2]&&n(34,o=i&&lt&&!S&&!at),520&t.$$.dirty[0]|100663296&t.$$.dirty[1]&&n(33,l=N&&_||_&&0===E?.length?R:E?"":R),520&t.$$.dirty[0]&&n(32,a=E?function(t){let e;return e=t&&E.length>0?E.map((t=>t[C])).join(", "):E[C],Rt(e)}(_):""),16777412&t.$$.dirty[0]&&n(31,s=function(){if(!c||0===c.length)return"";let t=c[yt];if(ct&&t){let e=c?c.length:0;return Nt(t[C],e)}return Tt()}()),1048576&t.$$.dirty[1]&&function(t){t&&0!==t.length&&!t.some((t=>"object"!=typeof t))&&E&&(_?!E.some((t=>!t||!t[I])):E[I])&&(Array.isArray(E)?n(3,E=E.map((t=>kt(t)||t))):n(3,E=kt()||E))}(T),8712&t.$$.dirty[0]&&n(52,m=_?E?E.map((t=>t[I])):null:E?E[I]:E),520&t.$$.dirty[0]|65536&t.$$.dirty[2]&&(_||!Y||E||g("input",E)),16777800&t.$$.dirty[0]&&ct&&c&&!_&&!E&&$t(),16777216&t.$$.dirty[0]&&function(t){ct&&g("filter",t)}(c),1&t.$$.dirty[0]|4096&t.$$.dirty[2]&&$&&void 0===vt?.autoUpdate&&n(81,Bt.autoUpdate=!0,Bt),1&t.$$.dirty[0]|528384&t.$$.dirty[2]&&$&&vt&&Xt(Object.assign(Bt,vt)),8388608&t.$$.dirty[0]&&n(30,u=!!Ot),8388672&t.$$.dirty[0]&&function(t,e){if(!t||!e)return n(28,Vt=!0);setTimeout((()=>{n(28,Vt=!1)}),0)}(Ot,ct),8388673&t.$$.dirty[0]&&ct&&$&&Ot&&function(){const{width:t}=$.getBoundingClientRect();n(23,Ot.style.width=pt?t+"px":"auto",Ot)}(),128&t.$$.dirty[0]&&n(29,f=yt),70&t.$$.dirty[0]&&b&&ct&&!M&&Mt()},[$,b,M,E,A,at,ct,yt,w,_,k,S,C,I,D,q,H,rt,ot,dt,gt,xt,function(){g("clear",E),n(3,E=void 0),At(),Mt()},Ot,c,i,V,it,Vt,f,u,s,a,l,o,r,St,function(t){if(M)switch(t.stopPropagation(),t.key){case"Escape":t.preventDefault(),At();break;case"Enter":if(t.preventDefault(),ct){if(0===c.length)break;const t=c[yt];if(E&&!_&&E[I]===t[I]){At();break}Lt(c[yt])}break;case"ArrowDown":t.preventDefault(),ct?Dt(1):(n(6,ct=!0),n(26,V=void 0));break;case"ArrowUp":t.preventDefault(),ct?Dt(-1):(n(6,ct=!0),n(26,V=void 0));break;case"Tab":if(ct&&M){if(0===c.length||E&&E[I]===c[yt][I])return At();t.preventDefault(),Lt(c[yt]),At()}break;case"Backspace":if(!_||A.length>0)return;if(_&&E&&E.length>0){if(St(void 0!==V?V:E.length-1),0===V||void 0===V)break;n(26,V=E.length>V?V-1:void 0)}break;case"ArrowLeft":if(!E||!_||A.length>0)return;void 0===V?n(26,V=E.length-1):E.length>V&&0!==V&&n(26,V-=1);break;case"ArrowRight":if(!E||!_||A.length>0||void 0===V)return;V===E.length-1?n(26,V=void 0):V<E.length-1&&n(26,V+=1)}},Mt,Et,function(){if(!S)return A.length>0?n(6,ct=!0):void n(6,ct=!ct)},Pt,function(t){ct||M||!$||$.contains(t.target)||Ot?.contains(t.target)||Et()},It,Wt,function(t,e,n){if(!_)return e&&e[n]===t[n]},qt,jt,Ft,Gt,p,T,m,y,v,x,R,N,O,P,z,L,W,j,B,F,G,()=>c,lt,ut,ft,ht,pt,mt,vt,Rt,Nt,Tt,Y,U,et,Bt,h,d,function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},t=>It(t),t=>It(t),(t,e)=>Wt({item:t,i:e}),function(t){nt[t?"unshift":"push"]((()=>{Ot=t,n(23,Ot)}))},t=>St(t),t=>k?St(t):{},function(t){nt[t?"unshift":"push"]((()=>{b=t,n(1,b)}))},function(){A=this.value,n(4,A)},function(t){nt[t?"unshift":"push"]((()=>{$=t,n(0,$)}))}]}class Jd extends Mt{constructor(t){super(),St(this,t,Ud,Vd,a,{justValue:52,filter:53,getItems:54,id:55,name:8,container:0,input:1,multiple:9,multiFullItemClearable:10,disabled:11,focused:2,value:3,filterText:4,placeholder:56,placeholderAlwaysShow:57,items:51,label:12,itemFilter:58,groupBy:59,groupFilter:60,groupHeaderSelectable:61,itemId:13,loadOptions:62,containerStyles:14,hasError:15,filterSelectedItems:63,required:16,closeListOnChange:64,clearFilterTextOnBlur:65,createGroupHeaderItem:66,getFilteredItems:67,searchable:17,inputStyles:18,clearable:68,loading:5,listOpen:6,debounce:69,debounceWait:70,hideEmptyState:19,inputAttributes:71,listAutoWidth:72,showChevron:20,listOffset:73,hoverItemIndex:7,floatingConfig:74,class:21,handleClear:22,ariaValues:75,ariaListOpen:76,ariaFocused:77},null,[-1,-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[67]}get handleClear(){return this.$$.ctx[22]}}function Zd(t,e,n){const i=t.slice();return i[17]=e[n],i}function Qd(t,e,n){const i=t.slice();return i[20]=e[n],i}function Kd(t){let e,n,i,r,o,l=t[3].links(),a=[];for(let e=0;e<l.length;e+=1)a[e]=th(Qd(t,l,e));let s=t[3].descendants(),c=[];for(let e=0;e<s.length;e+=1)c[e]=eh(Zd(t,s,e));const u=t=>wt(c[t],1,1,(()=>{c[t]=null}));return{c(){e=N("svg"),n=N("g");for(let t=0;t<a.length;t+=1)a[t].c();i=O();for(let t=0;t<c.length;t+=1)c[t].c();I(n,"transform",r="translate("+t[1]/2+", "+t[2]/2+")"),I(e,"width",t[1]),I(e,"height",t[2])},m(t,r){M(t,e,r),S(e,n);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(n,null);S(n,i);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(n,null);o=!0},p(t,f){if(24&f){let e;for(l=t[3].links(),e=0;e<l.length;e+=1){const r=Qd(t,l,e);a[e]?a[e].p(r,f):(a[e]=th(r),a[e].c(),a[e].m(n,i))}for(;e<a.length;e+=1)a[e].d(1);a.length=l.length}if(9&f){let e;for(s=t[3].descendants(),e=0;e<s.length;e+=1){const i=Zd(t,s,e);c[e]?(c[e].p(i,f),xt(c[e],1)):(c[e]=eh(i),c[e].c(),xt(c[e],1),c[e].m(n,null))}for(yt(),e=s.length;e<c.length;e+=1)u(e);vt()}(!o||6&f&&r!==(r="translate("+t[1]/2+", "+t[2]/2+")"))&&I(n,"transform",r),(!o||2&f)&&I(e,"width",t[1]),(!o||4&f)&&I(e,"height",t[2])},i(t){if(!o){for(let t=0;t<s.length;t+=1)xt(c[t]);o=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)wt(c[t]);o=!1},d(t){t&&E(e),A(a,t),A(c,t)}}}function th(t){let e,n,i;return{c(){e=N("path"),I(e,"d",n=t[4](t[20])),I(e,"class",i="link "+t[20].target.data.key+" svelte-1mi6ou1")},m(t,n){M(t,e,n)},p(t,r){24&r&&n!==(n=t[4](t[20]))&&I(e,"d",n),8&r&&i!==(i="link "+t[20].target.data.key+" svelte-1mi6ou1")&&I(e,"class",i)},d(t){t&&E(e)}}}function eh(t){let e,n;return e=new $u({props:{node:t[17],categories:t[0]}}),{c(){bt(e.$$.fragment)},m(t,i){_t(e,t,i),n=!0},p(t,n){const i={};8&n&&(i.node=t[17]),1&n&&(i.categories=t[0]),e.$set(i)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function nh(t){let e,n,i,r,o,l,a;function s(e){t[14](e)}let c={class:"selector",items:t[6],groupBy:t[7],placeholder:"Choose agreement..."};void 0!==t[5]&&(c.value=t[5]),n=new Jd({props:c}),nt.push((()=>$t(n,"value",s))),n.$on("select",t[8]);let u=t[3]&&Kd(t);return{c(){e=R("div"),i=R("div"),bt(n.$$.fragment),o=C(),u&&u.c(),B(i,"display","contents"),B(i,"--width","250px"),B(i,"--border-radius","3px"),B(i,"--placeholder-color","white"),B(i,"--background","#003645"),B(i,"--list-background","#003645"),B(i,"--border","none"),B(i,"--multi-item-color","black"),B(i,"--item-hover-bg","gray"),B(i,"--font-size","14px"),B(i,"--font-weight","300"),I(e,"class","wrapper svelte-1mi6ou1"),ct((()=>t[15].call(e)))},m(r,s){M(r,e,s),S(e,i),_t(n,i,null),S(e,o),u&&u.m(e,null),l=V(e,t[15].bind(e)),a=!0},p(t,[i]){const o={};64&i&&(o.items=t[6]),!r&&32&i&&(r=!0,o.value=t[5],ut((()=>r=!1))),n.$set(o),t[3]?u?(u.p(t,i),8&i&&xt(u,1)):(u=Kd(t),u.c(),xt(u,1),u.m(e,null)):u&&(yt(),wt(u,1,1,(()=>{u=null})),vt())},i(t){a||(xt(n.$$.fragment,t),xt(u),a=!0)},o(t){wt(n.$$.fragment,t),wt(u),a=!1},d(t){t&&E(e),kt(n),u&&u.d(),l()}}}function ih(t,e){t.forEach((t=>{e.children.forEach((e=>{"1"===t[e.key]&&(e.count=(e.count||0)+1,e.agtIds=e.agtIds||[],e.agtIds.push(t.AgtId)),e.children.forEach((e=>{"1"===t[e.key]&&(e.count=(e.count||0)+1,e.agtIds=e.agtIds||[],e.agtIds.push(t.AgtId))}))}))}))}function rh(t,e,n){let i,r,o,{pax_gender:l}=e,{step:a}=e,{categories:s}=e,c=400,u=400,f=100,d=[],h=[];function p(t){let e=l.filter((e=>e.AgtId==t)),i=JSON.parse(JSON.stringify(as));ih(e,i),n(12,d=i),un("path.link").style("stroke","rgb(74, 74, 74)"),un("text").style("fill","rgb(74, 74, 74)");(function(t,e){const n=t.find((t=>t.AgtId===e));if(!n)return[];const i=Object.entries(n).filter((([t,e])=>t.startsWith("Wgg")&&"1"===e)).map((([t])=>t));return i.push("undefined"),i})(l,t).forEach((t=>{un("path."+t).style("stroke","#808080"),un("text."+t).style("fill","white")}))}let g="";return t.$$set=t=>{"pax_gender"in t&&n(9,l=t.pax_gender),"step"in t&&n(10,a=t.step),"categories"in t&&n(0,s=t.categories)},t.$$.update=()=>{if(512&t.$$.dirty&&console.log(l),512&t.$$.dirty&&l){let t=JSON.parse(JSON.stringify(as));ih(l,t),n(12,d=t),n(13,h=l.map((t=>({Agt:t.Agt,AgtId:t.AgtId,Con:t.Con}))))}if(6&t.$$.dirty&&n(11,f=c<u?c:u),1536&t.$$.dirty)if("afgh01"==a){let t=JSON.parse(JSON.stringify(as));ih(l,t),n(12,d=t),un("path.link").style("stroke","#808080"),un("text").style("fill","white")}else"afgh02"==a?p("589"):"afgh03"==a&&p("1845");if(6158&t.$$.dirty&&(u||c&&d)){let t=sa().size([360,f/3]);n(3,r=ua(d,(t=>t.children))),t(r),n(4,o=Ya().angle((function(t){return t.x/180*Math.PI})).radius((function(t){return t.y})))}8192&t.$$.dirty&&n(6,i=h.map((t=>({label:t.Agt,value:t.AgtId,group:t.Con}))))},[s,c,u,r,o,g,i,t=>t.group,function(t){p(t.detail.value)},l,a,f,d,h,function(t){g=t,n(5,g)},function(){c=this.clientWidth,u=this.clientHeight,n(1,c),n(2,u)}]}class oh extends Mt{constructor(t){super(),St(this,t,rh,nh,a,{pax_gender:9,step:10,categories:0})}}function lh(e){let n,i,r,l,a,s,u,f,d,h,p,g,m,y,v,x,w;return{c(){n=R("button"),n.innerHTML='<i class="fa fa-info-circle svelte-1l9n9lx" aria-hidden="true"></i>',i=C(),r=R("div"),r.innerHTML="This &#39;scrollytelling&#39; tool allows users to scroll through key findings\n\t\tand insights from data in the PA-X Peace Agreements Database, with a\n\t\tspecific view on Gender inclusion in formal peace agreements in the\n\t\tcontext of the UN Security Resolution 1325. Cite the data shown in this\n\t\ttool using: <br/><br/><i>Bell, Christine, Sanja Badanjak, Juline Beaujouan, Tim Epple, Adam\n\t\t\tFarquhar, Robert Forster, Astrid Jamar, Sean Molloy, Kevin\n\t\t\tMcNicholl, Kathryn Nash, Jan Pospisil, Robert Wilson, and Laura Wise\n\t\t\t(2025). PA-X Gender Peace Agreements Database and Dataset, Version\n\t\t\t9.</i> \n\t\t<br/> \n\t\t<br/> \n\t\t<strong>Visualization</strong>: Tomas Vancisin<br/><strong>Data Preparation</strong>: Niamh Henry <br/>  <strong>Text</strong>: Laura Wise",l=C(),a=R("img"),u=C(),f=R("h1"),f.textContent="Women, Girls, and Gender in Peace Agreements",d=C(),h=R("div"),h.innerHTML='<p class="svelte-1l9n9lx">Marking the 25th Anniversary of the Women, Peace and Security\n\t\t\tagenda, this visualization uses the PA-X database to show how and to\n\t\t\twhat extent women, girls, and gender are taken into consideration in\n\t\t\tpeace agreements around the world.</p>',p=C(),g=R("br"),m=C(),y=R("img"),I(n,"class","info svelte-1l9n9lx"),I(r,"class","info_div svelte-1l9n9lx"),I(a,"class","peace_logo"),c(a.src,s="./img/pax.png")||I(a,"src","./img/pax.png"),I(a,"alt","peacerep logo"),B(a,"width","200px"),I(f,"class","svelte-1l9n9lx"),I(h,"id","text_field"),B(h,"padding-left","20%"),B(h,"padding-right","20%"),I(h,"class","svelte-1l9n9lx"),c(y.src,v="./img/scroll-down-white.svg")||I(y,"src","./img/scroll-down-white.svg"),I(y,"alt","scroll down"),I(y,"class","scroll-down-icon svelte-1l9n9lx")},m(t,o){M(t,n,o),M(t,i,o),M(t,r,o),M(t,l,o),M(t,a,o),M(t,u,o),M(t,f,o),M(t,d,o),M(t,h,o),M(t,p,o),M(t,g,o),M(t,m,o),M(t,y,o),x||(w=[P(n,"mouseenter",e[19]),P(n,"mouseleave",e[20])],x=!0)},p:t,d(t){t&&E(n),t&&E(i),t&&E(r),t&&E(l),t&&E(a),t&&E(u),t&&E(f),t&&E(d),t&&E(h),t&&E(p),t&&E(g),t&&E(m),t&&E(y),x=!1,o(w)}}}function ah(t){let e,n,i,r,o,l;return o=new yu({props:{mygeojson:t[10],pax:t[11],pax_timeline:t[13],pax_gender:t[12],step:t[9]}}),o.$on("mapLoaded",t[16]),{c(){e=R("div"),n=R("figure"),i=R("div"),r=R("div"),bt(o.$$.fragment),I(r,"class","map svelte-1l9n9lx"),I(i,"class","col-wide height-full"),I(e,"slot","background")},m(t,a){M(t,e,a),S(e,n),S(n,i),S(i,r),_t(o,r,null),l=!0},p(t,e){const n={};1024&e[0]&&(n.mygeojson=t[10]),2048&e[0]&&(n.pax=t[11]),8192&e[0]&&(n.pax_timeline=t[13]),4096&e[0]&&(n.pax_gender=t[12]),512&e[0]&&(n.step=t[9]),o.$set(n)},i(t){l||(xt(o.$$.fragment,t),l=!0)},o(t){wt(o.$$.fragment,t),l=!1},d(t){t&&E(e),kt(o)}}}function sh(e){let n;return{c(){n=R("div"),n.innerHTML='<section data-id="map01"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">Brighter colour (white) indicates a higher number of peace\n\t\t\t\t\tagreements signed. <span style="color: gray;">[<i>hover over a country for the exact number of peace\n\t\t\t\t\t\t\tagreements</i>]</span></p></div></section> \n\t\t<section data-id="map02"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">Now, the map shows the number of peace agreements that\n\t\t\t\t\tcontain at least two references to women, girls, and gender.</p></div></section>',I(n,"slot","foreground")},m(t,e){M(t,n,e)},p:t,d(t){t&&E(n)}}}function ch(t){let e,n,i,r,o,l;return o=new oc({props:{pax:t[11],step:t[9]}}),{c(){e=R("div"),n=R("figure"),i=R("div"),r=R("div"),bt(o.$$.fragment),I(r,"class","rect svelte-1l9n9lx"),I(i,"class","col-wide height-full"),I(e,"slot","background")},m(t,a){M(t,e,a),S(e,n),S(n,i),S(i,r),_t(o,r,null),l=!0},p(t,e){const n={};2048&e[0]&&(n.pax=t[11]),512&e[0]&&(n.step=t[9]),o.$set(n)},i(t){l||(xt(o.$$.fragment,t),l=!0)},o(t){wt(o.$$.fragment,t),l=!1},d(t){t&&E(e),kt(o)}}}function uh(e){let n;return{c(){n=R("div"),n.innerHTML='<section data-id="rect01"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">Every rectangle in this view represents one of the 2,055\n\t\t\t\t\tformal agreements signed since 1990.</p></div></section> \n\t\t<section data-id="rect02"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">Out of all these agreements, less than a quarter contain\n\t\t\t\t\treferences to women, girls, and gender (465 agreements).</p></div></section>',I(n,"slot","foreground")},m(t,e){M(t,n,e)},p:t,d(t){t&&E(n)}}}function fh(t){let e,n,i,r,o,l;return o=new vc({props:{pax:t[11],pax_timeline:t[13],step:t[9]}}),{c(){e=R("div"),n=R("figure"),i=R("div"),r=R("div"),bt(o.$$.fragment),I(r,"class","time svelte-1l9n9lx"),I(i,"class","col-wide height-full"),I(e,"slot","background")},m(t,a){M(t,e,a),S(e,n),S(n,i),S(i,r),_t(o,r,null),l=!0},p(t,e){const n={};2048&e[0]&&(n.pax=t[11]),8192&e[0]&&(n.pax_timeline=t[13]),512&e[0]&&(n.step=t[9]),o.$set(n)},i(t){l||(xt(o.$$.fragment,t),l=!0)},o(t){wt(o.$$.fragment,t),l=!1},d(t){t&&E(e),kt(o)}}}function dh(e){let n;return{c(){n=R("div"),n.innerHTML='<section data-id="time01"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">Each line represents a peace agreement signed between 1990\n\t\t\t\t\tand 2024.</p></div></section> \n\t\t<section data-id="time02"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">These are the agreements included in PA-X Gender.</p></div></section>',I(n,"slot","foreground")},m(t,e){M(t,n,e)},p:t,d(t){t&&E(n)}}}function hh(t){let e,n,i,r,o,l;return o=new Js({props:{pax_stages:t[14],pax:t[11],step:t[9]}}),{c(){e=R("div"),n=R("figure"),i=R("div"),r=R("div"),bt(o.$$.fragment),I(r,"class","stage svelte-1l9n9lx"),I(i,"class","col-wide height-full"),I(e,"slot","background")},m(t,a){M(t,e,a),S(e,n),S(n,i),S(i,r),_t(o,r,null),l=!0},p(t,e){const n={};16384&e[0]&&(n.pax_stages=t[14]),2048&e[0]&&(n.pax=t[11]),512&e[0]&&(n.step=t[9]),o.$set(n)},i(t){l||(xt(o.$$.fragment,t),l=!0)},o(t){wt(o.$$.fragment,t),l=!1},d(t){t&&E(e),kt(o)}}}function ph(e){let n;return{c(){n=R("div"),n.innerHTML='<section data-id="stage01"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">When viewing all PA-X agreements by the stage of the peace\n\t\t\t\t\tprocess they were signed at, the chart below shows the\n\t\t\t\t\tpredominance of <strong>pre-negotiation/process</strong>,\n\t\t\t\t\t<strong>ceasefire</strong>, and\n\t\t\t\t\t<strong>substantive-partial</strong> agreements.</p></div></section> \n\t\t<section data-id="stage02"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">A common perception is that dealing with &#39;gender&#39; must wait\n\t\t\t\t\tuntil substantive stages of negotiations (partial and\n\t\t\t\t\tcomprehensive), so that the earlier pre-negotiation or\n\t\t\t\t\tceasefire talks can focus on more &#39;urgent&#39; issues.</p></div></section> \n\t\t<section data-id="stage03"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">For example, a ceasefire in Central African Republic in 2014\n\t\t\t\t\t- the <a href="https://pax.peaceagreements.org/media/documents/ag818_573ed266c7c9c.pdf" target="_blank" style="color: white;">Brazzaville Agreement on Cessation of Hostilities</a> - included &#39;gender&#39; by stipulating that under the agreement\n\t\t\t\t\tthe parties would cease the act of sexual violence.</p></div></section>',I(n,"slot","foreground")},m(t,e){M(t,n,e)},p:t,d(t){t&&E(n)}}}function gh(t){let e,n,i,r,o,l;return o=new vc({props:{pax:t[11],pax_timeline:t[13],step:t[9]}}),{c(){e=R("div"),n=R("figure"),i=R("div"),r=R("div"),bt(o.$$.fragment),I(r,"class","time svelte-1l9n9lx"),I(i,"class","col-wide height-full"),I(e,"slot","background")},m(t,a){M(t,e,a),S(e,n),S(n,i),S(i,r),_t(o,r,null),l=!0},p(t,e){const n={};2048&e[0]&&(n.pax=t[11]),8192&e[0]&&(n.pax_timeline=t[13]),512&e[0]&&(n.step=t[9]),o.$set(n)},i(t){l||(xt(o.$$.fragment,t),l=!0)},o(t){wt(o.$$.fragment,t),l=!1},d(t){t&&E(e),kt(o)}}}function mh(e){let n;return{c(){n=R("div"),n.innerHTML='<section data-id="time01"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">Let’s explore gender reference quality and specificity\n\t\t\t\t\tthrough three focus areas of a gender perspective according\n\t\t\t\t\tto UNSCR 1325: women’s special needs during rehabilitation\n\t\t\t\t\tand reconstruction, involving women in implementation, and\n\t\t\t\t\tprotecting the human rights of women and girls.</p></div></section> \n\t\t<section data-id="time04"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">For example, only these highlighted agreements include\n\t\t\t\t\tsubstantive references to the special needs of women and\n\t\t\t\t\tgirls during rehabilitation and reconstruction. However,\n\t\t\t\t\tthey often are not a large proportion of the agreement\n\t\t\t\t\tfocus.</p></div></section> \n\t\t<section data-id="time05"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">One instance is the <a href="https://pax.peaceagreements.org/media/documents/ag478_55d493ee828e7.pdf" target="_blank" style="color: white;">Lome Agreement</a>\n\t\t\t\t\tfor Sierra Leone in 1999 that acknowledged women&#39;s victimization\n\t\t\t\t\tduring the war, and stated that\n\t\t\t\t\t<i style="font-size: 18px;">&#39;special attention shall be accorded to their needs and\n\t\t\t\t\t\tpotentials in formulating and implementing national\n\t\t\t\t\t\trehabilitation, reconstruction and development\n\t\t\t\t\t\tprogrammes, to enable them to play a central role in the\n\t\t\t\t\t\tmoral, social and physical reconstruction of Sierra\n\t\t\t\t\t\tLeone.&#39;</i> This was the only reference to gender (highlighted in red)\n\t\t\t\t\tin the entire agreement text.</p></div></section> \n\t\t<section data-id="time06"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">The highlighted peace agreements include references to women\n\t\t\t\t\tplaying a role in implementing the agreement.</p></div></section> \n\t\t<section data-id="time07"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">For example, the 2016 <a href="https://pax.peaceagreements.org/media/documents/ag1845_593e97bdd6f32.pdf" target="_blank" style="color: white;">Final Agreement</a> between the Colombian Government and the FARC set up a special\n\t\t\t\t\tforum comprising representatives from 6 national and regional\n\t\t\t\t\tColombian women&#39;s organisations, to work with the implementation\n\t\t\t\t\tcommission on monitoring and guaranteeing the rights of women\n\t\t\t\t\tin the implementation of the peace agreement.</p></div></section> \n\t\t<section data-id="time08"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">Turning to the protection of human rights of women and\n\t\t\t\t\tgirls, the highlighted peace agreements include references\n\t\t\t\t\tto <strong>international human rights laws</strong> relating\n\t\t\t\t\tto women and gender, including specific human rights standards.</p></div></section> \n\t\t<section data-id="time09"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">For example, in a 1996 <a href="https://pax.peaceagreements.org/media/documents/ag291_5630f71a3ae07.pdf" style="color: white;" target="_blank">peace agreement from Guatemala</a>, the government agreed to revise national legislation to\n\t\t\t\t\teliminate all forms of discrimination against women, and to\n\t\t\t\t\tgive effect to the government commitments deriving from the\n\t\t\t\t\tratification of the Convention on the Elimination of All\n\t\t\t\t\tForms of Discrimination against Women.</p></div></section>',I(n,"slot","foreground")},m(t,e){M(t,n,e)},p:t,d(t){t&&E(n)}}}function yh(t){let e,n,i,r,o,l;return o=new oh({props:{pax_gender:t[12],step:t[9],categories:t[15]}}),{c(){e=R("div"),n=R("figure"),i=R("div"),r=R("div"),bt(o.$$.fragment),I(r,"class","afgh svelte-1l9n9lx"),I(i,"class","col-wide height-full"),I(e,"slot","background")},m(t,a){M(t,e,a),S(e,n),S(n,i),S(i,r),_t(o,r,null),l=!0},p(t,e){const n={};4096&e[0]&&(n.pax_gender=t[12]),512&e[0]&&(n.step=t[9]),32768&e[0]&&(n.categories=t[15]),o.$set(n)},i(t){l||(xt(o.$$.fragment,t),l=!0)},o(t){wt(o.$$.fragment,t),l=!1},d(t){t&&E(e),kt(o)}}}function vh(e){let n;return{c(){n=R("div"),n.innerHTML='<section data-id="afgh01"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">This is the distribution of gender-related topic in all 436\n\t\t\t\t\tagreements. You can see the majority of references across\n\t\t\t\t\tall the agreements are regarding women&#39;s participation, and\n\t\t\t\t\tsexual violence.</p></div></section> \n\t\t<section data-id="afgh02"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">The earlier referenced Toncontin Agreement from 1990,\n\t\t\t\t\tincludes these gender-related topics.</p></div></section> \n\t\t<section data-id="afgh03"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">In contrast, the more recent 2016 Colombian Final Agreement\n\t\t\t\t\tincludes these topics.</p></div></section> \n\t\t<section data-id="afgh04"><div class="col-medium"><p style="text-align: center;" class="svelte-1l9n9lx">Try and choose an agreement from the list on the right.</p></div></section>',I(n,"slot","foreground")},m(t,e){M(t,n,e)},p:t,d(t){t&&E(n)}}}function xh(t){let e,n,i,r,l,a,s,c,u,f,d,h,p,g,m,y,v,x,w,$,b,_,k,A,N,T,O,z,L,W,D,q,j,H,F,G,X,V,Y,U,J,Z,Q,K,tt,et,it,rt,ot,lt,at,st,ct,ft,dt,ht,pt,gt,mt,yt,vt,St,Mt,Et,At;function Rt(e){t[23](e)}c=new ys({props:{center:!0,short:!1,$$slots:{default:[lh]},$$scope:{ctx:t}}});let Nt={threshold:wh,splitscreen:!1,shadow:!1,$$slots:{foreground:[sh],background:[ah]},$$scope:{ctx:t}};function Tt(e){t[25](e)}void 0!==t[0].map&&(Nt.id=t[0].map),A=new Es({props:Nt}),nt.push((()=>$t(A,"id",Rt)));let Ct={threshold:wh,splitscreen:!1,shadow:!1,$$slots:{foreground:[uh],background:[ch]},$$scope:{ctx:t}};function Ot(e){t[27](e)}void 0!==t[0].rect&&(Ct.id=t[0].rect),L=new Es({props:Ct}),nt.push((()=>$t(L,"id",Tt)));let Pt={threshold:wh,splitscreen:!1,shadow:!1,$$slots:{foreground:[dh],background:[fh]},$$scope:{ctx:t}};function zt(e){t[29](e)}void 0!==t[0].time&&(Pt.id=t[0].time),H=new Es({props:Pt}),nt.push((()=>$t(H,"id",Ot)));let Lt={threshold:wh,splitscreen:!1,shadow:!1,$$slots:{foreground:[ph],background:[hh]},$$scope:{ctx:t}};function It(e){t[31](e)}void 0!==t[0].stage&&(Lt.id=t[0].stage),it=new Es({props:Lt}),nt.push((()=>$t(it,"id",zt)));let Wt={threshold:wh,splitscreen:!1,shadow:!1,$$slots:{foreground:[mh],background:[gh]},$$scope:{ctx:t}};function Dt(e){t[33](e)}void 0!==t[0].time&&(Wt.id=t[0].time),st=new Es({props:Wt}),nt.push((()=>$t(st,"id",It)));let qt={threshold:wh,splitscreen:!1,shadow:!1,$$slots:{foreground:[vh],background:[yh]},$$scope:{ctx:t}};return void 0!==t[0].afgh&&(qt.id=t[0].afgh),pt=new Es({props:qt}),nt.push((()=>$t(pt,"id",Dt))),{c(){e=R("div"),e.innerHTML='<div class="scroll-line-agmt svelte-1l9n9lx" data-tooltip="Peace Agreement"><img src="./img/agt.svg" alt="rect" class="svelte-1l9n9lx"/></div> \n\t<div class="scroll-line-geo svelte-1l9n9lx" data-tooltip="Geography"><img src="./img/glb.png" alt="rect" class="svelte-1l9n9lx"/></div> \n\t<div class="scroll-line-rect svelte-1l9n9lx" data-tooltip="All Agreements"><img src="./img/rects.svg" alt="rect" class="svelte-1l9n9lx"/></div> \n\t<div class="scroll-line-reason svelte-1l9n9lx" data-tooltip="UN Resolution"><img src="./img/un.png" alt="rect" class="svelte-1l9n9lx"/></div> \n\t<div class="scroll-line-stage svelte-1l9n9lx" data-tooltip="Negotiation Stages"><img src="./img/bars.svg" alt="rect" class="svelte-1l9n9lx"/></div> \n\t<div class="scroll-line-time svelte-1l9n9lx" data-tooltip="Reference Quality"><img src="./img/ref.svg" alt="rect" class="svelte-1l9n9lx"/></div> \n\t<div class="scroll-line-dendr svelte-1l9n9lx" data-tooltip="Topics"><img src="./img/dendr.png" alt="rect" class="svelte-1l9n9lx"/></div> \n\t<div class="scroll-line-research svelte-1l9n9lx" data-tooltip="Research"><img src="./img/research.svg" alt="rect" class="svelte-1l9n9lx"/></div>',n=C(),i=R("div"),r=R("button"),r.textContent="Visualization",l=C(),a=R("p"),a.textContent="loading...",s=C(),bt(c.$$.fragment),u=C(),f=R("div"),f.innerHTML='<div id="text_field" class="svelte-1l9n9lx"><p style="text-align: center;" class="svelte-1l9n9lx">A <strong>peace agreement</strong> is a document produced after\n\t\t\tdiscussion with conflict protagonists and mutually agreed to by\n\t\t\tthem, addressing conflict with a view to ending it. <br/><br/> \n\t\t\t<a href="https://pax.peaceagreements.org/agreements/search/" style="color:white">PA-X Database</a>\n\t\t\tcollects and archives formal, publicly-available, signed peace agreements.\n\t\t\tPA-X Gender is a sub-database of PA-X that includes agreements that contain\n\t\t\tmentions to Women, Girls or Gender. <br/><br/>\n\t\t\tBelow is a ceasefire agreement from 1990 Nicaragua.</p></div>',d=C(),h=R("div"),h.innerHTML='<a href="https://pax.peaceagreements.org/agreements/wgg/589/" target="_blank" style="color: white;"><img src="./img/toncontin.png" alt="peace agreement example" style="width: 100%;"/></a>',p=C(),g=R("div"),g.innerHTML='<div id="text_field" class="svelte-1l9n9lx"><p style="text-align: center;" class="svelte-1l9n9lx">In 2000, the United Nations Security Council passed Resolution 1325\n\t\t\ton Women, Peace, and Security, calling on all actors involved in\n\t\t\tnegotiating and implementing peace agreements to adopt a gender\n\t\t\tperspective, including the following:</p></div>',m=C(),y=R("div"),y.innerHTML='<div class="icon-item svelte-1l9n9lx"><img src="./img/fir.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 10%; padding-right: 10%" class="svelte-1l9n9lx">Responding to the special needs of women and girls during\n\t\t\trepatriation, resettlement, rehabilitation, reintegration and\n\t\t\tpost-conflict reconstruction</p></div> \n\t<div class="icon-item svelte-1l9n9lx"><img src="./img/sec.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 10%; padding-right: 10%" class="svelte-1l9n9lx">Supporting local women’s and indigenous initiatives for conflict\n\t\t\tresolution, and involving women in all implementation mechanisms</p></div> \n\t<div class="icon-item svelte-1l9n9lx"><img src="./img/thi.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 10%; padding-right: 10%" class="svelte-1l9n9lx">Ensuring the protection of human rights of women and girls,\n\t\t\tparticularly relating to the constitution, the electoral system, the\n\t\t\tpolice and the judiciary</p></div>',v=C(),x=R("div"),x.innerHTML='<div id="text_field" class="svelte-1l9n9lx"><p style="text-align: center" class="svelte-1l9n9lx">Why should peace agreements incorporate a gender perspective?</p></div>',w=C(),$=R("div"),$.innerHTML='<div class="icon-item svelte-1l9n9lx"><img src="./img/blueprint.png" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 5%; padding-right: 5%" class="svelte-1l9n9lx"><strong>Peace agreements can provide a formalised blueprint to shape\n\t\t\t\tthe political settlement that emerges from a peace deal.</strong>  <br/><br/> This can have consequences for how women, gender minorities,\n\t\t\tand sexual minorities may experience the transition that the peace agreement\n\t\t\tstipulates.</p></div> \n\t<div class="icon-item svelte-1l9n9lx"><img src="./img/negotiation.png" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 5%; padding-right: 5%" class="svelte-1l9n9lx"><strong>Peace agreements can create &#39;sticky&#39; institutional arrangements\n\t\t\t\tthat can be hard to later re-negotiate.</strong>  <br/><br/>Any gaps in how the peace agreement understands or\n\t\t\tresponds to gender, may become stuck and difficult to resolve\n\t\t\tthrough institutional mechanisms.</p></div> \n\t<div class="icon-item svelte-1l9n9lx"><img src="./img/gender.png" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 5%; padding-right: 5%" class="svelte-1l9n9lx"><strong>Peace agreements are not gender neutral by default.</strong><br/><br/>\n\t\t\tThey contain institutional configurations, security mechanisms and human\n\t\t\trights regimes that all shape different gender outcomes or impacts women&#39;s\n\t\t\tlives.</p></div> \n\t<div id="text_field" class="svelte-1l9n9lx"><p style="text-align: center;" class="svelte-1l9n9lx">Hear more on this from PeaceRep&#39;s Women Peace and Security expert,\n\t\t\tLaura Wise in this short, informative <a href="https://www.youtube.com/watch?v=52GFh0r6Zj8" target="_blank" style="color: white;">video</a> (3 mins).</p></div>',b=C(),_=R("div"),_.innerHTML='<div id="text_field" class="svelte-1l9n9lx"><p style="text-align: center;" class="svelte-1l9n9lx">PA-X contains 2,144 peace agreements that have been signed since\n\t\t\t1990.\n\t\t\t<br/><br/>\n\t\t\tThe map below shows the geographical spread of where these agreements\n\t\t\tare from and the primary location of the conflict they are addressing.</p></div>',k=C(),bt(A.$$.fragment),T=C(),O=R("div"),O.innerHTML='<div id="text_field" class="svelte-1l9n9lx"><p style="text-align: center;" class="svelte-1l9n9lx">To get a better idea about how often women, girls and gender are\n\t\t\ttaken into consideration in peace agreements, below is a\n\t\t\trepresentation of all peace agreements in PA-X.</p></div>',z=C(),bt(L.$$.fragment),D=C(),q=R("div"),q.innerHTML='<div id="text_field" class="svelte-1l9n9lx"><p style="text-align: center" class="svelte-1l9n9lx">How did UNSCR 1325 influence the number of gender-related peace\n\t\t\tagreements over time?</p></div>',j=C(),bt(H.$$.fragment),G=C(),X=R("div"),X.innerHTML='<div id="text_field" class="svelte-1l9n9lx"><p style="text-align: center" class="svelte-1l9n9lx">There are different <strong>stages of peace processes</strong>\n\t\t\tdepending on the content included in agreements: from pre-neogtiation/process\n\t\t\tagreements where there are &#39;talks about talks&#39;, to ceasefires, to more\n\t\t\tcomprehensive agreements and implementation agreeements.<br/><br/>\n\t\t\tIf the process went smoothly from one stage to the next it would look\n\t\t\tlike this over time:</p></div>',V=C(),Y=R("div"),Y.innerHTML='<img src="./img/messy_1.png" alt="messy timeline visualization picutre" style="width: 100%;"/>',U=C(),J=R("div"),J.innerHTML='<div id="text_field" class="svelte-1l9n9lx"><p style="text-align:center" class="svelte-1l9n9lx">Instead, peace processes frequently involve a series of\n\t\t\tback-and-forth movements, reflecting the reality that progress is\n\t\t\trarely uniform or predictable.<br/><br/> For example, here is the trajectory\n\t\t\tof the Philippines-Mindano Process.</p></div>',Z=C(),Q=R("div"),Q.innerHTML='<img src="./img/messy_2.png" alt="peace agreement example" style="width: 100%;"/> \n\t<p class="svelte-1l9n9lx">Explore the trajectory of other processes in PA-X on our <a href="https://pax.peaceagreements.org/visualizations/messy-peace-processes/" target="_blank" style="color: white;">Messy Timeline Visualization</a></p>',K=C(),tt=R("div"),tt.innerHTML='<div id="text_field" class="svelte-1l9n9lx"><p style="text-align: center" class="svelte-1l9n9lx">At which stage of peace negotiations do women, girls, and gender get\n\t\t\tdiscussed?</p></div>',et=C(),bt(it.$$.fragment),ot=C(),lt=R("div"),lt.innerHTML='<div id="text_field" class="svelte-1l9n9lx"><p style="text-align: center" class="svelte-1l9n9lx">Beyond the numbers, gender references differ hugely in terms of\n\t\t\ttheir substantive quality and specificity, ranging from detailed\n\t\t\tcommitments to rhetorical references to &#39;women&#39;.</p></div>',at=C(),bt(st.$$.fragment),ft=C(),dt=R("div"),dt.innerHTML='<div id="text_field" class="svelte-1l9n9lx"><p style="text-align: center" class="svelte-1l9n9lx">As you can see, peace agreements cover different topics related to\n\t\t\twomen, girls and gender. Sometimes there are a lot of topics\n\t\t\taddressed, and sometimes there are very few. <br/><br/>\n\t\t\tBelow shows a representation of all topics related to women, girls and\n\t\t\tgender that are coded for all agreements in PA-X Gender.</p></div>',ht=C(),bt(pt.$$.fragment),mt=C(),yt=R("div"),yt.innerHTML='<div id="text_field" class="svelte-1l9n9lx"><p style="text-align: center" class="svelte-1l9n9lx">PA-X Gender shows that 25 years after UNSCR 1325 was passed, peace\n\t\t\tagreements still do not consistently incorporate a gender\n\t\t\tperspective.\n\t\t\t<br/><br/><br/>\n\t\t\tHowever, women and their allies continue to push for peace processes\n\t\t\tto recognise the importance of gender, both from within and outside of\n\t\t\tformal institutions.\n\t\t\t<br/><br/><br/>\n\t\t\tPA-X Gender is an archive of processes where women were successful at\n\t\t\tgetting gender into peace agreements, and pays tribute to their historical\n\t\t\tefforts.</p></div>',vt=C(),St=R("div"),St.innerHTML='<p style="text-align: center" class="svelte-1l9n9lx">Explore our research and data on gender in peace agreements, and how\n\t\tthis work informs Women, Peace and Security monitoring.</p> \n\t<div id="research_field" class="svelte-1l9n9lx"><div class="research_item svelte-1l9n9lx"><a href="https://www.peaceagreements.org/agreements/wggsearch/" target="_blank"><img src="./img/gender_db.png" alt="PA-X Gender Database" class="svelte-1l9n9lx"/></a> \n\t\t\t<p class="svelte-1l9n9lx">PA-X Gender Database</p></div> \n\t\t<div class="research_item svelte-1l9n9lx"><a href="https://peacerep.org/2025/07/24/women-peace-and-security-at-25/" target="_blank"><img src="./img/one.png" alt="Women, Peace and Security at 25" class="svelte-1l9n9lx"/></a> \n\t\t\t<p class="svelte-1l9n9lx">Women, Peace and Security at 25: Assessing Implementation\n\t\t\t\tthrough Gender Perspectives in Peace Agreements</p></div> \n\t\t<div class="research_item svelte-1l9n9lx"><a href="https://peacerep.org/2024/10/28/un-report-cites-peacerep-research-on-stagnation-of-gender-references-in-peace-agreements/" target="_blank"><img src="./img/two.png" alt="UN Report Cites PeaceRep Research" class="svelte-1l9n9lx"/></a> \n\t\t\t<p class="svelte-1l9n9lx">UN Report Cites PeaceRep Research on Stagnation of Gender\n\t\t\t\tReferences in Peace Agreements</p></div> \n\t\t<div class="research_item svelte-1l9n9lx"><a href="https://peacerep.org/publication/principled-pragmatism-and-the-inclusion-project-implementing-a-gender-perspective-in-peace-agreements/" target="_blank"><img src="./img/four.png" alt="Principled Pragmatism Paper" class="svelte-1l9n9lx"/></a> \n\t\t\t<p class="svelte-1l9n9lx">Principled Pragmatism and the ‘Inclusion Project’: Implementing\n\t\t\t\ta Gender Perspective in Peace Agreements</p></div> \n\t\t<div class="research_item svelte-1l9n9lx"><a href="https://peacerep.org/digital-resources/peacefem/" target="_blank"><img src="./img/three.png" alt="PeaceFem App" class="svelte-1l9n9lx"/></a> \n\t\t\t<p class="svelte-1l9n9lx">PeaceFem</p></div></div>',I(e,"id","indicator"),I(e,"class","svelte-1l9n9lx"),I(r,"id","loading_button"),I(r,"class","svelte-1l9n9lx"),I(a,"id","loading_text"),I(a,"class","svelte-1l9n9lx"),I(i,"role","presentation"),I(i,"id","loading_screen"),B(i,"height","calc(var(--vh, 1vh) * 100)"),I(i,"class","svelte-1l9n9lx"),I(f,"class","filler svelte-1l9n9lx"),I(h,"class","filler svelte-1l9n9lx"),B(h,"padding","50px"),I(g,"class","filler svelte-1l9n9lx"),I(y,"id","icons"),I(y,"class","svelte-1l9n9lx"),I(x,"class","filler svelte-1l9n9lx"),I($,"id","icons"),I($,"class","svelte-1l9n9lx"),I(_,"class","filler svelte-1l9n9lx"),I(O,"class","filler svelte-1l9n9lx"),I(q,"class","filler svelte-1l9n9lx"),I(X,"class","filler svelte-1l9n9lx"),I(Y,"class","filler svelte-1l9n9lx"),B(Y,"padding","50px"),I(J,"class","filler svelte-1l9n9lx"),I(Q,"class","filler svelte-1l9n9lx"),B(Q,"padding","50px"),B(Q,"text-align","center"),I(tt,"class","filler svelte-1l9n9lx"),I(lt,"class","filler svelte-1l9n9lx"),I(dt,"class","filler svelte-1l9n9lx"),I(yt,"class","filler svelte-1l9n9lx"),I(St,"class","filler svelte-1l9n9lx"),B(St,"padding-left","10%"),B(St,"padding-right","10%"),B(St,"padding-top","40px")},m(o,E){M(o,e,E),M(o,n,E),M(o,i,E),S(i,r),S(i,l),S(i,a),M(o,s,E),_t(c,o,E),M(o,u,E),M(o,f,E),t[21](f),M(o,d,E),M(o,h,E),M(o,p,E),M(o,g,E),M(o,m,E),M(o,y,E),M(o,v,E),M(o,x,E),M(o,w,E),M(o,$,E),M(o,b,E),M(o,_,E),t[22](_),M(o,k,E),_t(A,o,E),M(o,T,E),M(o,O,E),t[24](O),M(o,z,E),_t(L,o,E),M(o,D,E),M(o,q,E),t[26](q),M(o,j,E),_t(H,o,E),M(o,G,E),M(o,X,E),t[28](X),M(o,V,E),M(o,Y,E),M(o,U,E),M(o,J,E),M(o,Z,E),M(o,Q,E),M(o,K,E),M(o,tt,E),M(o,et,E),_t(it,o,E),M(o,ot,E),M(o,lt,E),t[30](lt),M(o,at,E),_t(st,o,E),M(o,ft,E),M(o,dt,E),t[32](dt),M(o,ht,E),_t(pt,o,E),M(o,mt,E),M(o,yt,E),M(o,vt,E),M(o,St,E),t[34](St),Mt=!0,Et||(At=[P(r,"click",t[17]),P(i,"click",t[17])],Et=!0)},p(t,e){const n={};16777216&e[1]&&(n.$$scope={dirty:e,ctx:t}),c.$set(n);const i={};15872&e[0]|16777216&e[1]&&(i.$$scope={dirty:e,ctx:t}),!N&&1&e[0]&&(N=!0,i.id=t[0].map,ut((()=>N=!1))),A.$set(i);const r={};2560&e[0]|16777216&e[1]&&(r.$$scope={dirty:e,ctx:t}),!W&&1&e[0]&&(W=!0,r.id=t[0].rect,ut((()=>W=!1))),L.$set(r);const o={};10752&e[0]|16777216&e[1]&&(o.$$scope={dirty:e,ctx:t}),!F&&1&e[0]&&(F=!0,o.id=t[0].time,ut((()=>F=!1))),H.$set(o);const l={};18944&e[0]|16777216&e[1]&&(l.$$scope={dirty:e,ctx:t}),!rt&&1&e[0]&&(rt=!0,l.id=t[0].stage,ut((()=>rt=!1))),it.$set(l);const a={};10752&e[0]|16777216&e[1]&&(a.$$scope={dirty:e,ctx:t}),!ct&&1&e[0]&&(ct=!0,a.id=t[0].time,ut((()=>ct=!1))),st.$set(a);const s={};37376&e[0]|16777216&e[1]&&(s.$$scope={dirty:e,ctx:t}),!gt&&1&e[0]&&(gt=!0,s.id=t[0].afgh,ut((()=>gt=!1))),pt.$set(s)},i(t){Mt||(xt(c.$$.fragment,t),xt(A.$$.fragment,t),xt(L.$$.fragment,t),xt(H.$$.fragment,t),xt(it.$$.fragment,t),xt(st.$$.fragment,t),xt(pt.$$.fragment,t),Mt=!0)},o(t){wt(c.$$.fragment,t),wt(A.$$.fragment,t),wt(L.$$.fragment,t),wt(H.$$.fragment,t),wt(it.$$.fragment,t),wt(st.$$.fragment,t),wt(pt.$$.fragment,t),Mt=!1},d(r){r&&E(e),r&&E(n),r&&E(i),r&&E(s),kt(c,r),r&&E(u),r&&E(f),t[21](null),r&&E(d),r&&E(h),r&&E(p),r&&E(g),r&&E(m),r&&E(y),r&&E(v),r&&E(x),r&&E(w),r&&E($),r&&E(b),r&&E(_),t[22](null),r&&E(k),kt(A,r),r&&E(T),r&&E(O),t[24](null),r&&E(z),kt(L,r),r&&E(D),r&&E(q),t[26](null),r&&E(j),kt(H,r),r&&E(G),r&&E(X),t[28](null),r&&E(V),r&&E(Y),r&&E(U),r&&E(J),r&&E(Z),r&&E(Q),r&&E(K),r&&E(tt),r&&E(et),kt(it,r),r&&E(ot),r&&E(lt),t[30](null),r&&E(at),kt(st,r),r&&E(ft),r&&E(dt),t[32](null),r&&E(ht),kt(pt,r),r&&E(mt),r&&E(yt),r&&E(vt),r&&E(St),t[34](null),Et=!1,o(At)}}}const wh=.65;function $h(t){const e=window.scrollY,n=t-e,i=n>0?1:-1,r=Math.abs(n);let o=null;requestAnimationFrame((function t(n){o||(o=n);const l=n-o,a=Math.min(5*l,r);window.scrollTo(0,e+a*i),a<r&&requestAnimationFrame(t)}))}function bh(t,e,n){let i,r,o,l,a,s,c,u,f,d,h,p,g,m,y,v,x,w,$={},b={},_={agreement:!1,geo:!1,rect:!1,reason:!1};function k(t){console.log(`${t} entered viewport`),un(".scroll-line-agmt img, .scroll-line-geo img, .scroll-line-rect img, .scroll-line-reason img, .scroll-line-stage img, .scroll-line-time img, .scroll-line-dendr img").style("opacity",.5),sn(`.scroll-line-${t} img`).style("opacity",1)}function S(t){console.log(`${t} left viewport`),sn(`.scroll-line-${t} img`).style("opacity",.5),"geo"==t?sn(".scroll-line-agmt img").style("opacity",1):"rect"==t?sn(".scroll-line-geo img").style("opacity",1):"reason"==t?sn(".scroll-line-rect img").style("opacity",1):"stage"==t?sn(".scroll-line-reason img").style("opacity",1):"time"==t?sn(".scroll-line-stage img").style("opacity",1):"dendr"==t?sn(".scroll-line-time img").style("opacity",1):"research"==t&&sn(".scroll-line-dendr img").style("opacity",1)}Z((()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo({top:0,behavior:"auto"}),b={...$};const t=document.querySelector("#indicator"),e=document.querySelector(".scroll-line-agmt"),n=document.querySelector(".scroll-line-geo"),M=document.querySelector(".scroll-line-rect"),E=document.querySelector(".scroll-line-reason"),A=document.querySelector(".scroll-line-time"),R=document.querySelector(".scroll-line-stage"),N=document.querySelector(".scroll-line-dendr"),T=document.querySelector(".scroll-line-research");if(!t)return;const C=()=>{if(document.documentElement.scrollHeight-window.innerHeight<=0)requestAnimationFrame(C);else{if(i instanceof HTMLElement){let t=i.getBoundingClientRect();f=t.top+window.scrollY,e.addEventListener("click",(()=>{$h(f)}))}if(s instanceof HTMLElement){const t=s.getBoundingClientRect();d=t.top+window.scrollY,n.addEventListener("click",(()=>{$h(d)}))}if(r instanceof HTMLElement){let t=r.getBoundingClientRect();h=t.top+window.scrollY,M.addEventListener("click",(()=>{$h(h)}))}if(o instanceof HTMLElement){let t=o.getBoundingClientRect();p=t.top+window.scrollY,E.addEventListener("click",(()=>{$h(p)}))}if(a instanceof HTMLElement){const t=a.getBoundingClientRect();g=t.top+window.scrollY,R.addEventListener("click",(()=>{$h(g)}))}if(l instanceof HTMLElement){const t=l.getBoundingClientRect();m=t.top+window.scrollY,A.addEventListener("click",(()=>{$h(m)}))}if(c instanceof HTMLElement){const t=c.getBoundingClientRect();y=t.top+window.scrollY,N.addEventListener("click",(()=>{$h(y)}))}if(u instanceof HTMLElement){const t=u.getBoundingClientRect();v=t.top+window.scrollY,T.addEventListener("click",(()=>{$h(v)}))}}};w=()=>{const t=window.scrollY+.5*window.innerHeight;f&&(!_.agreement&&t>=f?(_.agreement=!0,k("agmt")):_.agreement&&t<f&&(_.agreement=!1,S("agmt"))),d&&(!_.geo&&t>=d?(_.geo=!0,k("geo")):_.geo&&t<d&&(_.geo=!1,S("geo"))),h&&(!_.rect&&t>=h?(_.rect=!0,k("rect")):_.rect&&t<h&&(_.rect=!1,S("rect"))),p&&(!_.reason&&t>=p?(_.reason=!0,k("reason")):_.reason&&t<p&&(_.reason=!1,S("reason"))),g&&(!_.stage&&t>=g?(_.stage=!0,k("stage")):_.stage&&t<g&&(_.stage=!1,S("stage"))),m&&(!_.time&&t>=m?(_.time=!0,k("time")):_.time&&t<m&&(_.time=!1,S("time"))),y&&(!_.dendr&&t>=y?(_.dendr=!0,k("dendr")):_.dendr&&t<y&&(_.dendr=!1,S("dendr"))),v&&(!_.research&&t>=v?(_.research=!0,k("research")):_.research&&t<v&&(_.research=!1,S("research")))},window.addEventListener("scroll",w),w(),requestAnimationFrame(C),x=()=>requestAnimationFrame(C),window.addEventListener("resize",x)})),Q((()=>{window.removeEventListener("resize",x)})),Q((()=>{window.removeEventListener("scroll",w)}));let M=null;const E={rect:{rect01:()=>{n(9,M="rect01")},rect02:()=>{n(9,M="rect02")}},chart:{chart01:()=>{n(9,M="one")},chart02:()=>{n(9,M="two")},chart03:()=>{n(9,M="three")},chart04:()=>{n(9,M="four")},chart05:()=>{n(9,M="five")}},time:{time01:()=>{n(9,M="1")},time02:()=>{n(9,M="2")},time03:()=>{n(9,M="3")},time04:()=>{n(9,M="4")},time05:()=>{n(9,M="5")},time06:()=>{n(9,M="6")},time07:()=>{n(9,M="7")},time08:()=>{n(9,M="8")},time09:()=>{n(9,M="9")}},stage:{stage01:()=>{n(9,M="stage01")},stage02:()=>{n(9,M="stage02")},stage03:()=>{n(9,M="stage03")},stage04:()=>{n(9,M="stage04")}},map:{map01:()=>{n(9,M="map_one")},map02:()=>{n(9,M="map_two")},map03:()=>{n(9,M="map_three")},map04:()=>{n(9,M="map_four")}},afgh:{afgh01:()=>{n(9,M="afgh01")},afgh02:()=>{n(9,M="afgh02")},afgh03:()=>{n(9,M="afgh03")},afgh04:()=>{n(9,M="afgh04")}}};let A;cs("./data/custom.geo.json").then((t=>{n(10,A=t)}));let R,N,T,C,O;ss(["./data/pax_v9.csv","./data/pax_gender_v9.csv","./data/gender_categories.csv"]).then((t=>{ls.set(undefined),n(11,R=t[0]),n(12,N=t[1]),n(15,O=t[2]),R.forEach((t=>{const e=N.find((e=>e.AgtId===t.AgtId));e?(t.WggRehab=e.WggRehab,t.WggImplRole=e.WggImplRole,t.WggHR=e.WggHR):(t.WggRehab="0",t.WggImplRole="0",t.WggHR="0")})),R.sort((function(t,e){return Et(t.Dat.substring(0,4),e.Dat.substring(0,4))})),n(14,C=It(R,(t=>t.Stage)));let e=["Pre","Cea","SubPar","SubComp","Imp","Ren","Oth"];C.sort(((t,n)=>e.indexOf(t[0])-e.indexOf(n[0]))),n(13,T=It(R,(t=>t.Dat.substring(0,4))))}));let P=!1;let z=0;function L(){z%2==0?sn(".info_div").style("top","1px"):sn(".info_div").style("top","-100%"),z+=1}return t.$$.update=()=>{1&t.$$.dirty[0]&&$&&function(t=[]){t.forEach((t=>{$[t]!=b[t]&&(E[t][$[t]]&&E[t][$[t]](),b[t]=$[t])}))}(Object.keys(E))},[$,i,r,o,l,a,s,c,u,M,A,R,N,T,C,O,function(){P=!0,document.getElementById("loading_text").style.visibility="hidden",document.getElementById("loading_button").style.visibility="visible"},function(t){P&&(document.getElementById("loading_screen").style.visibility="hidden",document.getElementById("loading_button").style.visibility="hidden",document.documentElement.style.overflow="visible",document.body.style.overflow="visible")},L,()=>L(),()=>L(),function(t){nt[t?"unshift":"push"]((()=>{i=t,n(1,i)}))},function(t){nt[t?"unshift":"push"]((()=>{s=t,n(6,s)}))},function(e){t.$$.not_equal($.map,e)&&($.map=e,n(0,$))},function(t){nt[t?"unshift":"push"]((()=>{r=t,n(2,r)}))},function(e){t.$$.not_equal($.rect,e)&&($.rect=e,n(0,$))},function(t){nt[t?"unshift":"push"]((()=>{o=t,n(3,o)}))},function(e){t.$$.not_equal($.time,e)&&($.time=e,n(0,$))},function(t){nt[t?"unshift":"push"]((()=>{a=t,n(5,a)}))},function(e){t.$$.not_equal($.stage,e)&&($.stage=e,n(0,$))},function(t){nt[t?"unshift":"push"]((()=>{l=t,n(4,l)}))},function(e){t.$$.not_equal($.time,e)&&($.time=e,n(0,$))},function(t){nt[t?"unshift":"push"]((()=>{c=t,n(7,c)}))},function(e){t.$$.not_equal($.afgh,e)&&($.afgh=e,n(0,$))},function(t){nt[t?"unshift":"push"]((()=>{u=t,n(8,u)}))}]}return new class extends Mt{constructor(t){super(),St(this,t,bh,xh,a,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map

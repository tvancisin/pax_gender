var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function i(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(i)}function a(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s;function c(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function u(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function f(t,e,n){t.$$.on_destroy.push(u(e,n))}function d(t,e,n,i){if(t){const r=h(t,e,n,i);return t[0](r)}}function h(t,e,i,r){return t[1]&&r?n(i.ctx.slice(),t[1](r(e))):i.ctx}function p(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|r[i];return t}return e.dirty|r}return e.dirty}function g(t,e,n,i,r,o){if(r){const a=h(e,n,i,o);t.p(a,r)}}function m(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function y(t,e,n){return t.set(n),e}function v(e){return e&&a(e.destroy)?e.destroy:t}const x="undefined"!=typeof window;let $=x?()=>window.performance.now():()=>Date.now(),w=x?t=>requestAnimationFrame(t):t;const b=new Set;function _(t){b.forEach((e=>{e.c(t)||(b.delete(e),e.f())})),0!==b.size&&w(_)}function k(t){let e;return 0===b.size&&w(_),{promise:new Promise((n=>{b.add(e={c:t,f:n})})),abort(){b.delete(e)}}}const S="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function M(t,e){t.appendChild(e)}function A(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function E(t){const e=C("style");return function(t,e){M(t.head||t,e),e.sheet}(A(t),e),e.sheet}function N(t,e,n){t.insertBefore(e,n||null)}function R(t){t.parentNode&&t.parentNode.removeChild(t)}function T(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function C(t){return document.createElement(t)}function O(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function P(t){return document.createTextNode(t)}function L(){return P(" ")}function z(){return P("")}function I(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function W(t){return function(e){return e.preventDefault(),t.call(this,e)}}function D(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function q(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const j=["width","height"];function H(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)null==e[i]?t.removeAttribute(i):"style"===i?t.style.cssText=e[i]:"__value"===i?t.value=t[i]=e[i]:n[i]&&n[i].set&&-1===j.indexOf(i)?t[i]=e[i]:q(t,i,e[i])}function B(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:q(t,e,n)}function F(t,e){e=""+e,t.data!==e&&(t.data=e)}function G(t,e){t.value=null==e?"":e}function X(t,e,n,i){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}let V;function Y(){if(void 0===V){V=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){V=!0}}return V}function U(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=C("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=Y();let r;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=I(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{r=I(n.contentWindow,"resize",e),e()}),M(t,n),()=>{(i||r&&n.contentWindow)&&r(),R(n)}}function J(t,e,n){t.classList[n?"add":"remove"](e)}function Z(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,i,e),r}const Q=new Map;let K,tt=0;function et(t,e,n,i,r,o,a,l=0){const s=16.666/i;let c="{\n";for(let t=0;t<=1;t+=s){const i=e+(n-e)*o(t);c+=100*t+`%{${a(i,1-i)}}\n`}const u=c+`100% {${a(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`,d=A(t),{stylesheet:h,rules:p}=Q.get(d)||function(t,e){const n={stylesheet:E(e),rules:{}};return Q.set(t,n),n}(d,t);p[f]||(p[f]=!0,h.insertRule(`@keyframes ${f} ${u}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${f} ${i}ms linear ${r}ms 1 both`,tt+=1,f}function nt(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-i.length;r&&(t.style.animation=i.join(", "),tt-=r,tt||w((()=>{tt||(Q.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&R(e)})),Q.clear())})))}function it(t){K=t}function rt(){if(!K)throw new Error("Function called outside component initialization");return K}function ot(t){rt().$$.on_mount.push(t)}function at(t){rt().$$.after_update.push(t)}function lt(t){rt().$$.on_destroy.push(t)}function st(){const t=rt();return(e,n,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[e];if(r){const o=Z(e,n,{cancelable:i});return r.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}function ct(t,e){return rt().$$.context.set(t,e),e}function ut(t){return rt().$$.context.get(t)}function ft(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const dt=[],ht=[];let pt=[];const gt=[],mt=Promise.resolve();let yt=!1;function vt(){yt||(yt=!0,mt.then(St))}function xt(){return vt(),mt}function $t(t){pt.push(t)}function wt(t){gt.push(t)}const bt=new Set;let _t,kt=0;function St(){if(0!==kt)return;const t=K;do{try{for(;kt<dt.length;){const t=dt[kt];kt++,it(t),Mt(t.$$)}}catch(t){throw dt.length=0,kt=0,t}for(it(null),dt.length=0,kt=0;ht.length;)ht.pop()();for(let t=0;t<pt.length;t+=1){const e=pt[t];bt.has(e)||(bt.add(e),e())}pt.length=0}while(dt.length);for(;gt.length;)gt.pop()();yt=!1,bt.clear(),it(t)}function Mt(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach($t)}}function At(t,e,n){t.dispatchEvent(Z(`${e?"intro":"outro"}${n}`))}const Et=new Set;let Nt;function Rt(){Nt={r:0,c:[],p:Nt}}function Tt(){Nt.r||o(Nt.c),Nt=Nt.p}function Ct(t,e){t&&t.i&&(Et.delete(t),t.i(e))}function Ot(t,e,n,i){if(t&&t.o){if(Et.has(t))return;Et.add(t),Nt.c.push((()=>{Et.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}else i&&i()}const Pt={duration:0};function Lt(n,i,r,l){const s={direction:"both"};let c=i(n,r,s),u=l?0:1,f=null,d=null,h=null;function p(){h&&nt(n,h)}function g(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function m(i){const{delay:r=0,duration:a=300,easing:l=e,tick:s=t,css:m}=c||Pt,y={start:$()+r,b:i};i||(y.group=Nt,Nt.r+=1),f||d?d=y:(m&&(p(),h=et(n,u,i,a,r,l,m)),i&&s(0,1),f=g(y,a),$t((()=>At(n,i,"start"))),k((t=>{if(d&&t>d.start&&(f=g(d,a),d=null,At(n,f.b,"start"),m&&(p(),h=et(n,u,f.b,f.duration,0,l,c.css))),f)if(t>=f.end)s(u=f.b,1-u),At(n,f.b,"end"),d||(f.b?p():--f.group.r||o(f.group.c)),f=null;else if(t>=f.start){const e=t-f.start;u=f.a+f.d*l(e/f.duration),s(u,1-u)}return!(!f&&!d)})))}return{run(t){a(c)?(_t||(_t=Promise.resolve(),_t.then((()=>{_t=null}))),_t).then((()=>{c=c(s),m(t)})):m(t)},end(){p(),f=d=null}}}function zt(t,e,n){const i=t.$$.props[e];void 0!==i&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function It(t){t&&t.c()}function Wt(t,e,n,r){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),r||$t((()=>{const e=t.$$.on_mount.map(i).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),s.forEach($t)}function Dt(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];pt.forEach((i=>-1===t.indexOf(i)?e.push(i):n.push(i))),n.forEach((t=>t())),pt=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function qt(e,n,i,a,l,s,c,u=[-1]){const f=K;it(e);const d=e.$$={fragment:null,ctx:[],props:s,update:t,not_equal:l,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};c&&c(d.root);let h=!1;if(d.ctx=i?i(e,n.props||{},((t,n,...i)=>{const r=i.length?i[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),h&&function(t,e){-1===t.$$.dirty[0]&&(dt.push(t),vt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],d.update(),h=!0,o(d.before_update),d.fragment=!!a&&a(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(R)}else d.fragment&&d.fragment.c();n.intro&&Ct(e.$$.fragment),Wt(e,n.target,n.anchor,n.customElement),St()}it(f)}class jt{$destroy(){Dt(this,1),this.$destroy=t}$on(e,n){if(!a(n))return t;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const t=i.indexOf(n);-1!==t&&i.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Ht(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bt(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ft(t){let e,n,i;function r(t,i,r=0,o=t.length){if(r<o){if(0!==e(i,i))return o;do{const e=r+o>>>1;n(t[e],i)<0?r=e+1:o=e}while(r<o)}return r}return 2!==t.length?(e=Ht,n=(e,n)=>Ht(t(e),n),i=(e,n)=>t(e)-n):(e=t===Ht||t===Bt?t:Gt,n=t,i=t),{left:r,center:function(t,e,n=0,o=t.length){const a=r(t,e,n,o-1);return a>n&&i(t[a-1],e)>-i(t[a],e)?a-1:a},right:function(t,i,r=0,o=t.length){if(r<o){if(0!==e(i,i))return o;do{const e=r+o>>>1;n(t[e],i)<=0?r=e+1:o=e}while(r<o)}return r}}}function Gt(){return 0}const Xt=Ft(Ht).right;Ft((function(t){return null===t?NaN:+t})).center;class Vt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const r=e[i],o=t+r,a=Math.abs(t)<Math.abs(r)?t-(o-r):r-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,i,r=this._n,o=0;if(r>0){for(o=t[--r];r>0&&(e=o,n=t[--r],o=e+n,i=n-(o-e),!i););r>0&&(i<0&&t[r-1]<0||i>0&&t[r-1]>0)&&(n=2*i,e=o+n,n==e-o&&(o=e))}return o}}class Yt extends Map{constructor(t,e=Jt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(Ut(this,t))}has(t){return super.has(Ut(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const i=e(n);t.has(i)&&(n=t.get(i),t.delete(i));return n}(this,t))}}function Ut({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function Jt(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Zt(t){return t}function Qt(t,...e){return function(t,e,n,i){return function t(r,o){if(o>=i.length)return n(r);const a=new Yt,l=i[o++];let s=-1;for(const t of r){const e=l(t,++s,r),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}(t,Array.from,Zt,e)}const Kt=Math.sqrt(50),te=Math.sqrt(10),ee=Math.sqrt(2);function ne(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),a=o>=Kt?10:o>=te?5:o>=ee?2:1;let l,s,c;return r<0?(c=Math.pow(10,-r)/a,l=Math.round(t*c),s=Math.round(e*c),l/c<t&&++l,s/c>e&&--s,c=-c):(c=Math.pow(10,r)*a,l=Math.round(t/c),s=Math.round(e/c),l*c<t&&++l,s*c>e&&--s),s<l&&.5<=n&&n<2?ne(t,e,2*n):[l,s,c]}function ie(t,e,n){return ne(t=+t,e=+e,n=+n)[2]}function re(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}var oe={value:()=>{}};function ae(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new le(i)}function le(t){this._=t}function se(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function ce(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=oe,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}le.prototype=ae.prototype={constructor:le,on:function(t,e){var n,i,r=this._,o=(i=r,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,l=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<l;)if(n=(t=o[a]).type)r[n]=ce(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ce(r[n],t.name,null);return this}for(;++a<l;)if((n=(t=o[a]).type)&&(n=se(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new le(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var ue="http://www.w3.org/1999/xhtml",fe={svg:"http://www.w3.org/2000/svg",xhtml:ue,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function de(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),fe.hasOwnProperty(e)?{space:fe[e],local:t}:t}function he(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ue&&e.documentElement.namespaceURI===ue?e.createElement(t):e.createElementNS(n,t)}}function pe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ge(t){var e=de(t);return(e.local?pe:he)(e)}function me(){}function ye(t){return null==t?me:function(){return this.querySelector(t)}}function ve(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function xe(){return[]}function $e(t){return null==t?xe:function(){return this.querySelectorAll(t)}}function we(t){return function(){return this.matches(t)}}function be(t){return function(e){return e.matches(t)}}var _e=Array.prototype.find;function ke(){return this.firstElementChild}var Se=Array.prototype.filter;function Me(){return Array.from(this.children)}function Ae(t){return new Array(t.length)}function Ee(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Ne(t,e,n,i,r,o){for(var a,l=0,s=e.length,c=o.length;l<c;++l)(a=e[l])?(a.__data__=o[l],i[l]=a):n[l]=new Ee(t,o[l]);for(;l<s;++l)(a=e[l])&&(r[l]=a)}function Re(t,e,n,i,r,o,a){var l,s,c,u=new Map,f=e.length,d=o.length,h=new Array(f);for(l=0;l<f;++l)(s=e[l])&&(h[l]=c=a.call(s,s.__data__,l,e)+"",u.has(c)?r[l]=s:u.set(c,s));for(l=0;l<d;++l)c=a.call(t,o[l],l,o)+"",(s=u.get(c))?(i[l]=s,s.__data__=o[l],u.delete(c)):n[l]=new Ee(t,o[l]);for(l=0;l<f;++l)(s=e[l])&&u.get(h[l])===s&&(r[l]=s)}function Te(t){return t.__data__}function Ce(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Oe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Pe(t){return function(){this.removeAttribute(t)}}function Le(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ze(t,e){return function(){this.setAttribute(t,e)}}function Ie(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function We(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function De(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function qe(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function je(t){return function(){this.style.removeProperty(t)}}function He(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Be(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Fe(t,e){return t.style.getPropertyValue(e)||qe(t).getComputedStyle(t,null).getPropertyValue(e)}function Ge(t){return function(){delete this[t]}}function Xe(t,e){return function(){this[t]=e}}function Ve(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ye(t){return t.trim().split(/^|\s+/)}function Ue(t){return t.classList||new Je(t)}function Je(t){this._node=t,this._names=Ye(t.getAttribute("class")||"")}function Ze(t,e){for(var n=Ue(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Qe(t,e){for(var n=Ue(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Ke(t){return function(){Ze(this,t)}}function tn(t){return function(){Qe(this,t)}}function en(t,e){return function(){(e.apply(this,arguments)?Ze:Qe)(this,t)}}function nn(){this.textContent=""}function rn(t){return function(){this.textContent=t}}function on(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function an(){this.innerHTML=""}function ln(t){return function(){this.innerHTML=t}}function sn(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function cn(){this.nextSibling&&this.parentNode.appendChild(this)}function un(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fn(){return null}function dn(){var t=this.parentNode;t&&t.removeChild(this)}function hn(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function pn(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function gn(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function mn(t,e,n){return function(){var i,r=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=e);this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function yn(t,e,n){var i=qe(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function vn(t,e){return function(){return yn(this,t,e)}}function xn(t,e){return function(){return yn(this,t,e.apply(this,arguments))}}Ee.prototype={constructor:Ee,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Je.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var $n=[null];function wn(t,e){this._groups=t,this._parents=e}function bn(){return new wn([[document.documentElement]],$n)}function _n(t){return"string"==typeof t?new wn([[document.querySelector(t)]],[document.documentElement]):new wn([[t]],$n)}function kn(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}function Sn(t){return"string"==typeof t?new wn([document.querySelectorAll(t)],[document.documentElement]):new wn([ve(t)],$n)}function Mn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function An(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function En(){}wn.prototype=bn.prototype={constructor:wn,select:function(t){"function"!=typeof t&&(t=ye(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a,l=e[r],s=l.length,c=i[r]=new Array(s),u=0;u<s;++u)(o=l[u])&&(a=t.call(o,o.__data__,u,l))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new wn(i,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return ve(t.apply(this,arguments))}}(t):$e(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a,l=e[o],s=l.length,c=0;c<s;++c)(a=l[c])&&(i.push(t.call(a,a.__data__,c,l)),r.push(a));return new wn(i,r)},selectChild:function(t){return this.select(null==t?ke:function(t){return function(){return _e.call(this.children,t)}}("function"==typeof t?t:be(t)))},selectChildren:function(t){return this.selectAll(null==t?Me:function(t){return function(){return Se.call(this.children,t)}}("function"==typeof t?t:be(t)))},filter:function(t){"function"!=typeof t&&(t=we(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],l=a.length,s=i[r]=[],c=0;c<l;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new wn(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Te);var n=e?Re:Ne,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=r.length,a=new Array(o),l=new Array(o),s=new Array(o),c=0;c<o;++c){var u=i[c],f=r[c],d=f.length,h=Ce(t.call(u,u&&u.__data__,c,i)),p=h.length,g=l[c]=new Array(p),m=a[c]=new Array(p);n(u,f,g,m,s[c]=new Array(d),h,e);for(var y,v,x=0,$=0;x<p;++x)if(y=g[x]){for(x>=$&&($=x+1);!(v=m[$])&&++$<p;);y._next=v||null}}return(a=new wn(a,i))._enter=l,a._exit=s,a},enter:function(){return new wn(this._enter||this._groups.map(Ae),this._parents)},exit:function(){return new wn(this._exit||this._groups.map(Ae),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=i.length,a=Math.min(r,o),l=new Array(r),s=0;s<a;++s)for(var c,u=n[s],f=i[s],d=u.length,h=l[s]=new Array(d),p=0;p<d;++p)(c=u[p]||f[p])&&(h[p]=c);for(;s<r;++s)l[s]=n[s];return new wn(l,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Oe);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,l=n[o],s=l.length,c=r[o]=new Array(s),u=0;u<s;++u)(a=l[u])&&(c[u]=a);c.sort(e)}return new wn(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,l=o.length;a<l;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},attr:function(t,e){var n=de(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?Le:Pe:"function"==typeof e?n.local?De:We:n.local?Ie:ze)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?je:"function"==typeof e?Be:He)(t,e,null==n?"":n)):Fe(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ge:"function"==typeof e?Ve:Xe)(t,e)):this.node()[t]},classed:function(t,e){var n=Ye(t+"");if(arguments.length<2){for(var i=Ue(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?en:e?Ke:tn)(n,e))},text:function(t){return arguments.length?this.each(null==t?nn:("function"==typeof t?on:rn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?an:("function"==typeof t?sn:ln)(t)):this.node().innerHTML},raise:function(){return this.each(cn)},lower:function(){return this.each(un)},append:function(t){var e="function"==typeof t?t:ge(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:ge(t),i=null==e?fn:"function"==typeof e?e:ye(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(dn)},clone:function(t){return this.select(t?pn:hn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(l=e?mn:gn,i=0;i<a;++i)this.each(l(o[i],e,n));return this}var l=this.node().__on;if(l)for(var s,c=0,u=l.length;c<u;++c)for(i=0,s=l[c];i<a;++i)if((r=o[i]).type===s.type&&r.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?xn:vn)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],o=0,a=r.length;o<a;++o)(i=r[o])&&(yield i)}};var Nn=.7,Rn=1/Nn,Tn="\\s*([+-]?\\d+)\\s*",Cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",On="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pn=/^#([0-9a-f]{3,8})$/,Ln=new RegExp(`^rgb\\(${Tn},${Tn},${Tn}\\)$`),zn=new RegExp(`^rgb\\(${On},${On},${On}\\)$`),In=new RegExp(`^rgba\\(${Tn},${Tn},${Tn},${Cn}\\)$`),Wn=new RegExp(`^rgba\\(${On},${On},${On},${Cn}\\)$`),Dn=new RegExp(`^hsl\\(${Cn},${On},${On}\\)$`),qn=new RegExp(`^hsla\\(${Cn},${On},${On},${Cn}\\)$`),jn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Hn(){return this.rgb().formatHex()}function Bn(){return this.rgb().formatRgb()}function Fn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Gn(e):3===n?new Yn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Xn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Xn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ln.exec(t))?new Yn(e[1],e[2],e[3],1):(e=zn.exec(t))?new Yn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=In.exec(t))?Xn(e[1],e[2],e[3],e[4]):(e=Wn.exec(t))?Xn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Dn.exec(t))?ti(e[1],e[2]/100,e[3]/100,1):(e=qn.exec(t))?ti(e[1],e[2]/100,e[3]/100,e[4]):jn.hasOwnProperty(t)?Gn(jn[t]):"transparent"===t?new Yn(NaN,NaN,NaN,0):null}function Gn(t){return new Yn(t>>16&255,t>>8&255,255&t,1)}function Xn(t,e,n,i){return i<=0&&(t=e=n=NaN),new Yn(t,e,n,i)}function Vn(t,e,n,i){return 1===arguments.length?((r=t)instanceof En||(r=Fn(r)),r?new Yn((r=r.rgb()).r,r.g,r.b,r.opacity):new Yn):new Yn(t,e,n,null==i?1:i);var r}function Yn(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Un(){return`#${Kn(this.r)}${Kn(this.g)}${Kn(this.b)}`}function Jn(){const t=Zn(this.opacity);return`${1===t?"rgb(":"rgba("}${Qn(this.r)}, ${Qn(this.g)}, ${Qn(this.b)}${1===t?")":`, ${t})`}`}function Zn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Kn(t){return((t=Qn(t))<16?"0":"")+t.toString(16)}function ti(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ni(t,e,n,i)}function ei(t){if(t instanceof ni)return new ni(t.h,t.s,t.l,t.opacity);if(t instanceof En||(t=Fn(t)),!t)return new ni;if(t instanceof ni)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,l=o-r,s=(o+r)/2;return l?(a=e===o?(n-i)/l+6*(n<i):n===o?(i-e)/l+2:(e-n)/l+4,l/=s<.5?o+r:2-o-r,a*=60):l=s>0&&s<1?0:a,new ni(a,l,s,t.opacity)}function ni(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function ii(t){return(t=(t||0)%360)<0?t+360:t}function ri(t){return Math.max(0,Math.min(1,t||0))}function oi(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Mn(En,Fn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Hn,formatHex:Hn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ei(this).formatHsl()},formatRgb:Bn,toString:Bn}),Mn(Yn,Vn,An(En,{brighter(t){return t=null==t?Rn:Math.pow(Rn,t),new Yn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Nn:Math.pow(Nn,t),new Yn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Yn(Qn(this.r),Qn(this.g),Qn(this.b),Zn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Un,formatHex:Un,formatHex8:function(){return`#${Kn(this.r)}${Kn(this.g)}${Kn(this.b)}${Kn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Jn,toString:Jn})),Mn(ni,(function(t,e,n,i){return 1===arguments.length?ei(t):new ni(t,e,n,null==i?1:i)}),An(En,{brighter(t){return t=null==t?Rn:Math.pow(Rn,t),new ni(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Nn:Math.pow(Nn,t),new ni(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Yn(oi(t>=240?t-240:t+120,r,i),oi(t,r,i),oi(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new ni(ii(this.h),ri(this.s),ri(this.l),Zn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Zn(this.opacity);return`${1===t?"hsl(":"hsla("}${ii(this.h)}, ${100*ri(this.s)}%, ${100*ri(this.l)}%${1===t?")":`, ${t})`}`}}));var ai=t=>()=>t;function li(t){return 1==(t=+t)?si:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):ai(isNaN(e)?n:e)}}function si(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):ai(isNaN(t)?e:t)}var ci=function t(e){var n=li(e);function i(t,e){var i=n((t=Vn(t)).r,(e=Vn(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=si(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function ui(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}}function fi(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=vi(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}}function di(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function hi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function pi(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=vi(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}var gi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mi=new RegExp(gi.source,"g");function yi(t,e){var n,i,r,o=gi.lastIndex=mi.lastIndex=0,a=-1,l=[],s=[];for(t+="",e+="";(n=gi.exec(t))&&(i=mi.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),l[a]?l[a]+=r:l[++a]=r),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,s.push({i:a,x:hi(n,i)})),o=mi.lastIndex;return o<e.length&&(r=e.slice(o),l[a]?l[a]+=r:l[++a]=r),l.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,i=0;i<e;++i)l[(n=s[i]).i]=n.x(t);return l.join("")})}function vi(t,e){var n,i=typeof e;return null==e||"boolean"===i?ai(e):("number"===i?hi:"string"===i?(n=Fn(e))?(e=n,ci):yi:e instanceof Fn?ci:e instanceof Date?di:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?ui:Array.isArray(e)?fi:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?pi:hi)(t,e)}function xi(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var $i,wi=180/Math.PI,bi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _i(t,e,n,i,r,o){var a,l,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*i)&&(n-=t*s,i-=e*s),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,s/=l),t*i<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*wi,skewX:Math.atan(s)*wi,scaleX:a,scaleY:l}}function ki(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,a){var l=[],s=[];return o=t(o),a=t(a),function(t,i,r,o,a,l){if(t!==r||i!==o){var s=a.push("translate(",null,e,null,n);l.push({i:s-4,x:hi(t,r)},{i:s-2,x:hi(i,o)})}else(r||o)&&a.push("translate("+r+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,l,s),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:hi(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,a.rotate,l,s),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:hi(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,a.skewX,l,s),function(t,e,n,i,o,a){if(t!==n||e!==i){var l=o.push(r(o)+"scale(",null,",",null,")");a.push({i:l-4,x:hi(t,n)},{i:l-2,x:hi(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,l,s),o=a=null,function(t){for(var e,n=-1,i=s.length;++n<i;)l[(e=s[n]).i]=e.x(t);return l.join("")}}}var Si,Mi,Ai=ki((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?bi:_i(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Ei=ki((function(t){return null==t?bi:($i||($i=document.createElementNS("http://www.w3.org/2000/svg","g")),$i.setAttribute("transform",t),(t=$i.transform.baseVal.consolidate())?_i((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):bi)}),", ",")",")"),Ni=0,Ri=0,Ti=0,Ci=1e3,Oi=0,Pi=0,Li=0,zi="object"==typeof performance&&performance.now?performance:Date,Ii="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Wi(){return Pi||(Ii(Di),Pi=zi.now()+Li)}function Di(){Pi=0}function qi(){this._call=this._time=this._next=null}function ji(t,e,n){var i=new qi;return i.restart(t,e,n),i}function Hi(){Pi=(Oi=zi.now())+Li,Ni=Ri=0;try{!function(){Wi(),++Ni;for(var t,e=Si;e;)(t=Pi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ni}()}finally{Ni=0,function(){var t,e,n=Si,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Si=e);Mi=t,Fi(i)}(),Pi=0}}function Bi(){var t=zi.now(),e=t-Oi;e>Ci&&(Li-=e,Oi=t)}function Fi(t){Ni||(Ri&&(Ri=clearTimeout(Ri)),t-Pi>24?(t<1/0&&(Ri=setTimeout(Hi,t-zi.now()-Li)),Ti&&(Ti=clearInterval(Ti))):(Ti||(Oi=zi.now(),Ti=setInterval(Bi,Ci)),Ni=1,Ii(Hi)))}function Gi(t,e,n){var i=new qi;return e=null==e?0:+e,i.restart((n=>{i.stop(),t(n+e)}),e,n),i}qi.prototype=ji.prototype={constructor:qi,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Wi():+n)+(null==e?0:+e),this._next||Mi===this||(Mi?Mi._next=this:Si=this,Mi=this),this._call=t,this._time=n,Fi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fi())}};var Xi=ae("start","end","cancel","interrupt"),Vi=[],Yi=0,Ui=1,Ji=2,Zi=3,Qi=4,Ki=5,tr=6;function er(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function o(t){n.state=Ui,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,u,f,d;if(n.state!==Ui)return s();for(c in r)if((d=r[c]).name===n.name){if(d.state===Zi)return Gi(a);d.state===Qi?(d.state=tr,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=tr,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(Gi((function(){n.state===Zi&&(n.state=Qi,n.timer.restart(l,n.delay,n.time),l(o))})),n.state=Ji,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ji){for(n.state=Zi,i=new Array(f=n.tween.length),c=0,u=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=d);i.length=u+1}}function l(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=Ki,1),o=-1,a=i.length;++o<a;)i[o].call(t,r);n.state===Ki&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var i in n.state=tr,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=ji(o,0,n.time)}(t,n,{name:e,index:i,group:r,on:Xi,tween:Vi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Yi})}function nr(t,e){var n=rr(t,e);if(n.state>Yi)throw new Error("too late; already scheduled");return n}function ir(t,e){var n=rr(t,e);if(n.state>Zi)throw new Error("too late; already running");return n}function rr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function or(t,e){var n,i;return function(){var r=ir(this,t),o=r.tween;if(o!==n)for(var a=0,l=(i=n=o).length;a<l;++a)if(i[a].name===e){(i=i.slice()).splice(a,1);break}r.tween=i}}function ar(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=ir(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var l={name:e,value:n},s=0,c=r.length;s<c;++s)if(r[s].name===e){r[s]=l;break}s===c&&r.push(l)}o.tween=r}}function lr(t,e,n){var i=t._id;return t.each((function(){var t=ir(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return rr(t,i).value[e]}}function sr(t,e){var n;return("number"==typeof e?hi:e instanceof Fn?ci:(n=Fn(e))?(e=n,ci):yi)(t,e)}function cr(t){return function(){this.removeAttribute(t)}}function ur(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fr(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===i?r:r=e(i=a,n)}}function dr(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?r:r=e(i=a,n)}}function hr(t,e,n){var i,r,o;return function(){var a,l,s=n(this);if(null!=s)return(a=this.getAttribute(t))===(l=s+"")?null:a===i&&l===r?o:(r=l,o=e(i=a,s));this.removeAttribute(t)}}function pr(t,e,n){var i,r,o;return function(){var a,l,s=n(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(l=s+"")?null:a===i&&l===r?o:(r=l,o=e(i=a,s));this.removeAttributeNS(t.space,t.local)}}function gr(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,r)),n}return r._value=e,r}function mr(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,r)),n}return r._value=e,r}function yr(t,e){return function(){nr(this,t).delay=+e.apply(this,arguments)}}function vr(t,e){return e=+e,function(){nr(this,t).delay=e}}function xr(t,e){return function(){ir(this,t).duration=+e.apply(this,arguments)}}function $r(t,e){return e=+e,function(){ir(this,t).duration=e}}var wr=bn.prototype.constructor;function br(t){return function(){this.style.removeProperty(t)}}var _r=0;function kr(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Sr(t){return bn().transition(t)}function Mr(){return++_r}var Ar=bn.prototype;function Er(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}kr.prototype=Sr.prototype={constructor:kr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ye(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var l,s,c=i[a],u=c.length,f=o[a]=new Array(u),d=0;d<u;++d)(l=c[d])&&(s=t.call(l,l.__data__,d,c))&&("__data__"in l&&(s.__data__=l.__data__),f[d]=s,er(f[d],e,n,d,f,rr(l,n)));return new kr(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=$e(t));for(var i=this._groups,r=i.length,o=[],a=[],l=0;l<r;++l)for(var s,c=i[l],u=c.length,f=0;f<u;++f)if(s=c[f]){for(var d,h=t.call(s,s.__data__,f,c),p=rr(s,n),g=0,m=h.length;g<m;++g)(d=h[g])&&er(d,e,n,g,h,p);o.push(h),a.push(s)}return new kr(o,a,e,n)},selectChild:Ar.selectChild,selectChildren:Ar.selectChildren,filter:function(t){"function"!=typeof t&&(t=we(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],l=a.length,s=i[r]=[],c=0;c<l;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new kr(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),l=0;l<o;++l)for(var s,c=e[l],u=n[l],f=c.length,d=a[l]=new Array(f),h=0;h<f;++h)(s=c[h]||u[h])&&(d[h]=s);for(;l<i;++l)a[l]=e[l];return new kr(a,this._parents,this._name,this._id)},selection:function(){return new wr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Mr(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,l=i[o],s=l.length,c=0;c<s;++c)if(a=l[c]){var u=rr(a,e);er(a,t,n,c,l,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new kr(i,this._parents,t,n)},call:Ar.call,nodes:Ar.nodes,node:Ar.node,size:Ar.size,empty:Ar.empty,each:Ar.each,on:function(t,e){var n=this._id;return arguments.length<2?rr(this.node(),n).on.on(t):this.each(function(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?nr:ir;return function(){var a=o(this,t),l=a.on;l!==i&&(r=(i=l).copy()).on(e,n),a.on=r}}(n,t,e))},attr:function(t,e){var n=de(t),i="transform"===n?Ei:sr;return this.attrTween(t,"function"==typeof e?(n.local?pr:hr)(n,i,lr(this,"attr."+t,e)):null==e?(n.local?ur:cr)(n):(n.local?dr:fr)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=de(t);return this.tween(n,(i.local?gr:mr)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?Ai:sr;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=Fe(this,t),a=(this.style.removeProperty(t),Fe(this,t));return o===a?null:o===n&&a===i?r:r=e(n=o,i=a)}}(t,i)).on("end.style."+t,br(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,o;return function(){var a=Fe(this,t),l=n(this),s=l+"";return null==l&&(this.style.removeProperty(t),s=l=Fe(this,t)),a===s?null:a===i&&s===r?o:(r=s,o=e(i=a,l))}}(t,i,lr(this,"style."+t,e))).each(function(t,e){var n,i,r,o,a="style."+e,l="end."+a;return function(){var s=ir(this,t),c=s.on,u=null==s.value[a]?o||(o=br(e)):void 0;c===n&&r===u||(i=(n=c).copy()).on(l,r=u),s.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,o=n+"";return function(){var a=Fe(this,t);return a===o?null:a===i?r:r=e(i=a,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&function(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}(t,o,n)),i}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(lr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&function(t){return function(e){this.textContent=t.call(this,e)}}(i)),e}return i._value=t,i}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=rr(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?or:ar)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?yr:vr)(e,t)):rr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?xr:$r)(e,t)):rr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){ir(this,t).ease=e}}(e,t)):rr(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;ir(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(o,a){var l={value:a},s={value:function(){0==--r&&o()}};n.each((function(){var n=ir(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(s)),n.on=e})),0===r&&o()}))},[Symbol.iterator]:Ar[Symbol.iterator]};var Nr={time:null,delay:0,duration:250,ease:Er};function Rr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}bn.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,i,r,o=t.__transition,a=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>Ji&&n.state<Ki,n.state=tr,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}}(this,t)}))},bn.prototype.transition=function(t){var e,n;t instanceof kr?(e=t._id,t=t._name):(e=Mr(),(n=Nr).time=Wi(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,l=i[o],s=l.length,c=0;c<s;++c)(a=l[c])&&er(a,t,e,c,l,n||Rr(a,e));return new kr(i,this._parents,t,e)};const Tr=Math.PI,Cr=2*Tr,Or=1e-6,Pr=Cr-Or;function Lr(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class zr{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Lr:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Lr;const n=10**e;return function(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,i){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,e,n,i,r,o){this._append`C${+t},${+e},${+n},${+i},${this._x1=+r},${this._y1=+o}`}arcTo(t,e,n,i,r){if(t=+t,e=+e,n=+n,i=+i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=this._x1,a=this._y1,l=n-t,s=i-e,c=o-t,u=a-e,f=c*c+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(f>Or)if(Math.abs(u*l-s*c)>Or&&r){let d=n-o,h=i-a,p=l*l+s*s,g=d*d+h*h,m=Math.sqrt(p),y=Math.sqrt(f),v=r*Math.tan((Tr-Math.acos((p+f-g)/(2*m*y)))/2),x=v/y,$=v/m;Math.abs(x-1)>Or&&this._append`L${t+x*c},${e+x*u}`,this._append`A${r},${r},0,0,${+(u*d>c*h)},${this._x1=t+$*l},${this._y1=e+$*s}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,i,r,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),l=n*Math.sin(i),s=t+a,c=e+l,u=1^o,f=o?i-r:r-i;null===this._x1?this._append`M${s},${c}`:(Math.abs(this._x1-s)>Or||Math.abs(this._y1-c)>Or)&&this._append`L${s},${c}`,n&&(f<0&&(f=f%Cr+Cr),f>Pr?this._append`A${n},${n},0,1,${u},${t-a},${e-l}A${n},${n},0,1,${u},${this._x1=s},${this._y1=c}`:f>Or&&this._append`A${n},${n},0,${+(f>=Tr)},${u},${this._x1=t+n*Math.cos(r)},${this._y1=e+n*Math.sin(r)}`)}rect(t,e,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}var Ir={},Wr={};function Dr(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function qr(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var i in t)i in e||n.push(e[i]=i)})),n}function jr(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function Hr(t){var e,n=t.getUTCHours(),i=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+jr(-e,6):e>9999?"+"+jr(e,6):jr(e,4))+"-"+jr(t.getUTCMonth()+1,2)+"-"+jr(t.getUTCDate(),2)+(o?"T"+jr(n,2)+":"+jr(i,2)+":"+jr(r,2)+"."+jr(o,3)+"Z":r?"T"+jr(n,2)+":"+jr(i,2)+":"+jr(r,2)+"Z":i||n?"T"+jr(n,2)+":"+jr(i,2)+"Z":"")}var Br=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var i,r=[],o=t.length,a=0,l=0,s=o<=0,c=!1;function u(){if(s)return Wr;if(c)return c=!1,Ir;var e,i,r=a;if(34===t.charCodeAt(r)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?s=!0:10===(i=t.charCodeAt(a++))?c=!0:13===i&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(r+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(i=t.charCodeAt(e=a++)))c=!0;else if(13===i)c=!0,10===t.charCodeAt(a)&&++a;else if(i!==n)continue;return t.slice(r,e)}return s=!0,t.slice(r,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(i=u())!==Wr;){for(var f=[];i!==Ir&&i!==Wr;)f.push(i),i=u();e&&null==(f=e(f,l++))||r.push(f)}return r}function r(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Hr(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,o=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=Dr(t);return function(i,r){return e(n(i),r,t)}}(t,e):Dr(t)}));return o.columns=r||[],o},parseRows:i,format:function(e,n){return null==n&&(n=qr(e)),[n.map(a).join(t)].concat(r(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=qr(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),Fr=Br.parse;function Gr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Xr,Vr=(Xr=Fr,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),function(t,e){return fetch(t,e).then(Gr)}(t,e).then((function(t){return Xr(t,n)}))});function Yr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Ur(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Jr(t){return(t=Ur(Math.abs(t)))?t[1]:NaN}var Zr,Qr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kr(t){if(!(e=Qr.exec(t)))throw new Error("invalid format: "+t);var e;return new to({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function to(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function eo(t,e){var n=Ur(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Kr.prototype=to.prototype,to.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var no={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>eo(100*t,e),r:eo,s:function(t,e){var n=Ur(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Zr=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Ur(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function io(t){return t}var ro,oo,ao,lo=Array.prototype.map,so=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function co(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?io:(e=lo.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,o=[],a=0,l=e[0],s=0;r>0&&l>0&&(s+l+1>i&&(l=Math.max(1,i-s)),o.push(t.substring(r-=l,r+l)),!((s+=l+1)>i));)l=e[a=(a+1)%e.length];return o.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?io:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(lo.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Kr(t)).fill,n=t.align,f=t.sign,d=t.symbol,h=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):no[v]||(void 0===m&&(m=12),y=!0,v="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var x="$"===d?r:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",$="$"===d?o:/[%p]/.test(v)?s:"",w=no[v],b=/[defgprs%]/.test(v);function _(t){var r,o,s,d=x,_=$;if("c"===v)_=w(t)+_,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),d=(k?"("===f?f:c:"-"===f||"("===f?"":f)+d,_=("s"===v?so[8+Zr/3]:"")+_+(k&&"("===f?")":""),b)for(r=-1,o=t.length;++r<o;)if(48>(s=t.charCodeAt(r))||s>57){_=(46===s?a+t.slice(r+1):t.slice(r))+_,t=t.slice(0,r);break}}g&&!h&&(t=i(t,1/0));var S=d.length+t.length+_.length,M=S<p?new Array(p-S+1).join(e):"";switch(g&&h&&(t=i(M+t,M.length?p-_.length:1/0),M=""),n){case"<":t=d+t+_+M;break;case"=":t=d+M+t+_;break;case"^":t=M.slice(0,S=M.length>>1)+d+t+_+M.slice(S);break;default:t=M+d+t+_}return l(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),_.toString=function(){return t+""},_}return{format:f,formatPrefix:function(t,e){var n=f(((t=Kr(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Jr(e)/3))),r=Math.pow(10,-i),o=so[8+i/3];return function(t){return n(r*t)+o}}}}ro=co({thousands:",",grouping:[3],currency:["$",""]}),oo=ro.format,ao=ro.formatPrefix;var uo=1e-6,fo=1e-12,ho=Math.PI,po=ho/2,go=ho/4,mo=2*ho,yo=180/ho,vo=ho/180,xo=Math.abs,$o=Math.atan,wo=Math.atan2,bo=Math.cos,_o=Math.sin,ko=Math.sign||function(t){return t>0?1:t<0?-1:0},So=Math.sqrt;function Mo(t){return t>1?po:t<-1?-po:Math.asin(t)}function Ao(){}function Eo(t,e){t&&Ro.hasOwnProperty(t.type)&&Ro[t.type](t,e)}var No={Feature:function(t,e){Eo(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)Eo(n[i].geometry,e)}},Ro={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){To(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)To(n[i],e,0)},Polygon:function(t,e){Co(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Co(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)Eo(n[i],e)}};function To(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Co(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)To(t[n],e,1);e.polygonEnd()}function Oo(t,e){t&&No.hasOwnProperty(t.type)?No[t.type](t,e):Eo(t,e)}function Po(t){return[wo(t[1],t[0]),Mo(t[2])]}function Lo(t){var e=t[0],n=t[1],i=bo(n);return[i*bo(e),i*_o(e),_o(n)]}function zo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Io(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Wo(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Do(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function qo(t){var e=So(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function jo(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function Ho(t,e){return xo(t)>ho&&(t-=Math.round(t/mo)*mo),[t,e]}function Bo(t){return function(e,n){return xo(e+=t)>ho&&(e-=Math.round(e/mo)*mo),[e,n]}}function Fo(t){var e=Bo(t);return e.invert=Bo(-t),e}function Go(t,e){var n=bo(t),i=_o(t),r=bo(e),o=_o(e);function a(t,e){var a=bo(e),l=bo(t)*a,s=_o(t)*a,c=_o(e),u=c*n+l*i;return[wo(s*r-u*o,l*n-c*i),Mo(u*r+s*o)]}return a.invert=function(t,e){var a=bo(e),l=bo(t)*a,s=_o(t)*a,c=_o(e),u=c*r-s*o;return[wo(s*r+c*o,l*n+u*i),Mo(u*n-l*i)]},a}function Xo(t,e){(e=Lo(e))[0]-=t,qo(e);var n=function(t){return t>1?0:t<-1?ho:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+mo-uo)%mo}function Vo(){var t,e=[];return{point:function(e,n,i){t.push([e,n,i])},lineStart:function(){e.push(t=[])},lineEnd:Ao,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Yo(t,e){return xo(t[0]-e[0])<uo&&xo(t[1]-e[1])<uo}function Uo(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Jo(t,e,n,i,r){var o,a,l=[],s=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],a=t[e];if(Yo(i,a)){if(!i[2]&&!a[2]){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}a[0]+=2*uo}l.push(n=new Uo(i,t,null,!0)),s.push(n.o=new Uo(i,null,n,!1)),l.push(n=new Uo(a,t,null,!1)),s.push(n.o=new Uo(a,null,n,!0))}})),l.length){for(s.sort(e),Zo(l),Zo(s),o=0,a=s.length;o<a;++o)s[o].e=n=!n;for(var c,u,f=l[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(o=0,a=c.length;o<a;++o)r.point((u=c[o])[0],u[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(h)for(c=d.p.z,o=c.length-1;o>=0;--o)r.point((u=c[o])[0],u[1]);else i(d.x,d.p.x,-1,r);d=d.p}c=(d=d.o).z,h=!h}while(!d.v);r.lineEnd()}}}function Zo(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Qo(t){return xo(t[0])<=ho?t[0]:ko(t[0])*((xo(t[0])+ho)%mo-ho)}function Ko(t,e,n,i){return function(r){var o,a,l,s=e(r),c=Vo(),u=e(c),f=!1,d={point:h,lineStart:g,lineEnd:m,polygonStart:function(){d.point=y,d.lineStart=v,d.lineEnd=x,a=[],o=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=m,a=re(a);var t=function(t,e){var n=Qo(e),i=e[1],r=_o(i),o=[_o(n),-bo(n),0],a=0,l=0,s=new Vt;1===r?i=po+uo:-1===r&&(i=-po-uo);for(var c=0,u=t.length;c<u;++c)if(d=(f=t[c]).length)for(var f,d,h=f[d-1],p=Qo(h),g=h[1]/2+go,m=_o(g),y=bo(g),v=0;v<d;++v,p=$,m=b,y=_,h=x){var x=f[v],$=Qo(x),w=x[1]/2+go,b=_o(w),_=bo(w),k=$-p,S=k>=0?1:-1,M=S*k,A=M>ho,E=m*b;if(s.add(wo(E*S*_o(M),y*_+E*bo(M))),a+=A?k+S*mo:k,A^p>=n^$>=n){var N=Io(Lo(h),Lo(x));qo(N);var R=Io(o,N);qo(R);var T=(A^k>=0?-1:1)*Mo(R[2]);(i>T||i===T&&(N[0]||N[1]))&&(l+=A^k>=0?1:-1)}}return(a<-uo||a<uo&&s<-fo)^1&l}(o,i);a.length?(f||(r.polygonStart(),f=!0),Jo(a,ea,t,n,r)):t&&(f||(r.polygonStart(),f=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),f&&(r.polygonEnd(),f=!1),a=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function h(e,n){t(e,n)&&r.point(e,n)}function p(t,e){s.point(t,e)}function g(){d.point=p,s.lineStart()}function m(){d.point=h,s.lineEnd()}function y(t,e){l.push([t,e]),u.point(t,e)}function v(){u.lineStart(),l=[]}function x(){y(l[0][0],l[0][1]),u.lineEnd();var t,e,n,i,s=u.clean(),d=c.result(),h=d.length;if(l.pop(),o.push(l),l=null,h)if(1&s){if((e=(n=d[0]).length-1)>0){for(f||(r.polygonStart(),f=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else h>1&&2&s&&d.push(d.pop().concat(d.shift())),a.push(d.filter(ta))}return d}}function ta(t){return t.length>1}function ea(t,e){return((t=t.x)[0]<0?t[1]-po-uo:po-t[1])-((e=e.x)[0]<0?e[1]-po-uo:po-e[1])}Ho.invert=Ho;var na=Ko((function(){return!0}),(function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var l=o>0?ho:-ho,s=xo(o-n);xo(s-ho)<uo?(t.point(n,i=(i+a)/2>0?po:-po),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(l,i),t.point(o,i),e=0):r!==l&&s>=ho&&(xo(n-r)<uo&&(n-=r*uo),xo(o-l)<uo&&(o-=l*uo),i=function(t,e,n,i){var r,o,a=_o(t-n);return xo(a)>uo?$o((_o(e)*(o=bo(i))*_o(n)-_o(i)*(r=bo(e))*_o(t))/(r*o*a)):(e+i)/2}(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(l,i),e=0),t.point(n=o,i=a),r=l},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}),(function(t,e,n,i){var r;if(null==t)r=n*po,i.point(-ho,r),i.point(0,r),i.point(ho,r),i.point(ho,0),i.point(ho,-r),i.point(0,-r),i.point(-ho,-r),i.point(-ho,0),i.point(-ho,r);else if(xo(t[0]-e[0])>uo){var o=t[0]<e[0]?ho:-ho;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}),[-ho,-po]);function ia(t){var e=bo(t),n=2*vo,i=e>0,r=xo(e)>uo;function o(t,n){return bo(t)*bo(n)>e}function a(t,n,i){var r=[1,0,0],o=Io(Lo(t),Lo(n)),a=zo(o,o),l=o[0],s=a-l*l;if(!s)return!i&&t;var c=e*a/s,u=-e*l/s,f=Io(r,o),d=Do(r,c);Wo(d,Do(o,u));var h=f,p=zo(d,h),g=zo(h,h),m=p*p-g*(zo(d,d)-1);if(!(m<0)){var y=So(m),v=Do(h,(-p-y)/g);if(Wo(v,d),v=Po(v),!i)return v;var x,$=t[0],w=n[0],b=t[1],_=n[1];w<$&&(x=$,$=w,w=x);var k=w-$,S=xo(k-ho)<uo;if(!S&&_<b&&(x=b,b=_,_=x),S||k<uo?S?b+_>0^v[1]<(xo(v[0]-$)<uo?b:_):b<=v[1]&&v[1]<=_:k>ho^($<=v[0]&&v[0]<=w)){var M=Do(h,(-p+y)/g);return Wo(M,d),[v,Po(M)]}}}function l(e,n){var r=i?t:ho-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return Ko(o,(function(t){var e,n,s,c,u;return{lineStart:function(){c=s=!1,u=1},point:function(f,d){var h,p=[f,d],g=o(f,d),m=i?g?0:l(f,d):g?l(f+(f<0?ho:-ho),d):0;if(!e&&(c=s=g)&&t.lineStart(),g!==s&&(!(h=a(e,p))||Yo(e,h)||Yo(p,h))&&(p[2]=1),g!==s)u=0,g?(t.lineStart(),h=a(p,e),t.point(h[0],h[1])):(h=a(e,p),t.point(h[0],h[1],2),t.lineEnd()),e=h;else if(r&&e&&i^g){var y;m&n||!(y=a(p,e,!0))||(u=0,i?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||e&&Yo(e,p)||t.point(p[0],p[1]),e=p,s=g,n=m},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return u|(c&&s)<<1}}}),(function(e,i,r,o){!function(t,e,n,i,r,o){if(n){var a=bo(e),l=_o(e),s=i*n;null==r?(r=e+i*mo,o=e-s/2):(r=Xo(a,r),o=Xo(a,o),(i>0?r<o:r>o)&&(r+=i*mo));for(var c,u=r;i>0?u>o:u<o;u-=s)c=Po([a,-l*bo(u),-l*_o(u)]),t.point(c[0],c[1])}}(o,t,n,r,e,i)}),i?[0,-t]:[-ho,t-ho])}var ra=1e9,oa=-ra;function aa(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,l,c){var u=0,f=0;if(null==r||(u=a(r,l))!==(f=a(o,l))||s(r,o)<0^l>0)do{c.point(0===u||3===u?t:n,u>1?i:e)}while((u=(u+l+4)%4)!==f);else c.point(o[0],o[1])}function a(i,r){return xo(i[0]-t)<uo?r>0?0:3:xo(i[0]-n)<uo?r>0?2:1:xo(i[1]-e)<uo?r>0?1:0:r>0?3:2}function l(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),i=a(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var s,c,u,f,d,h,p,g,m,y,v,x=a,$=Vo(),w={point:b,lineStart:function(){w.point=_,c&&c.push(u=[]);y=!0,m=!1,p=g=NaN},lineEnd:function(){s&&(_(f,d),h&&m&&$.rejoin(),s.push($.result()));w.point=b,m&&x.lineEnd()},polygonStart:function(){x=$,s=[],c=[],v=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=c.length;n<r;++n)for(var o,a,l=c[n],s=1,u=l.length,f=l[0],d=f[0],h=f[1];s<u;++s)o=d,a=h,d=(f=l[s])[0],h=f[1],a<=i?h>i&&(d-o)*(i-a)>(h-a)*(t-o)&&++e:h<=i&&(d-o)*(i-a)<(h-a)*(t-o)&&--e;return e}(),n=v&&e,r=(s=re(s)).length;(n||r)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),r&&Jo(s,l,e,o,a),a.polygonEnd());x=a,s=c=u=null}};function b(t,e){r(t,e)&&x.point(t,e)}function _(o,a){var l=r(o,a);if(c&&u.push([o,a]),y)f=o,d=a,h=l,y=!1,l&&(x.lineStart(),x.point(o,a));else if(l&&m)x.point(o,a);else{var s=[p=Math.max(oa,Math.min(ra,p)),g=Math.max(oa,Math.min(ra,g))],$=[o=Math.max(oa,Math.min(ra,o)),a=Math.max(oa,Math.min(ra,a))];!function(t,e,n,i,r,o){var a,l=t[0],s=t[1],c=0,u=1,f=e[0]-l,d=e[1]-s;if(a=n-l,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>c&&(c=a)}if(a=r-l,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<u&&(u=a)}if(a=i-s,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<u&&(u=a)}else if(d>0){if(a>u)return;a>c&&(c=a)}if(a=o-s,d||!(a<0)){if(a/=d,d<0){if(a>u)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<u&&(u=a)}return c>0&&(t[0]=l+c*f,t[1]=s+c*d),u<1&&(e[0]=l+u*f,e[1]=s+u*d),!0}}}}}(s,$,t,e,n,i)?l&&(x.lineStart(),x.point(o,a),v=!1):(m||(x.lineStart(),x.point(s[0],s[1])),x.point($[0],$[1]),l||x.lineEnd(),v=!1)}p=o,g=a,m=l}return w}}var la,sa,ca,ua,fa=t=>t,da=new Vt,ha=new Vt,pa={point:Ao,lineStart:Ao,lineEnd:Ao,polygonStart:function(){pa.lineStart=ga,pa.lineEnd=va},polygonEnd:function(){pa.lineStart=pa.lineEnd=pa.point=Ao,da.add(xo(ha)),ha=new Vt},result:function(){var t=da/2;return da=new Vt,t}};function ga(){pa.point=ma}function ma(t,e){pa.point=ya,la=ca=t,sa=ua=e}function ya(t,e){ha.add(ua*t-ca*e),ca=t,ua=e}function va(){ya(la,sa)}var xa=1/0,$a=xa,wa=-xa,ba=wa,_a={point:function(t,e){t<xa&&(xa=t);t>wa&&(wa=t);e<$a&&($a=e);e>ba&&(ba=e)},lineStart:Ao,lineEnd:Ao,polygonStart:Ao,polygonEnd:Ao,result:function(){var t=[[xa,$a],[wa,ba]];return wa=ba=-($a=xa=1/0),t}};var ka,Sa,Ma,Aa,Ea=0,Na=0,Ra=0,Ta=0,Ca=0,Oa=0,Pa=0,La=0,za=0,Ia={point:Wa,lineStart:Da,lineEnd:Ha,polygonStart:function(){Ia.lineStart=Ba,Ia.lineEnd=Fa},polygonEnd:function(){Ia.point=Wa,Ia.lineStart=Da,Ia.lineEnd=Ha},result:function(){var t=za?[Pa/za,La/za]:Oa?[Ta/Oa,Ca/Oa]:Ra?[Ea/Ra,Na/Ra]:[NaN,NaN];return Ea=Na=Ra=Ta=Ca=Oa=Pa=La=za=0,t}};function Wa(t,e){Ea+=t,Na+=e,++Ra}function Da(){Ia.point=qa}function qa(t,e){Ia.point=ja,Wa(Ma=t,Aa=e)}function ja(t,e){var n=t-Ma,i=e-Aa,r=So(n*n+i*i);Ta+=r*(Ma+t)/2,Ca+=r*(Aa+e)/2,Oa+=r,Wa(Ma=t,Aa=e)}function Ha(){Ia.point=Wa}function Ba(){Ia.point=Ga}function Fa(){Xa(ka,Sa)}function Ga(t,e){Ia.point=Xa,Wa(ka=Ma=t,Sa=Aa=e)}function Xa(t,e){var n=t-Ma,i=e-Aa,r=So(n*n+i*i);Ta+=r*(Ma+t)/2,Ca+=r*(Aa+e)/2,Oa+=r,Pa+=(r=Aa*t-Ma*e)*(Ma+t),La+=r*(Aa+e),za+=3*r,Wa(Ma=t,Aa=e)}function Va(t){this._context=t}Va.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,mo)}},result:Ao};var Ya,Ua,Ja,Za,Qa,Ka=new Vt,tl={point:Ao,lineStart:function(){tl.point=el},lineEnd:function(){Ya&&nl(Ua,Ja),tl.point=Ao},polygonStart:function(){Ya=!0},polygonEnd:function(){Ya=null},result:function(){var t=+Ka;return Ka=new Vt,t}};function el(t,e){tl.point=nl,Ua=Za=t,Ja=Qa=e}function nl(t,e){Za-=t,Qa-=e,Ka.add(So(Za*Za+Qa*Qa)),Za=t,Qa=e}let il,rl,ol,al;class ll{constructor(t){this._append=null==t?sl:function(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return sl;if(e!==il){const t=10**e;il=e,rl=function(e){let n=1;this._+=e[0];for(const i=e.length;n<i;++n)this._+=Math.round(arguments[n]*t)/t+e[n]}}return rl}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:this._append`M${t},${e}`,this._point=1;break;case 1:this._append`L${t},${e}`;break;default:if(this._append`M${t},${e}`,this._radius!==ol||this._append!==rl){const t=this._radius,e=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,ol=t,rl=this._append,al=this._,this._=e}this._+=al}}result(){const t=this._;return this._="",t.length?t:null}}function sl(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function cl(t){return function(e){var n=new ul;for(var i in t)n[i]=t[i];return n.stream=e,n}}function ul(){}function fl(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),Oo(n,t.stream(_a)),e(_a.result()),null!=i&&t.clipExtent(i),t}function dl(t,e,n){return fl(t,(function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),a=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,l=+e[0][1]+(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,l])}),n)}ul.prototype={constructor:ul,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var hl=16,pl=bo(30*vo);function gl(t,e){return+e?function(t,e){function n(i,r,o,a,l,s,c,u,f,d,h,p,g,m){var y=c-i,v=u-r,x=y*y+v*v;if(x>4*e&&g--){var $=a+d,w=l+h,b=s+p,_=So($*$+w*w+b*b),k=Mo(b/=_),S=xo(xo(b)-1)<uo||xo(o-f)<uo?(o+f)/2:wo(w,$),M=t(S,k),A=M[0],E=M[1],N=A-i,R=E-r,T=v*N-y*R;(T*T/x>e||xo((y*N+v*R)/x-.5)>.3||a*d+l*h+s*p<pl)&&(n(i,r,o,a,l,s,A,E,S,$/=_,w/=_,b,g,m),m.point(A,E),n(A,E,S,$,w,b,c,u,f,d,h,p,g,m))}}return function(e){var i,r,o,a,l,s,c,u,f,d,h,p,g={point:m,lineStart:y,lineEnd:x,polygonStart:function(){e.polygonStart(),g.lineStart=$},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function m(n,i){n=t(n,i),e.point(n[0],n[1])}function y(){u=NaN,g.point=v,e.lineStart()}function v(i,r){var o=Lo([i,r]),a=t(i,r);n(u,f,c,d,h,p,u=a[0],f=a[1],c=i,d=o[0],h=o[1],p=o[2],hl,e),e.point(u,f)}function x(){g.point=m,e.lineEnd()}function $(){y(),g.point=w,g.lineEnd=b}function w(t,e){v(i=t,e),r=u,o=f,a=d,l=h,s=p,g.point=v}function b(){n(u,f,c,d,h,p,r,o,i,a,l,s,hl,e),g.lineEnd=x,x()}return g}}(t,e):function(t){return cl({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var ml=cl({point:function(t,e){this.stream.point(t*vo,e*vo)}});function yl(t,e,n,i,r,o){if(!o)return function(t,e,n,i,r){function o(o,a){return[e+t*(o*=i),n-t*(a*=r)]}return o.invert=function(o,a){return[(o-e)/t*i,(n-a)/t*r]},o}(t,e,n,i,r);var a=bo(o),l=_o(o),s=a*t,c=l*t,u=a/t,f=l/t,d=(l*n-a*e)/t,h=(l*e+a*n)/t;function p(t,o){return[s*(t*=i)-c*(o*=r)+e,n-c*t-s*o]}return p.invert=function(t,e){return[i*(u*t-f*e+d),r*(h-f*t-u*e)]},p}function vl(t){return function(t){var e,n,i,r,o,a,l,s,c,u,f=150,d=480,h=250,p=0,g=0,m=0,y=0,v=0,x=0,$=1,w=1,b=null,_=na,k=null,S=fa,M=.5;function A(t){return s(t[0]*vo,t[1]*vo)}function E(t){return(t=s.invert(t[0],t[1]))&&[t[0]*yo,t[1]*yo]}function N(){var t=yl(f,0,0,$,w,x).apply(null,e(p,g)),i=yl(f,d-t[0],h-t[1],$,w,x);return n=function(t,e,n){return(t%=mo)?e||n?jo(Fo(t),Go(e,n)):Fo(t):e||n?Go(e,n):Ho}(m,y,v),l=jo(e,i),s=jo(n,l),a=gl(l,M),R()}function R(){return c=u=null,A}return A.stream=function(t){return c&&u===t?c:c=ml(function(t){return cl({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}(n)(_(a(S(u=t)))))},A.preclip=function(t){return arguments.length?(_=t,b=void 0,R()):_},A.postclip=function(t){return arguments.length?(S=t,k=i=r=o=null,R()):S},A.clipAngle=function(t){return arguments.length?(_=+t?ia(b=t*vo):(b=null,na),R()):b*yo},A.clipExtent=function(t){return arguments.length?(S=null==t?(k=i=r=o=null,fa):aa(k=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),R()):null==k?null:[[k,i],[r,o]]},A.scale=function(t){return arguments.length?(f=+t,N()):f},A.translate=function(t){return arguments.length?(d=+t[0],h=+t[1],N()):[d,h]},A.center=function(t){return arguments.length?(p=t[0]%360*vo,g=t[1]%360*vo,N()):[p*yo,g*yo]},A.rotate=function(t){return arguments.length?(m=t[0]%360*vo,y=t[1]%360*vo,v=t.length>2?t[2]%360*vo:0,N()):[m*yo,y*yo,v*yo]},A.angle=function(t){return arguments.length?(x=t%360*vo,N()):x*yo},A.reflectX=function(t){return arguments.length?($=t?-1:1,N()):$<0},A.reflectY=function(t){return arguments.length?(w=t?-1:1,N()):w<0},A.precision=function(t){return arguments.length?(a=gl(l,M=t*t),R()):So(M)},A.fitExtent=function(t,e){return dl(A,t,e)},A.fitSize=function(t,e){return function(t,e,n){return dl(t,[[0,0],e],n)}(A,t,e)},A.fitWidth=function(t,e){return function(t,e,n){return fl(t,(function(n){var i=+e,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,a=-r*n[0][1];t.scale(150*r).translate([o,a])}),n)}(A,t,e)},A.fitHeight=function(t,e){return function(t,e,n){return fl(t,(function(n){var i=+e,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],a=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([o,a])}),n)}(A,t,e)},function(){return e=t.apply(this,arguments),A.invert=e.invert&&E,N()}}((function(){return t}))()}function xl(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function $l(){return vl(xl).scale(175.295)}function wl(t,e){return t.parent===e.parent?1:2}function bl(t,e){return t+e.x}function _l(t,e){return Math.max(t,e.y)}function kl(){var t=wl,e=1,n=1,i=!1;function r(r){var o,a=0;r.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(bl,0)/t.length}(n),e.y=function(t){return 1+t.reduce(_l,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var l=function(t){for(var e;e=t.children;)t=e[0];return t}(r),s=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),c=l.x-t(l,s)/2,u=s.x+t(s,l)/2;return r.eachAfter(i?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-c)/(u-c)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r}function Sl(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function Ml(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=El)):void 0===e&&(e=Al);for(var n,i,r,o,a,l=new Tl(t),s=[l];n=s.pop();)if((r=e(n.data))&&(a=(r=Array.from(r)).length))for(n.children=r,o=a-1;o>=0;--o)s.push(i=r[o]=new Tl(r[o])),i.parent=n,i.depth=n.depth+1;return l.eachBefore(Rl)}function Al(t){return t.children}function El(t){return Array.isArray(t)?t[1]:null}function Nl(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Rl(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Tl(t){this.data=t,this.depth=this.height=0,this.parent=null}function Cl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}xl.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,a=o*o;i-=n=(i*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(xo(n)>uo&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]},Tl.prototype=Ml.prototype={constructor:Tl,count:function(){return this.eachAfter(Sl)},each:function(t,e){let n=-1;for(const i of this)t.call(e,i,++n,this);return this},eachAfter:function(t,e){for(var n,i,r,o=this,a=[o],l=[],s=-1;o=a.pop();)if(l.push(o),n=o.children)for(i=0,r=n.length;i<r;++i)a.push(n[i]);for(;o=l.pop();)t.call(e,o,++s,this);return this},eachBefore:function(t,e){for(var n,i,r=this,o=[r],a=-1;r=o.pop();)if(t.call(e,r,++a,this),n=r.children)for(i=n.length-1;i>=0;--i)o.push(n[i]);return this},find:function(t,e){let n=-1;for(const i of this)if(t.call(e,i,++n,this))return i},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;t=n.pop(),e=i.pop();for(;t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Ml(this).eachBefore(Nl)},[Symbol.iterator]:function*(){var t,e,n,i,r=this,o=[r];do{for(t=o.reverse(),o=[];r=t.pop();)if(yield r,e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n])}while(o.length)}};const Ol=Symbol("implicit");function Pl(){var t=new Yt,e=[],n=[],i=Ol;function r(r){let o=t.get(r);if(void 0===o){if(i!==Ol)return i;t.set(r,o=e.push(r)-1)}return n[o%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Yt;for(const i of n)t.has(i)||t.set(i,e.push(i)-1);return r},r.range=function(t){return arguments.length?(n=Array.from(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return Pl(e,n).unknown(i)},Cl.apply(r,arguments),r}function Ll(){var t,e,n=Pl().unknown(void 0),i=n.domain,r=n.range,o=0,a=1,l=!1,s=0,c=0,u=.5;function f(){var n=i().length,f=a<o,d=f?a:o,h=f?o:a;t=(h-d)/Math.max(1,n-s+2*c),l&&(t=Math.floor(t)),d+=(h-d-t*(n-s))*u,e=t*(1-s),l&&(d=Math.round(d),e=Math.round(e));var p=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}(n).map((function(e){return d+t*e}));return r(f?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),f()):i()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,l=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(l=!!t,f()):l},n.padding=function(t){return arguments.length?(s=Math.min(1,c=+t),f()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),f()):s},n.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),f()):u},n.copy=function(){return Ll(i(),[o,a]).round(l).paddingInner(s).paddingOuter(c).align(u)},Cl.apply(f(),arguments)}function zl(t){return+t}var Il=[0,1];function Wl(t){return t}function Dl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function ql(t,e,n){var i=t[0],r=t[1],o=e[0],a=e[1];return r<i?(i=Dl(r,i),o=n(a,o)):(i=Dl(i,r),o=n(o,a)),function(t){return o(i(t))}}function jl(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=Dl(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Xt(t,e,1,i)-1;return o[n](r[n](e))}}function Hl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Bl(){var t,e,n,i,r,o,a=Il,l=Il,s=vi,c=Wl;function u(){var t,e,n,s=Math.min(a.length,l.length);return c!==Wl&&(t=a[0],e=a[s-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),i=s>2?jl:ql,r=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(r||(r=i(a.map(t),l,s)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=i(l,a.map(t),hi)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,zl),u()):a.slice()},f.range=function(t){return arguments.length?(l=Array.from(t),u()):l.slice()},f.rangeRound=function(t){return l=Array.from(t),s=xi,u()},f.clamp=function(t){return arguments.length?(c=!!t||Wl,u()):c!==Wl},f.interpolate=function(t){return arguments.length?(s=t,u()):s},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,i){return t=n,e=i,u()}}function Fl(t,e,n,i){var r,o=function(t,e,n){n=+n;const i=(e=+e)<(t=+t),r=i?ie(e,t,n):ie(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}(t,e,n);switch((i=Kr(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Jr(e)/3)))-Jr(Math.abs(t)))}(o,a))||(i.precision=r),ao(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jr(e)-Jr(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Jr(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return oo(i)}function Gl(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const i=e<t,[r,o,a]=i?ne(e,t,n):ne(t,e,n);if(!(o>=r))return[];const l=o-r+1,s=new Array(l);if(i)if(a<0)for(let t=0;t<l;++t)s[t]=(o-t)/-a;else for(let t=0;t<l;++t)s[t]=(o-t)*a;else if(a<0)for(let t=0;t<l;++t)s[t]=(r+t)/-a;else for(let t=0;t<l;++t)s[t]=(r+t)*a;return s}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return Fl(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r,o=e(),a=0,l=o.length-1,s=o[a],c=o[l],u=10;for(c<s&&(r=s,s=c,c=r,r=a,a=l,l=r);u-- >0;){if((r=ie(s,c,n))===i)return o[a]=s,o[l]=c,e(o);if(r>0)s=Math.floor(s/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;s=Math.ceil(s*r)/r,c=Math.floor(c*r)/r}i=r}return t},t}function Xl(){var t=Bl()(Wl,Wl);return t.copy=function(){return Hl(t,Xl())},Cl.apply(t,arguments),Gl(t)}function Vl(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Yl(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ul(t){return t<0?-t*t:t*t}function Jl(t){var e=t(Wl,Wl),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(Wl,Wl):.5===n?t(Yl,Ul):t(Vl(n),Vl(1/n)):n},Gl(e)}function Zl(){var t=Jl(Bl());return t.copy=function(){return Hl(t,Zl()).exponent(t.exponent())},Cl.apply(t,arguments),t}function Ql(t){return function(){return t}}function Kl(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new zr(e)}var ts=Array.prototype.slice;function es(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function ns(t){this._context=t}function is(t){return new ns(t)}function rs(t){return t[0]}function os(t){return t[1]}function as(t,e){var n=Ql(!0),i=null,r=is,o=null,a=Kl(l);function l(l){var s,c,u,f=(l=es(l)).length,d=!1;for(null==i&&(o=r(u=a())),s=0;s<=f;++s)!(s<f&&n(c=l[s],s,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(c,s,l),+e(c,s,l));if(u)return o=null,u+""||null}return t="function"==typeof t?t:void 0===t?rs:Ql(t),e="function"==typeof e?e:void 0===e?os:Ql(e),l.x=function(e){return arguments.length?(t="function"==typeof e?e:Ql(+e),l):t},l.y=function(t){return arguments.length?(e="function"==typeof t?t:Ql(+t),l):e},l.defined=function(t){return arguments.length?(n="function"==typeof t?t:Ql(!!t),l):n},l.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),l):r},l.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),l):i},l}function ls(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}ns.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};class ss{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,e){if(t=+t,e=+e,0===this._point)this._point=1;else{const n=ls(this._x0,this._y0),i=ls(this._x0,this._y0=(this._y0+e)/2),r=ls(t,this._y0),o=ls(t,e);this._context.moveTo(...n),this._context.bezierCurveTo(...i,...r,...o)}this._x0=t,this._y0=e}}function cs(t){return new ss(t)}function us(t){return t.source}function fs(t){return t.target}function ds(){const t=function(t){let e=us,n=fs,i=rs,r=os,o=null,a=null,l=Kl(s);function s(){let s;const c=ts.call(arguments),u=e.apply(this,c),f=n.apply(this,c);if(null==o&&(a=t(s=l())),a.lineStart(),c[0]=u,a.point(+i.apply(this,c),+r.apply(this,c)),c[0]=f,a.point(+i.apply(this,c),+r.apply(this,c)),a.lineEnd(),s)return a=null,s+""||null}return s.source=function(t){return arguments.length?(e=t,s):e},s.target=function(t){return arguments.length?(n=t,s):n},s.x=function(t){return arguments.length?(i="function"==typeof t?t:Ql(+t),s):i},s.y=function(t){return arguments.length?(r="function"==typeof t?t:Ql(+t),s):r},s.context=function(e){return arguments.length?(null==e?o=a=null:a=t(o=e),s):o},s}(cs);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}function hs(t){return t<0?-1:1}function ps(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),a=(n-t._y1)/(r||i<0&&-0),l=(o*r+a*i)/(i+r);return(hs(o)+hs(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(l))||0}function gs(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ms(t,e,n){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,l=(o-i)/3;t._context.bezierCurveTo(i+l,r+l*e,o-l,a-l*n,o,a)}function ys(t){this._context=t}function vs(t){this._context=t}function xs(t){return new ys(t)}function $s(t,e,n){this.k=t,this.x=e,this.y=n}ys.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ms(this,this._t0,gs(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ms(this,gs(this,n=ps(this,t,e)),n);break;default:ms(this,this._t0,n=ps(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(function(t){this._context=new vs(t)}.prototype=Object.create(ys.prototype)).point=function(t,e){ys.prototype.point.call(this,e,t)},vs.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},$s.prototype={constructor:$s,scale:function(t){return 1===t?this:new $s(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new $s(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ws=new $s(1,0,0);const bs=[];function _s(e,n=t){let i;const r=new Set;function o(t){if(l(e,t)&&(e=t,i)){const t=!bs.length;for(const t of r)t[1](),bs.push(t,e);if(t){for(let t=0;t<bs.length;t+=2)bs[t][0](bs[t+1]);bs.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,l=t){const s=[a,l];return r.add(s),1===r.size&&(i=n(o)||t),a(e),()=>{r.delete(s),0===r.size&&i&&(i(),i=null)}}}}function ks(e,n,i){const r=!Array.isArray(e),l=r?[e]:e,s=n.length<2;return function(t,e){return{subscribe:_s(t,e).subscribe}}(i,(e=>{let i=!1;const c=[];let f=0,d=t;const h=()=>{if(f)return;d();const i=n(r?c[0]:c,e);s?e(i):d=a(i)?i:t},p=l.map(((t,e)=>u(t,(t=>{c[e]=t,f&=~(1<<e),i&&h()}),(()=>{f|=1<<e}))));return i=!0,h(),function(){o(p),d(),i=!1}}))}const Ss=_s([]);let Ms={name:"pax",children:[{name:"Participation",colname:"level2",key:"WggPar",children:[{name:"Gender quotas",colname:"level3",key:"WggGenQuot"},{name:"Effective participation",colname:"level3",key:"WggEffPart"},{name:"Citizenship",colname:"level3",key:"WggCitizen"},{name:"Other",colname:"level3",key:"WggParOth"}]},{name:"Equality",colname:"level2",key:"WggEq",children:[{name:"Equality (general)",colname:"level3",key:"WggEqGen"},{name:"Social equality",colname:"level3",key:"WggSocEq"},{name:"Other",colname:"level3",key:"WggEqOth"}]},{name:"Particular groups of women",colname:"level2",key:"WggGrp",children:[{name:"Indigenous/nomadic women",colname:"level3",key:"WggIndNom"},{name:"Refugee / Displaced women",colname:"level3",key:"WggRefDisp"},{name:"Pregnancy/Maternity",colname:"level3",key:"WggPreg"},{name:"Other",colname:"level3",key:"WggGrpOth"}]},{name:"International law",colname:"level2",key:"WggIntLaw",children:[{name:"General mentions of international human rights law",colname:"level3",key:"WggHR"},{name:"International human rights standards",colname:"level3",key:"WggHrSta"},{name:"References to UNSCR 1325",colname:"level3",key:"WggUnsc"},{name:"Other",colname:"level3",key:"WggIntLawOth"}]},{name:"New Institutions",colname:"level2",key:"WggNewInst",children:[{name:"Institutions for women",colname:"level3",key:"WggInstWom"},{name:"Infrastructure (general)",colname:"level3",key:"WggInf"},{name:"Reconciliation and Peace",colname:"level3",key:"WggRecon"},{name:"Other",colname:"level3",key:"WggNewInstOth"}]},{name:"Violence Against women",colname:"level2",key:"WggVio",children:[{name:"Sexual violence",colname:"level3",key:"WggVioSex"},{name:"Gender-based violence / VAW (general)",colname:"level3",key:"WggVioGen"},{name:"Protection (general)",colname:"level3",key:"WggVioProt"},{name:"Other",colname:"level3",key:"WggVioOth"}]},{name:"Transitional Justice",colname:"level2",key:"WggTraJus",children:[{name:"Past and gender",colname:"level3",key:"WggPast"},{name:"Prisons, prisoner release",colname:"level3",key:"WggPri"},{name:"Other",colname:"level3",key:"WggTraJusOth"}]},{name:"Institutional Reform",colname:"level2",key:"WggInstRef",children:[{name:"Constitution-making/reform",colname:"level3",key:"WggConst"},{name:"Emergency/criminal law/corruption reform",colname:"level3",key:"WggLawRef"},{name:"Judiciary, judicial reform",colname:"level3",key:"WggJud"},{name:"Police",colname:"level3",key:"WggPol"},{name:"DDR, Army, Parastatal or rebel forces",colname:"level3",key:"WggDdr"},{name:"Public administration",colname:"level3",key:"WggPubAdm"},{name:"Other",colname:"level3",key:"WggInstRefOth"}]},{name:"Development",colname:"level2",key:"WggDev",children:[{name:"General",colname:"level3",key:"WggDevGen"},{name:"Rehabilitation and reconstruction",colname:"level3",key:"WggRehab"},{name:"Education",colname:"level3",key:"WggEdu"},{name:"Health (general)",colname:"level3",key:"WggHea"},{name:"Reproductive rights",colname:"level3",key:"WggRepro"},{name:"Other",colname:"level3",key:"WggDevOth"}]},{name:"Implementation",colname:"level2",key:"WggImpl",children:[{name:"Womens role and consideration in implementation of the agreement",colname:"level3",key:"WggImplRole"},{name:"Signing or Witnessing agreement",colname:"level3",key:"WggImplSign"},{name:"Other",colname:"level3",key:"WggImplOth"}]},{name:"Other",colname:"level2",key:"WggOth",children:[{name:"Other",colname:"level3",key:"WggOth"}]}]};async function As(t){const e=t.map((t=>async function(t){return await Vr(t)}(t)));return await Promise.all(e)}async function Es(t){const e=function(t,e){return fetch(t,e).then(Yr)}(t);return e}Ss.subscribe((t=>{}));as().x((t=>t[0])).y((t=>t[1])).curve(xs);let Ns=["1990","1991","1992","1993","1994","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023","2024"];function Rs(t){const e={};t.forEach((t=>{e[t.Loc1ISO]?e[t.Loc1ISO]++:e[t.Loc1ISO]=1}));const n=Object.entries(e).map((([t,e])=>({iso:t,count:e})));return n.filter((t=>""!=t.iso))}let Ts=3;function Cs(t,e,n,i){let r=Math.ceil(Math.sqrt(i*(n/e))),o=Math.ceil(i/r),a=(n-(r-1)*Ts)/r,l=(e-(o-1)*Ts)/o;return t.map(((t,n)=>({x:n%r*(a+Ts)+2*Math.random()-1,y:e-(Math.floor(n/r)+1)*(l+Ts)+2*Math.random()-1,width:a,height:l,id:t.AgtId,info:t.Agt})))}function Os(t,e,n){let i=t,r=(n-60)/7,o=(r-18)/10,a=Math.max(...i.map((([t,e])=>e.length))),l=Math.ceil(a/10),s=(e-2*(l-1))/l,c=i.flatMap((([t,n],i)=>n.map(((t,n)=>{let a=i*(r+10),l=Math.floor(n/10),c=e-(l+1)*(s+2);return{x:a+n%10*(o+2)+2*Math.random()-1,y:c+2*Math.random()-1,width:o,height:s,info:t.Agt,id:t.AgtId}}))));return c}function Ps(t){let e,n,i,r;const o=t[3].default,a=d(o,t,t[2],null);return{c(){e=C("header"),n=C("div"),i=C("div"),a&&a.c(),J(i,"center",t[0]),q(n,"class","v-padded col-wide middle svelte-11k4qos"),X(n,"position","relative"),J(n,"short",t[1]),J(n,"height-full",!t[1]),X(e,"color","black"),X(e,"background-color","white"),q(e,"class","svelte-11k4qos"),J(e,"short",t[1])},m(t,o){N(t,e,o),M(e,n),M(n,i),a&&a.m(i,null),r=!0},p(t,[l]){a&&a.p&&(!r||4&l)&&g(a,o,t,t[2],r?p(o,t[2],l,null):m(t[2]),null),(!r||1&l)&&J(i,"center",t[0]),(!r||2&l)&&J(n,"short",t[1]),(!r||2&l)&&J(n,"height-full",!t[1]),(!r||2&l)&&J(e,"short",t[1])},i(t){r||(Ct(a,t),r=!0)},o(t){Ot(a,t),r=!1},d(t){t&&R(e),a&&a.d(t)}}}function Ls(t,e,n){let{$$slots:i={},$$scope:r}=e,{center:o=!0}=e,{short:a=!1}=e;return t.$$set=t=>{"center"in t&&n(0,o=t.center),"short"in t&&n(1,a=t.short),"$$scope"in t&&n(2,r=t.$$scope)},[o,a,r,i]}class zs extends jt{constructor(t){super(),qt(this,t,Ls,Ps,l,{center:0,short:1})}}const{window:Is}=S,Ws=t=>({}),Ds=t=>({}),qs=t=>({}),js=t=>({});function Hs(t){let e,n,i,r,o,a,l,s;$t(t[21]);const c=t[20].background,u=d(c,t,t[19],js),f=t[20].foreground,h=d(f,t,t[19],Ds);return{c(){e=C("svelte-scroller-outer"),n=C("svelte-scroller-background-container"),i=C("svelte-scroller-background"),u&&u.c(),r=L(),o=C("svelte-scroller-foreground"),h&&h.c(),B(i,"class","svelte-15scopa"),B(n,"class","background-container svelte-15scopa"),B(o,"class","svelte-15scopa"),B(e,"style",t[6]),B(e,"class","svelte-15scopa"),J(e,"splitscreen",t[0])},m(c,f){N(c,e,f),M(e,n),M(n,i),u&&u.m(i,null),t[22](i),t[23](n),M(e,r),M(e,o),h&&h.m(o,null),t[24](o),t[25](e),a=!0,l||(s=I(Is,"resize",t[21]),l=!0)},p(t,n){u&&u.p&&(!a||524288&n[0])&&g(u,c,t,t[19],a?p(c,t[19],n,qs):m(t[19]),js),h&&h.p&&(!a||524288&n[0])&&g(h,f,t,t[19],a?p(f,t[19],n,Ws):m(t[19]),Ds),(!a||64&n[0])&&B(e,"style",t[6]),(!a||1&n[0])&&J(e,"splitscreen",t[0])},i(t){a||(Ct(u,t),Ct(h,t),a=!0)},o(t){Ot(u,t),Ot(h,t),a=!1},d(n){n&&R(e),u&&u.d(n),t[22](null),t[23](null),h&&h.d(n),t[24](null),t[25](null),l=!1,s()}}}const Bs=[];let Fs;if("undefined"!=typeof window){const t=()=>Bs.forEach((t=>t()));window.addEventListener("scroll",t),window.addEventListener("resize",t)}if("undefined"!=typeof IntersectionObserver){const t=new Map,e=new IntersectionObserver(((e,n)=>{e.forEach((e=>{const n=t.get(e.target),i=Bs.indexOf(n);e.isIntersecting?-1===i&&Bs.push(n):(n(),-1!==i&&Bs.splice(i,1))}))}),{rootMargin:"400px 0px"});Fs={add:({outer:n,update:i})=>{const{top:r,bottom:o}=n.getBoundingClientRect();r<window.innerHeight&&o>0&&Bs.push(i),t.set(n,i),e.observe(n)},remove:({outer:n,update:i})=>{const r=Bs.indexOf(i);-1!==r&&Bs.splice(r,1),t.delete(n),e.unobserve(n)}}}else Fs={add:({update:t})=>{Bs.push(t)},remove:({update:t})=>{const e=Bs.indexOf(t);-1!==e&&Bs.splice(e,1)}};function Gs(t,e,n){let i,r,o,a,l,s,c,u,f,d,h,{$$slots:p={},$$scope:g}=e,{top:m=0}=e,{bottom:y=1}=e,{threshold:v=.5}=e,{query:x="section"}=e,{parallax:$=!1}=e,{shadow:w}=e,{index:b=0}=e,{count:_=0}=e,{offset:k=0}=e,{progress:S=0}=e,{visible:M=!1}=e,{splitscreen:A=!1}=e,{id:E=null}=e,N=0,R=1;function T(){if(l){let t=`position: ${d?"fixed":"absolute"}; top: 0; transform: translate(0, ${h}px); width: ${R}px; z-index: 1;`;n(3,l.style.cssText=t,l)}}function C(){if(!s)return;const t=a.getBoundingClientRect();u=t.left,R=t.right-t.left;const e=s.getBoundingClientRect(),l=c.getBoundingClientRect();n(11,M=e.top<N&&e.bottom>0);const p=e.bottom-e.top,g=l.bottom-l.top,m=r-i;for(n(10,S=(i-e.top)/(p-m)),S<=0?(h=0,d&&(d=!1,T())):S>=1?(h=$?p-g:p-m,d&&(d=!1,T())):(h=$?Math.round(i-S*(g-m)):i,d||(d=!0,T())),n(7,b=0);b<f.length;n(7,b+=1)){const t=f[b],{top:i}=t.getBoundingClientRect(),r=f[b+1],a=r?r.getBoundingClientRect().top:e.bottom;if(n(9,k=(o-i)/(a-i)),n(12,E=t.dataset.id?t.dataset.id:null),a>=o)break}}ot((()=>{f=s.querySelectorAll(x),n(8,_=f.length),C();const t={outer:a,update:C};return Fs.add(t),()=>Fs.remove(t)}));let O="";return w&&(O="box-shadow: inset 0 -10px 10px -8px rgba(0, 0, 0, 1); background-color: gray"),t.$$set=t=>{"top"in t&&n(13,m=t.top),"bottom"in t&&n(14,y=t.bottom),"threshold"in t&&n(15,v=t.threshold),"query"in t&&n(16,x=t.query),"parallax"in t&&n(17,$=t.parallax),"shadow"in t&&n(18,w=t.shadow),"index"in t&&n(7,b=t.index),"count"in t&&n(8,_=t.count),"offset"in t&&n(9,k=t.offset),"progress"in t&&n(10,S=t.progress),"visible"in t&&n(11,M=t.visible),"splitscreen"in t&&n(0,A=t.splitscreen),"id"in t&&n(12,E=t.id),"$$scope"in t&&n(19,g=t.$$scope)},t.$$.update=()=>{8194&t.$$.dirty[0]&&(i=Math.round(m*N)),16386&t.$$.dirty[0]&&(r=Math.round(y*N)),32770&t.$$.dirty[0]&&(o=Math.round(v*N)),188416&t.$$.dirty[0]&&C()},[A,N,a,l,s,c,O,b,_,k,S,M,E,m,y,v,x,$,w,g,p,function(){n(1,N=Is.innerHeight)},function(t){ht[t?"unshift":"push"]((()=>{c=t,n(5,c)}))},function(t){ht[t?"unshift":"push"]((()=>{l=t,n(3,l)}))},function(t){ht[t?"unshift":"push"]((()=>{s=t,n(4,s)}))},function(t){ht[t?"unshift":"push"]((()=>{a=t,n(2,a)}))}]}class Xs extends jt{constructor(t){super(),qt(this,t,Gs,Hs,l,{top:13,bottom:14,threshold:15,query:16,parallax:17,shadow:18,index:7,count:8,offset:9,progress:10,visible:11,splitscreen:0,id:12},null,[-1,-1])}}function Vs(t){const e=t-1;return e*e*e+1}function Ys(t){return"[object Date]"===Object.prototype.toString.call(t)}function Us(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>Us(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(Ys(t)&&Ys(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),i={};return n.forEach((n=>{i[n]=Us(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=i[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function Js(t,i={}){const r=_s(t);let o,a=t;function l(l,s){if(null==t)return r.set(t=l),Promise.resolve();a=l;let c=o,u=!1,{delay:f=0,duration:d=400,easing:h=e,interpolate:p=Us}=n(n({},i),s);if(0===d)return c&&(c.abort(),c=null),r.set(t=a),Promise.resolve();const g=$()+f;let m;return o=k((e=>{if(e<g)return!0;u||(m=p(t,l),"function"==typeof d&&(d=d(t,l)),u=!0),c&&(c.abort(),c=null);const n=e-g;return n>d?(r.set(t=l),!1):(r.set(t=m(h(n/d))),!0)})),o.promise}return{set:l,update:(e,n)=>l(e(a,t),n),subscribe:r.subscribe}}function Zs(t,{delay:n=0,duration:i=400,easing:r=e}={}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:i,easing:r,css:t=>"opacity: "+t*o}}function Qs(t){let e,n,i;const r=t[7].default,o=d(r,t,t[6],null);return{c(){e=C("canvas"),n=L(),o&&o.c(),q(e,"class","svelte-udpf1c")},m(r,a){N(r,e,a),t[8](e),N(r,n,a),o&&o.m(r,a),i=!0},p(t,[e]){o&&o.p&&(!i||64&e)&&g(o,r,t,t[6],i?p(r,t[6],e,null):m(t[6]),null)},i(t){i||(Ct(o,t),i=!0)},o(t){Ot(o,t),i=!1},d(i){i&&R(e),t[8](null),i&&R(n),o&&o.d(i)}}}function Ks(t,e,n){let{$$slots:i={},$$scope:r}=e,{width:o}=e,{height:a}=e,{contextName:l="canvas"}=e;const s=[];let c,u,f,d=!1;function h(){u&&(u.clearRect(0,0,o,a),s.forEach((t=>{u.save(),t(u),u.restore()})),n(5,d=!1))}return ot((()=>{n(4,u=c.getContext("2d"))})),lt((()=>{f&&cancelAnimationFrame(f)})),t.$$set=t=>{"width"in t&&n(1,o=t.width),"height"in t&&n(2,a=t.height),"contextName"in t&&n(3,l=t.contextName),"$$scope"in t&&n(6,r=t.$$scope)},t.$$.update=()=>{40&t.$$.dirty&&ct(l,{register(t){s.push(t)},deregister(t){s.splice(s.indexOf(t),1)},invalidate(){d||(n(5,d=!0),f=requestAnimationFrame(h))}}),23&t.$$.dirty&&c&&u&&function(t,e,n,i){const r=window.devicePixelRatio||1;t.width=n*r,t.height=i*r,t.style.width=n+"px",t.style.height=i+"px",e.scale(r,r)}(c,u,o,a)},[c,o,a,l,u,d,r,i,function(t){ht[t?"unshift":"push"]((()=>{c=t,n(0,c)}))}]}class tc extends jt{constructor(t){super(),qt(this,t,Ks,Qs,l,{width:1,height:2,contextName:3})}}function ec(t,e,n){let i,r,{x:o}=e,{i:a}=e,{y:l}=e,{width:s}=e,{height:c}=e,{contextName:u="canvas"}=e,{margin:d}=e;const{register:h,deregister:p,invalidate:g}=ut(u),m={delay:a/4*Math.random(),duration:300,easing:Vs},y=Js(null,m);f(t,y,(t=>n(10,r=t)));const v=Js(null,m);function x(t){t.fillStyle="#333333",t.fillRect(r+d.left,i+d.top,s,c)}return f(t,v,(t=>n(9,i=t))),ot((()=>{h(x),g()})),lt((()=>{p(x)})),at(g),t.$$set=t=>{"x"in t&&n(2,o=t.x),"i"in t&&n(3,a=t.i),"y"in t&&n(4,l=t.y),"width"in t&&n(5,s=t.width),"height"in t&&n(6,c=t.height),"contextName"in t&&n(7,u=t.contextName),"margin"in t&&n(8,d=t.margin)},t.$$.update=()=>{4&t.$$.dirty&&y.set(o),16&t.$$.dirty&&v.set(l)},[y,v,o,a,l,s,c,u,d]}class nc extends jt{constructor(t){super(),qt(this,t,ec,null,l,{x:2,i:3,y:4,width:5,height:6,contextName:7,margin:8})}}function ic(t,e,n){let{x:i}=e,{y:r}=e,{width:o}=e,{height:a}=e,{contextName:l="canvas"}=e,{margin:s}=e;const{register:c,deregister:u,invalidate:f}=ut(l);function d(t){t.strokeStyle="#bfbfbf",t.strokeRect(i+s.left,r+s.top,o,a)}return ot((()=>{c(d),f()})),lt((()=>{u(d)})),at(f),t.$$set=t=>{"x"in t&&n(0,i=t.x),"y"in t&&n(1,r=t.y),"width"in t&&n(2,o=t.width),"height"in t&&n(3,a=t.height),"contextName"in t&&n(4,l=t.contextName),"margin"in t&&n(5,s=t.margin)},[i,r,o,a,l,s]}class rc extends jt{constructor(t){super(),qt(this,t,ic,null,l,{x:0,y:1,width:2,height:3,contextName:4,margin:5})}}function oc(t,e,n){const i=t.slice();return i[24]=e[n],i[26]=n,i}function ac(t,e,n){const i=t.slice();return i[24]=e[n],i[26]=n,i}function lc(t,e,n){const i=t.slice();return i[24]=e[n],i[26]=n,i}function sc(t){let e,n,i,r,o,a,l,s,c,u,f,d,h,p,g,m=t[10],y=[];for(let e=0;e<m.length;e+=1)y[e]=cc(lc(t,m,e));let v=t[3]&&uc(t);s=new tc({props:{width:t[0],height:t[1],$$slots:{default:[hc]},$$scope:{ctx:t}}}),f=new tc({props:{width:t[0],height:t[1],$$slots:{default:[gc]},$$scope:{ctx:t}}});let x=t[3]&&mc(t);return{c(){e=C("div"),n=O("svg"),i=O("g");for(let t=0;t<y.length;t+=1)y[t].c();r=z(),v&&v.c(),a=L(),l=C("div"),c=C("div"),It(s.$$.fragment),u=L(),It(f.$$.fragment),d=L(),h=C("div"),x&&x.c(),q(i,"class","timeline"),q(i,"transform",o="translate("+t[11].left+", "+t[11].top+")"),q(n,"width",t[0]),q(n,"height",t[1]),X(c,"display","contents"),X(c,"--position","absolute"),X(l,"position","absolute"),X(l,"top","0"),X(l,"left","0"),q(h,"id","example_stage"),q(h,"class","svelte-1fibmv7"),q(e,"class","wrapper svelte-1fibmv7"),$t((()=>t[19].call(e)))},m(o,m){N(o,e,m),M(e,n),M(n,i);for(let t=0;t<y.length;t+=1)y[t]&&y[t].m(i,null);M(i,r),v&&v.m(i,null),M(e,a),M(e,l),M(l,c),Wt(s,c,null),M(l,u),Wt(f,l,null),M(e,d),M(e,h),x&&x.m(h,null),p=U(e,t[19].bind(e)),g=!0},p(t,e){if(1540&e){let n;for(m=t[10],n=0;n<m.length;n+=1){const o=lc(t,m,n);y[n]?y[n].p(o,e):(y[n]=cc(o),y[n].c(),y[n].m(i,r))}for(;n<y.length;n+=1)y[n].d(1);y.length=m.length}t[3]?v?(v.p(t,e),8&e&&Ct(v,1)):(v=uc(t),v.c(),Ct(v,1),v.m(i,null)):v&&(Rt(),Ot(v,1,1,(()=>{v=null})),Tt()),(!g||1&e)&&q(n,"width",t[0]),(!g||2&e)&&q(n,"height",t[1]);const o={};1&e&&(o.width=t[0]),2&e&&(o.height=t[1]),536871040&e&&(o.$$scope={dirty:e,ctx:t}),s.$set(o);const a={};1&e&&(a.width=t[0]),2&e&&(a.height=t[1]),536870976&e&&(a.$$scope={dirty:e,ctx:t}),f.$set(a),t[3]?x?(x.p(t,e),8&e&&Ct(x,1)):(x=mc(t),x.c(),Ct(x,1),x.m(h,null)):x&&(Rt(),Ot(x,1,1,(()=>{x=null})),Tt())},i(t){g||(Ct(v),Ct(s.$$.fragment,t),Ct(f.$$.fragment,t),Ct(x),g=!0)},o(t){Ot(v),Ot(s.$$.fragment,t),Ot(f.$$.fragment,t),Ot(x),g=!1},d(t){t&&R(e),T(y,t),v&&v.d(),Dt(s),Dt(f),x&&x.d(),p()}}}function cc(t){let e,n,i,r,o=t[24]+"";return{c(){e=O("text"),n=P(o),q(e,"x",i=t[9]*t[26]+t[9]/2),q(e,"y",r=t[2]+14),q(e,"text-anchor","middle"),q(e,"font-family","Montserrat"),q(e,"fill","black"),q(e,"font-size","14px")},m(t,i){N(t,e,i),M(e,n)},p(t,n){512&n&&i!==(i=t[9]*t[26]+t[9]/2)&&q(e,"x",i),4&n&&r!==(r=t[2]+14)&&q(e,"y",r)},d(t){t&&R(e)}}}function uc(t){let e,n,i=t[8]&&fc(t);return{c(){i&&i.c(),e=z()},m(t,r){i&&i.m(t,r),N(t,e,r),n=!0},p(t,n){t[8]?i?(i.p(t,n),256&n&&Ct(i,1)):(i=fc(t),i.c(),Ct(i,1),i.m(e.parentNode,e)):i&&(Rt(),Ot(i,1,1,(()=>{i=null})),Tt())},i(t){n||(Ct(i),n=!0)},o(t){Ot(i),n=!1},d(t){i&&i.d(t),t&&R(e)}}}function fc(t){let e,n,i,r;return{c(){e=O("path"),q(e,"d",n=`M ${2*t[9]},${t[2]-30} \n                       C ${2*t[9]},${t[2]-100} \n                         ${t[5]},${t[8]+100} \n                         ${t[5]},${t[8]}`),q(e,"fill","none"),q(e,"stroke","black"),q(e,"stroke-width","1")},m(t,n){N(t,e,n),r=!0},p(t,i){(!r||804&i&&n!==(n=`M ${2*t[9]},${t[2]-30} \n                       C ${2*t[9]},${t[2]-100} \n                         ${t[5]},${t[8]+100} \n                         ${t[5]},${t[8]}`))&&q(e,"d",n)},i(t){r||($t((()=>{r&&(i||(i=Lt(e,Zs,{duration:400},!0)),i.run(1))})),r=!0)},o(t){i||(i=Lt(e,Zs,{duration:400},!1)),i.run(0),r=!1},d(t){t&&R(e),t&&i&&i.end()}}}function dc(t){let e,n;return e=new rc({props:{x:t[24].x,y:t[24].y,width:t[24].width,height:t[24].height,margin:t[11]}}),{c(){It(e.$$.fragment)},m(t,i){Wt(e,t,i),n=!0},p(t,n){const i={};128&n&&(i.x=t[24].x),128&n&&(i.y=t[24].y),128&n&&(i.width=t[24].width),128&n&&(i.height=t[24].height),e.$set(i)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Ot(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function hc(t){let e,n,i=t[7],r=[];for(let e=0;e<i.length;e+=1)r[e]=dc(ac(t,i,e));const o=t=>Ot(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=z()},m(t,i){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,i);N(t,e,i),n=!0},p(t,n){if(2176&n){let a;for(i=t[7],a=0;a<i.length;a+=1){const o=ac(t,i,a);r[a]?(r[a].p(o,n),Ct(r[a],1)):(r[a]=dc(o),r[a].c(),Ct(r[a],1),r[a].m(e.parentNode,e))}for(Rt(),a=i.length;a<r.length;a+=1)o(a);Tt()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)Ct(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)Ot(r[t]);n=!1},d(t){T(r,t),t&&R(e)}}}function pc(t){let e,n;return e=new nc({props:{i:t[26],x:t[24].x,y:t[24].y,width:t[24].width,height:t[24].height,margin:t[11]}}),{c(){It(e.$$.fragment)},m(t,i){Wt(e,t,i),n=!0},p(t,n){const i={};64&n&&(i.x=t[24].x),64&n&&(i.y=t[24].y),64&n&&(i.width=t[24].width),64&n&&(i.height=t[24].height),e.$set(i)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Ot(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function gc(t){let e,n,i=t[6],r=[];for(let e=0;e<i.length;e+=1)r[e]=pc(oc(t,i,e));const o=t=>Ot(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=z()},m(t,i){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,i);N(t,e,i),n=!0},p(t,n){if(2112&n){let a;for(i=t[6],a=0;a<i.length;a+=1){const o=oc(t,i,a);r[a]?(r[a].p(o,n),Ct(r[a],1)):(r[a]=pc(o),r[a].c(),Ct(r[a],1),r[a].m(e.parentNode,e))}for(Rt(),a=i.length;a<r.length;a+=1)o(a);Tt()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)Ct(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)Ot(r[t]);n=!1},d(t){T(r,t),t&&R(e)}}}function mc(t){let e,n,i,r,o,a;return{c(){e=C("img"),q(e,"class","img svelte-1fibmv7"),c(e.src,n=t[3])||q(e,"src",n),q(e,"alt","agt")},m(n,i){N(n,e,i),t[18](e),r=!0,o||(a=I(e,"load",t[12]),o=!0)},p(t,i){(!r||8&i&&!c(e.src,n=t[3]))&&q(e,"src",n)},i(t){r||($t((()=>{r&&(i||(i=Lt(e,Zs,{duration:400},!0)),i.run(1))})),r=!0)},o(t){i||(i=Lt(e,Zs,{duration:400},!1)),i.run(0),r=!1},d(n){n&&R(e),t[18](null),n&&i&&i.end(),o=!1,a()}}}function yc(t){let e,n,i=t[6]&&sc(t);return{c(){i&&i.c(),e=z()},m(t,r){i&&i.m(t,r),N(t,e,r),n=!0},p(t,[n]){t[6]?i?(i.p(t,n),64&n&&Ct(i,1)):(i=sc(t),i.c(),Ct(i,1),i.m(e.parentNode,e)):i&&(Rt(),Ot(i,1,1,(()=>{i=null})),Tt())},i(t){n||(Ct(i),n=!0)},o(t){Ot(i),n=!1},d(t){i&&i.d(t),t&&R(e)}}}function vc(t,e,n){let i,r,o,a,l,s,c,u,f,d,h,p,{pax:g}=e,{pax_stages:m}=e,{step:y}=e,v=400,x=null,$=400,w={top:20,right:80,bottom:20,left:100};return t.$$set=t=>{"pax"in t&&n(13,g=t.pax),"pax_stages"in t&&n(14,m=t.pax_stages),"step"in t&&n(15,y=t.step)},t.$$.update=()=>{1&t.$$.dirty&&n(17,u=v-w.left-w.right),2&t.$$.dirty&&n(2,f=$-w.top-w.bottom),131072&t.$$.dirty&&n(9,i=u/7),131072&t.$$.dirty&&(d=Ll().domain(Ns).range([0,u]).padding(.1)),4&t.$$.dirty&&(h=Xl().domain([0,100]).range([f,0])),155652&t.$$.dirty&&g&&m&&(c=g.length,n(6,l=Os(m,f,u)),n(7,s=Os(m,f,u))),180228&t.$$.dirty&&("stage01"==y?n(6,l=Os(m,f,u)):"stage02"==y?(n(6,l=function(t,e,n,i){let r=t,o=(n-60)/7,a=(o-18)/10,l=Math.max(...r.map((([t,e])=>e.length))),s=Math.ceil(l/10),c=(e-2*(s-1))/s,u=r.flatMap((([t,n],r)=>{let l=0,s=0;return n.map((t=>{if("0"===t[i])return{x:r*(o+10)+s*(a+2),y:e+100,width:a,height:0,info:t.Agt,id:t.AgtId};let n=r*(o+10)+s*(a+2),u=e-(l+1)*(c+2);return s++,s>=10&&(s=0,l++),{x:n+2*Math.random()-1,y:u+2*Math.random()-1,width:a,height:c,info:t.Agt,id:t.AgtId}}))}));return u}(m,f,u,"GeWom")),n(3,x=null)):"stage03"==y&&n(3,x="./img/africa.png")),65540&t.$$.dirty&&f&&n(8,p=f-(f-a))},[v,$,f,x,r,o,l,s,p,i,["Pre-Negotiation","Ceasefire","Partial","Comprehensive","Implementation","Renewal","Other"],w,function(){if(r){const t=r.getBoundingClientRect();n(16,a=t.height),n(5,o=t.x)}},g,m,y,a,u,function(t){ht[t?"unshift":"push"]((()=>{r=t,n(4,r)}))},function(){v=this.clientWidth,$=this.clientHeight,n(0,v),n(1,$)}]}class xc extends jt{constructor(t){super(),qt(this,t,vc,yc,l,{pax:13,pax_stages:14,step:15})}}function $c(t,e,n){const i=t.slice();return i[16]=e[n],i[18]=n,i}function wc(t,e,n){const i=t.slice();return i[16]=e[n],i[18]=n,i}function bc(t){let e,n,i,r,o,a,l,s;n=new tc({props:{width:t[0],height:t[1],$$slots:{default:[kc]},$$scope:{ctx:t}}}),o=new tc({props:{width:t[0],height:t[1],$$slots:{default:[Mc]},$$scope:{ctx:t}}});let c=t[2].visible&&Ac(t);return{c(){e=C("div"),i=C("div"),It(n.$$.fragment),r=L(),It(o.$$.fragment),a=L(),c&&c.c(),X(i,"display","contents"),X(i,"--position","absolute"),q(e,"class","wrapper svelte-1n4lum0"),$t((()=>t[11].call(e)))},m(u,f){N(u,e,f),M(e,i),Wt(n,i,null),M(e,r),Wt(o,e,null),M(e,a),c&&c.m(e,null),l=U(e,t[11].bind(e)),s=!0},p(t,i){const r={};1&i&&(r.width=t[0]),2&i&&(r.height=t[1]),1048592&i&&(r.$$scope={dirty:i,ctx:t}),n.$set(r);const a={};1&i&&(a.width=t[0]),2&i&&(a.height=t[1]),1048584&i&&(a.$$scope={dirty:i,ctx:t}),o.$set(a),t[2].visible?c?c.p(t,i):(c=Ac(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(t){s||(Ct(n.$$.fragment,t),Ct(o.$$.fragment,t),s=!0)},o(t){Ot(n.$$.fragment,t),Ot(o.$$.fragment,t),s=!1},d(t){t&&R(e),Dt(n),Dt(o),c&&c.d(),l()}}}function _c(t){let e,n;return e=new rc({props:{x:t[16].x,y:t[16].y,width:t[16].width,height:t[16].height,margin:t[5]}}),{c(){It(e.$$.fragment)},m(t,i){Wt(e,t,i),n=!0},p(t,n){const i={};16&n&&(i.x=t[16].x),16&n&&(i.y=t[16].y),16&n&&(i.width=t[16].width),16&n&&(i.height=t[16].height),e.$set(i)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Ot(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function kc(t){let e,n,i=t[4],r=[];for(let e=0;e<i.length;e+=1)r[e]=_c(wc(t,i,e));const o=t=>Ot(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=z()},m(t,i){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,i);N(t,e,i),n=!0},p(t,n){if(48&n){let a;for(i=t[4],a=0;a<i.length;a+=1){const o=wc(t,i,a);r[a]?(r[a].p(o,n),Ct(r[a],1)):(r[a]=_c(o),r[a].c(),Ct(r[a],1),r[a].m(e.parentNode,e))}for(Rt(),a=i.length;a<r.length;a+=1)o(a);Tt()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)Ct(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)Ot(r[t]);n=!1},d(t){T(r,t),t&&R(e)}}}function Sc(t){let e,n;return e=new nc({props:{i:t[18],x:t[16].x,y:t[16].y,width:t[16].width,height:t[16].height,margin:t[5]}}),{c(){It(e.$$.fragment)},m(t,i){Wt(e,t,i),n=!0},p(t,n){const i={};8&n&&(i.x=t[16].x),8&n&&(i.y=t[16].y),8&n&&(i.width=t[16].width),8&n&&(i.height=t[16].height),e.$set(i)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Ot(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Mc(t){let e,n,i=t[3],r=[];for(let e=0;e<i.length;e+=1)r[e]=Sc($c(t,i,e));const o=t=>Ot(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=z()},m(t,i){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,i);N(t,e,i),n=!0},p(t,n){if(40&n){let a;for(i=t[3],a=0;a<i.length;a+=1){const o=$c(t,i,a);r[a]?(r[a].p(o,n),Ct(r[a],1)):(r[a]=Sc(o),r[a].c(),Ct(r[a],1),r[a].m(e.parentNode,e))}for(Rt(),a=i.length;a<r.length;a+=1)o(a);Tt()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)Ct(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)Ot(r[t]);n=!1},d(t){T(r,t),t&&R(e)}}}function Ac(t){let e,n,i,r=t[2].info+"";return{c(){e=C("div"),n=C("p"),i=P(r),q(n,"class","svelte-1n4lum0"),q(e,"class","tooltip svelte-1n4lum0"),X(e,"position","absolute"),X(e,"left",t[2].x+"px"),X(e,"top",t[2].y+"px")},m(t,r){N(t,e,r),M(e,n),M(n,i)},p(t,n){4&n&&r!==(r=t[2].info+"")&&F(i,r),4&n&&X(e,"left",t[2].x+"px"),4&n&&X(e,"top",t[2].y+"px")},d(t){t&&R(e)}}}function Ec(t){let e,n,i=t[3]&&bc(t);return{c(){i&&i.c(),e=z()},m(t,r){i&&i.m(t,r),N(t,e,r),n=!0},p(t,[n]){t[3]?i?(i.p(t,n),8&n&&Ct(i,1)):(i=bc(t),i.c(),Ct(i,1),i.m(e.parentNode,e)):i&&(Rt(),Ot(i,1,1,(()=>{i=null})),Tt())},i(t){n||(Ct(i),n=!0)},o(t){Ot(i),n=!1},d(t){i&&i.d(t),t&&R(e)}}}function Nc(t,e,n){let i,r,o,a,l,s,c,{pax:u}=e,{step:f}=e,d=400,h=400;const p={top:20,right:80,bottom:20,left:100};return t.$$set=t=>{"pax"in t&&n(6,u=t.pax),"step"in t&&n(7,f=t.step)},t.$$.update=()=>{1&t.$$.dirty&&n(9,a=d-p.left-p.right),2&t.$$.dirty&&n(10,l=h-p.top-p.bottom),512&t.$$.dirty&&(s=Ll().domain(Ns).range([0,a]).padding(.1)),1024&t.$$.dirty&&(c=Xl().domain([0,100]).range([l,0])),1856&t.$$.dirty&&u&&(n(8,o=u.length),n(3,i=Cs(u,l,a,o)),n(4,r=Cs(u,l,a,o))),1984&t.$$.dirty&&("rect01"==f?n(3,i=Cs(u,l,a,o)):"rect02"==f&&n(3,i=function(t,e,n,i){let r=Math.ceil(Math.sqrt(i*(n/e))),o=Math.ceil(i/r),a=(n-(r-1)*Ts)/r,l=(e-(o-1)*Ts)/o,s=0,c=t.map((t=>{if("0"===t.GeWom)return{x:s%r*(a+Ts),y:e+100,width:a,height:l,id:t.AgtId,info:t.Agt};const n=s%r*(a+Ts)+2*Math.random()-1,i=e-(Math.floor(s/r)+1)*(l+Ts)+2*Math.random()-1;return s++,{x:n,y:i,width:a,height:l,id:t.AgtId,info:t.Agt}}));return c}(u,l,a,o)))},[d,h,{visible:!1,x:0,y:0,info:""},i,r,p,u,f,o,a,l,function(){d=this.clientWidth,h=this.clientHeight,n(0,d),n(1,h)}]}class Rc extends jt{constructor(t){super(),qt(this,t,Nc,Ec,l,{pax:6,step:7})}}function Tc(t,e,n){const i=t.slice();return i[22]=e[n],i[24]=n,i}function Cc(t,e,n){const i=t.slice();return i[22]=e[n],i[24]=n,i}function Oc(t,e,n){const i=t.slice();return i[26]=e[n],i}function Pc(t){let e,n,i,r,o,a,l,s,c,u,f,d,h,p,g,m=Ns,y=[];for(let e=0;e<m.length;e+=1)y[e]=Lc(Oc(t,m,e));let v=t[9]&&zc(t);s=new tc({props:{width:t[1],height:t[2],$$slots:{default:[Dc]},$$scope:{ctx:t}}}),f=new tc({props:{width:t[1],height:t[2],$$slots:{default:[jc]},$$scope:{ctx:t}}});let x=t[9]&&Hc(t);return{c(){e=C("div"),n=O("svg"),i=O("g"),r=O("g");for(let t=0;t<y.length;t+=1)y[t].c();v&&v.c(),a=L(),l=C("div"),c=C("div"),It(s.$$.fragment),u=L(),It(f.$$.fragment),d=L(),h=C("div"),x&&x.c(),q(r,"class","axis x-axis svelte-mfj8mq"),q(i,"class","timeline"),q(i,"transform",o="translate("+t[13].left+", "+t[13].top+")"),q(n,"width",t[1]),q(n,"height",t[2]),X(c,"display","contents"),X(c,"--position","absolute"),X(l,"position","absolute"),X(l,"top","0"),X(l,"left","0"),q(h,"id","example"),q(h,"class","svelte-mfj8mq"),q(e,"class","wrapper svelte-mfj8mq"),$t((()=>t[19].call(e)))},m(o,m){N(o,e,m),M(e,n),M(n,i),M(i,r);for(let t=0;t<y.length;t+=1)y[t]&&y[t].m(r,null);v&&v.m(i,null),M(e,a),M(e,l),M(l,c),Wt(s,c,null),M(l,u),Wt(f,l,null),M(e,d),M(e,h),x&&x.m(h,null),p=U(e,t[19].bind(e)),g=!0},p(t,e){if(152&e){let n;for(m=Ns,n=0;n<m.length;n+=1){const i=Oc(t,m,n);y[n]?y[n].p(i,e):(y[n]=Lc(i),y[n].c(),y[n].m(r,null))}for(;n<y.length;n+=1)y[n].d(1);y.length=m.length}t[9]?v?(v.p(t,e),512&e&&Ct(v,1)):(v=zc(t),v.c(),Ct(v,1),v.m(i,null)):v&&(Rt(),Ot(v,1,1,(()=>{v=null})),Tt()),(!g||2&e)&&q(n,"width",t[1]),(!g||4&e)&&q(n,"height",t[2]);const o={};2&e&&(o.width=t[1]),4&e&&(o.height=t[2]),536870976&e&&(o.$$scope={dirty:e,ctx:t}),s.$set(o);const a={};2&e&&(a.width=t[1]),4&e&&(a.height=t[2]),536870944&e&&(a.$$scope={dirty:e,ctx:t}),f.$set(a),t[9]?x?(x.p(t,e),512&e&&Ct(x,1)):(x=Hc(t),x.c(),Ct(x,1),x.m(h,null)):x&&(Rt(),Ot(x,1,1,(()=>{x=null})),Tt())},i(t){g||(Ct(v),Ct(s.$$.fragment,t),Ct(f.$$.fragment,t),Ct(x),g=!0)},o(t){Ot(v),Ot(s.$$.fragment,t),Ot(f.$$.fragment,t),Ot(x),g=!1},d(t){t&&R(e),T(y,t),v&&v.d(),Dt(s),Dt(f),x&&x.d(),p()}}}function Lc(t){let e,n,i,r,o,a=(t[3]>800?t[26]:Fc(t[26]))+"";return{c(){e=O("g"),n=O("text"),i=P(a),q(n,"y","1"),q(n,"class","svelte-mfj8mq"),q(e,"class",r="tick tick-"+t[26]+" svelte-mfj8mq"),q(e,"transform",o="translate("+(t[7](t[26])+t[7].bandwidth()/2)+","+(t[4]+15)+")")},m(t,r){N(t,e,r),M(e,n),M(n,i)},p(t,n){8&n&&a!==(a=(t[3]>800?t[26]:Fc(t[26]))+"")&&F(i,a),144&n&&o!==(o="translate("+(t[7](t[26])+t[7].bandwidth()/2)+","+(t[4]+15)+")")&&q(e,"transform",o)},d(t){t&&R(e)}}}function zc(t){let e,n,i=t[12]&&Ic(t);return{c(){i&&i.c(),e=z()},m(t,r){i&&i.m(t,r),N(t,e,r),n=!0},p(t,n){t[12]?i?(i.p(t,n),4096&n&&Ct(i,1)):(i=Ic(t),i.c(),Ct(i,1),i.m(e.parentNode,e)):i&&(Rt(),Ot(i,1,1,(()=>{i=null})),Tt())},i(t){n||(Ct(i),n=!0)},o(t){Ot(i),n=!1},d(t){i&&i.d(t),t&&R(e)}}}function Ic(t){let e,n,i,r;return{c(){e=O("path"),q(e,"d",n=`M ${t[7](t[11])},${t[4]-10} \n                       C ${t[7](t[11])},${t[4]-100} \n                         ${t[8]-t[13].left},${t[12]+100} \n                         ${t[8]-t[13].left},${t[12]}`),q(e,"fill","none"),q(e,"stroke","black"),q(e,"stroke-width","1")},m(t,n){N(t,e,n),r=!0},p(t,i){(!r||6544&i&&n!==(n=`M ${t[7](t[11])},${t[4]-10} \n                       C ${t[7](t[11])},${t[4]-100} \n                         ${t[8]-t[13].left},${t[12]+100} \n                         ${t[8]-t[13].left},${t[12]}`))&&q(e,"d",n)},i(t){r||($t((()=>{r&&(i||(i=Lt(e,Zs,{duration:400},!0)),i.run(1))})),r=!0)},o(t){i||(i=Lt(e,Zs,{duration:400},!1)),i.run(0),r=!1},d(t){t&&R(e),t&&i&&i.end()}}}function Wc(t){let e,n;return e=new rc({props:{x:t[22].x,y:t[22].y,width:t[22].width,height:t[22].height,margin:t[13]}}),{c(){It(e.$$.fragment)},m(t,i){Wt(e,t,i),n=!0},p(t,n){const i={};64&n&&(i.x=t[22].x),64&n&&(i.y=t[22].y),64&n&&(i.width=t[22].width),64&n&&(i.height=t[22].height),e.$set(i)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Ot(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Dc(t){let e,n,i=t[6],r=[];for(let e=0;e<i.length;e+=1)r[e]=Wc(Cc(t,i,e));const o=t=>Ot(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=z()},m(t,i){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,i);N(t,e,i),n=!0},p(t,n){if(8256&n){let a;for(i=t[6],a=0;a<i.length;a+=1){const o=Cc(t,i,a);r[a]?(r[a].p(o,n),Ct(r[a],1)):(r[a]=Wc(o),r[a].c(),Ct(r[a],1),r[a].m(e.parentNode,e))}for(Rt(),a=i.length;a<r.length;a+=1)o(a);Tt()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)Ct(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)Ot(r[t]);n=!1},d(t){T(r,t),t&&R(e)}}}function qc(t){let e,n;return e=new nc({props:{i:t[24],x:t[22].x,y:t[22].y,width:t[22].width,height:t[22].height,margin:t[13]}}),{c(){It(e.$$.fragment)},m(t,i){Wt(e,t,i),n=!0},p(t,n){const i={};32&n&&(i.x=t[22].x),32&n&&(i.y=t[22].y),32&n&&(i.width=t[22].width),32&n&&(i.height=t[22].height),e.$set(i)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Ot(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function jc(t){let e,n,i=t[5],r=[];for(let e=0;e<i.length;e+=1)r[e]=qc(Tc(t,i,e));const o=t=>Ot(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=z()},m(t,i){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,i);N(t,e,i),n=!0},p(t,n){if(8224&n){let a;for(i=t[5],a=0;a<i.length;a+=1){const o=Tc(t,i,a);r[a]?(r[a].p(o,n),Ct(r[a],1)):(r[a]=qc(o),r[a].c(),Ct(r[a],1),r[a].m(e.parentNode,e))}for(Rt(),a=i.length;a<r.length;a+=1)o(a);Tt()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)Ct(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)Ot(r[t]);n=!1},d(t){T(r,t),t&&R(e)}}}function Hc(t){let e,n,i,r,o,a;return{c(){e=C("img"),q(e,"class","example_img svelte-mfj8mq"),c(e.src,n=t[9])||q(e,"src",n),q(e,"alt","agt")},m(n,i){N(n,e,i),t[18](e),r=!0,o||(a=I(e,"load",t[14]),o=!0)},p(t,i){(!r||512&i&&!c(e.src,n=t[9]))&&q(e,"src",n)},i(t){r||($t((()=>{r&&(i||(i=Lt(e,Zs,{duration:400},!0)),i.run(1))})),r=!0)},o(t){i||(i=Lt(e,Zs,{duration:400},!1)),i.run(0),r=!1},d(n){n&&R(e),t[18](null),n&&i&&i.end(),o=!1,a()}}}function Bc(t){let e,n,i=t[5]&&t[0]&&Pc(t);return{c(){i&&i.c(),e=z()},m(t,r){i&&i.m(t,r),N(t,e,r),n=!0},p(t,[n]){t[5]&&t[0]?i?(i.p(t,n),33&n&&Ct(i,1)):(i=Pc(t),i.c(),Ct(i,1),i.m(e.parentNode,e)):i&&(Rt(),Ot(i,1,1,(()=>{i=null})),Tt())},i(t){n||(Ct(i),n=!0)},o(t){Ot(i),n=!1},d(t){i&&i.d(t),t&&R(e)}}}function Fc(t){return"'"+t.toString().slice(-2)}function Gc(t,e,n){let i,r,o,a,l,s,c,u,f,{pax:d}=e,{pax_timeline:h}=e,{step:p}=e,g=400,m=400,y=null,v={top:20,right:80,bottom:20,left:100};function x(t,e,n){let i,r=null;return i="none"===n?0:-1,t.map((t=>{let e;const o=t.Dat.substring(0,4);o!==r&&(i="none"===n?0:-1,r=o),e="none"==n?s(i):"1"===t[n]?s(++i):a+100;const c={x:l(o)+2*Math.random()-1,y:e+2*Math.random()-1,width:l.bandwidth(),height:3,info:t.Agt,id:t.AgtId};return"none"===n&&i++,c}))}window.addEventListener("resize",b);let $,w="1999";function b(){if(u){const t=u.getBoundingClientRect();n(17,f=t.height),n(8,c=t.x)}}return b(),t.$$set=t=>{"pax"in t&&n(15,d=t.pax),"pax_timeline"in t&&n(0,h=t.pax_timeline),"step"in t&&n(16,p=t.step)},t.$$.update=()=>{2&t.$$.dirty&&n(3,o=g-v.left-v.right),4&t.$$.dirty&&n(4,a=m-v.top-v.bottom),8&t.$$.dirty&&n(7,l=Ll().domain(Ns).range([0,o]).padding(.1)),16&t.$$.dirty&&(s=Xl().domain([0,100]).range([a,0])),32776&t.$$.dirty&&d&&(n(6,r=x(d,0,"none")),n(5,i=x(d,0,"none"))),98312&t.$$.dirty&&("1"==p?n(5,i=x(d,0,"none")):"4"==p?(n(9,y=null),n(5,i=x(d,0,"WggRehab"))):"5"==p?(n(9,y="./img/lome.png"),n(11,w="1999"),n(5,i=x(d,0,"WggRehab"))):"6"==p?(n(9,y=null),n(5,i=x(d,0,"WggImplRole"))):"7"==p?(n(9,y="./img/colombia.png"),n(11,w="2016"),n(5,i=x(d,0,"WggImplRole"))):"8"==p?(n(9,y=null),n(5,i=x(d,0,"WggHR"))):"9"==p&&(n(9,y="./img/guatemala.png"),n(11,w="1996"))),131088&t.$$.dirty&&a&&n(12,$=a-(a-f))},[h,g,m,o,a,i,r,l,c,y,u,w,$,v,b,d,p,f,function(t){ht[t?"unshift":"push"]((()=>{u=t,n(10,u)}))},function(){g=this.clientWidth,m=this.clientHeight,n(1,g),n(2,m)}]}class Xc extends jt{constructor(t){super(),qt(this,t,Gc,Bc,l,{pax:15,pax_timeline:0,step:16})}}function Vc(t,e,n){const i=t.slice();return i[19]=e[n],i}function Yc(t,e,n){const i=t.slice();return i[19]=e[n],i[23]=n,i}function Uc(t,e,n){const i=t.slice();return i[24]=e[n],i}function Jc(t){let e,n,i,r,o,a,l,s,c,u,f,d,h,p,g,m,y,v,x,$,w=Ns,b=[];for(let e=0;e<w.length;e+=1)b[e]=Zc(Uc(t,w,e));let _=t[7],k=[];for(let e=0;e<_.length;e+=1)k[e]=Qc(Yc(t,_,e));let S=t[9],A=[];for(let e=0;e<S.length;e+=1)A[e]=Kc(Vc(t,S,e));return{c(){e=C("div"),n=O("svg"),i=O("g"),r=O("g");for(let t=0;t<b.length;t+=1)b[t].c();o=O("path"),l=O("path"),c=O("g");for(let t=0;t<k.length;t+=1)k[t].c();for(let t=0;t<A.length;t+=1)A[t].c();u=O("line"),g=O("text"),m=P("UN Resolution 1325"),q(r,"class","axis x-axis svelte-1misob0"),q(o,"d",a=t[8](t[9])),q(o,"fill","#333333"),q(o,"fill-opacity","0.4"),q(l,"class","pax_area"),q(l,"d",s=t[8](t[7]?t[11](t[7]):[])),q(l,"fill","#333333"),q(l,"fill-opacity","0.9"),X(l,"opacity","0"),q(c,"class","gender-circles"),q(u,"class","un_resolution svelte-1misob0"),q(u,"x1",f=t[5]("2000")+t[5].bandwidth()/2),q(u,"y1",d=20),q(u,"x2",h=t[5]("2000")+t[5].bandwidth()/2),q(u,"y2",p=t[4]-80),q(u,"stroke","gray"),q(u,"stroke-width","1"),q(u,"stroke-dasharray","4,4"),q(g,"class","un_resolution svelte-1misob0"),q(g,"x",y=t[5]("2000")+t[5].bandwidth()),q(g,"y",v=20),q(g,"fill","black"),q(i,"class","timeline"),q(i,"transform",x="translate("+t[10].left+", "+t[10].top+")"),q(n,"width",t[1]),q(n,"height",t[2]),q(e,"class","wrapper svelte-1misob0"),$t((()=>t[14].call(e)))},m(a,s){N(a,e,s),M(e,n),M(n,i),M(i,r);for(let t=0;t<b.length;t+=1)b[t]&&b[t].m(r,null);M(i,o),M(i,l),M(i,c);for(let t=0;t<k.length;t+=1)k[t]&&k[t].m(c,null);for(let t=0;t<A.length;t+=1)A[t]&&A[t].m(i,null);M(i,u),M(i,g),M(g,m),$=U(e,t[14].bind(e))},p(t,e){if(56&e){let n;for(w=Ns,n=0;n<w.length;n+=1){const i=Uc(t,w,n);b[n]?b[n].p(i,e):(b[n]=Zc(i),b[n].c(),b[n].m(r,null))}for(;n<b.length;n+=1)b[n].d(1);b.length=w.length}if(768&e&&a!==(a=t[8](t[9]))&&q(o,"d",a),384&e&&s!==(s=t[8](t[7]?t[11](t[7]):[]))&&q(l,"d",s),176&e){let n;for(_=t[7],n=0;n<_.length;n+=1){const i=Yc(t,_,n);k[n]?k[n].p(i,e):(k[n]=Qc(i),k[n].c(),k[n].m(c,null))}for(;n<k.length;n+=1)k[n].d(1);k.length=_.length}if(608&e){let n;for(S=t[9],n=0;n<S.length;n+=1){const r=Vc(t,S,n);A[n]?A[n].p(r,e):(A[n]=Kc(r),A[n].c(),A[n].m(i,u))}for(;n<A.length;n+=1)A[n].d(1);A.length=S.length}32&e&&f!==(f=t[5]("2000")+t[5].bandwidth()/2)&&q(u,"x1",f),32&e&&h!==(h=t[5]("2000")+t[5].bandwidth()/2)&&q(u,"x2",h),16&e&&p!==(p=t[4]-80)&&q(u,"y2",p),32&e&&y!==(y=t[5]("2000")+t[5].bandwidth())&&q(g,"x",y),2&e&&q(n,"width",t[1]),4&e&&q(n,"height",t[2])},d(t){t&&R(e),T(b,t),T(k,t),T(A,t),$()}}}function Zc(t){let e,n,i,r,o,a=(t[3]>800?t[24]:eu(t[24]))+"";return{c(){e=O("g"),n=O("text"),i=P(a),q(n,"y","1"),q(n,"class","svelte-1misob0"),q(e,"class",r="tick tick-"+t[24]+" svelte-1misob0"),q(e,"transform",o="translate("+(t[5](t[24])+t[5].bandwidth()/2)+","+(t[4]+15)+")")},m(t,r){N(t,e,r),M(e,n),M(n,i)},p(t,n){8&n&&a!==(a=(t[3]>800?t[24]:eu(t[24]))+"")&&F(i,a),48&n&&o!==(o="translate("+(t[5](t[24])+t[5].bandwidth()/2)+","+(t[4]+15)+")")&&q(e,"transform",o)},d(t){t&&R(e)}}}function Qc(t){let e,n,i,r,o,a,l,s=t[19].value+"";return{c(){e=O("circle"),r=O("text"),o=P(s),q(e,"class",n="gender-circle-"+t[23]+" svelte-1misob0"),q(e,"cx",i=t[5](t[19].year)+t[5].bandwidth()/2),q(e,"cy",t[4]),q(e,"r","3"),q(e,"fill","black"),X(e,"opacity","0"),q(r,"class",a="gender-text-"+t[23]+" svelte-1misob0"),q(r,"x",l=t[5](t[19].year)+t[5].bandwidth()/2),q(r,"y",t[4]),q(r,"text-anchor","middle"),q(r,"font-size","10"),q(r,"font-weight","500"),q(r,"fill","black"),X(r,"opacity","0")},m(t,n){N(t,e,n),N(t,r,n),M(r,o)},p(t,n){160&n&&i!==(i=t[5](t[19].year)+t[5].bandwidth()/2)&&q(e,"cx",i),16&n&&q(e,"cy",t[4]),128&n&&s!==(s=t[19].value+"")&&F(o,s),160&n&&l!==(l=t[5](t[19].year)+t[5].bandwidth()/2)&&q(r,"x",l),16&n&&q(r,"y",t[4])},d(t){t&&R(e),t&&R(r)}}}function Kc(t){let e,n,i,r,o,a,l,s,c=t[19].value+"";return{c(){e=O("g"),n=O("circle"),o=O("text"),a=P(c),q(n,"cx",i=t[5](t[19].year)+t[5].bandwidth()/2),q(n,"cy",r=t[6](t[19].value)),q(n,"r","3"),q(n,"fill","black"),q(o,"x",l=t[5](t[19].year)+t[5].bandwidth()/2),q(o,"y",s=t[6](t[19].value)-8),q(o,"text-anchor","middle"),q(o,"font-size","10"),q(o,"font-weight","500"),q(o,"fill","black")},m(t,i){N(t,e,i),M(e,n),M(e,o),M(o,a)},p(t,e){544&e&&i!==(i=t[5](t[19].year)+t[5].bandwidth()/2)&&q(n,"cx",i),576&e&&r!==(r=t[6](t[19].value))&&q(n,"cy",r),512&e&&c!==(c=t[19].value+"")&&F(a,c),544&e&&l!==(l=t[5](t[19].year)+t[5].bandwidth()/2)&&q(o,"x",l),576&e&&s!==(s=t[6](t[19].value)-8)&&q(o,"y",s)},d(t){t&&R(e)}}}function tu(e){let n,i=e[9]&&e[0]&&Jc(e);return{c(){i&&i.c(),n=z()},m(t,e){i&&i.m(t,e),N(t,n,e)},p(t,[e]){t[9]&&t[0]?i?i.p(t,e):(i=Jc(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i:t,o:t,d(t){i&&i.d(t),t&&R(n)}}}function eu(t){return"'"+t.toString().slice(-2)}function nu(t,e,n){let i,r,o,a,l,s,c,{pax:u}=e,{pax_timeline:f}=e,{step:d}=e,h=400,p=400,g={top:20,right:80,bottom:20,left:100};const m=t=>t?t.map((t=>({...t,value:0}))):[];return t.$$set=t=>{"pax"in t&&n(12,u=t.pax),"pax_timeline"in t&&n(0,f=t.pax_timeline),"step"in t&&n(13,d=t.step)},t.$$.update=()=>{if(2&t.$$.dirty&&n(3,o=h-g.left-g.right),4&t.$$.dirty&&n(4,a=p-g.top-g.bottom),8&t.$$.dirty&&n(5,l=Ll().domain(Ns).range([0,o]).padding(.1)),16&t.$$.dirty&&n(6,s=Xl().domain([0,100]).range([a,0])),112&t.$$.dirty&&n(8,i=function(t,e,n){var i=null,r=Ql(!0),o=null,a=is,l=null,s=Kl(c);function c(c){var u,f,d,h,p,g=(c=es(c)).length,m=!1,y=new Array(g),v=new Array(g);for(null==o&&(l=a(p=s())),u=0;u<=g;++u){if(!(u<g&&r(h=c[u],u,c))===m)if(m=!m)f=u,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),d=u-1;d>=f;--d)l.point(y[d],v[d]);l.lineEnd(),l.areaEnd()}m&&(y[u]=+t(h,u,c),v[u]=+e(h,u,c),l.point(i?+i(h,u,c):y[u],n?+n(h,u,c):v[u]))}if(p)return l=null,p+""||null}function u(){return as().defined(r).curve(a).context(o)}return t="function"==typeof t?t:void 0===t?rs:Ql(+t),e="function"==typeof e?e:Ql(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?os:Ql(+n),c.x=function(e){return arguments.length?(t="function"==typeof e?e:Ql(+e),i=null,c):t},c.x0=function(e){return arguments.length?(t="function"==typeof e?e:Ql(+e),c):t},c.x1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:Ql(+t),c):i},c.y=function(t){return arguments.length?(e="function"==typeof t?t:Ql(+t),n=null,c):e},c.y0=function(t){return arguments.length?(e="function"==typeof t?t:Ql(+t),c):e},c.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:Ql(+t),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(i).y(e)},c.defined=function(t){return arguments.length?(r="function"==typeof t?t:Ql(!!t),c):r},c.curve=function(t){return arguments.length?(a=t,null!=o&&(l=a(o)),c):a},c.context=function(t){return arguments.length?(null==t?o=l=null:l=a(o=t),c):o},c}().x((t=>l(t.year)+l.bandwidth()/2)).y0(a).y1((t=>s(t.value))).curve(xs)),4096&t.$$.dirty&&u){let t=Qt(u.filter((t=>1==t.GeWom)),(t=>t.Dat.substring(0,4)));n(7,c=t.map((([t,e])=>({year:t,value:e.length}))));let e=Qt(u,(t=>t.Dat.substring(0,4)));n(9,r=e.map((([t,e])=>({year:t,value:e.length}))))}if(8656&t.$$.dirty&&c)if("area02"===d){Sn(".un_resolution").style("visibility","visible");const t=_n(".pax_area"),e=m(c);t.attr("d",i(e)).style("opacity",1).transition().duration(500).ease(Er).attr("d",i(c)),Sn(".gender-circles circle").transition().duration(500).attr("cy",((t,e)=>s(c[e].value))).style("opacity",1),Sn(".gender-circles text").transition().duration(500).attr("y",((t,e)=>s(c[e].value)-8)).style("opacity",1)}else if("area01"===d){Sn(".un_resolution").style("visibility","hidden");const t=_n(".pax_area"),e=m(c);t.transition().duration(500).ease(Er).attr("d",i(e)).on("end",(()=>t.style("opacity",0))),Sn(".gender-circles circle").transition().duration(800).attr("cy",a).style("opacity",0),Sn(".gender-circles text").transition().duration(800).attr("y",a).style("opacity",0)}},[f,h,p,o,a,l,s,c,i,r,g,m,u,d,function(){h=this.clientWidth,p=this.clientHeight,n(1,h),n(2,p)}]}class iu extends jt{constructor(t){super(),qt(this,t,nu,tu,l,{pax:12,pax_timeline:0,step:13})}}function ru(t){return 0===(e=t)||e?Array.isArray(t)?e=>t.map((t=>"function"!=typeof t?e[t]:t(e))):"function"!=typeof t?e=>e[t]:t:null;var e}function ou(t,e={}){return function(t){const e={};for(const n of t){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:i}=n;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:i})}return e}(Object.entries(t).filter((([t,n])=>void 0!==n&&void 0===e[t])))}function au(t,e){if(!Array.isArray(t))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},i=Object.keys(e),r=i.length;let o,a,l,s,c,u,f,d;const h=t.length;for(o=0;o<r;o+=1){for(s=i[o],f=e[s],c=null,u=null,a=0;a<h;a+=1)if(d=f(t[a]),Array.isArray(d)){const t=d.length;for(l=0;l<t;l+=1)!1!==d[l]&&void 0!==d[l]&&null!==d[l]&&!1===Number.isNaN(d[l])&&((null===c||d[l]<c)&&(c=d[l]),(null===u||d[l]>u)&&(u=d[l]))}else!1!==d&&null!=d&&!1===Number.isNaN(d)&&((null===c||d<c)&&(c=d),(null===u||d>u)&&(u=d));n[s]=[c,u]}return n}function lu(t,e){return t.length===e.length&&t.every((t=>e.includes(t)))}function su(t){return"function"==typeof t.bandwidth||!!lu(Object.keys(t),["domain","range","unknown","copy"])}function cu(t,e,n){const i=Object.keys(n).reduce(((t,i)=>{const r=!0===su(n[i])?"ordinal":"other";return t[r]||(t[r]={}),t[r][i]=e[i],t}),{ordinal:!1,other:!1});let r={};return i.ordinal&&(r=function(t,e,{sort:n=!1}={}){if(!Array.isArray(t))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const i={},r=Object.keys(e),o=r.length;let a,l,s,c,u,f,d;const h=t.length;for(a=0;a<o;a+=1){for(d=new Set,c=r[a],u=e[c],l=0;l<h;l+=1)if(f=u(t[l]),Array.isArray(f)){const t=f.length;for(s=0;s<t;s+=1)d.add(f[s])}else d.add(f);const o=Array.from(d);i[c]=!0===n?o.sort():o}return i}(t,i.ordinal)),i.other&&(r={...r,...au(t,i.other)}),r}function uu(t){return function([e,n]){return"function"==typeof n&&(n=n(e[t])),e?function(t=[],e){return!0===Array.isArray(e)?e.map(((e,n)=>null===e?t[n]:e)):t}(e[t],n):n}}var fu={x:Xl,y:Xl,z:Xl,r:function(){return Zl.apply(null,arguments).exponent(.5)}};function du(t){return t}function hu(t){return e=>Math.log(t*e)}function pu(t){return e=>t*Math.exp(e)}function gu(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function mu(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function yu(t){return t.replace(/^\w/,(t=>t.toUpperCase()))}function vu(t,e=""){return`scale${yu(e)}${yu(t)}`}function xu(t){if("function"==typeof t.bandwidth)return"function"==typeof t.paddingInner?vu("band"):vu("point");if(lu(Object.keys(t),["domain","range","unknown","copy"]))return vu("ordinal");let e="";if(t.interpolator&&(e=3===t.domain().length?"diverging":"sequential"),t.quantiles)return vu("quantile",e);if(t.thresholds)return vu("quantize",e);if(t.constant)return vu("symlog",e);if(t.base)return vu("log",e);if(t.exponent)return.5===t.exponent()?vu("sqrt",e):vu("pow",e);if(lu(Object.keys(t),["domain","range","invertExtent","unknown","copy"]))return vu("threshold");if(lu(Object.keys(t),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return vu("identity");if(lu(Object.keys(t),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return vu("radial");if(e)return vu(e);if(t.domain()[0]instanceof Date){const e=new Date;let n;return e.getDay=()=>n="time",e.getUTCDay=()=>n="utc",t.tickFormat(0,"%a")(e),vu(n)}return vu("linear")}const $u=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function wu(t,e){if("function"!=typeof t.range)throw console.log(t),new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e)||$u.includes(xu(t)))return t.domain();if(!0===su(t))return t.domain();const{lift:n,ground:i}=function(t){const e=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===e){const n=Math.sign(t.domain()[0]);return{lift:hu(n),ground:pu(n),scaleType:e}}if("pow"===e){const t=1;return{lift:mu(t),ground:mu(1/t),scaleType:e}}if("sqrt"===e){const t=.5;return{lift:mu(t),ground:mu(1/t),scaleType:e}}if("symlog"===e){const t=1;return{lift:(n=t,t=>Math.sign(t)*Math.log1p(Math.abs(t/n))),ground:gu(t),scaleType:e}}var n;return{lift:du,ground:du,scaleType:e}}(t),r=t.domain()[0],o="[object Date]"===Object.prototype.toString.call(r),[a,l]=t.domain().map((t=>n(o?t.getTime():t))),[s,c]=t.range(),u=e[0]||0,f=e[1]||0,d=(l-a)/(Math.abs(c-s)-u-f);return[a-u*d,f*d+l].map((t=>i(o?new Date(t):t)))}function bu(t){return function([e,n,i,r,o,a,l,s,c,u]){if(null===n)return null;const f=function(t,e,n,i,r,o){return r?"function"==typeof r?r({width:e,height:n}):r:function(t,e,n,i,r){let o,a;return!0===r?(o=0,a=100):(o="r"===t?1:0,a="y"===t?n:"r"===t?25:e),!0===i?[a,o]:[o,a]}(t,e,n,i,o)}(t,l,s,a,c,u),d=e===fu[t]?e():e.copy();return d.domain(i),(!d.interpolator||"function"==typeof d.interpolator&&d.interpolator().name.startsWith("identity"))&&d.range(f),r&&d.domain(wu(d,r)),!0!==o&&"number"!=typeof o||("function"==typeof d.nice?d.nice("number"==typeof o?o:void 0):console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function _u([t,e]){return n=>{const i=t(n);return Array.isArray(i)?i.map((t=>e(t))):e(i)}}function ku([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Su="    ";function Mu(t){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),function(t){Object.entries(t).forEach((([t,e])=>{console.log(`${Su}${t}:`,e)}))}(t.boundingBox),console.log("Scales:\n"),Object.keys(t.activeGetters).forEach((e=>{!function(t,e,n){const i=xu(e);console.log(`${Su}${t}:`),console.log(`${Su}${Su}Accessor: "${n.toString()}"`),console.log(`${Su}${Su}Type: ${i}`),Au(e,"domain"),Au(e,"range"," ")}(e,t[`${e}Scale`],t[e])})),console.log("/************ End LayerCake Debug ***************/\n")}function Au(t,e,n=""){const i=t[e](),r=function(t){const e=[],n=t.map(((n,i)=>{const r=function(t){const{r:e,g:n,b:i,opacity:r}=Vn(t);return!![e,n,i].every((t=>t>=0&&t<=255))&&{r:e,g:n,b:i,o:r}}(n);if(!1!==r){e.push(r);return`%c ${n}${i===t.length-1?" ":""}`}return n}));if(e.length)return[`%c[ ${n.join(", ")}`,e.map((t=>`background-color: rgba(${t.r}, ${t.g}, ${t.b}, ${t.o}); color:${function({r:t,g:e,b:n}){return(.2126*t+.7152*e+.0722*n)/255>.6?"black":"white"}(t)};`))];return null}(i);r?function(t,e,n){console.log(`${Su}${Su}${yu(e)}:    %cArray%c(${n.length}) `+t[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...t[1],"color: #1478e4")}(r,e,i):console.log(`${Su}${Su}${yu(e)}:${n}`,i)}const Eu=t=>({element:4&t[0],width:8&t[1],height:16&t[1],aspectRatio:32&t[1],containerWidth:2&t[1],containerHeight:1&t[1],activeGetters:1024&t[0],percentRange:4&t[1],x:268435456&t[0],y:134217728&t[0],z:67108864&t[0],r:33554432&t[0],custom:4096&t[0],data:1073741824&t[0],xNice:16777216&t[0],yNice:8388608&t[0],zNice:4194304&t[0],rNice:2097152&t[0],xReverse:1048576&t[0],yReverse:524288&t[0],zReverse:262144&t[0],rReverse:131072&t[0],xPadding:65536&t[0],yPadding:32768&t[0],zPadding:16384&t[0],rPadding:8192&t[0],padding:64&t[1],flatData:536870912&t[0],extents:128&t[1],xDomain:256&t[1],yDomain:512&t[1],zDomain:1024&t[1],rDomain:2048&t[1],xRange:4096&t[1],yRange:8192&t[1],zRange:16384&t[1],rRange:32768&t[1],config:2048&t[0],xScale:512&t[0],xGet:65536&t[1],yScale:256&t[0],yGet:131072&t[1],zScale:128&t[0],zGet:262144&t[1],rScale:64&t[0],rGet:524288&t[1]}),Nu=t=>({element:t[2],width:t[34],height:t[35],aspectRatio:t[36],containerWidth:t[32],containerHeight:t[31],activeGetters:t[10],percentRange:t[33],x:t[28],y:t[27],z:t[26],r:t[25],custom:t[12],data:t[30],xNice:t[24],yNice:t[23],zNice:t[22],rNice:t[21],xReverse:t[20],yReverse:t[19],zReverse:t[18],rReverse:t[17],xPadding:t[16],yPadding:t[15],zPadding:t[14],rPadding:t[13],padding:t[37],flatData:t[29],extents:t[38],xDomain:t[39],yDomain:t[40],zDomain:t[41],rDomain:t[42],xRange:t[43],yRange:t[44],zRange:t[45],rRange:t[46],config:t[11],xScale:t[9],xGet:t[47],yScale:t[8],yGet:t[48],zScale:t[7],zGet:t[49],rScale:t[6],rGet:t[50]});function Ru(t){let e,n,i;const r=t[153].default,o=d(r,t,t[152],Nu);return{c(){e=C("div"),o&&o.c(),q(e,"class","layercake-container svelte-vhzpsp"),$t((()=>t[155].call(e))),X(e,"position",t[5]),X(e,"top","absolute"===t[5]?"0":null),X(e,"right","absolute"===t[5]?"0":null),X(e,"bottom","absolute"===t[5]?"0":null),X(e,"left","absolute"===t[5]?"0":null),X(e,"pointer-events",!1===t[4]?"none":null)},m(r,a){N(r,e,a),o&&o.m(e,null),t[154](e),n=U(e,t[155].bind(e)),i=!0},p(t,n){o&&o.p&&(!i||2147483588&n[0]|1048575&n[1]|268435456&n[4])&&g(o,r,t,t[152],i?p(r,t[152],n,Eu):m(t[152]),Nu),32&n[0]&&X(e,"position",t[5]),32&n[0]&&X(e,"top","absolute"===t[5]?"0":null),32&n[0]&&X(e,"right","absolute"===t[5]?"0":null),32&n[0]&&X(e,"bottom","absolute"===t[5]?"0":null),32&n[0]&&X(e,"left","absolute"===t[5]?"0":null),16&n[0]&&X(e,"pointer-events",!1===t[4]?"none":null)},i(t){i||(Ct(o,t),i=!0)},o(t){Ot(o,t),i=!1},d(i){i&&R(e),o&&o.d(i),t[154](null),n()}}}function Tu(t){let e,n,i=(!0===t[3]||"undefined"!=typeof window)&&Ru(t);return{c(){i&&i.c(),e=z()},m(t,r){i&&i.m(t,r),N(t,e,r),n=!0},p(t,n){!0===t[3]||"undefined"!=typeof window?i?(i.p(t,n),8&n[0]&&Ct(i,1)):(i=Ru(t),i.c(),Ct(i,1),i.m(e.parentNode,e)):i&&(Rt(),Ot(i,1,1,(()=>{i=null})),Tt())},i(t){n||(Ct(i),n=!0)},o(t){Ot(i),n=!1},d(t){i&&i.d(t),t&&R(e)}}}function Cu(t,e,n){let i,r,o,a,l,s,c,u,d,h,p,g,m,v,x,$,w,b,_,k,S,M,A,E,N,R,T,C,O,P,L,z,I,W,D,q,j,H,B,F,G,X,V,Y,U,J,Z,Q,K,tt,et,nt,it,rt,at,lt,st,ut,ft,dt,pt,gt,{$$slots:mt={},$$scope:yt}=e;const vt=function(t,e=300){let n;return(...i)=>{clearTimeout(n),n=setTimeout((()=>{t.apply(this,i)}),e)}}(Mu,200);let{ssr:xt=!1}=e,{pointerEvents:$t=!0}=e,{position:wt="relative"}=e,{percentRange:bt=!1}=e,{width:_t}=e,{height:kt}=e,{containerWidth:St=_t||100}=e,{containerHeight:Mt=kt||100}=e,{element:At}=e,{x:Et}=e,{y:Nt}=e,{z:Rt}=e,{r:Tt}=e,{data:Ct=[]}=e,{xDomain:Ot}=e,{yDomain:Pt}=e,{zDomain:Lt}=e,{rDomain:zt}=e,{xNice:It=!1}=e,{yNice:Wt=!1}=e,{zNice:Dt=!1}=e,{rNice:qt=!1}=e,{xPadding:jt}=e,{yPadding:Ht}=e,{zPadding:Bt}=e,{rPadding:Ft}=e,{xScale:Gt=fu.x}=e,{yScale:Xt=fu.y}=e,{zScale:Vt=fu.z}=e,{rScale:Yt=fu.r}=e,{xRange:Ut}=e,{yRange:Jt}=e,{zRange:Zt}=e,{rRange:Qt}=e,{xReverse:Kt=!1}=e,{yReverse:te}=e,{zReverse:ee=!1}=e,{rReverse:ne=!1}=e,{padding:ie={}}=e,{extents:re={}}=e,{flatData:oe}=e,{custom:ae={}}=e,{debug:le=!1}=e,se=!1;ot((()=>{se=!0}));const ce={},ue=_s(bt);f(t,ue,(t=>n(33,U=t)));const fe=_s(St);f(t,fe,(t=>n(32,Y=t)));const de=_s(Mt);f(t,de,(t=>n(31,V=t)));const he=_s(ou(re));f(t,he,(t=>n(170,X=t)));const pe=_s(Ct);f(t,pe,(t=>n(30,G=t)));const ge=_s(oe||Ct);f(t,ge,(t=>n(29,F=t)));const me=_s(ie);f(t,me,(t=>n(169,B=t)));const ye=_s(ru(Et));f(t,ye,(t=>n(28,H=t)));const ve=_s(ru(Nt));f(t,ve,(t=>n(27,j=t)));const xe=_s(ru(Rt));f(t,xe,(t=>n(26,q=t)));const $e=_s(ru(Tt));f(t,$e,(t=>n(25,D=t)));const we=_s(Ot);f(t,we,(t=>n(168,W=t)));const be=_s(Pt);f(t,be,(t=>n(167,I=t)));const _e=_s(Lt);f(t,_e,(t=>n(166,z=t)));const ke=_s(zt);f(t,ke,(t=>n(165,L=t)));const Se=_s(It);f(t,Se,(t=>n(24,P=t)));const Me=_s(Wt);f(t,Me,(t=>n(23,O=t)));const Ae=_s(Dt);f(t,Ae,(t=>n(22,C=t)));const Ee=_s(qt);f(t,Ee,(t=>n(21,T=t)));const Ne=_s(Kt);f(t,Ne,(t=>n(20,R=t)));const Re=_s(i);f(t,Re,(t=>n(19,N=t)));const Te=_s(ee);f(t,Te,(t=>n(18,E=t)));const Ce=_s(ne);f(t,Ce,(t=>n(17,A=t)));const Oe=_s(jt);f(t,Oe,(t=>n(16,M=t)));const Pe=_s(Ht);f(t,Pe,(t=>n(15,S=t)));const Le=_s(Bt);f(t,Le,(t=>n(14,k=t)));const ze=_s(Ft);f(t,ze,(t=>n(13,_=t)));const Ie=_s(Ut);f(t,Ie,(t=>n(164,b=t)));const We=_s(Jt);f(t,We,(t=>n(163,w=t)));const De=_s(Zt);f(t,De,(t=>n(162,$=t)));const qe=_s(Qt);f(t,qe,(t=>n(161,x=t)));const je=_s(Gt);f(t,je,(t=>n(160,v=t)));const He=_s(Xt);f(t,He,(t=>n(159,m=t)));const Be=_s(Vt);f(t,Be,(t=>n(158,g=t)));const Fe=_s(Yt);f(t,Fe,(t=>n(157,p=t)));const Ge=_s(ce);f(t,Ge,(t=>n(11,d=t)));const Xe=_s(ae);f(t,Xe,(t=>n(12,h=t)));const Ve=ks([ye,ve,xe,$e],(([t,e,n,i])=>{const r={};return t&&(r.x=t),e&&(r.y=e),n&&(r.z=n),i&&(r.r=i),r}));f(t,Ve,(t=>n(10,c=t)));const Ye=ks([me,fe,de],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t)));f(t,Ye,(t=>n(37,K=t)));const Ue=ks([fe,de,Ye],(([t,e,n])=>{const i={};return i.top=n.top,i.right=t-n.right,i.bottom=e-n.bottom,i.left=n.left,i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<=0&&!0===se&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),i.height<=0&&!0===se&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),i}));f(t,Ue,(t=>n(151,u=t)));const Je=ks([Ue],(([t])=>t.width));f(t,Je,(t=>n(34,J=t)));const Ze=ks([Ue],(([t])=>t.height));f(t,Ze,(t=>n(35,Z=t)));const Qe=ks([ge,Ve,he,je,He,Fe,Be],(([t,e,n,i,r,o,a])=>{const l={x:i,y:r,r:o,z:a},s=ou(e,n),c=Object.fromEntries(Object.keys(s).map((t=>[t,l[t]])));if(Object.keys(s).length>0){return{...cu(t,s,c),...n}}return{}}));f(t,Qe,(t=>n(38,tt=t)));const Ke=ks([Qe,we],uu("x"));f(t,Ke,(t=>n(39,et=t)));const tn=ks([Qe,be],uu("y"));f(t,tn,(t=>n(40,nt=t)));const en=ks([Qe,_e],uu("z"));f(t,en,(t=>n(41,it=t)));const nn=ks([Qe,ke],uu("r"));f(t,nn,(t=>n(42,rt=t)));const rn=ks([je,Qe,Ke,Oe,Se,Ne,Je,Ze,Ie,ue],bu("x"));f(t,rn,(t=>n(9,s=t)));const on=ks([ye,rn],_u);f(t,on,(t=>n(47,ft=t)));const an=ks([He,Qe,tn,Pe,Me,Re,Je,Ze,We,ue],bu("y"));f(t,an,(t=>n(8,l=t)));const ln=ks([ve,an],_u);f(t,ln,(t=>n(48,dt=t)));const sn=ks([Be,Qe,en,Le,Ae,Te,Je,Ze,De,ue],bu("z"));f(t,sn,(t=>n(7,a=t)));const cn=ks([xe,sn],_u);f(t,cn,(t=>n(49,pt=t)));const un=ks([Fe,Qe,nn,ze,Ee,Ce,Je,Ze,qe,ue],bu("r"));f(t,un,(t=>n(6,o=t)));const fn=ks([$e,un],_u);f(t,fn,(t=>n(50,gt=t)));const dn=ks([rn],ku);f(t,dn,(t=>n(43,at=t)));const hn=ks([an],ku);f(t,hn,(t=>n(44,lt=t)));const pn=ks([sn],ku);f(t,pn,(t=>n(45,st=t)));const gn=ks([un],ku);f(t,gn,(t=>n(46,ut=t)));const mn=ks([Je,Ze],(([t,e])=>t/e));return f(t,mn,(t=>n(36,Q=t))),t.$$set=t=>{"ssr"in t&&n(3,xt=t.ssr),"pointerEvents"in t&&n(4,$t=t.pointerEvents),"position"in t&&n(5,wt=t.position),"percentRange"in t&&n(111,bt=t.percentRange),"width"in t&&n(112,_t=t.width),"height"in t&&n(113,kt=t.height),"containerWidth"in t&&n(0,St=t.containerWidth),"containerHeight"in t&&n(1,Mt=t.containerHeight),"element"in t&&n(2,At=t.element),"x"in t&&n(114,Et=t.x),"y"in t&&n(115,Nt=t.y),"z"in t&&n(116,Rt=t.z),"r"in t&&n(117,Tt=t.r),"data"in t&&n(118,Ct=t.data),"xDomain"in t&&n(119,Ot=t.xDomain),"yDomain"in t&&n(120,Pt=t.yDomain),"zDomain"in t&&n(121,Lt=t.zDomain),"rDomain"in t&&n(122,zt=t.rDomain),"xNice"in t&&n(123,It=t.xNice),"yNice"in t&&n(124,Wt=t.yNice),"zNice"in t&&n(125,Dt=t.zNice),"rNice"in t&&n(126,qt=t.rNice),"xPadding"in t&&n(127,jt=t.xPadding),"yPadding"in t&&n(128,Ht=t.yPadding),"zPadding"in t&&n(129,Bt=t.zPadding),"rPadding"in t&&n(130,Ft=t.rPadding),"xScale"in t&&n(131,Gt=t.xScale),"yScale"in t&&n(132,Xt=t.yScale),"zScale"in t&&n(133,Vt=t.zScale),"rScale"in t&&n(134,Yt=t.rScale),"xRange"in t&&n(135,Ut=t.xRange),"yRange"in t&&n(136,Jt=t.yRange),"zRange"in t&&n(137,Zt=t.zRange),"rRange"in t&&n(138,Qt=t.rRange),"xReverse"in t&&n(139,Kt=t.xReverse),"yReverse"in t&&n(140,te=t.yReverse),"zReverse"in t&&n(141,ee=t.zReverse),"rReverse"in t&&n(142,ne=t.rReverse),"padding"in t&&n(143,ie=t.padding),"extents"in t&&n(144,re=t.extents),"flatData"in t&&n(145,oe=t.flatData),"custom"in t&&n(146,ae=t.custom),"debug"in t&&n(147,le=t.debug),"$$scope"in t&&n(152,yt=t.$$scope)},t.$$.update=()=>{65792&t.$$.dirty[4]&&n(150,i=void 0===te?"function"!=typeof Xt.bandwidth:te),2097152&t.$$.dirty[3]&&Et&&n(148,ce.x=Et,ce),4194304&t.$$.dirty[3]&&Nt&&n(148,ce.y=Nt,ce),8388608&t.$$.dirty[3]&&Rt&&n(148,ce.z=Rt,ce),16777216&t.$$.dirty[3]&&Tt&&n(148,ce.r=Tt,ce),67108864&t.$$.dirty[3]&&Ot&&n(148,ce.xDomain=Ot,ce),134217728&t.$$.dirty[3]&&Pt&&n(148,ce.yDomain=Pt,ce),268435456&t.$$.dirty[3]&&Lt&&n(148,ce.zDomain=Lt,ce),536870912&t.$$.dirty[3]&&zt&&n(148,ce.rDomain=zt,ce),2048&t.$$.dirty[4]&&Ut&&n(148,ce.xRange=Ut,ce),4096&t.$$.dirty[4]&&Jt&&n(148,ce.yRange=Jt,ce),8192&t.$$.dirty[4]&&Zt&&n(148,ce.zRange=Zt,ce),16384&t.$$.dirty[4]&&Qt&&n(148,ce.rRange=Qt,ce),262144&t.$$.dirty[3]&&y(ue,U=bt,U),1&t.$$.dirty[0]&&y(fe,Y=St,Y),2&t.$$.dirty[0]&&y(de,V=Mt,V),1048576&t.$$.dirty[4]&&y(he,X=ou(re),X),33554432&t.$$.dirty[3]&&y(pe,G=Ct,G),33554432&t.$$.dirty[3]|2097152&t.$$.dirty[4]&&y(ge,F=oe||Ct,F),524288&t.$$.dirty[4]&&y(me,B=ie,B),2097152&t.$$.dirty[3]&&y(ye,H=ru(Et),H),4194304&t.$$.dirty[3]&&y(ve,j=ru(Nt),j),8388608&t.$$.dirty[3]&&y(xe,q=ru(Rt),q),16777216&t.$$.dirty[3]&&y($e,D=ru(Tt),D),67108864&t.$$.dirty[3]&&y(we,W=Ot,W),134217728&t.$$.dirty[3]&&y(be,I=Pt,I),268435456&t.$$.dirty[3]&&y(_e,z=Lt,z),536870912&t.$$.dirty[3]&&y(ke,L=zt,L),1073741824&t.$$.dirty[3]&&y(Se,P=It,P),1&t.$$.dirty[4]&&y(Me,O=Wt,O),2&t.$$.dirty[4]&&y(Ae,C=Dt,C),4&t.$$.dirty[4]&&y(Ee,T=qt,T),32768&t.$$.dirty[4]&&y(Ne,R=Kt,R),67108864&t.$$.dirty[4]&&y(Re,N=i,N),131072&t.$$.dirty[4]&&y(Te,E=ee,E),262144&t.$$.dirty[4]&&y(Ce,A=ne,A),8&t.$$.dirty[4]&&y(Oe,M=jt,M),16&t.$$.dirty[4]&&y(Pe,S=Ht,S),32&t.$$.dirty[4]&&y(Le,k=Bt,k),64&t.$$.dirty[4]&&y(ze,_=Ft,_),2048&t.$$.dirty[4]&&y(Ie,b=Ut,b),4096&t.$$.dirty[4]&&y(We,w=Jt,w),8192&t.$$.dirty[4]&&y(De,$=Zt,$),16384&t.$$.dirty[4]&&y(qe,x=Qt,x),128&t.$$.dirty[4]&&y(je,v=Gt,v),256&t.$$.dirty[4]&&y(He,m=Xt,m),512&t.$$.dirty[4]&&y(Be,g=Vt,g),1024&t.$$.dirty[4]&&y(Fe,p=Yt,p),4194304&t.$$.dirty[4]&&y(Xe,h=ae,h),16777216&t.$$.dirty[4]&&y(Ge,d=ce,d),33554432&t.$$.dirty[4]&&ct("LayerCake",r),1992&t.$$.dirty[0]|159383552&t.$$.dirty[4]&&(!u||!0!==le||!0!==xt&&"undefined"==typeof window||vt({boundingBox:u,activeGetters:c,x:ce.x,y:ce.y,z:ce.z,r:ce.r,xScale:s,yScale:l,zScale:a,rScale:o}))},n(149,r={activeGetters:Ve,width:Je,height:Ze,percentRange:ue,aspectRatio:mn,containerWidth:fe,containerHeight:de,x:ye,y:ve,z:xe,r:$e,custom:Xe,data:pe,xNice:Se,yNice:Me,zNice:Ae,rNice:Ee,xReverse:Ne,yReverse:Re,zReverse:Te,rReverse:Ce,xPadding:Oe,yPadding:Pe,zPadding:Le,rPadding:ze,padding:Ye,flatData:ge,extents:Qe,xDomain:Ke,yDomain:tn,zDomain:en,rDomain:nn,xRange:dn,yRange:hn,zRange:pn,rRange:gn,config:Ge,xScale:rn,xGet:on,yScale:an,yGet:ln,zScale:sn,zGet:cn,rScale:un,rGet:fn}),[St,Mt,At,xt,$t,wt,o,a,l,s,c,d,h,_,k,S,M,A,E,N,R,T,C,O,P,D,q,j,H,F,G,V,Y,U,J,Z,Q,K,tt,et,nt,it,rt,at,lt,st,ut,ft,dt,pt,gt,ue,fe,de,he,pe,ge,me,ye,ve,xe,$e,we,be,_e,ke,Se,Me,Ae,Ee,Ne,Re,Te,Ce,Oe,Pe,Le,ze,Ie,We,De,qe,je,He,Be,Fe,Ge,Xe,Ve,Ye,Ue,Je,Ze,Qe,Ke,tn,en,nn,rn,on,an,ln,sn,cn,un,fn,dn,hn,pn,gn,mn,bt,_t,kt,Et,Nt,Rt,Tt,Ct,Ot,Pt,Lt,zt,It,Wt,Dt,qt,jt,Ht,Bt,Ft,Gt,Xt,Vt,Yt,Ut,Jt,Zt,Qt,Kt,te,ee,ne,ie,re,oe,ae,le,ce,r,i,u,yt,mt,function(t){ht[t?"unshift":"push"]((()=>{At=t,n(2,At)}))},function(){St=this.clientWidth,Mt=this.clientHeight,n(0,St),n(1,Mt)}]}class Ou extends jt{constructor(t){super(),qt(this,t,Cu,Tu,l,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},null,[-1,-1,-1,-1,-1,-1])}}const Pu=t=>({element:1&t}),Lu=t=>({element:t[0]}),zu=t=>({element:1&t}),Iu=t=>({element:t[0]}),Wu=t=>({element:1&t}),Du=t=>({element:t[0]});function qu(t){let e,n;return{c(){e=O("title"),n=P(t[8])},m(t,i){N(t,e,i),M(e,n)},p(t,e){256&e&&F(n,t[8])},d(t){t&&R(e)}}}function ju(t){let e,n,i,r,o;const a=t[16].title,l=d(a,t,t[15],Du),s=l||function(t){let e,n=t[8]&&qu(t);return{c(){n&&n.c(),e=z()},m(t,i){n&&n.m(t,i),N(t,e,i)},p(t,i){t[8]?n?n.p(t,i):(n=qu(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&R(e)}}}(t),c=t[16].defs,u=d(c,t,t[15],Iu),f=t[16].default,h=d(f,t,t[15],Lu);return{c(){e=O("svg"),s&&s.c(),n=O("defs"),u&&u.c(),i=O("g"),h&&h.c(),q(i,"class","layercake-layout-svg_g"),q(i,"transform",r="translate("+t[11].left+", "+t[11].top+")"),q(e,"class","layercake-layout-svg svelte-u84d8d"),q(e,"viewBox",t[4]),q(e,"width",t[9]),q(e,"height",t[10]),q(e,"aria-label",t[5]),q(e,"aria-labelledby",t[6]),q(e,"aria-describedby",t[7]),X(e,"z-index",t[2]),X(e,"pointer-events",!1===t[3]?"none":null)},m(r,a){N(r,e,a),s&&s.m(e,null),M(e,n),u&&u.m(n,null),M(e,i),h&&h.m(i,null),t[17](i),t[18](e),o=!0},p(t,[n]){l?l.p&&(!o||32769&n)&&g(l,a,t,t[15],o?p(a,t[15],n,Wu):m(t[15]),Du):s&&s.p&&(!o||256&n)&&s.p(t,o?n:-1),u&&u.p&&(!o||32769&n)&&g(u,c,t,t[15],o?p(c,t[15],n,zu):m(t[15]),Iu),h&&h.p&&(!o||32769&n)&&g(h,f,t,t[15],o?p(f,t[15],n,Pu):m(t[15]),Lu),(!o||2048&n&&r!==(r="translate("+t[11].left+", "+t[11].top+")"))&&q(i,"transform",r),(!o||16&n)&&q(e,"viewBox",t[4]),(!o||512&n)&&q(e,"width",t[9]),(!o||1024&n)&&q(e,"height",t[10]),(!o||32&n)&&q(e,"aria-label",t[5]),(!o||64&n)&&q(e,"aria-labelledby",t[6]),(!o||128&n)&&q(e,"aria-describedby",t[7]),4&n&&X(e,"z-index",t[2]),8&n&&X(e,"pointer-events",!1===t[3]?"none":null)},i(t){o||(Ct(s,t),Ct(u,t),Ct(h,t),o=!0)},o(t){Ot(s,t),Ot(u,t),Ot(h,t),o=!1},d(n){n&&R(e),s&&s.d(n),u&&u.d(n),h&&h.d(n),t[17](null),t[18](null)}}}function Hu(t,e,n){let i,r,o,{$$slots:a={},$$scope:l}=e,{element:s}=e,{innerElement:c}=e,{zIndex:u}=e,{pointerEvents:d}=e,{viewBox:h}=e,{label:p}=e,{labelledBy:g}=e,{describedBy:m}=e,{title:y}=e;const{containerWidth:v,containerHeight:x,padding:$}=ut("LayerCake");return f(t,v,(t=>n(9,i=t))),f(t,x,(t=>n(10,r=t))),f(t,$,(t=>n(11,o=t))),t.$$set=t=>{"element"in t&&n(0,s=t.element),"innerElement"in t&&n(1,c=t.innerElement),"zIndex"in t&&n(2,u=t.zIndex),"pointerEvents"in t&&n(3,d=t.pointerEvents),"viewBox"in t&&n(4,h=t.viewBox),"label"in t&&n(5,p=t.label),"labelledBy"in t&&n(6,g=t.labelledBy),"describedBy"in t&&n(7,m=t.describedBy),"title"in t&&n(8,y=t.title),"$$scope"in t&&n(15,l=t.$$scope)},[s,c,u,d,h,p,g,m,y,i,r,o,v,x,$,l,a,function(t){ht[t?"unshift":"push"]((()=>{c=t,n(1,c)}))},function(t){ht[t?"unshift":"push"]((()=>{s=t,n(0,s)}))}]}class Bu extends jt{constructor(t){super(),qt(this,t,Hu,ju,l,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function Fu(t,e,n){const i=t.slice();return i[16]=e[n],i}function Gu(t){let e,n,i,r,a,l,s;function c(...e){return t[12](t[16],...e)}return{c(){e=O("path"),q(e,"fill",n=t[5](t[16])),q(e,"stroke","#cccccc"),q(e,"stroke-width","0.5"),q(e,"fill-opacity",i=t[6](t[16])),q(e,"class",r="country "+t[16].properties.adm0_iso),q(e,"d",a=t[16].path)},m(n,i){N(n,e,i),l||(s=[I(e,"mouseover",c),I(e,"mousemove",t[8]),I(e,"mouseout",t[9])],l=!0)},p(o,l){t=o,2&l&&n!==(n=t[5](t[16]))&&q(e,"fill",n),2&l&&i!==(i=t[6](t[16]))&&q(e,"fill-opacity",i),2&l&&r!==(r="country "+t[16].properties.adm0_iso)&&q(e,"class",r),2&l&&a!==(a=t[16].path)&&q(e,"d",a)},d(t){t&&R(e),l=!1,o(s)}}}function Xu(t){let e,n,i,r,o,a,l=t[2].iso+"";return{c(){e=O("g"),n=O("rect"),r=O("text"),o=P(l),q(n,"x","0"),q(n,"y","-15"),q(n,"width",i=t[3]+10),q(n,"height","20"),q(n,"fill","black"),q(n,"rx","3"),q(r,"x","5"),q(r,"y","0"),q(r,"font-size","12"),q(r,"fill","white"),q(e,"transform",a="translate("+(t[2].x+10)+", "+(t[2].y-10)+")")},m(i,a){N(i,e,a),M(e,n),M(e,r),M(r,o),t[13](r)},p(t,r){8&r&&i!==(i=t[3]+10)&&q(n,"width",i),4&r&&l!==(l=t[2].iso+"")&&F(o,l),4&r&&a!==(a="translate("+(t[2].x+10)+", "+(t[2].y-10)+")")&&q(e,"transform",a)},d(n){n&&R(e),t[13](null)}}}function Vu(e){let n,i,r,o=e[1],a=[];for(let t=0;t<o.length;t+=1)a[t]=Gu(Fu(e,o,t));let l=e[2].visible&&Xu(e);return{c(){n=O("g");for(let t=0;t<a.length;t+=1)a[t].c();i=z(),l&&l.c(),q(n,"class","map-group"),q(n,"transform",r="translate("+e[0].left+", "+e[0].top+")")},m(t,e){N(t,n,e);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(n,null);M(n,i),l&&l.m(n,null)},p(t,[e]){if(994&e){let r;for(o=t[1],r=0;r<o.length;r+=1){const l=Fu(t,o,r);a[r]?a[r].p(l,e):(a[r]=Gu(l),a[r].c(),a[r].m(n,i))}for(;r<a.length;r+=1)a[r].d(1);a.length=o.length}t[2].visible?l?l.p(t,e):(l=Xu(t),l.c(),l.m(n,null)):l&&(l.d(1),l=null),1&e&&r!==(r="translate("+t[0].left+", "+t[0].top+")")&&q(n,"transform",r)},i:t,o:t,d(t){t&&R(n),T(a,t),l&&l.d()}}}function Yu(t,e,n){let{cumulative_isos:i}=e,{transform:r}=e,{margin:o}=e,{countries:a}=e,l=Xl().domain([0,150]).range([.2,1]);let s,c=0;let u={iso:null,x:0,y:0,visible:!1};function f(t,e){let r=e.properties.adm0_iso,o=i.find((t=>t.iso==r));if(o){const[i,r]=kn(t);n(2,u={iso:e.properties.admin+": "+o.count,x:i,y:r,visible:!0})}else n(2,u.visible=!1,u)}return t.$$set=t=>{"cumulative_isos"in t&&n(10,i=t.cumulative_isos),"transform"in t&&n(11,r=t.transform),"margin"in t&&n(0,o=t.margin),"countries"in t&&n(1,a=t.countries)},t.$$.update=()=>{1024&t.$$.dirty&&i&&i.forEach((t=>{Sn("."+t.iso).style("fill","black").style("fill-opacity",l(t.count))})),4&t.$$.dirty&&u.iso&&async function(){await xt(),s&&n(3,c=s.getBBox().width)}()},[o,a,u,c,s,function(t){return i.some((e=>e.iso===t.properties.adm0_iso))?"black":"none"},function(t){let e=t.properties.adm0_iso,n=i.find((t=>t.iso==e));return n?l(n.count):1},f,function(t){const[e,i]=kn(t);n(2,u.x=e,u),n(2,u.y=i,u)},function(){n(2,u.visible=!1,u)},i,r,(t,e)=>f(e,t),function(t){ht[t?"unshift":"push"]((()=>{s=t,n(4,s)}))}]}class Uu extends jt{constructor(t){super(),qt(this,t,Yu,Vu,l,{cumulative_isos:10,transform:11,margin:0,countries:1})}}function Ju(t){let e,n,i,r=t[0]&&Zu(t);return{c(){e=C("div"),r&&r.c(),q(e,"class","wrapper svelte-zaiuf5"),$t((()=>t[21].call(e)))},m(o,a){N(o,e,a),r&&r.m(e,null),n=U(e,t[21].bind(e)),i=!0},p(t,n){t[0]?r?(r.p(t,n),1&n&&Ct(r,1)):(r=Zu(t),r.c(),Ct(r,1),r.m(e,null)):r&&(Rt(),Ot(r,1,1,(()=>{r=null})),Tt())},i(t){i||(Ct(r),i=!0)},o(t){Ot(r),i=!1},d(t){t&&R(e),r&&r.d(),n()}}}function Zu(t){let e,n;return e=new Ou({props:{$$slots:{default:[Ku]},$$scope:{ctx:t}}}),{c(){It(e.$$.fragment)},m(t,i){Wt(e,t,i),n=!0},p(t,n){const i={};67108976&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Ot(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Qu(t){let e,n;return e=new Uu({props:{countries:t[5],transform:t[6],cumulative_isos:t[4],margin:t[7]}}),{c(){It(e.$$.fragment)},m(t,i){Wt(e,t,i),n=!0},p(t,n){const i={};32&n&&(i.countries=t[5]),64&n&&(i.transform=t[6]),16&n&&(i.cumulative_isos=t[4]),e.$set(i)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Ot(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Ku(t){let e,n;return e=new Bu({props:{$$slots:{default:[Qu]},$$scope:{ctx:t}}}),{c(){It(e.$$.fragment)},m(t,i){Wt(e,t,i),n=!0},p(t,n){const i={};67108976&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Ot(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function tf(t){let e,n,i=t[0]&&t[1]&&Ju(t);return{c(){i&&i.c(),e=z()},m(t,r){i&&i.m(t,r),N(t,e,r),n=!0},p(t,[n]){t[0]&&t[1]?i?(i.p(t,n),3&n&&Ct(i,1)):(i=Ju(t),i.c(),Ct(i,1),i.m(e.parentNode,e)):i&&(Rt(),Ot(i,1,1,(()=>{i=null})),Tt())},i(t){n||(Ct(i),n=!0)},o(t){Ot(i),n=!1},d(t){i&&i.d(t),t&&R(e)}}}function ef(t,e,n){let i,r;const o=st();let a,l,s,c,u,f,d,h,p,g,m,{pax:y}=e,{mygeojson:v}=e,{pax_timeline:x}=e,{pax_gender:$}=e,{step:w}=e,b=ws,_=400,k=400,S={top:20,right:100,bottom:20,left:100},M=[];function A(t){const e=Ei(b,t);Sr().duration(750).tween("zoom",(()=>t=>{n(6,b=e(t))}))}return t.$$set=t=>{"pax"in t&&n(8,y=t.pax),"mygeojson"in t&&n(0,v=t.mygeojson),"pax_timeline"in t&&n(1,x=t.pax_timeline),"pax_gender"in t&&n(9,$=t.pax_gender),"step"in t&&n(10,w=t.step)},t.$$.update=()=>{4&t.$$.dirty&&n(12,s=_-S.left-S.right),8&t.$$.dirty&&n(13,c=k-S.top-S.bottom),12289&t.$$.dirty&&n(20,i=$l().fitSize([s,c],v)),1048576&t.$$.dirty&&n(19,r=function(t,e){let n,i,r=3,o=4.5;function a(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),Oo(t,n(i))),i.result()}return a.area=function(t){return Oo(t,n(pa)),pa.result()},a.measure=function(t){return Oo(t,n(tl)),tl.result()},a.bounds=function(t){return Oo(t,n(_a)),_a.result()},a.centroid=function(t){return Oo(t,n(Ia)),Ia.result()},a.projection=function(e){return arguments.length?(n=null==e?(t=null,fa):(t=e).stream,a):t},a.context=function(t){return arguments.length?(i=null==t?(e=null,new ll(r)):new Va(e=t),"function"!=typeof o&&i.pointRadius(o),a):e},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return r;if(null==t)r=null;else{const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);r=e}return null===e&&(i=new ll(r)),a},a.projection(t).digits(r).context(e)}(i)),524289&t.$$.dirty&&v&&n(5,M=v.features.map((t=>({...t,path:r(t),bounds:r.bounds(t),centroid:r.centroid(t)})))),16416&t.$$.dirty&&M.length>0&&(n(14,d=M.find((t=>"Afghanistan"==t.properties.admin))),n(15,[[h,p],[g,m]]=d.bounds,h,(n(16,p),n(5,M),n(14,d),n(0,v),n(19,r),n(20,i),n(12,s),n(13,c),n(2,_),n(7,S),n(3,k)),(n(17,g),n(5,M),n(14,d),n(0,v),n(19,r),n(20,i),n(12,s),n(13,c),n(2,_),n(7,S),n(3,k)),(n(18,m),n(5,M),n(14,d),n(0,v),n(19,r),n(20,i),n(12,s),n(13,c),n(2,_),n(7,S),n(3,k)))),4096&t.$$.dirty&&(u=Ll().domain(Ns).range([0,s]).padding(.1)),8192&t.$$.dirty&&(f=Xl().domain([0,100]).range([c,0])),256&t.$$.dirty&&y&&(n(4,l=Rs(y)),o("mapLoaded")),495388&t.$$.dirty&&("map_one"==w?n(4,l=Rs(y)):"map_two"==w?(n(4,l=Rs($)),n(4,l=l.filter((t=>t.count>1))),A(ws)):"map_three"==w&&(n(4,l=[{iso:"AFG",count:30}]),n(11,a=ws.translate(_/2,k/2).scale(Math.min(2,.9/Math.max((g-h)/_,(m-p)/k))).translate(-(h+g)/2,-(p+m)/2)),A(a)))},[v,x,_,k,l,M,b,S,y,$,w,a,s,c,d,h,p,g,m,r,i,function(){_=this.clientWidth,k=this.clientHeight,n(2,_),n(3,k)}]}class nf extends jt{constructor(t){super(),qt(this,t,ef,tf,l,{pax:8,mygeojson:0,pax_timeline:1,pax_gender:9,step:10})}}function rf(t){let e,n,i,r,o,a,l,s,c,u,f=t[1].iso+"";return{c(){e=O("g"),n=O("rect"),a=O("text"),l=P(f),q(n,"x",i=t[0].x>=180?-25:0),q(n,"y",r=t[0].x>=180?-15:0),q(n,"width",o=t[5]+10),q(n,"height","20"),q(n,"fill","black"),q(n,"rx","3"),q(a,"x",s=t[0].x>=180?-20:5),q(a,"y",c=t[0].x>=180?0:15),q(a,"font-size","12"),q(a,"fill","white"),q(e,"transform",u="translate("+(t[1].x+10)+", "+(t[1].y-10)+") rotate("+(t[0].x>=180?180:0)+")")},m(i,r){N(i,e,r),M(e,n),M(e,a),M(a,l),t[16](a)},p(t,d){1&d&&i!==(i=t[0].x>=180?-25:0)&&q(n,"x",i),1&d&&r!==(r=t[0].x>=180?-15:0)&&q(n,"y",r),32&d&&o!==(o=t[5]+10)&&q(n,"width",o),2&d&&f!==(f=t[1].iso+"")&&F(l,f),1&d&&s!==(s=t[0].x>=180?-20:5)&&q(a,"x",s),1&d&&c!==(c=t[0].x>=180?0:15)&&q(a,"y",c),3&d&&u!==(u="translate("+(t[1].x+10)+", "+(t[1].y-10)+") rotate("+(t[0].x>=180?180:0)+")")&&q(e,"transform",u)},d(n){n&&R(e),t[16](null)}}}function of(e){let n,i,r,a,l,s,c,u,f,d,h,p,g,m,y,v,x,$,w,b=e[1].visible&&rf(e);return{c(){n=O("g"),i=O("circle"),r=O("g"),a=O("rect"),d=O("text"),h=P(e[4]),b&&b.c(),q(i,"r",e[7]),q(i,"class","svelte-1aiacpa"),q(a,"x",l=(e[0].x<180?0:-0)+e[3].x-2),q(a,"y",s=e[3].y-1),q(a,"width",c=e[3].width+4),q(a,"height",u=e[3].height+2),q(a,"fill",f=null==e[0].data.key?"none":"white"),q(a,"rx","2"),q(a,"ry","2"),q(d,"x",p=e[0].x<180?15:-15),q(d,"dy","0.32em"),q(d,"text-anchor",g=e[0].x<180?"start":"end"),q(d,"font-size","10"),q(d,"opactity",m=null==e[0].data.key?0:1),q(d,"class",y="node "+e[0].data.key),q(d,"fill","black"),q(d,"stroke","white"),q(d,"stroke-width","2"),q(d,"paint-order","stroke fill"),q(d,"font-family","Montserrat"),q(r,"transform",v="rotate("+(e[0].x>=180?180:0)+")"),q(n,"transform",x="rotate("+(e[0].x-90)+")translate("+e[0].y+")")},m(t,o){N(t,n,o),M(n,i),M(n,r),M(r,a),M(r,d),M(d,h),e[15](d),b&&b.m(n,null),$||(w=[I(i,"mouseover",e[14]),I(i,"mousemove",e[10]),I(i,"mouseout",e[11])],$=!0)},p(t,[e]){128&e&&q(i,"r",t[7]),9&e&&l!==(l=(t[0].x<180?0:-0)+t[3].x-2)&&q(a,"x",l),8&e&&s!==(s=t[3].y-1)&&q(a,"y",s),8&e&&c!==(c=t[3].width+4)&&q(a,"width",c),8&e&&u!==(u=t[3].height+2)&&q(a,"height",u),1&e&&f!==(f=null==t[0].data.key?"none":"white")&&q(a,"fill",f),16&e&&F(h,t[4]),1&e&&p!==(p=t[0].x<180?15:-15)&&q(d,"x",p),1&e&&g!==(g=t[0].x<180?"start":"end")&&q(d,"text-anchor",g),1&e&&m!==(m=null==t[0].data.key?0:1)&&q(d,"opactity",m),1&e&&y!==(y="node "+t[0].data.key)&&q(d,"class",y),1&e&&v!==(v="rotate("+(t[0].x>=180?180:0)+")")&&q(r,"transform",v),t[1].visible?b?b.p(t,e):(b=rf(t),b.c(),b.m(n,null)):b&&(b.d(1),b=null),1&e&&x!==(x="rotate("+(t[0].x-90)+")translate("+t[0].y+")")&&q(n,"transform",x)},i:t,o:t,d(t){t&&R(n),e[15](null),b&&b.d(),$=!1,o(w)}}}function af(t,e,n){let i,r,o,a,{node:l}=e,{categories:s}=e,c=Xl().domain([0,200]).range([1.5,25]),u={x:0,y:0,width:0,height:0},d=Js(0,{duration:500,easing:Vs});function h(){o&&n(3,u=o.getBBox())}f(t,d,(t=>n(7,r=t))),ot(h);let p,g=0;let m={iso:null,x:0,y:0,visible:!1};function y(t,e){if(e){const[i,r]=kn(t);n(1,m={iso:e.data.count,x:i,y:r,visible:!0})}else n(1,m.visible=!1,m)}return t.$$set=t=>{"node"in t&&n(0,l=t.node),"categories"in t&&n(12,s=t.categories)},t.$$.update=()=>{if(1&t.$$.dirty&&d.set(void 0===l.data.count?0:c(l.data.count)),1&t.$$.dirty&&n(13,i=void 0===l.data.key?"pax_gender":l.data.key),12288&t.$$.dirty&&i&&s){let t=s.find((t=>t.id===i));n(4,a=t?t.name:null)}2&t.$$.dirty&&m.iso&&async function(){await xt(),p&&n(5,g=p.getBBox().width)}()},h(),[l,m,o,u,a,g,p,r,d,y,function(t){const[e,i]=kn(t);n(1,m.x=e,m),n(1,m.y=i,m)},function(){n(1,m.visible=!1,m)},s,i,t=>y(t,l),function(t){ht[t?"unshift":"push"]((()=>{o=t,n(2,o)}))},function(t){ht[t?"unshift":"push"]((()=>{p=t,n(6,p)}))}]}class lf extends jt{constructor(t){super(),qt(this,t,af,of,l,{node:0,categories:12})}}const sf=Math.min,cf=Math.max,uf=Math.round,ff=Math.floor,df=t=>({x:t,y:t}),hf={left:"right",right:"left",bottom:"top",top:"bottom"},pf={start:"end",end:"start"};function gf(t,e,n){return cf(t,sf(e,n))}function mf(t,e){return"function"==typeof t?t(e):t}function yf(t){return t.split("-")[0]}function vf(t){return t.split("-")[1]}function xf(t){return"x"===t?"y":"x"}function $f(t){return"y"===t?"height":"width"}const wf=new Set(["top","bottom"]);function bf(t){return wf.has(yf(t))?"y":"x"}function _f(t){return xf(bf(t))}function kf(t){return t.replace(/start|end/g,(t=>pf[t]))}const Sf=["left","right"],Mf=["right","left"],Af=["top","bottom"],Ef=["bottom","top"];function Nf(t,e,n,i){const r=vf(t);let o=function(t,e,n){switch(t){case"top":case"bottom":return n?e?Mf:Sf:e?Sf:Mf;case"left":case"right":return e?Af:Ef;default:return[]}}(yf(t),"start"===n,i);return r&&(o=o.map((t=>t+"-"+r)),e&&(o=o.concat(o.map(kf)))),o}function Rf(t){return t.replace(/left|right|bottom|top/g,(t=>hf[t]))}function Tf(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function Cf(t,e,n){let{reference:i,floating:r}=t;const o=bf(e),a=_f(e),l=$f(a),s=yf(e),c="y"===o,u=i.x+i.width/2-r.width/2,f=i.y+i.height/2-r.height/2,d=i[l]/2-r[l]/2;let h;switch(s){case"top":h={x:u,y:i.y-r.height};break;case"bottom":h={x:u,y:i.y+i.height};break;case"right":h={x:i.x+i.width,y:f};break;case"left":h={x:i.x-r.width,y:f};break;default:h={x:i.x,y:i.y}}switch(vf(e)){case"start":h[a]-=d*(n&&c?-1:1);break;case"end":h[a]+=d*(n&&c?-1:1)}return h}async function Of(t,e){var n;void 0===e&&(e={});const{x:i,y:r,platform:o,rects:a,elements:l,strategy:s}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=mf(e,t),p=function(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}(h),g=l[d?"floating"===f?"reference":"floating":f],m=Tf(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(g)))||n?g:g.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:s})),y="floating"===f?{x:i,y:r,width:a.floating.width,height:a.floating.height}:a.reference,v=await(null==o.getOffsetParent?void 0:o.getOffsetParent(l.floating)),x=await(null==o.isElement?void 0:o.isElement(v))&&await(null==o.getScale?void 0:o.getScale(v))||{x:1,y:1},$=Tf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:v,strategy:s}):y);return{top:(m.top-$.top+p.top)/x.y,bottom:($.bottom-m.bottom+p.bottom)/x.y,left:(m.left-$.left+p.left)/x.x,right:($.right-m.right+p.right)/x.x}}const Pf=new Set(["left","top"]);function Lf(){return"undefined"!=typeof window}function zf(t){return Df(t)?(t.nodeName||"").toLowerCase():"#document"}function If(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function Wf(t){var e;return null==(e=(Df(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function Df(t){return!!Lf()&&(t instanceof Node||t instanceof If(t).Node)}function qf(t){return!!Lf()&&(t instanceof Element||t instanceof If(t).Element)}function jf(t){return!!Lf()&&(t instanceof HTMLElement||t instanceof If(t).HTMLElement)}function Hf(t){return!(!Lf()||"undefined"==typeof ShadowRoot)&&(t instanceof ShadowRoot||t instanceof If(t).ShadowRoot)}const Bf=new Set(["inline","contents"]);function Ff(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=nd(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!Bf.has(r)}const Gf=new Set(["table","td","th"]);function Xf(t){return Gf.has(zf(t))}const Vf=[":popover-open",":modal"];function Yf(t){return Vf.some((e=>{try{return t.matches(e)}catch(t){return!1}}))}const Uf=["transform","translate","scale","rotate","perspective"],Jf=["transform","translate","scale","rotate","perspective","filter"],Zf=["paint","layout","strict","content"];function Qf(t){const e=Kf(),n=qf(t)?nd(t):t;return Uf.some((t=>!!n[t]&&"none"!==n[t]))||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||Jf.some((t=>(n.willChange||"").includes(t)))||Zf.some((t=>(n.contain||"").includes(t)))}function Kf(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const td=new Set(["html","body","#document"]);function ed(t){return td.has(zf(t))}function nd(t){return If(t).getComputedStyle(t)}function id(t){return qf(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function rd(t){if("html"===zf(t))return t;const e=t.assignedSlot||t.parentNode||Hf(t)&&t.host||Wf(t);return Hf(e)?e.host:e}function od(t){const e=rd(t);return ed(e)?t.ownerDocument?t.ownerDocument.body:t.body:jf(e)&&Ff(e)?e:od(e)}function ad(t,e,n){var i;void 0===e&&(e=[]),void 0===n&&(n=!0);const r=od(t),o=r===(null==(i=t.ownerDocument)?void 0:i.body),a=If(r);if(o){const t=ld(a);return e.concat(a,a.visualViewport||[],Ff(r)?r:[],t&&n?ad(t):[])}return e.concat(r,ad(r,[],n))}function ld(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function sd(t){const e=nd(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=jf(t),o=r?t.offsetWidth:n,a=r?t.offsetHeight:i,l=uf(n)!==o||uf(i)!==a;return l&&(n=o,i=a),{width:n,height:i,$:l}}function cd(t){return qf(t)?t:t.contextElement}function ud(t){const e=cd(t);if(!jf(e))return df(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:o}=sd(e);let a=(o?uf(n.width):n.width)/i,l=(o?uf(n.height):n.height)/r;return a&&Number.isFinite(a)||(a=1),l&&Number.isFinite(l)||(l=1),{x:a,y:l}}const fd=df(0);function dd(t){const e=If(t);return Kf()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:fd}function hd(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n=!1);const r=t.getBoundingClientRect(),o=cd(t);let a=df(1);e&&(i?qf(i)&&(a=ud(i)):a=ud(t));const l=function(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==If(t))&&e}(o,n,i)?dd(o):df(0);let s=(r.left+l.x)/a.x,c=(r.top+l.y)/a.y,u=r.width/a.x,f=r.height/a.y;if(o){const t=If(o),e=i&&qf(i)?If(i):i;let n=t,r=ld(n);for(;r&&i&&e!==n;){const t=ud(r),e=r.getBoundingClientRect(),i=nd(r),o=e.left+(r.clientLeft+parseFloat(i.paddingLeft))*t.x,a=e.top+(r.clientTop+parseFloat(i.paddingTop))*t.y;s*=t.x,c*=t.y,u*=t.x,f*=t.y,s+=o,c+=a,n=If(r),r=ld(n)}}return Tf({width:u,height:f,x:s,y:c})}function pd(t,e){const n=id(t).scrollLeft;return e?e.left+n:hd(Wf(t)).left+n}function gd(t,e){const n=t.getBoundingClientRect();return{x:n.left+e.scrollLeft-pd(t,n),y:n.top+e.scrollTop}}const md=25;const yd=new Set(["absolute","fixed"]);function vd(t,e,n){let i;if("viewport"===e)i=function(t,e){const n=If(t),i=Wf(t),r=n.visualViewport;let o=i.clientWidth,a=i.clientHeight,l=0,s=0;if(r){o=r.width,a=r.height;const t=Kf();(!t||t&&"fixed"===e)&&(l=r.offsetLeft,s=r.offsetTop)}const c=pd(i);if(c<=0){const t=i.ownerDocument,e=t.body,n=getComputedStyle(e),r="CSS1Compat"===t.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,a=Math.abs(i.clientWidth-e.clientWidth-r);a<=md&&(o-=a)}else c<=md&&(o+=c);return{width:o,height:a,x:l,y:s}}(t,n);else if("document"===e)i=function(t){const e=Wf(t),n=id(t),i=t.ownerDocument.body,r=cf(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),o=cf(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+pd(t);const l=-n.scrollTop;return"rtl"===nd(i).direction&&(a+=cf(e.clientWidth,i.clientWidth)-r),{width:r,height:o,x:a,y:l}}(Wf(t));else if(qf(e))i=function(t,e){const n=hd(t,!0,"fixed"===e),i=n.top+t.clientTop,r=n.left+t.clientLeft,o=jf(t)?ud(t):df(1);return{width:t.clientWidth*o.x,height:t.clientHeight*o.y,x:r*o.x,y:i*o.y}}(e,n);else{const n=dd(t);i={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return Tf(i)}function xd(t,e){const n=rd(t);return!(n===e||!qf(n)||ed(n))&&("fixed"===nd(n).position||xd(n,e))}function $d(t,e,n){const i=jf(e),r=Wf(e),o="fixed"===n,a=hd(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const s=df(0);function c(){s.x=pd(r)}if(i||!i&&!o)if(("body"!==zf(e)||Ff(r))&&(l=id(e)),i){const t=hd(e,!0,o,e);s.x=t.x+e.clientLeft,s.y=t.y+e.clientTop}else r&&c();o&&!i&&r&&c();const u=!r||i||o?df(0):gd(r,l);return{x:a.left+l.scrollLeft-s.x-u.x,y:a.top+l.scrollTop-s.y-u.y,width:a.width,height:a.height}}function wd(t){return"static"===nd(t).position}function bd(t,e){if(!jf(t)||"fixed"===nd(t).position)return null;if(e)return e(t);let n=t.offsetParent;return Wf(t)===n&&(n=n.ownerDocument.body),n}function _d(t,e){const n=If(t);if(Yf(t))return n;if(!jf(t)){let e=rd(t);for(;e&&!ed(e);){if(qf(e)&&!wd(e))return e;e=rd(e)}return n}let i=bd(t,e);for(;i&&Xf(i)&&wd(i);)i=bd(i,e);return i&&ed(i)&&wd(i)&&!Qf(i)?n:i||function(t){let e=rd(t);for(;jf(e)&&!ed(e);){if(Qf(e))return e;if(Yf(e))return null;e=rd(e)}return null}(t)||n}const kd={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const o="fixed"===r,a=Wf(i),l=!!e&&Yf(e.floating);if(i===a||l&&o)return n;let s={scrollLeft:0,scrollTop:0},c=df(1);const u=df(0),f=jf(i);if((f||!f&&!o)&&(("body"!==zf(i)||Ff(a))&&(s=id(i)),jf(i))){const t=hd(i);c=ud(i),u.x=t.x+i.clientLeft,u.y=t.y+i.clientTop}const d=!a||f||o?df(0):gd(a,s);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-s.scrollLeft*c.x+u.x+d.x,y:n.y*c.y-s.scrollTop*c.y+u.y+d.y}},getDocumentElement:Wf,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const o="clippingAncestors"===n?Yf(e)?[]:function(t,e){const n=e.get(t);if(n)return n;let i=ad(t,[],!1).filter((t=>qf(t)&&"body"!==zf(t))),r=null;const o="fixed"===nd(t).position;let a=o?rd(t):t;for(;qf(a)&&!ed(a);){const e=nd(a),n=Qf(a);n||"fixed"!==e.position||(r=null),(o?!n&&!r:!n&&"static"===e.position&&r&&yd.has(r.position)||Ff(a)&&!n&&xd(t,a))?i=i.filter((t=>t!==a)):r=e,a=rd(a)}return e.set(t,i),i}(e,this._c):[].concat(n),a=[...o,i],l=a[0],s=a.reduce(((t,n)=>{const i=vd(e,n,r);return t.top=cf(i.top,t.top),t.right=sf(i.right,t.right),t.bottom=sf(i.bottom,t.bottom),t.left=cf(i.left,t.left),t}),vd(e,l,r));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:_d,getElementRects:async function(t){const e=this.getOffsetParent||_d,n=this.getDimensions,i=await n(t.floating);return{reference:$d(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:n}=sd(t);return{width:e,height:n}},getScale:ud,isElement:qf,isRTL:function(t){return"rtl"===nd(t).direction}};function Sd(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Md(t,e,n,i){void 0===i&&(i={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:s=!1}=i,c=cd(t),u=r||o?[...c?ad(c):[],...ad(e)]:[];u.forEach((t=>{r&&t.addEventListener("scroll",n,{passive:!0}),o&&t.addEventListener("resize",n)}));const f=c&&l?function(t,e){let n,i=null;const r=Wf(t);function o(){var t;clearTimeout(n),null==(t=i)||t.disconnect(),i=null}return function a(l,s){void 0===l&&(l=!1),void 0===s&&(s=1),o();const c=t.getBoundingClientRect(),{left:u,top:f,width:d,height:h}=c;if(l||e(),!d||!h)return;const p={rootMargin:-ff(f)+"px "+-ff(r.clientWidth-(u+d))+"px "+-ff(r.clientHeight-(f+h))+"px "+-ff(u)+"px",threshold:cf(0,sf(1,s))||1};let g=!0;function m(e){const i=e[0].intersectionRatio;if(i!==s){if(!g)return a();i?a(!1,i):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}1!==i||Sd(c,t.getBoundingClientRect())||a(),g=!1}try{i=new IntersectionObserver(m,{...p,root:r.ownerDocument})}catch(t){i=new IntersectionObserver(m,p)}i.observe(t)}(!0),o}(c,n):null;let d,h=-1,p=null;a&&(p=new ResizeObserver((t=>{let[i]=t;i&&i.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame((()=>{var t;null==(t=p)||t.observe(e)}))),n()})),c&&!s&&p.observe(c),p.observe(e));let g=s?hd(t):null;return s&&function e(){const i=hd(t);g&&!Sd(g,i)&&n();g=i,d=requestAnimationFrame(e)}(),n(),()=>{var t;u.forEach((t=>{r&&t.removeEventListener("scroll",n),o&&t.removeEventListener("resize",n)})),null==f||f(),null==(t=p)||t.disconnect(),p=null,s&&cancelAnimationFrame(d)}}const Ad=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:o,placement:a,middlewareData:l}=e,s=await async function(t,e){const{placement:n,platform:i,elements:r}=t,o=await(null==i.isRTL?void 0:i.isRTL(r.floating)),a=yf(n),l=vf(n),s="y"===bf(n),c=Pf.has(a)?-1:1,u=o&&s?-1:1,f=mf(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:p}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&"number"==typeof p&&(h="end"===l?-1*p:p),s?{x:h*u,y:d*c}:{x:d*c,y:h*u}}(e,t);return a===(null==(n=l.offset)?void 0:n.placement)&&null!=(i=l.arrow)&&i.alignmentOffset?{}:{x:r+s.x,y:o+s.y,data:{...s,placement:a}}}}},Ed=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...s}=mf(t,e),c={x:n,y:i},u=await Of(e,s),f=bf(yf(r)),d=xf(f);let h=c[d],p=c[f];if(o){const t="y"===d?"bottom":"right";h=gf(h+u["y"===d?"top":"left"],h,h-u[t])}if(a){const t="y"===f?"bottom":"right";p=gf(p+u["y"===f?"top":"left"],p,p-u[t])}const g=l.fn({...e,[d]:h,[f]:p});return{...g,data:{x:g.x-n,y:g.y-i,enabled:{[d]:o,[f]:a}}}}}},Nd=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:o,rects:a,initialPlacement:l,platform:s,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=mf(t,e);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const y=yf(r),v=bf(l),x=yf(l)===l,$=await(null==s.isRTL?void 0:s.isRTL(c.floating)),w=d||(x||!g?[Rf(l)]:function(t){const e=Rf(t);return[kf(t),e,kf(e)]}(l)),b="none"!==p;!d&&b&&w.push(...Nf(l,g,p,$));const _=[l,...w],k=await Of(e,m),S=[];let M=(null==(i=o.flip)?void 0:i.overflows)||[];if(u&&S.push(k[y]),f){const t=function(t,e,n){void 0===n&&(n=!1);const i=vf(t),r=_f(t),o=$f(r);let a="x"===r?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=Rf(a)),[a,Rf(a)]}(r,a,$);S.push(k[t[0]],k[t[1]])}if(M=[...M,{placement:r,overflows:S}],!S.every((t=>t<=0))){var A,E;const t=((null==(A=o.flip)?void 0:A.index)||0)+1,e=_[t];if(e){if(!("alignment"===f&&v!==bf(e))||M.every((t=>bf(t.placement)!==v||t.overflows[0]>0)))return{data:{index:t,overflows:M},reset:{placement:e}}}let n=null==(E=M.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:E.placement;if(!n)switch(h){case"bestFit":{var N;const t=null==(N=M.filter((t=>{if(b){const e=bf(t.placement);return e===v||"y"===e}return!0})).map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:N[0];t&&(n=t);break}case"initialPlacement":n=l}if(r!==n)return{reset:{placement:n}}}return{}}}},Rd=(t,e,n)=>{const i=new Map,r={platform:kd,...n},o={...r.platform,_c:i};return(async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),s=await(null==a.isRTL?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:f}=Cf(c,i,s),d=i,h={},p=0;for(let n=0;n<l.length;n++){const{name:o,fn:g}=l[n],{x:m,y:y,data:v,reset:x}=await g({x:u,y:f,initialPlacement:i,placement:d,strategy:r,middlewareData:h,rects:c,platform:a,elements:{reference:t,floating:e}});u=null!=m?m:u,f=null!=y?y:f,h={...h,[o]:{...h[o],...v}},x&&p<=50&&(p++,"object"==typeof x&&(x.placement&&(d=x.placement),x.rects&&(c=!0===x.rects?await a.getElementRects({reference:t,floating:e,strategy:r}):x.rects),({x:u,y:f}=Cf(c,d,s))),n=-1)}return{x:u,y:f,placement:d,strategy:r,middlewareData:h}})(t,e,{...r,platform:o})};function Td({loadOptions:t,filterText:e,items:n,multiple:i,value:r,itemId:o,groupBy:a,filterSelectedItems:l,itemFilter:s,convertStringItemsToObjects:c,filterGroupedItems:u,label:f}){if(n&&t)return n;if(!n)return[];n&&n.length>0&&"object"!=typeof n[0]&&(n=c(n));let d=n.filter((t=>{let n=s(t[f],e,t);return n&&i&&r?.length&&(n=!r.some((e=>!!l&&e[o]===t[o]))),n}));return a&&(d=u(d)),d}async function Cd({dispatch:t,loadOptions:e,convertStringItemsToObjects:n,filterText:i}){let r=await e(i).catch((e=>{console.warn("svelte-select loadOptions error :>> ",e),t("error",{type:"loadOptions",details:e})}));if(r&&!r.cancelled)return r?(r&&r.length>0&&"object"!=typeof r[0]&&(r=n(r)),t("loaded",{items:r})):r=[],{filteredItems:r,loading:!1,focused:!0,listOpen:!0}}function Od(e){let n,i;return{c(){n=O("svg"),i=O("path"),q(i,"fill","currentColor"),q(i,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747\n          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0\n          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502\n          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0\n          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),q(n,"width","100%"),q(n,"height","100%"),q(n,"viewBox","0 0 20 20"),q(n,"focusable","false"),q(n,"aria-hidden","true"),q(n,"class","svelte-qbd276")},m(t,e){N(t,n,e),M(n,i)},p:t,i:t,o:t,d(t){t&&R(n)}}}class Pd extends jt{constructor(t){super(),qt(this,t,null,Od,l,{})}}function Ld(e){let n,i;return{c(){n=O("svg"),i=O("path"),q(i,"fill","currentColor"),q(i,"d","M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124\n    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"),q(n,"width","100%"),q(n,"height","100%"),q(n,"viewBox","-2 -2 50 50"),q(n,"focusable","false"),q(n,"aria-hidden","true"),q(n,"role","presentation"),q(n,"class","svelte-whdbu1")},m(t,e){N(t,n,e),M(n,i)},p:t,i:t,o:t,d(t){t&&R(n)}}}class zd extends jt{constructor(t){super(),qt(this,t,null,Ld,l,{})}}function Id(e){let n,i;return{c(){n=O("svg"),i=O("circle"),q(i,"class","circle_path svelte-1p3nqvd"),q(i,"cx","50"),q(i,"cy","50"),q(i,"r","20"),q(i,"fill","none"),q(i,"stroke","currentColor"),q(i,"stroke-width","5"),q(i,"stroke-miterlimit","10"),q(n,"class","loading svelte-1p3nqvd"),q(n,"viewBox","25 25 50 50")},m(t,e){N(t,n,e),M(n,i)},p:t,i:t,o:t,d(t){t&&R(n)}}}class Wd extends jt{constructor(t){super(),qt(this,t,null,Id,l,{})}}const Dd=t=>({value:8&t[0]}),qd=t=>({value:t[3]}),jd=t=>({value:8&t[0]}),Hd=t=>({value:t[3]}),Bd=t=>({listOpen:64&t[0]}),Fd=t=>({listOpen:t[6]}),Gd=t=>({}),Xd=t=>({}),Vd=t=>({}),Yd=t=>({}),Ud=t=>({selection:8&t[0]}),Jd=t=>({selection:t[3]});function Zd(t,e,n){const i=t.slice();return i[126]=e[n],i[128]=n,i}const Qd=t=>({}),Kd=t=>({}),th=t=>({selection:8&t[0]}),eh=t=>({selection:t[126],index:t[128]}),nh=t=>({}),ih=t=>({}),rh=t=>({}),oh=t=>({}),ah=t=>({}),lh=t=>({});function sh(t,e,n){const i=t.slice();return i[126]=e[n],i[128]=n,i}const ch=t=>({item:16777216&t[0]}),uh=t=>({item:t[126],index:t[128]}),fh=t=>({filteredItems:16777216&t[0]}),dh=t=>({filteredItems:t[24]}),hh=t=>({}),ph=t=>({});function gh(t){let e,n,i,r,a,l,s,c,u,f=t[50]["list-prepend"]&&mh(t);const d=[xh,vh,yh],h=[];function p(t,e){return t[50].list?0:t[24].length>0?1:t[19]?-1:2}~(i=p(t))&&(r=h[i]=d[i](t));let g=t[50]["list-append"]&&wh(t);return{c(){e=C("div"),f&&f.c(),n=L(),r&&r.c(),a=L(),g&&g.c(),q(e,"class","svelte-select-list svelte-82qwg8"),q(e,"role","none"),J(e,"prefloat",t[28])},m(r,o){N(r,e,o),f&&f.m(e,null),M(e,n),~i&&h[i].m(e,null),M(e,a),g&&g.m(e,null),t[91](e),s=!0,c||(u=[v(l=t[49].call(null,e)),I(e,"scroll",t[41]),I(e,"pointerup",D(W(t[85]))),I(e,"mousedown",D(W(t[86])))],c=!0)},p(t,o){t[50]["list-prepend"]?f?(f.p(t,o),524288&o[1]&&Ct(f,1)):(f=mh(t),f.c(),Ct(f,1),f.m(e,n)):f&&(Rt(),Ot(f,1,1,(()=>{f=null})),Tt());let l=i;i=p(t),i===l?~i&&h[i].p(t,o):(r&&(Rt(),Ot(h[l],1,1,(()=>{h[l]=null})),Tt()),~i?(r=h[i],r?r.p(t,o):(r=h[i]=d[i](t),r.c()),Ct(r,1),r.m(e,a)):r=null),t[50]["list-append"]?g?(g.p(t,o),524288&o[1]&&Ct(g,1)):(g=wh(t),g.c(),Ct(g,1),g.m(e,null)):g&&(Rt(),Ot(g,1,1,(()=>{g=null})),Tt()),(!s||268435456&o[0])&&J(e,"prefloat",t[28])},i(t){s||(Ct(f),Ct(r),Ct(g),s=!0)},o(t){Ot(f),Ot(r),Ot(g),s=!1},d(n){n&&R(e),f&&f.d(),~i&&h[i].d(),g&&g.d(),t[91](null),c=!1,o(u)}}}function mh(t){let e;const n=t[83]["list-prepend"],i=d(n,t,t[82],ph);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,r){i&&i.p&&(!e||1048576&r[2])&&g(i,n,t,t[82],e?p(n,t[82],r,hh):m(t[82]),ph)},i(t){e||(Ct(i,t),e=!0)},o(t){Ot(i,t),e=!1},d(t){i&&i.d(t)}}}function yh(e){let n;const i=e[83].empty,r=d(i,e,e[82],lh),o=r||function(){let e;return{c(){e=C("div"),e.textContent="No options",q(e,"class","empty svelte-82qwg8")},m(t,n){N(t,e,n)},p:t,d(t){t&&R(e)}}}();return{c(){o&&o.c()},m(t,e){o&&o.m(t,e),n=!0},p(t,e){r&&r.p&&(!n||1048576&e[2])&&g(r,i,t,t[82],n?p(i,t[82],e,ah):m(t[82]),lh)},i(t){n||(Ct(o,t),n=!0)},o(t){Ot(o,t),n=!1},d(t){o&&o.d(t)}}}function vh(t){let e,n,i=t[24],r=[];for(let e=0;e<i.length;e+=1)r[e]=$h(sh(t,i,e));const o=t=>Ot(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=z()},m(t,i){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,i);N(t,e,i),n=!0},p(t,n){if(1627402376&n[0]|28672&n[1]|1048576&n[2]){let a;for(i=t[24],a=0;a<i.length;a+=1){const o=sh(t,i,a);r[a]?(r[a].p(o,n),Ct(r[a],1)):(r[a]=$h(o),r[a].c(),Ct(r[a],1),r[a].m(e.parentNode,e))}for(Rt(),a=i.length;a<r.length;a+=1)o(a);Tt()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)Ct(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)Ot(r[t]);n=!1},d(t){T(r,t),t&&R(e)}}}function xh(t){let e;const n=t[83].list,i=d(n,t,t[82],dh);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,r){i&&i.p&&(!e||16777216&r[0]|1048576&r[2])&&g(i,n,t,t[82],e?p(n,t[82],r,fh):m(t[82]),dh)},i(t){e||(Ct(i,t),e=!0)},o(t){Ot(i,t),e=!1},d(t){i&&i.d(t)}}}function $h(t){let e,n,i,r,l,s,c,u;const f=t[83].item,h=d(f,t,t[82],uh),y=h||function(t){let e,n=t[126]?.[t[12]]+"";return{c(){e=P(n)},m(t,n){N(t,e,n)},p(t,i){16781312&i[0]&&n!==(n=t[126]?.[t[12]]+"")&&F(e,n)},d(t){t&&R(e)}}}(t);function x(){return t[88](t[128])}function $(){return t[89](t[128])}function w(){return t[90](t[126],t[128])}return{c(){e=C("div"),n=C("div"),y&&y.c(),l=L(),q(n,"class","item svelte-82qwg8"),J(n,"list-group-title",t[126].groupHeader),J(n,"active",t[45](t[126],t[3],t[13])),J(n,"first",0===t[128]),J(n,"hover",t[7]===t[128]),J(n,"group-item",t[126].groupItem),J(n,"not-selectable",!1===t[126]?.selectable),q(e,"class","list-item svelte-82qwg8"),q(e,"tabindex","-1"),q(e,"role","none")},m(o,a){N(o,e,a),M(e,n),y&&y.m(n,null),M(e,l),s=!0,c||(u=[v(i=t[46].call(null,n,{scroll:t[45](t[126],t[3],t[13]),listDom:t[30]})),v(r=t[47].call(null,n,{scroll:t[29]===t[128],listDom:t[30]})),I(e,"mouseover",x),I(e,"focus",$),I(e,"click",D(w)),I(e,"keydown",D(W(t[87])))],c=!0)},p(e,o){t=e,h?h.p&&(!s||16777216&o[0]|1048576&o[2])&&g(h,f,t,t[82],s?p(f,t[82],o,ch):m(t[82]),uh):y&&y.p&&(!s||16781312&o[0])&&y.p(t,s?o:[-1,-1,-1,-1,-1]),i&&a(i.update)&&1090527240&o[0]&&i.update.call(null,{scroll:t[45](t[126],t[3],t[13]),listDom:t[30]}),r&&a(r.update)&&1610612736&o[0]&&r.update.call(null,{scroll:t[29]===t[128],listDom:t[30]}),(!s||16777216&o[0])&&J(n,"list-group-title",t[126].groupHeader),(!s||16785416&o[0]|16384&o[1])&&J(n,"active",t[45](t[126],t[3],t[13])),(!s||128&o[0])&&J(n,"hover",t[7]===t[128]),(!s||16777216&o[0])&&J(n,"group-item",t[126].groupItem),(!s||16777216&o[0])&&J(n,"not-selectable",!1===t[126]?.selectable)},i(t){s||(Ct(y,t),s=!0)},o(t){Ot(y,t),s=!1},d(t){t&&R(e),y&&y.d(t),c=!1,o(u)}}}function wh(t){let e;const n=t[83]["list-append"],i=d(n,t,t[82],oh);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,r){i&&i.p&&(!e||1048576&r[2])&&g(i,n,t,t[82],e?p(n,t[82],r,rh):m(t[82]),oh)},i(t){e||(Ct(i,t),e=!0)},o(t){Ot(i,t),e=!1},d(t){i&&i.d(t)}}}function bh(t){let e,n,i,r,o;return{c(){e=C("span"),n=P(t[32]),i=L(),r=C("span"),o=P(t[31]),q(e,"id","aria-selection"),q(e,"class","svelte-82qwg8"),q(r,"id","aria-context"),q(r,"class","svelte-82qwg8")},m(t,a){N(t,e,a),M(e,n),N(t,i,a),N(t,r,a),M(r,o)},p(t,e){2&e[1]&&F(n,t[32]),1&e[1]&&F(o,t[31])},d(t){t&&R(e),t&&R(i),t&&R(r)}}}function _h(t){let e,n,i,r;const o=[Sh,kh],a=[];function l(t,e){return t[9]?0:1}return e=l(t),n=a[e]=o[e](t),{c(){n.c(),i=z()},m(t,n){a[e].m(t,n),N(t,i,n),r=!0},p(t,r){let s=e;e=l(t),e===s?a[e].p(t,r):(Rt(),Ot(a[s],1,1,(()=>{a[s]=null})),Tt(),n=a[e],n?n.p(t,r):(n=a[e]=o[e](t),n.c()),Ct(n,1),n.m(i.parentNode,i))},i(t){r||(Ct(n),r=!0)},o(t){Ot(n),r=!1},d(t){a[e].d(t),t&&R(i)}}}function kh(t){let e,n;const i=t[83].selection,r=d(i,t,t[82],Jd),o=r||function(t){let e,n=t[3][t[12]]+"";return{c(){e=P(n)},m(t,n){N(t,e,n)},p(t,i){4104&i[0]&&n!==(n=t[3][t[12]]+"")&&F(e,n)},d(t){t&&R(e)}}}(t);return{c(){e=C("div"),o&&o.c(),q(e,"class","selected-item svelte-82qwg8"),J(e,"hide-selected-item",t[35])},m(t,i){N(t,e,i),o&&o.m(e,null),n=!0},p(t,a){r?r.p&&(!n||8&a[0]|1048576&a[2])&&g(r,i,t,t[82],n?p(i,t[82],a,Ud):m(t[82]),Jd):o&&o.p&&(!n||4104&a[0])&&o.p(t,n?a:[-1,-1,-1,-1,-1]),(!n||16&a[1])&&J(e,"hide-selected-item",t[35])},i(t){n||(Ct(o,t),n=!0)},o(t){Ot(o,t),n=!1},d(t){t&&R(e),o&&o.d(t)}}}function Sh(t){let e,n,i=t[3],r=[];for(let e=0;e<i.length;e+=1)r[e]=Ah(Zd(t,i,e));const o=t=>Ot(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=z()},m(t,i){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,i);N(t,e,i),n=!0},p(t,n){if(67116040&n[0]|32&n[1]|1048576&n[2]){let a;for(i=t[3],a=0;a<i.length;a+=1){const o=Zd(t,i,a);r[a]?(r[a].p(o,n),Ct(r[a],1)):(r[a]=Ah(o),r[a].c(),Ct(r[a],1),r[a].m(e.parentNode,e))}for(Rt(),a=i.length;a<r.length;a+=1)o(a);Tt()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)Ct(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)Ot(r[t]);n=!1},d(t){T(r,t),t&&R(e)}}}function Mh(t){let e,n,i,r;const o=t[83]["multi-clear-icon"],a=d(o,t,t[82],Kd),l=a||function(){let t,e;return t=new zd({}),{c(){It(t.$$.fragment)},m(n,i){Wt(t,n,i),e=!0},i(n){e||(Ct(t.$$.fragment,n),e=!0)},o(n){Ot(t.$$.fragment,n),e=!1},d(e){Dt(t,e)}}}();function s(){return t[92](t[128])}return{c(){e=C("div"),l&&l.c(),q(e,"class","multi-item-clear svelte-82qwg8")},m(t,o){N(t,e,o),l&&l.m(e,null),n=!0,i||(r=I(e,"pointerup",D(W(s))),i=!0)},p(e,i){t=e,a&&a.p&&(!n||1048576&i[2])&&g(a,o,t,t[82],n?p(o,t[82],i,Qd):m(t[82]),Kd)},i(t){n||(Ct(l,t),n=!0)},o(t){Ot(l,t),n=!1},d(t){t&&R(e),l&&l.d(t),i=!1,r()}}}function Ah(t){let e,n,i,r,a,l,s;const c=t[83].selection,u=d(c,t,t[82],eh),f=u||function(t){let e,n=t[126][t[12]]+"";return{c(){e=P(n)},m(t,n){N(t,e,n)},p(t,i){4104&i[0]&&n!==(n=t[126][t[12]]+"")&&F(e,n)},d(t){t&&R(e)}}}(t);let h=!t[11]&&!t[10]&&zd&&Mh(t);function y(){return t[93](t[128])}return{c(){e=C("div"),n=C("span"),f&&f.c(),i=L(),h&&h.c(),r=L(),q(n,"class","multi-item-text svelte-82qwg8"),q(e,"class","multi-item svelte-82qwg8"),q(e,"role","none"),J(e,"active",t[26]===t[128]),J(e,"disabled",t[11])},m(o,c){N(o,e,c),M(e,n),f&&f.m(n,null),M(e,i),h&&h.m(e,null),M(e,r),a=!0,l||(s=[I(e,"click",W(y)),I(e,"keydown",D(W(t[84])))],l=!0)},p(n,i){t=n,u?u.p&&(!a||8&i[0]|1048576&i[2])&&g(u,c,t,t[82],a?p(c,t[82],i,th):m(t[82]),eh):f&&f.p&&(!a||4104&i[0])&&f.p(t,a?i:[-1,-1,-1,-1,-1]),t[11]||t[10]||!zd?h&&(Rt(),Ot(h,1,1,(()=>{h=null})),Tt()):h?(h.p(t,i),3072&i[0]&&Ct(h,1)):(h=Mh(t),h.c(),Ct(h,1),h.m(e,r)),(!a||67108864&i[0])&&J(e,"active",t[26]===t[128]),(!a||2048&i[0])&&J(e,"disabled",t[11])},i(t){a||(Ct(f,t),Ct(h),a=!0)},o(t){Ot(f,t),Ot(h),a=!1},d(t){t&&R(e),f&&f.d(t),h&&h.d(),l=!1,o(s)}}}function Eh(t){let e,n;const i=t[83]["loading-icon"],r=d(i,t,t[82],Yd),o=r||function(){let t,e;return t=new Wd({}),{c(){It(t.$$.fragment)},m(n,i){Wt(t,n,i),e=!0},i(n){e||(Ct(t.$$.fragment,n),e=!0)},o(n){Ot(t.$$.fragment,n),e=!1},d(e){Dt(t,e)}}}();return{c(){e=C("div"),o&&o.c(),q(e,"class","icon loading svelte-82qwg8"),q(e,"aria-hidden","true")},m(t,i){N(t,e,i),o&&o.m(e,null),n=!0},p(t,e){r&&r.p&&(!n||1048576&e[2])&&g(r,i,t,t[82],n?p(i,t[82],e,Vd):m(t[82]),Yd)},i(t){n||(Ct(o,t),n=!0)},o(t){Ot(o,t),n=!1},d(t){t&&R(e),o&&o.d(t)}}}function Nh(t){let e,n,i,r;const o=t[83]["clear-icon"],a=d(o,t,t[82],Xd),l=a||function(){let t,e;return t=new zd({}),{c(){It(t.$$.fragment)},m(n,i){Wt(t,n,i),e=!0},i(n){e||(Ct(t.$$.fragment,n),e=!0)},o(n){Ot(t.$$.fragment,n),e=!1},d(e){Dt(t,e)}}}();return{c(){e=C("button"),l&&l.c(),q(e,"type","button"),q(e,"class","icon clear-select svelte-82qwg8")},m(o,a){N(o,e,a),l&&l.m(e,null),n=!0,i||(r=I(e,"click",t[22]),i=!0)},p(t,e){a&&a.p&&(!n||1048576&e[2])&&g(a,o,t,t[82],n?p(o,t[82],e,Gd):m(t[82]),Xd)},i(t){n||(Ct(l,t),n=!0)},o(t){Ot(l,t),n=!1},d(t){t&&R(e),l&&l.d(t),i=!1,r()}}}function Rh(t){let e,n;const i=t[83]["chevron-icon"],r=d(i,t,t[82],Fd),o=r||function(){let t,e;return t=new Pd({}),{c(){It(t.$$.fragment)},m(n,i){Wt(t,n,i),e=!0},i(n){e||(Ct(t.$$.fragment,n),e=!0)},o(n){Ot(t.$$.fragment,n),e=!1},d(e){Dt(t,e)}}}();return{c(){e=C("div"),o&&o.c(),q(e,"class","icon chevron svelte-82qwg8"),q(e,"aria-hidden","true")},m(t,i){N(t,e,i),o&&o.m(e,null),n=!0},p(t,e){r&&r.p&&(!n||64&e[0]|1048576&e[2])&&g(r,i,t,t[82],n?p(i,t[82],e,Bd):m(t[82]),Fd)},i(t){n||(Ct(o,t),n=!0)},o(t){Ot(o,t),n=!1},d(t){t&&R(e),o&&o.d(t)}}}function Th(e){let n;const i=e[83].required,r=d(i,e,e[82],qd),o=r||function(){let e;return{c(){e=C("select"),q(e,"class","required svelte-82qwg8"),e.required=!0,q(e,"tabindex","-1"),q(e,"aria-hidden","true")},m(t,n){N(t,e,n)},p:t,d(t){t&&R(e)}}}();return{c(){o&&o.c()},m(t,e){o&&o.m(t,e),n=!0},p(t,e){r&&r.p&&(!n||8&e[0]|1048576&e[2])&&g(r,i,t,t[82],n?p(i,t[82],e,Dd):m(t[82]),qd)},i(t){n||(Ct(o,t),n=!0)},o(t){Ot(o,t),n=!1},d(t){o&&o.d(t)}}}function Ch(t){let e,i,r,a,l,s,c,u,f,h,y,x,$,w,b,_,k,S,A,E,T,O=t[6]&&gh(t),P=t[2]&&bh(t);const z=t[83].prepend,D=d(z,t,t[82],ih);let j=t[25]&&_h(t),B=[{readOnly:h=!t[17]},t[27],{placeholder:t[33]},{style:t[18]},{disabled:t[11]}],F={};for(let t=0;t<B.length;t+=1)F=n(F,B[t]);let X=t[5]&&Eh(t),V=t[34]&&Nh(t),Y=t[20]&&Rh(t);const U=t[83]["input-hidden"],Z=d(U,t,t[82],Hd),Q=Z||function(t){let e,n;return{c(){e=C("input"),q(e,"name",t[8]),q(e,"type","hidden"),e.value=n=t[3]?JSON.stringify(t[3]):null,q(e,"class","svelte-82qwg8")},m(t,n){N(t,e,n)},p(t,i){256&i[0]&&q(e,"name",t[8]),8&i[0]&&n!==(n=t[3]?JSON.stringify(t[3]):null)&&(e.value=n)},d(t){t&&R(e)}}}(t);let K=t[16]&&(!t[3]||0===t[3].length)&&Th(t);return{c(){e=C("div"),O&&O.c(),i=L(),r=C("span"),P&&P.c(),a=L(),l=C("div"),D&&D.c(),s=L(),c=C("div"),j&&j.c(),u=L(),f=C("input"),y=L(),x=C("div"),X&&X.c(),$=L(),V&&V.c(),w=L(),Y&&Y.c(),b=L(),Q&&Q.c(),_=L(),K&&K.c(),q(r,"aria-live","polite"),q(r,"aria-atomic","false"),q(r,"aria-relevant","additions text"),q(r,"class","a11y-text svelte-82qwg8"),q(l,"class","prepend svelte-82qwg8"),H(f,F),J(f,"svelte-82qwg8",!0),q(c,"class","value-container svelte-82qwg8"),q(x,"class","indicators svelte-82qwg8"),q(e,"class",k="svelte-select "+t[21]+" svelte-82qwg8"),q(e,"style",t[14]),q(e,"role","none"),J(e,"multi",t[9]),J(e,"disabled",t[11]),J(e,"focused",t[2]),J(e,"list-open",t[6]),J(e,"show-chevron",t[20]),J(e,"error",t[15])},m(n,o){N(n,e,o),O&&O.m(e,null),M(e,i),M(e,r),P&&P.m(r,null),M(e,a),M(e,l),D&&D.m(l,null),M(e,s),M(e,c),j&&j.m(c,null),M(c,u),M(c,f),f.autofocus&&f.focus(),t[94](f),G(f,t[4]),M(e,y),M(e,x),X&&X.m(x,null),M(x,$),V&&V.m(x,null),M(x,w),Y&&Y.m(x,null),M(e,b),Q&&Q.m(e,null),M(e,_),K&&K.m(e,null),t[96](e),A=!0,E||(T=[I(window,"click",t[42]),I(window,"keydown",t[37]),I(f,"keydown",t[37]),I(f,"blur",t[39]),I(f,"focus",t[38]),I(f,"input",t[95]),I(e,"pointerup",W(t[40])),v(S=t[48].call(null,e))],E=!0)},p(t,n){t[6]?O?(O.p(t,n),64&n[0]&&Ct(O,1)):(O=gh(t),O.c(),Ct(O,1),O.m(e,i)):O&&(Rt(),Ot(O,1,1,(()=>{O=null})),Tt()),t[2]?P?P.p(t,n):(P=bh(t),P.c(),P.m(r,null)):P&&(P.d(1),P=null),D&&D.p&&(!A||1048576&n[2])&&g(D,z,t,t[82],A?p(z,t[82],n,nh):m(t[82]),ih),t[25]?j?(j.p(t,n),33554432&n[0]&&Ct(j,1)):(j=_h(t),j.c(),Ct(j,1),j.m(c,u)):j&&(Rt(),Ot(j,1,1,(()=>{j=null})),Tt()),H(f,F=function(t,e){const n={},i={},r={$$scope:1};let o=t.length;for(;o--;){const a=t[o],l=e[o];if(l){for(const t in a)t in l||(i[t]=1);for(const t in l)r[t]||(n[t]=l[t],r[t]=1);t[o]=l}else for(const t in a)r[t]=1}for(const t in i)t in n||(n[t]=void 0);return n}(B,[(!A||131072&n[0]&&h!==(h=!t[17]))&&{readOnly:h},134217728&n[0]&&t[27],(!A||4&n[1])&&{placeholder:t[33]},(!A||262144&n[0])&&{style:t[18]},(!A||2048&n[0])&&{disabled:t[11]}])),16&n[0]&&f.value!==t[4]&&G(f,t[4]),J(f,"svelte-82qwg8",!0),t[5]?X?(X.p(t,n),32&n[0]&&Ct(X,1)):(X=Eh(t),X.c(),Ct(X,1),X.m(x,$)):X&&(Rt(),Ot(X,1,1,(()=>{X=null})),Tt()),t[34]?V?(V.p(t,n),8&n[1]&&Ct(V,1)):(V=Nh(t),V.c(),Ct(V,1),V.m(x,w)):V&&(Rt(),Ot(V,1,1,(()=>{V=null})),Tt()),t[20]?Y?(Y.p(t,n),1048576&n[0]&&Ct(Y,1)):(Y=Rh(t),Y.c(),Ct(Y,1),Y.m(x,null)):Y&&(Rt(),Ot(Y,1,1,(()=>{Y=null})),Tt()),Z?Z.p&&(!A||8&n[0]|1048576&n[2])&&g(Z,U,t,t[82],A?p(U,t[82],n,jd):m(t[82]),Hd):Q&&Q.p&&(!A||264&n[0])&&Q.p(t,A?n:[-1,-1,-1,-1,-1]),!t[16]||t[3]&&0!==t[3].length?K&&(Rt(),Ot(K,1,1,(()=>{K=null})),Tt()):K?(K.p(t,n),65544&n[0]&&Ct(K,1)):(K=Th(t),K.c(),Ct(K,1),K.m(e,null)),(!A||2097152&n[0]&&k!==(k="svelte-select "+t[21]+" svelte-82qwg8"))&&q(e,"class",k),(!A||16384&n[0])&&q(e,"style",t[14]),(!A||2097664&n[0])&&J(e,"multi",t[9]),(!A||2099200&n[0])&&J(e,"disabled",t[11]),(!A||2097156&n[0])&&J(e,"focused",t[2]),(!A||2097216&n[0])&&J(e,"list-open",t[6]),(!A||3145728&n[0])&&J(e,"show-chevron",t[20]),(!A||2129920&n[0])&&J(e,"error",t[15])},i(t){A||(Ct(O),Ct(D,t),Ct(j),Ct(X),Ct(V),Ct(Y),Ct(Q,t),Ct(K),A=!0)},o(t){Ot(O),Ot(D,t),Ot(j),Ot(X),Ot(V),Ot(Y),Ot(Q,t),Ot(K),A=!1},d(n){n&&R(e),O&&O.d(),P&&P.d(),D&&D.d(n),j&&j.d(),t[94](null),X&&X.d(),V&&V.d(),Y&&Y.d(),Q&&Q.d(n),K&&K.d(),t[96](null),E=!1,o(T)}}}function Oh(t){return t.map(((t,e)=>({index:e,value:t,label:`${t}`})))}function Ph(t,e,n){let i,r,o,a,l,s,c,u,f,{$$slots:d={},$$scope:h}=e;const p=function(t){const e={};for(const n in t)e[n]=!0;return e}(d),g=st();let{justValue:m=null}=e,{filter:y=Td}=e,{getItems:v=Cd}=e,{id:x=null}=e,{name:$=null}=e,{container:w}=e,{input:b}=e,{multiple:_=!1}=e,{multiFullItemClearable:k=!1}=e,{disabled:S=!1}=e,{focused:M=!1}=e,{value:A=null}=e,{filterText:E=""}=e,{placeholder:N="Please select"}=e,{placeholderAlwaysShow:R=!1}=e,{items:T=null}=e,{label:C="label"}=e,{itemFilter:O=(t,e,n)=>`${t}`.toLowerCase().includes(e.toLowerCase())}=e,{groupBy:P}=e,{groupFilter:L=t=>t}=e,{groupHeaderSelectable:z=!1}=e,{itemId:I="value"}=e,{loadOptions:W}=e,{containerStyles:D=""}=e,{hasError:q=!1}=e,{filterSelectedItems:j=!0}=e,{required:H=!1}=e,{closeListOnChange:B=!0}=e,{clearFilterTextOnBlur:F=!0}=e,{createGroupHeaderItem:G=(t,e)=>({value:t,[C]:t})}=e;let X,V,Y,U,J,Z,{searchable:Q=!0}=e,{inputStyles:K=""}=e,{clearable:tt=!0}=e,{loading:et=!1}=e,{listOpen:nt=!1}=e,{debounce:it=(t,e=1)=>{clearTimeout(X),X=setTimeout(t,e)}}=e,{debounceWait:at=300}=e,{hideEmptyState:ct=!1}=e,{inputAttributes:ut={}}=e,{listAutoWidth:dt=!0}=e,{showChevron:pt=!1}=e,{listOffset:gt=5}=e,{hoverItemIndex:mt=0}=e,{floatingConfig:yt={}}=e,{class:vt=""}=e;function $t(t){const e=[],n={};t.forEach((t=>{const i=P(t);e.includes(i)||(e.push(i),n[i]=[],i&&n[i].push(Object.assign(G(i,t),{id:i,groupHeader:!0,selectable:z}))),n[i].push(Object.assign({groupItem:!!i},t))}));const i=[];return L(e).forEach((t=>{n[t]&&i.push(...n[t])})),i}function wt(t=0,e){n(7,mt=t<0?0:t),!e&&P&&c[mt]&&!c[mt].selectable&&Dt(1)}var bt;function _t(){let t=!0;if(A){const e=[],i=[];A.forEach((n=>{e.includes(n[I])?t=!1:(e.push(n[I]),i.push(n))})),t||n(3,A=i)}return t}function kt(t){let e=t?t[I]:A[I];return T.find((t=>t[I]===e))}async function St(t){const e=A[t];1===A.length?n(3,A=void 0):n(3,A=A.filter((t=>t!==e))),g("clear",e)}function Mt(t){M&&b===document?.activeElement||(t&&g("focus",t),b?.focus(),n(2,M=!0))}async function At(t){Lt||(nt||M)&&(g("blur",t),Et(),n(2,M=!1),n(26,V=void 0),b?.blur())}function Et(){F&&n(4,E=""),n(6,nt=!1)}bt=async()=>{n(78,Y=A),n(79,U=E),n(80,J=_)},rt().$$.before_update.push(bt),ot((()=>{nt&&n(2,M=!0),M&&b&&b.focus()}));let{ariaValues:Nt=t=>`Option ${t}, selected.`}=e,{ariaListOpen:Rt=(t,e)=>`You are currently focused on option ${t}. There are ${e} results available.`}=e,{ariaFocused:Tt=()=>"Select is focused, type to refine list, press down to open the menu."}=e;let Ct,Ot=null;function Pt(){clearTimeout(Ct),Ct=setTimeout((()=>{Lt=!1}),100)}lt((()=>{Ot?.remove()}));let Lt=!1;function zt(t){t&&!1!==t.selectable&&function(t){if(t){n(4,E="");const e=Object.assign({},t);if(e.groupHeader&&!e.selectable)return;n(3,A=_?A?A.concat([e]):[e]:n(3,A=e)),setTimeout((()=>{B&&Et(),n(26,V=void 0),g("change",A),g("select",t)}))}}(t)}function It(t){Lt||n(7,mt=t)}function Wt(t){const{item:e,i:i}=t;if(!1!==e?.selectable)return A&&!_&&A[I]===e[I]?Et():void(function(t){return t.groupHeader&&t.selectable||t.selectable||!t.hasOwnProperty("selectable")}(e)&&(n(7,mt=i),zt(e)))}function Dt(t){if(0===c.filter((t=>!Object.hasOwn(t,"selectable")||!0===t.selectable)).length)return n(7,mt=0);t>0&&mt===c.length-1?n(7,mt=0):n(7,t<0&&0===mt?mt=c.length-1:mt+=t);const e=c[mt];e&&!1===e.selectable&&(1!==t&&-1!==t||Dt(t))}const qt=Ht,jt=Ht;function Ht(t){return{update(e){e.scroll&&(Pt(),t.scrollIntoView({behavior:"auto",block:"nearest"}))}}}let Bt={strategy:"absolute",placement:"bottom-start",middleware:[Ad(gt),Nd(),Ed()],autoUpdate:!1};const[Ft,Gt,Xt]=function(t){let e,n;const i={autoUpdate:!0};let r=t;const o=e=>({...i,...t||{},...e||{}}),a=t=>{e&&n&&(r=o(t),Rd(e,n,r).then((t=>{Object.assign(n.style,{position:t.strategy,left:`${t.x}px`,top:`${t.y}px`}),r?.onComputed&&r.onComputed(t)})))},l=t=>{lt(t.subscribe((t=>{void 0===e?(e=t,a()):(Object.assign(e,t),a())})))};return[t=>{if("subscribe"in t)return l(t),{};e=t,a()},(t,i)=>{let l;n=t,r=o(i),setTimeout((()=>a(i)),0),a(i);const s=()=>{l&&(l(),l=void 0)},c=({autoUpdate:t}=r||{})=>{s(),!1!==t&&xt().then((()=>Md(e,n,(()=>a(r)),!0===t?{}:t)))};return l=c(),{update(t){a(t),l=c(t)},destroy(){s()}}},a]}(Bt);let Vt=!0;return t.$$set=t=>{"justValue"in t&&n(52,m=t.justValue),"filter"in t&&n(53,y=t.filter),"getItems"in t&&n(54,v=t.getItems),"id"in t&&n(55,x=t.id),"name"in t&&n(8,$=t.name),"container"in t&&n(0,w=t.container),"input"in t&&n(1,b=t.input),"multiple"in t&&n(9,_=t.multiple),"multiFullItemClearable"in t&&n(10,k=t.multiFullItemClearable),"disabled"in t&&n(11,S=t.disabled),"focused"in t&&n(2,M=t.focused),"value"in t&&n(3,A=t.value),"filterText"in t&&n(4,E=t.filterText),"placeholder"in t&&n(56,N=t.placeholder),"placeholderAlwaysShow"in t&&n(57,R=t.placeholderAlwaysShow),"items"in t&&n(51,T=t.items),"label"in t&&n(12,C=t.label),"itemFilter"in t&&n(58,O=t.itemFilter),"groupBy"in t&&n(59,P=t.groupBy),"groupFilter"in t&&n(60,L=t.groupFilter),"groupHeaderSelectable"in t&&n(61,z=t.groupHeaderSelectable),"itemId"in t&&n(13,I=t.itemId),"loadOptions"in t&&n(62,W=t.loadOptions),"containerStyles"in t&&n(14,D=t.containerStyles),"hasError"in t&&n(15,q=t.hasError),"filterSelectedItems"in t&&n(63,j=t.filterSelectedItems),"required"in t&&n(16,H=t.required),"closeListOnChange"in t&&n(64,B=t.closeListOnChange),"clearFilterTextOnBlur"in t&&n(65,F=t.clearFilterTextOnBlur),"createGroupHeaderItem"in t&&n(66,G=t.createGroupHeaderItem),"searchable"in t&&n(17,Q=t.searchable),"inputStyles"in t&&n(18,K=t.inputStyles),"clearable"in t&&n(68,tt=t.clearable),"loading"in t&&n(5,et=t.loading),"listOpen"in t&&n(6,nt=t.listOpen),"debounce"in t&&n(69,it=t.debounce),"debounceWait"in t&&n(70,at=t.debounceWait),"hideEmptyState"in t&&n(19,ct=t.hideEmptyState),"inputAttributes"in t&&n(71,ut=t.inputAttributes),"listAutoWidth"in t&&n(72,dt=t.listAutoWidth),"showChevron"in t&&n(20,pt=t.showChevron),"listOffset"in t&&n(73,gt=t.listOffset),"hoverItemIndex"in t&&n(7,mt=t.hoverItemIndex),"floatingConfig"in t&&n(74,yt=t.floatingConfig),"class"in t&&n(21,vt=t.class),"ariaValues"in t&&n(75,Nt=t.ariaValues),"ariaListOpen"in t&&n(76,Rt=t.ariaListOpen),"ariaFocused"in t&&n(77,Tt=t.ariaFocused),"$$scope"in t&&n(82,h=t.$$scope)},t.$$.update=()=>{8&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&A&&function(){if("string"==typeof A){let t=(T||[]).find((t=>t[I]===A));n(3,A=t||{[I]:A,label:A})}else _&&Array.isArray(A)&&A.length>0&&n(3,A=A.map((t=>"string"==typeof t?{value:t,label:t}:t)))}(),131072&t.$$.dirty[0]|512&t.$$.dirty[2]&&(!ut&&Q||(n(27,Z=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},ut)),x&&n(27,Z.id=x,Z),Q||n(27,Z.readonly=!0,Z))),512&t.$$.dirty[0]&&_&&A&&(Array.isArray(A)?n(3,A=[...A]):n(3,A=[A])),512&t.$$.dirty[0]|262144&t.$$.dirty[2]&&J&&!_&&A&&n(3,A=null),520&t.$$.dirty[0]&&_&&A&&A.length>1&&_t(),8&t.$$.dirty[0]&&A&&(_?JSON.stringify(A)!==JSON.stringify(Y)&&_t()&&g("input",A):Y&&JSON.stringify(A[I])===JSON.stringify(Y[I])||g("input",A)),520&t.$$.dirty[0]|65536&t.$$.dirty[2]&&!A&&_&&Y&&g("input",A),6&t.$$.dirty[0]&&!M&&b&&Et(),16&t.$$.dirty[0]|131072&t.$$.dirty[2]&&E!==U&&(W||0!==E.length)&&(W?it((async function(){n(5,et=!0);let t=await v({dispatch:g,loadOptions:W,convertStringItemsToObjects:Oh,filterText:E});t?(n(5,et=t.loading),n(6,nt=nt?t.listOpen:E.length>0),n(2,M=nt&&t.focused),n(51,T=P?$t(t.filteredItems):t.filteredItems)):(n(5,et=!1),n(2,M=!0),n(6,nt=!0))}),at):(n(6,nt=!0),_&&n(26,V=void 0))),12824&t.$$.dirty[0]|407896064&t.$$.dirty[1]|3&t.$$.dirty[2]&&n(24,c=y({loadOptions:W,filterText:E,items:T,multiple:_,value:A,itemId:I,groupBy:P,label:C,filterSelectedItems:j,itemFilter:O,convertStringItemsToObjects:Oh,filterGroupedItems:$t})),16777800&t.$$.dirty[0]&&!_&&nt&&A&&c&&wt(c.findIndex((t=>t[I]===A[I])),!0),576&t.$$.dirty[0]&&nt&&_&&n(7,mt=0),16&t.$$.dirty[0]&&E&&n(7,mt=0),128&t.$$.dirty[0]&&g("hoverItem",mt),520&t.$$.dirty[0]&&n(25,i=_?A&&A.length>0:A),33554448&t.$$.dirty[0]&&n(35,r=i&&E.length>0),33556512&t.$$.dirty[0]|64&t.$$.dirty[2]&&n(34,o=i&&tt&&!S&&!et),520&t.$$.dirty[0]|100663296&t.$$.dirty[1]&&n(33,a=R&&_||_&&0===A?.length?N:A?"":N),520&t.$$.dirty[0]&&n(32,l=A?function(t){let e;return e=t&&A.length>0?A.map((t=>t[C])).join(", "):A[C],Nt(e)}(_):""),16777412&t.$$.dirty[0]&&n(31,s=function(){if(!c||0===c.length)return"";let t=c[mt];if(nt&&t){let e=c?c.length:0;return Rt(t[C],e)}return Tt()}()),1048576&t.$$.dirty[1]&&function(t){t&&0!==t.length&&!t.some((t=>"object"!=typeof t))&&A&&(_?!A.some((t=>!t||!t[I])):A[I])&&(Array.isArray(A)?n(3,A=A.map((t=>kt(t)||t))):n(3,A=kt()||A))}(T),8712&t.$$.dirty[0]&&n(52,m=_?A?A.map((t=>t[I])):null:A?A[I]:A),520&t.$$.dirty[0]|65536&t.$$.dirty[2]&&(_||!Y||A||g("input",A)),16777800&t.$$.dirty[0]&&nt&&c&&!_&&!A&&wt(),16777216&t.$$.dirty[0]&&function(t){nt&&g("filter",t)}(c),1&t.$$.dirty[0]|4096&t.$$.dirty[2]&&w&&void 0===yt?.autoUpdate&&n(81,Bt.autoUpdate=!0,Bt),1&t.$$.dirty[0]|528384&t.$$.dirty[2]&&w&&yt&&Xt(Object.assign(Bt,yt)),8388608&t.$$.dirty[0]&&n(30,u=!!Ot),8388672&t.$$.dirty[0]&&function(t,e){if(!t||!e)return n(28,Vt=!0);setTimeout((()=>{n(28,Vt=!1)}),0)}(Ot,nt),8388673&t.$$.dirty[0]&&nt&&w&&Ot&&function(){const{width:t}=w.getBoundingClientRect();n(23,Ot.style.width=dt?t+"px":"auto",Ot)}(),128&t.$$.dirty[0]&&n(29,f=mt),70&t.$$.dirty[0]&&b&&nt&&!M&&Mt()},[w,b,M,A,E,et,nt,mt,$,_,k,S,C,I,D,q,H,Q,K,ct,pt,vt,function(){g("clear",A),n(3,A=void 0),Et(),Mt()},Ot,c,i,V,Z,Vt,f,u,s,l,a,o,r,St,function(t){if(M)switch(t.stopPropagation(),t.key){case"Escape":t.preventDefault(),Et();break;case"Enter":if(t.preventDefault(),nt){if(0===c.length)break;const t=c[mt];if(A&&!_&&A[I]===t[I]){Et();break}zt(c[mt])}break;case"ArrowDown":t.preventDefault(),nt?Dt(1):(n(6,nt=!0),n(26,V=void 0));break;case"ArrowUp":t.preventDefault(),nt?Dt(-1):(n(6,nt=!0),n(26,V=void 0));break;case"Tab":if(nt&&M){if(0===c.length||A&&A[I]===c[mt][I])return Et();t.preventDefault(),zt(c[mt]),Et()}break;case"Backspace":if(!_||E.length>0)return;if(_&&A&&A.length>0){if(St(void 0!==V?V:A.length-1),0===V||void 0===V)break;n(26,V=A.length>V?V-1:void 0)}break;case"ArrowLeft":if(!A||!_||E.length>0)return;void 0===V?n(26,V=A.length-1):A.length>V&&0!==V&&n(26,V-=1);break;case"ArrowRight":if(!A||!_||E.length>0||void 0===V)return;V===A.length-1?n(26,V=void 0):V<A.length-1&&n(26,V+=1)}},Mt,At,function(){if(!S)return E.length>0?n(6,nt=!0):void n(6,nt=!nt)},Pt,function(t){nt||M||!w||w.contains(t.target)||Ot?.contains(t.target)||At()},It,Wt,function(t,e,n){if(!_)return e&&e[n]===t[n]},qt,jt,Ft,Gt,p,T,m,y,v,x,N,R,O,P,L,z,W,j,B,F,G,()=>c,tt,it,at,ut,dt,gt,yt,Nt,Rt,Tt,Y,U,J,Bt,h,d,function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)},t=>It(t),t=>It(t),(t,e)=>Wt({item:t,i:e}),function(t){ht[t?"unshift":"push"]((()=>{Ot=t,n(23,Ot)}))},t=>St(t),t=>k?St(t):{},function(t){ht[t?"unshift":"push"]((()=>{b=t,n(1,b)}))},function(){E=this.value,n(4,E)},function(t){ht[t?"unshift":"push"]((()=>{w=t,n(0,w)}))}]}class Lh extends jt{constructor(t){super(),qt(this,t,Ph,Ch,l,{justValue:52,filter:53,getItems:54,id:55,name:8,container:0,input:1,multiple:9,multiFullItemClearable:10,disabled:11,focused:2,value:3,filterText:4,placeholder:56,placeholderAlwaysShow:57,items:51,label:12,itemFilter:58,groupBy:59,groupFilter:60,groupHeaderSelectable:61,itemId:13,loadOptions:62,containerStyles:14,hasError:15,filterSelectedItems:63,required:16,closeListOnChange:64,clearFilterTextOnBlur:65,createGroupHeaderItem:66,getFilteredItems:67,searchable:17,inputStyles:18,clearable:68,loading:5,listOpen:6,debounce:69,debounceWait:70,hideEmptyState:19,inputAttributes:71,listAutoWidth:72,showChevron:20,listOffset:73,hoverItemIndex:7,floatingConfig:74,class:21,handleClear:22,ariaValues:75,ariaListOpen:76,ariaFocused:77},null,[-1,-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[67]}get handleClear(){return this.$$.ctx[22]}}function zh(t,e,n){const i=t.slice();return i[19]=e[n],i}function Ih(t,e,n){const i=t.slice();return i[22]=e[n],i}function Wh(t){let e,n,i,r,o,a=t[3].links(),l=[];for(let e=0;e<a.length;e+=1)l[e]=Dh(Ih(t,a,e));let s=t[3].descendants(),c=[];for(let e=0;e<s.length;e+=1)c[e]=qh(zh(t,s,e));const u=t=>Ot(c[t],1,1,(()=>{c[t]=null}));return{c(){e=O("svg"),n=O("g");for(let t=0;t<l.length;t+=1)l[t].c();i=z();for(let t=0;t<c.length;t+=1)c[t].c();q(n,"transform",r="translate("+t[1]/2+", "+t[2]/2+")"),q(e,"width",t[1]),q(e,"height",t[2])},m(t,r){N(t,e,r),M(e,n);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(n,null);M(n,i);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(n,null);o=!0},p(t,f){if(24&f){let e;for(a=t[3].links(),e=0;e<a.length;e+=1){const r=Ih(t,a,e);l[e]?l[e].p(r,f):(l[e]=Dh(r),l[e].c(),l[e].m(n,i))}for(;e<l.length;e+=1)l[e].d(1);l.length=a.length}if(9&f){let e;for(s=t[3].descendants(),e=0;e<s.length;e+=1){const i=zh(t,s,e);c[e]?(c[e].p(i,f),Ct(c[e],1)):(c[e]=qh(i),c[e].c(),Ct(c[e],1),c[e].m(n,null))}for(Rt(),e=s.length;e<c.length;e+=1)u(e);Tt()}(!o||6&f&&r!==(r="translate("+t[1]/2+", "+t[2]/2+")"))&&q(n,"transform",r),(!o||2&f)&&q(e,"width",t[1]),(!o||4&f)&&q(e,"height",t[2])},i(t){if(!o){for(let t=0;t<s.length;t+=1)Ct(c[t]);o=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)Ot(c[t]);o=!1},d(t){t&&R(e),T(l,t),T(c,t)}}}function Dh(t){let e,n,i;return{c(){e=O("path"),q(e,"d",n=t[4](t[22])),q(e,"class",i="link "+t[22].target.data.key+" svelte-x8w315")},m(t,n){N(t,e,n)},p(t,r){24&r&&n!==(n=t[4](t[22]))&&q(e,"d",n),8&r&&i!==(i="link "+t[22].target.data.key+" svelte-x8w315")&&q(e,"class",i)},d(t){t&&R(e)}}}function qh(t){let e,n;return e=new lf({props:{node:t[19],categories:t[0]}}),{c(){It(e.$$.fragment)},m(t,i){Wt(e,t,i),n=!0},p(t,n){const i={};8&n&&(i.node=t[19]),1&n&&(i.categories=t[0]),e.$set(i)},i(t){n||(Ct(e.$$.fragment,t),n=!0)},o(t){Ot(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function jh(t){let e,n,i,r,o,a,l,s,c,u,f;function d(e){t[15](e)}let h={class:"selector",items:t[6],groupBy:t[7],placeholder:"Select agreement..."};void 0!==t[5]&&(h.value=t[5]),n=new Lh({props:h}),ht.push((()=>zt(n,"value",d))),n.$on("select",t[8]);let p=t[3]&&Wh(t);return{c(){e=C("div"),i=C("div"),It(n.$$.fragment),o=L(),a=C("button"),a.textContent="See Agreement",l=L(),p&&p.c(),X(i,"display","contents"),X(i,"--width","250px"),X(i,"--border-radius","3px"),X(i,"--placeholder-color","white"),X(i,"--background","#333333"),X(i,"--list-background","white"),X(i,"--item-color","black"),X(i,"--border","1px solid #999999"),X(i,"--multi-item-color","black"),X(i,"--item-hover-bg","gray"),X(i,"--font-size","14px"),X(i,"--font-weight","300"),q(a,"id","select_agt"),q(a,"class","svelte-x8w315"),q(e,"class","wrapper svelte-x8w315"),$t((()=>t[16].call(e)))},m(r,d){N(r,e,d),M(e,i),Wt(n,i,null),M(e,o),M(e,a),M(e,l),p&&p.m(e,null),s=U(e,t[16].bind(e)),c=!0,u||(f=I(a,"click",t[9]),u=!0)},p(t,[i]){const o={};64&i&&(o.items=t[6]),!r&&32&i&&(r=!0,o.value=t[5],wt((()=>r=!1))),n.$set(o),t[3]?p?(p.p(t,i),8&i&&Ct(p,1)):(p=Wh(t),p.c(),Ct(p,1),p.m(e,null)):p&&(Rt(),Ot(p,1,1,(()=>{p=null})),Tt())},i(t){c||(Ct(n.$$.fragment,t),Ct(p),c=!0)},o(t){Ot(n.$$.fragment,t),Ot(p),c=!1},d(t){t&&R(e),Dt(n),p&&p.d(),s(),u=!1,f()}}}function Hh(t,e){t.forEach((t=>{e.children.forEach((e=>{"1"===t[e.key]&&(e.count=(e.count||0)+1,e.agtIds=e.agtIds||[],e.agtIds.push(t.AgtId)),e.children.forEach((e=>{"1"===t[e.key]&&(e.count=(e.count||0)+1,e.agtIds=e.agtIds||[],e.agtIds.push(t.AgtId))}))}))}))}function Bh(t,e,n){let i,r,o,a,{pax_gender:l}=e,{step:s}=e,{categories:c}=e,u=400,f=400,d=100,h=[],p=[];function g(t){_n("#select_agt").style("visibility","visible"),a=`https://www.peaceagreements.org/agreements/wgg/${t}`;let e=l.filter((e=>e.AgtId==t)),i=JSON.parse(JSON.stringify(Ms));Hh(e,i),n(13,h=i),Sn("path.link").style("stroke","#d9d9d9"),Sn("text").style("fill","#d9d9d9");(function(t,e){const n=t.find((t=>t.AgtId===e));if(!n)return[];const i=Object.entries(n).filter((([t,e])=>t.startsWith("Wgg")&&"1"===e)).map((([t])=>t));return i.push("undefined"),i})(l,t).forEach((t=>{Sn("path."+t).style("stroke","black"),Sn("text."+t).style("fill","black")}))}let m="";return t.$$set=t=>{"pax_gender"in t&&n(10,l=t.pax_gender),"step"in t&&n(11,s=t.step),"categories"in t&&n(0,c=t.categories)},t.$$.update=()=>{if(1024&t.$$.dirty&&l){let t=JSON.parse(JSON.stringify(Ms));Hh(l,t),n(13,h=t),n(14,p=l.map((t=>({Agt:t.Agt,AgtId:t.AgtId,Con:t.Con}))))}if(6&t.$$.dirty&&n(12,d=u<f?u:f),3072&t.$$.dirty)if("afgh01"==s){_n("#select_agt").style("visibility","hidden");let t=JSON.parse(JSON.stringify(Ms));Hh(l,t),n(13,h=t),Sn("path.link").style("stroke","#808080"),Sn("text").style("fill","black")}else"afgh02"==s?g("589"):"afgh03"==s&&g("1845");if(12302&t.$$.dirty&&(f||u&&h)){let t=kl().size([360,d/3]);n(3,r=Ml(h,(t=>t.children))),t(r),n(4,o=ds().angle((function(t){return t.x/180*Math.PI})).radius((function(t){return t.y})))}16384&t.$$.dirty&&n(6,i=p.map((t=>({label:t.Agt,value:t.AgtId,group:t.Con}))))},[c,u,f,r,o,m,i,t=>t.group,function(t){g(t.detail.value)},function(){a?window.open(a,"_blank"):alert("No agreement selected yet")},l,s,d,h,p,function(t){m=t,n(5,m)},function(){u=this.clientWidth,f=this.clientHeight,n(1,u),n(2,f)}]}class Fh extends jt{constructor(t){super(),qt(this,t,Bh,jh,l,{pax_gender:10,step:11,categories:0})}}function Gh(e){let n,i,r,a,l,s,u,f,d,h,p,g,m,y,v,x,$,w,b;return{c(){n=C("button"),n.innerHTML='<i class="fa fa-info svelte-1xpepao" aria-hidden="true"></i>',i=L(),r=C("div"),r.innerHTML="This &#39;scrollytelling&#39; tool allows users to scroll through key findings\n\t\tand insights from data in the PA-X Peace Agreements Database, with a\n\t\tspecific view on Gender inclusion in formal peace agreements in the\n\t\tcontext of the UN Security Resolution 1325. Cite the data shown in this\n\t\ttool using: <br/><br/><i>Bell, Christine, Sanja Badanjak, Juline Beaujouan, Tim Epple, Adam\n\t\t\tFarquhar, Robert Forster, Astrid Jamar, Sean Molloy, Kevin\n\t\t\tMcNicholl, Kathryn Nash, Jan Pospisil, Robert Wilson, and Laura Wise\n\t\t\t(2025). PA-X Gender Peace Agreements Database and Dataset, Version\n\t\t\t9.</i> \n\t\t<br/> \n\t\t<br/> \n\t\t<strong>Visualization</strong>: Tomas Vancisin<br/><strong>Data Preparation</strong>: Niamh Henry <br/>  <strong>Text</strong>: Laura Wise",a=L(),l=C("img"),u=L(),f=C("h1"),f.textContent="Women, Girls, and Gender in Peace Agreements",d=L(),h=C("div"),h.innerHTML='<p class="svelte-1xpepao">Marking the 25<sup>th</sup> Anniversary of the Women, Peace and Security\n\t\t\tagenda, this visualization uses the PA-X database to show how and to\n\t\t\twhat extent women, girls, and gender are taken into consideration in\n\t\t\tpeace agreements around the world.</p>',p=L(),g=C("br"),m=L(),y=C("p"),y.textContent="SCROLL DOWN",v=L(),x=C("img"),q(n,"class","info svelte-1xpepao"),q(r,"class","info_div svelte-1xpepao"),q(l,"class","peace_logo"),c(l.src,s="./img/pax.png")||q(l,"src","./img/pax.png"),q(l,"alt","peacerep logo"),X(l,"width","200px"),q(f,"class","svelte-1xpepao"),q(h,"id","text_field"),X(h,"padding-left","20%"),X(h,"padding-right","20%"),q(h,"class","svelte-1xpepao"),X(y,"font-weight","700"),q(y,"class","svelte-1xpepao"),c(x.src,$="./img/down.svg")||q(x,"src","./img/down.svg"),q(x,"alt","scroll down"),q(x,"class","scroll-down-icon svelte-1xpepao")},m(t,o){N(t,n,o),N(t,i,o),N(t,r,o),N(t,a,o),N(t,l,o),N(t,u,o),N(t,f,o),N(t,d,o),N(t,h,o),N(t,p,o),N(t,g,o),N(t,m,o),N(t,y,o),N(t,v,o),N(t,x,o),w||(b=[I(n,"mouseenter",e[19]),I(n,"mouseleave",e[20])],w=!0)},p:t,d(t){t&&R(n),t&&R(i),t&&R(r),t&&R(a),t&&R(l),t&&R(u),t&&R(f),t&&R(d),t&&R(h),t&&R(p),t&&R(g),t&&R(m),t&&R(y),t&&R(v),t&&R(x),w=!1,o(b)}}}function Xh(t){let e,n,i,r,o,a;return o=new nf({props:{mygeojson:t[10],pax:t[11],pax_timeline:t[13],pax_gender:t[12],step:t[1]}}),o.$on("mapLoaded",t[16]),{c(){e=C("div"),n=C("figure"),i=C("div"),r=C("div"),It(o.$$.fragment),q(r,"class","map svelte-1xpepao"),q(i,"class","col-wide height-full"),q(e,"slot","background")},m(t,l){N(t,e,l),M(e,n),M(n,i),M(i,r),Wt(o,r,null),a=!0},p(t,e){const n={};1024&e[0]&&(n.mygeojson=t[10]),2048&e[0]&&(n.pax=t[11]),8192&e[0]&&(n.pax_timeline=t[13]),4096&e[0]&&(n.pax_gender=t[12]),2&e[0]&&(n.step=t[1]),o.$set(n)},i(t){a||(Ct(o.$$.fragment,t),a=!0)},o(t){Ot(o.$$.fragment,t),a=!1},d(t){t&&R(e),Dt(o)}}}function Vh(e){let n;return{c(){n=C("div"),n.innerHTML='<section data-id="map01"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">Darker colour (black) indicates a higher number of peace\n\t\t\t\t\tagreements signed. <span style="color: gray;">[<i>hover over a country for the exact number of peace\n\t\t\t\t\t\t\tagreements</i>]</span></p></div></section> \n\t\t<section data-id="map02"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">Now, the map shows the number of peace agreements that\n\t\t\t\t\tcontain at least <strong>two</strong> references to women, girls,\n\t\t\t\t\tand gender.</p></div></section>',q(n,"slot","foreground")},m(t,e){N(t,n,e)},p:t,d(t){t&&R(n)}}}function Yh(t){let e,n,i,r,o,a;return o=new Rc({props:{pax:t[11],step:t[1]}}),{c(){e=C("div"),n=C("figure"),i=C("div"),r=C("div"),It(o.$$.fragment),q(r,"class","rect svelte-1xpepao"),q(i,"class","col-wide height-full"),q(e,"slot","background")},m(t,l){N(t,e,l),M(e,n),M(n,i),M(i,r),Wt(o,r,null),a=!0},p(t,e){const n={};2048&e[0]&&(n.pax=t[11]),2&e[0]&&(n.step=t[1]),o.$set(n)},i(t){a||(Ct(o.$$.fragment,t),a=!0)},o(t){Ot(o.$$.fragment,t),a=!1},d(t){t&&R(e),Dt(o)}}}function Uh(e){let n;return{c(){n=C("div"),n.innerHTML='<section data-id="rect01"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">Every rectangle in this view represents one of the 2,144\n\t\t\t\t\tformal agreements signed since 1990.</p></div></section> \n\t\t<section data-id="rect02"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">Out of all these agreements, less than a quarter contain\n\t\t\t\t\treferences to women, girls, and gender (465 agreements).</p></div></section>',q(n,"slot","foreground")},m(t,e){N(t,n,e)},p:t,d(t){t&&R(n)}}}function Jh(t){let e,n,i,r,o,a;return o=new iu({props:{pax:t[11],pax_timeline:t[13],step:t[1]}}),{c(){e=C("div"),n=C("figure"),i=C("div"),r=C("div"),It(o.$$.fragment),q(r,"class","area svelte-1xpepao"),q(i,"class","col-wide height-full"),q(e,"slot","background")},m(t,l){N(t,e,l),M(e,n),M(n,i),M(i,r),Wt(o,r,null),a=!0},p(t,e){const n={};2048&e[0]&&(n.pax=t[11]),8192&e[0]&&(n.pax_timeline=t[13]),2&e[0]&&(n.step=t[1]),o.$set(n)},i(t){a||(Ct(o.$$.fragment,t),a=!0)},o(t){Ot(o.$$.fragment,t),a=!1},d(t){t&&R(e),Dt(o)}}}function Zh(e){let n;return{c(){n=C("div"),n.innerHTML='<section data-id="area01"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">This area chart shows the number of peace agreements signed\n\t\t\t\t\tper year since 1990.</p></div></section> \n\t\t<section data-id="area02"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">The dark area chart shows the number of peace agreements\n\t\t\t\t\tcontaining references to women, girls, and gender.</p></div></section>',q(n,"slot","foreground")},m(t,e){N(t,n,e)},p:t,d(t){t&&R(n)}}}function Qh(t){let e,n,i,r,o,a;return o=new xc({props:{pax_stages:t[14],pax:t[11],step:t[1]}}),{c(){e=C("div"),n=C("figure"),i=C("div"),r=C("div"),It(o.$$.fragment),q(r,"class","stage svelte-1xpepao"),q(i,"class","col-wide height-full"),q(e,"slot","background")},m(t,l){N(t,e,l),M(e,n),M(n,i),M(i,r),Wt(o,r,null),a=!0},p(t,e){const n={};16384&e[0]&&(n.pax_stages=t[14]),2048&e[0]&&(n.pax=t[11]),2&e[0]&&(n.step=t[1]),o.$set(n)},i(t){a||(Ct(o.$$.fragment,t),a=!0)},o(t){Ot(o.$$.fragment,t),a=!1},d(t){t&&R(e),Dt(o)}}}function Kh(e){let n;return{c(){n=C("div"),n.innerHTML='<section data-id="stage01"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">When viewing all PA-X agreements by the stage of the peace\n\t\t\t\t\tprocess they were signed at, the chart below shows the\n\t\t\t\t\tpredominance of <strong>pre-negotiation/process</strong>,\n\t\t\t\t\t<strong>ceasefire</strong>, and\n\t\t\t\t\t<strong>substantive-partial</strong> agreements.</p></div></section> \n\t\t<section data-id="stage02"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">A common perception is that dealing with &#39;gender&#39; must wait\n\t\t\t\t\tuntil substantive stages of negotiations (partial and\n\t\t\t\t\tcomprehensive), so that the earlier pre-negotiation or\n\t\t\t\t\tceasefire talks can focus on more &#39;urgent&#39; issues.</p></div></section> \n\t\t<section><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">However, gendered issues can be included in agreements at\n\t\t\t\t\tany stage of a peace process.</p></div></section> \n\t\t<section data-id="stage03"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">For example, a ceasefire in Central African Republic in 2014\n\t\t\t\t\t- the <a href="https://pax.peaceagreements.org/media/documents/ag818_573ed266c7c9c.pdf" target="_blank" style="color: black;">Brazzaville Agreement on Cessation of Hostilities</a> - included &#39;gender&#39; by stipulating that under the agreement\n\t\t\t\t\tthe parties would cease the act of sexual violence.</p></div></section>',q(n,"slot","foreground")},m(t,e){N(t,n,e)},p:t,d(t){t&&R(n)}}}function tp(t){let e,n,i,r,o,a;return o=new Xc({props:{pax:t[11],pax_timeline:t[13],step:t[1]}}),{c(){e=C("div"),n=C("figure"),i=C("div"),r=C("div"),It(o.$$.fragment),q(r,"class","time svelte-1xpepao"),q(i,"class","col-wide height-full"),q(e,"slot","background")},m(t,l){N(t,e,l),M(e,n),M(n,i),M(i,r),Wt(o,r,null),a=!0},p(t,e){const n={};2048&e[0]&&(n.pax=t[11]),8192&e[0]&&(n.pax_timeline=t[13]),2&e[0]&&(n.step=t[1]),o.$set(n)},i(t){a||(Ct(o.$$.fragment,t),a=!0)},o(t){Ot(o.$$.fragment,t),a=!1},d(t){t&&R(e),Dt(o)}}}function ep(e){let n;return{c(){n=C("div"),n.innerHTML='<section><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">These are all peace agreements signed since 1990, each\n\t\t\t\t\trepresented as a line.</p></div></section> \n\t\t<section data-id="time01"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">Lets explore gender reference quality and specificity\n\t\t\t\t\tthrough three focus areas of a gender perspective according\n\t\t\t\t\tto UNSCR 1325: womens special needs during rehabilitation\n\t\t\t\t\tand reconstruction, involving women in implementation, and\n\t\t\t\t\tprotecting the human rights of women and girls.</p></div></section> \n\t\t<section data-id="time04"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">For example, only these highlighted agreements include\n\t\t\t\t\tsubstantive references to the special needs of women and\n\t\t\t\t\tgirls during rehabilitation and reconstruction. However,\n\t\t\t\t\tthey often are not a large proportion of the agreement\n\t\t\t\t\tfocus.</p></div></section> \n\t\t<section data-id="time05"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">One instance is the <a href="https://pax.peaceagreements.org/media/documents/ag478_55d493ee828e7.pdf" target="_blank" style="color: black">Lome Agreement</a>\n\t\t\t\t\tfor Sierra Leone in 1999 that acknowledged women&#39;s victimization\n\t\t\t\t\tduring the war, and stated that\n\t\t\t\t\t<i style="font-size: 18px;">&#39;special attention shall be accorded to their needs and\n\t\t\t\t\t\tpotentials in formulating and implementing national\n\t\t\t\t\t\trehabilitation, reconstruction and development\n\t\t\t\t\t\tprogrammes, to enable them to play a central role in the\n\t\t\t\t\t\tmoral, social and physical reconstruction of Sierra\n\t\t\t\t\t\tLeone.&#39;</i> This was the only reference to gender (highlighted in red)\n\t\t\t\t\tin the entire agreement text.</p></div></section> \n\t\t<section data-id="time06"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">The highlighted peace agreements include references to women\n\t\t\t\t\tplaying a role in implementing the agreement.</p></div></section> \n\t\t<section data-id="time07"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">For example, the 2016 <a href="https://pax.peaceagreements.org/media/documents/ag1845_593e97bdd6f32.pdf" target="_blank" style="color: black;">Final Agreement</a> between the Colombian Government and the FARC set up a special\n\t\t\t\t\tforum comprising representatives from 6 national and regional\n\t\t\t\t\tColombian women&#39;s organisations, to work with the implementation\n\t\t\t\t\tcommission on monitoring and guaranteeing the rights of women\n\t\t\t\t\tin the implementation of the peace agreement.</p></div></section> \n\t\t<section data-id="time08"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">Turning to the protection of human rights of women and\n\t\t\t\t\tgirls, the highlighted peace agreements include references\n\t\t\t\t\tto <strong>international human rights laws</strong> relating\n\t\t\t\t\tto women and gender, including specific human rights standards.</p></div></section> \n\t\t<section data-id="time09"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">For example, in a 1996 <a href="https://pax.peaceagreements.org/media/documents/ag291_5630f71a3ae07.pdf" style="color: black;" target="_blank">peace agreement from Guatemala</a>, the government agreed to revise national legislation to\n\t\t\t\t\teliminate all forms of discrimination against women, and to\n\t\t\t\t\tgive effect to the government commitments deriving from the\n\t\t\t\t\tratification of the Convention on the Elimination of All\n\t\t\t\t\tForms of Discrimination against Women.</p></div></section>',q(n,"slot","foreground")},m(t,e){N(t,n,e)},p:t,d(t){t&&R(n)}}}function np(t){let e,n,i,r,o,a;return o=new Fh({props:{pax_gender:t[12],step:t[1],categories:t[15]}}),{c(){e=C("div"),n=C("figure"),i=C("div"),r=C("div"),It(o.$$.fragment),q(r,"class","afgh svelte-1xpepao"),q(i,"class","col-wide height-full"),q(e,"slot","background")},m(t,l){N(t,e,l),M(e,n),M(n,i),M(i,r),Wt(o,r,null),a=!0},p(t,e){const n={};4096&e[0]&&(n.pax_gender=t[12]),2&e[0]&&(n.step=t[1]),32768&e[0]&&(n.categories=t[15]),o.$set(n)},i(t){a||(Ct(o.$$.fragment,t),a=!0)},o(t){Ot(o.$$.fragment,t),a=!1},d(t){t&&R(e),Dt(o)}}}function ip(e){let n;return{c(){n=C("div"),n.innerHTML='<section data-id="afgh01"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">This is the distribution of gender-related topic in all 436\n\t\t\t\t\tagreements. You can see the majority of references across\n\t\t\t\t\tall the agreements are regarding women&#39;s participation, and\n\t\t\t\t\tsexual violence.</p></div></section> \n\t\t<section data-id="afgh02"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">The earlier referenced Toncontin Agreement from 1990,\n\t\t\t\t\tincludes these gender-related topics.</p></div></section> \n\t\t<section data-id="afgh03"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">In contrast, the more recent 2016 Colombian Final Agreement\n\t\t\t\t\tincludes these topics.</p></div></section> \n\t\t<section data-id="afgh04"><div class="col-medium"><p style="text-align: center;" class="svelte-1xpepao">You can choose an agreement from the list on the right.</p></div></section>',q(n,"slot","foreground")},m(t,e){N(t,n,e)},p:t,d(t){t&&R(n)}}}function rp(t){let e,n,i,r,a,l,s,c,u,f,d,h,p,g,m,y,v,x,$,w,b,_,k,S,A,E,T,O,P,z,W,D,j,H,B,F,G,V,Y,U,J,Z,Q,K,tt,et,nt,it,rt,ot,at,lt,st,ct,ut,ft,dt,pt,gt,mt,yt,vt,xt,$t,bt;function _t(e){t[23](e)}c=new zs({props:{center:!0,short:!1,$$slots:{default:[Gh]},$$scope:{ctx:t}}});let kt={threshold:op,splitscreen:!1,shadow:!1,$$slots:{foreground:[Vh],background:[Xh]},$$scope:{ctx:t}};function St(e){t[25](e)}void 0!==t[0].map&&(kt.id=t[0].map),S=new Xs({props:kt}),ht.push((()=>zt(S,"id",_t)));let Mt={threshold:op,splitscreen:!1,shadow:!1,$$slots:{foreground:[Uh],background:[Yh]},$$scope:{ctx:t}};function At(e){t[27](e)}void 0!==t[0].rect&&(Mt.id=t[0].rect),P=new Xs({props:Mt}),ht.push((()=>zt(P,"id",St)));let Et={threshold:op,splitscreen:!1,shadow:!1,$$slots:{foreground:[Zh],background:[Jh]},$$scope:{ctx:t}};function Nt(e){t[29](e)}void 0!==t[0].area&&(Et.id=t[0].area),H=new Xs({props:Et}),ht.push((()=>zt(H,"id",At)));let Rt={threshold:op,splitscreen:!1,shadow:!1,$$slots:{foreground:[Kh],background:[Qh]},$$scope:{ctx:t}};function Tt(e){t[31](e)}void 0!==t[0].stage&&(Rt.id=t[0].stage),nt=new Xs({props:Rt}),ht.push((()=>zt(nt,"id",Nt)));let Pt={threshold:op,splitscreen:!1,shadow:!1,$$slots:{foreground:[ep],background:[tp]},$$scope:{ctx:t}};function Lt(e){t[33](e)}void 0!==t[0].time&&(Pt.id=t[0].time),lt=new Xs({props:Pt}),ht.push((()=>zt(lt,"id",Tt)));let qt={threshold:op,splitscreen:!1,shadow:!1,$$slots:{foreground:[ip],background:[np]},$$scope:{ctx:t}};return void 0!==t[0].afgh&&(qt.id=t[0].afgh),dt=new Xs({props:qt}),ht.push((()=>zt(dt,"id",Lt))),{c(){e=C("div"),e.innerHTML='<p class="rotated svelte-1xpepao" style="color: black;">CHAPTERS</p> \n\t<div class="scroll-line-agmt svelte-1xpepao" data-tooltip="Peace Agreement"><img src="./img/agt.svg" alt="rect" class="svelte-1xpepao"/></div> \n\t<div class="scroll-line-geo svelte-1xpepao" data-tooltip="Geography"><img src="./img/glb.svg" alt="rect" class="svelte-1xpepao"/></div> \n\t<div class="scroll-line-rect svelte-1xpepao" data-tooltip="All Agreements"><img src="./img/rects.svg" alt="rect" class="svelte-1xpepao"/></div> \n\t<div class="scroll-line-reason svelte-1xpepao" data-tooltip="UN Resolution"><img src="./img/un.svg" alt="rect" class="svelte-1xpepao"/></div> \n\t<div class="scroll-line-stage svelte-1xpepao" data-tooltip="Negotiation Stages"><img src="./img/bars.svg" alt="rect" class="svelte-1xpepao"/></div> \n\t<div class="scroll-line-time svelte-1xpepao" data-tooltip="Reference Quality"><img src="./img/ref.svg" alt="rect" class="svelte-1xpepao"/></div> \n\t<div class="scroll-line-dendr svelte-1xpepao" data-tooltip="Topics"><img src="./img/dendr.svg" alt="rect" class="svelte-1xpepao"/></div> \n\t<div class="scroll-line-research svelte-1xpepao" data-tooltip="Research"><img src="./img/research.svg" alt="rect" class="svelte-1xpepao"/></div>',n=L(),i=C("div"),r=C("button"),r.textContent="Visualization",a=L(),l=C("p"),l.textContent="loading...",s=L(),It(c.$$.fragment),u=L(),f=C("div"),f.innerHTML='<div id="text_field" class="svelte-1xpepao"><p style="text-align: center;" class="svelte-1xpepao">A <strong>peace agreement</strong> is a document produced after\n\t\t\tdiscussion with conflict protagonists and mutually agreed to by\n\t\t\tthem, addressing conflict with a view to ending it. <br/><br/>\n\t\t\tThe\n\t\t\t<a href="https://pax.peaceagreements.org/agreements/search/">PA-X Peace Agreement Database</a>\n\t\t\tcollects and archives formal, publicly-available, signed peace agreements.\n\t\t\tPA-X Gender is a sub-database of PA-X that includes agreements that contain\n\t\t\tmentions to Women, Girls or Gender. Below is a ceasefire agreement from\n\t\t\t1990 Nicaragua.</p></div>',d=L(),h=C("div"),h.innerHTML='<a href="https://pax.peaceagreements.org/agreements/wgg/589/" target="_blank" style="color: white;"><img src="./img/toncontin.png" alt="peace agreement example" style="width: 100%; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;"/></a>',p=L(),g=C("div"),g.innerHTML='<div id="text_field" class="svelte-1xpepao"><p style="text-align: center;" class="svelte-1xpepao">In 2000, the United Nations Security Council passed Resolution 1325\n\t\t\ton Women, Peace, and Security, calling on all actors involved in\n\t\t\tnegotiating and implementing peace agreements to adopt a gender\n\t\t\tperspective, including the following:</p></div>',m=L(),y=C("div"),y.innerHTML='<div class="icon-item svelte-1xpepao"><img src="./img/fir.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 10%; padding-right: 10%;" class="svelte-1xpepao">Responding to the special needs of women and girls during\n\t\t\trepatriation, resettlement, rehabilitation, reintegration and\n\t\t\tpost-conflict reconstruction</p></div> \n\t<div class="icon-item svelte-1xpepao"><img src="./img/sec.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 10%; padding-right: 10%" class="svelte-1xpepao">Supporting local womens and indigenous initiatives for conflict\n\t\t\tresolution, and involving women in all implementation mechanisms</p></div> \n\t<div class="icon-item svelte-1xpepao"><img src="./img/thi.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 10%; padding-right: 10%" class="svelte-1xpepao">Ensuring the protection of human rights of women and girls,\n\t\t\tparticularly relating to the constitution, the electoral system, the\n\t\t\tpolice and the judiciary</p></div>',v=L(),x=C("div"),x.innerHTML='<div id="text_field" class="svelte-1xpepao"><p style="text-align: center; background-color:white" class="svelte-1xpepao">Why should peace agreements incorporate a gender perspective?</p></div>',$=L(),w=C("div"),w.innerHTML='<div class="icon-item svelte-1xpepao"><img src="./img/blueprint.png" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 5%; padding-right: 5%" class="svelte-1xpepao"><strong>Peace agreements can provide a formalised blueprint to shape\n\t\t\t\tthe political settlement that emerges from a peace deal.</strong>  <br/><br/> This can have consequences for how women, gender minorities,\n\t\t\tand sexual minorities may experience the transition that the peace agreement\n\t\t\tstipulates.</p></div> \n\t<div class="icon-item svelte-1xpepao"><img src="./img/negotiation.png" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 5%; padding-right: 5%" class="svelte-1xpepao"><strong>Peace agreements can create &#39;sticky&#39; institutional arrangements\n\t\t\t\tthat can be hard to later re-negotiate.</strong>  <br/><br/>Any gaps in how the peace agreement understands or\n\t\t\tresponds to gender, may become stuck and difficult to resolve\n\t\t\tthrough institutional mechanisms.</p></div> \n\t<div class="icon-item svelte-1xpepao"><img src="./img/gender.png" alt="peace agreement example" style="height: 100px;"/> \n\t\t<p style="text-align: center; font-size: 14px; padding-left: 5%; padding-right: 5%" class="svelte-1xpepao"><strong>Peace agreements are not gender neutral by default.</strong><br/><br/>\n\t\t\tThey contain institutional configurations, security mechanisms and human\n\t\t\trights regimes that all shape different gender outcomes or impacts women&#39;s\n\t\t\tlives.</p></div> \n\t<div id="text_field" class="svelte-1xpepao"><p style="text-align: center;" class="svelte-1xpepao">Hear more on this from PeaceRep Women Peace and Security expert,\n\t\t\tLaura Wise in this short, informative <a href="https://www.youtube.com/watch?v=52GFh0r6Zj8" target="_blank" style="color: black;">video</a> (3 mins).</p></div>',b=L(),_=C("div"),_.innerHTML='<div id="text_field" class="svelte-1xpepao"><p style="text-align: center;" class="svelte-1xpepao">PA-X contains 2,144 peace agreements that have been signed since\n\t\t\t1990. The map below shows the geographical spread of where these\n\t\t\tagreements are from and the primary location of the conflict they\n\t\t\tare addressing.</p></div>',k=L(),It(S.$$.fragment),E=L(),T=C("div"),T.innerHTML='<div id="text_field" class="svelte-1xpepao"><p style="text-align: center;" class="svelte-1xpepao">To get a better idea about how often women, girls and gender are\n\t\t\ttaken into consideration in peace agreements, below is a\n\t\t\trepresentation of all peace agreements in PA-X.</p></div>',O=L(),It(P.$$.fragment),W=L(),D=C("div"),D.innerHTML='<div id="text_field" class="svelte-1xpepao"><p style="text-align: center" class="svelte-1xpepao">How did UNSCR 1325 influence the number of gender-related peace\n\t\t\tagreements over time?</p></div>',j=L(),It(H.$$.fragment),F=L(),G=C("div"),G.innerHTML='<div id="text_field" class="svelte-1xpepao"><p style="text-align: center" class="svelte-1xpepao">There are different <strong>stages of peace processes</strong>\n\t\t\tdepending on the content included in agreements: from pre-neogtiation\n\t\t\tagreements where there are &#39;talks about talks&#39;, to ceasefires, to more\n\t\t\tcomprehensive agreements and implementation agreements.<br/><br/>\n\t\t\tIf the process went smoothly from one stage to the next it would look\n\t\t\tlike this over time:</p></div>',V=L(),Y=C("div"),Y.innerHTML='<img src="./img/messy_1.png" alt="messy timeline visualization picutre" style="width: 100%;"/>',U=L(),J=C("div"),J.innerHTML='<div id="text_field" class="svelte-1xpepao"><p style="text-align:center" class="svelte-1xpepao">Instead, peace processes frequently involve a series of\n\t\t\tback-and-forth movements, reflecting the reality that progress is\n\t\t\trarely uniform or predictable. For example, here is the trajectory\n\t\t\tof the Philippines-Mindanao Process.</p></div>',Z=L(),Q=C("div"),Q.innerHTML='<img src="./img/messy_2.png" alt="peace agreement example" style="width: 100%;"/> \n\t<p style="color: black;" class="svelte-1xpepao">Explore the trajectory of other processes in PA-X on our <a href="https://pax.peaceagreements.org/visualizations/messy-peace-processes/" target="_blank" style="color: black;">Messy Timeline Visualization</a></p>',K=L(),tt=C("div"),tt.innerHTML='<div id="text_field" class="svelte-1xpepao"><p style="text-align: center" class="svelte-1xpepao">At which stage of peace negotiations do women, girls, and gender get\n\t\t\tdiscussed?</p></div>',et=L(),It(nt.$$.fragment),rt=L(),ot=C("div"),ot.innerHTML='<div id="text_field" class="svelte-1xpepao"><p style="text-align: center" class="svelte-1xpepao">Beyond the numbers, gender references differ hugely in terms of\n\t\t\ttheir substantive quality and specificity, ranging from detailed\n\t\t\tcommitments to rhetorical references to &#39;women&#39;.</p></div>',at=L(),It(lt.$$.fragment),ct=L(),ut=C("div"),ut.innerHTML='<div id="text_field" class="svelte-1xpepao"><p style="text-align: center" class="svelte-1xpepao">As you can see, peace agreements cover different topics related to\n\t\t\twomen, girls and gender. Sometimes there are a lot of topics\n\t\t\taddressed, and sometimes there are very few. <br/><br/>\n\t\t\tBelow shows a representation of all topics related to women, girls and\n\t\t\tgender that are coded for all agreements in PA-X Gender.</p></div>',ft=L(),It(dt.$$.fragment),gt=L(),mt=C("div"),mt.innerHTML='<div id="text_field" class="svelte-1xpepao"><p style="text-align: center" class="svelte-1xpepao">PA-X Gender shows that 25 years after UNSCR 1325 was passed, peace\n\t\t\tagreements still do not consistently incorporate a gender\n\t\t\tperspective.\n\t\t\t<br/><br/><br/>\n\t\t\tHowever, women and their allies continue to push for peace processes\n\t\t\tto recognise the importance of gender, both from within and outside of\n\t\t\tformal institutions.\n\t\t\t<br/><br/><br/>\n\t\t\tPA-X Gender is an archive of processes where women were successful at\n\t\t\tgetting gender into peace agreements, and pays tribute to their historical\n\t\t\tefforts.</p></div>',yt=L(),vt=C("div"),vt.innerHTML='<p style="text-align: center; color: black" class="svelte-1xpepao">Explore our research and data on gender in peace agreements, and how\n\t\tthis work informs Women, Peace and Security monitoring.</p> \n\t<div id="research_field" class="svelte-1xpepao"><div class="research_item svelte-1xpepao"><a href="https://www.peaceagreements.org/agreements/wggsearch/" target="_blank"><img src="./img/gender_db.png" alt="PA-X Gender Database" class="svelte-1xpepao"/></a> \n\t\t\t<p class="svelte-1xpepao">PA-X Gender Database</p></div> \n\t\t<div class="research_item svelte-1xpepao"><a href="https://peacerep.org/2025/07/24/women-peace-and-security-at-25/" target="_blank"><img src="./img/one.png" alt="Women, Peace and Security at 25" class="svelte-1xpepao"/></a> \n\t\t\t<p class="svelte-1xpepao">Women, Peace and Security at 25: Assessing Implementation\n\t\t\t\tthrough Gender Perspectives in Peace Agreements</p></div> \n\t\t<div class="research_item svelte-1xpepao"><a href="https://peacerep.org/2024/10/28/un-report-cites-peacerep-research-on-stagnation-of-gender-references-in-peace-agreements/" target="_blank"><img src="./img/two.png" alt="UN Report Cites PeaceRep Research" class="svelte-1xpepao"/></a> \n\t\t\t<p class="svelte-1xpepao">UN Report Cites PeaceRep Research on Stagnation of Gender\n\t\t\t\tReferences in Peace Agreements</p></div> \n\t\t<div class="research_item svelte-1xpepao"><a href="https://peacerep.org/publication/principled-pragmatism-and-the-inclusion-project-implementing-a-gender-perspective-in-peace-agreements/" target="_blank"><img src="./img/four.png" alt="Principled Pragmatism Paper" class="svelte-1xpepao"/></a> \n\t\t\t<p class="svelte-1xpepao">Principled Pragmatism and the Inclusion Project: Implementing\n\t\t\t\ta Gender Perspective in Peace Agreements</p></div> \n\t\t<div class="research_item svelte-1xpepao"><a href="https://peacerep.org/digital-resources/peacefem/" target="_blank"><img src="./img/three.png" alt="PeaceFem App" class="svelte-1xpepao"/></a> \n\t\t\t<p class="svelte-1xpepao">PeaceFem</p></div></div>',q(e,"id","indicator"),q(e,"class","svelte-1xpepao"),q(r,"id","loading_button"),q(r,"class","svelte-1xpepao"),q(l,"id","loading_text"),q(l,"class","svelte-1xpepao"),q(i,"role","presentation"),q(i,"id","loading_screen"),X(i,"height","calc(var(--vh, 1vh) * 100)"),q(i,"class","svelte-1xpepao"),q(f,"class","filler svelte-1xpepao"),q(h,"class","filler svelte-1xpepao"),q(g,"class","filler svelte-1xpepao"),q(y,"id","icons"),q(y,"class","svelte-1xpepao"),q(x,"class","filler svelte-1xpepao"),q(w,"id","icons"),q(w,"class","svelte-1xpepao"),q(_,"class","filler svelte-1xpepao"),q(T,"class","filler svelte-1xpepao"),q(D,"class","filler svelte-1xpepao"),q(G,"class","filler svelte-1xpepao"),q(Y,"class","filler svelte-1xpepao"),q(J,"class","filler svelte-1xpepao"),q(Q,"class","filler svelte-1xpepao"),q(tt,"class","filler svelte-1xpepao"),q(ot,"class","filler svelte-1xpepao"),q(ut,"class","filler svelte-1xpepao"),q(mt,"class","filler svelte-1xpepao"),q(vt,"class","filler svelte-1xpepao")},m(o,A){N(o,e,A),N(o,n,A),N(o,i,A),M(i,r),M(i,a),M(i,l),N(o,s,A),Wt(c,o,A),N(o,u,A),N(o,f,A),t[21](f),N(o,d,A),N(o,h,A),N(o,p,A),N(o,g,A),N(o,m,A),N(o,y,A),N(o,v,A),N(o,x,A),N(o,$,A),N(o,w,A),N(o,b,A),N(o,_,A),t[22](_),N(o,k,A),Wt(S,o,A),N(o,E,A),N(o,T,A),t[24](T),N(o,O,A),Wt(P,o,A),N(o,W,A),N(o,D,A),t[26](D),N(o,j,A),Wt(H,o,A),N(o,F,A),N(o,G,A),t[28](G),N(o,V,A),N(o,Y,A),N(o,U,A),N(o,J,A),N(o,Z,A),N(o,Q,A),N(o,K,A),N(o,tt,A),N(o,et,A),Wt(nt,o,A),N(o,rt,A),N(o,ot,A),t[30](ot),N(o,at,A),Wt(lt,o,A),N(o,ct,A),N(o,ut,A),t[32](ut),N(o,ft,A),Wt(dt,o,A),N(o,gt,A),N(o,mt,A),N(o,yt,A),N(o,vt,A),t[34](vt),xt=!0,$t||(bt=[I(r,"click",t[17]),I(i,"click",t[17])],$t=!0)},p(t,e){const n={};16777216&e[1]&&(n.$$scope={dirty:e,ctx:t}),c.$set(n);const i={};15362&e[0]|16777216&e[1]&&(i.$$scope={dirty:e,ctx:t}),!A&&1&e[0]&&(A=!0,i.id=t[0].map,wt((()=>A=!1))),S.$set(i);const r={};2050&e[0]|16777216&e[1]&&(r.$$scope={dirty:e,ctx:t}),!z&&1&e[0]&&(z=!0,r.id=t[0].rect,wt((()=>z=!1))),P.$set(r);const o={};10242&e[0]|16777216&e[1]&&(o.$$scope={dirty:e,ctx:t}),!B&&1&e[0]&&(B=!0,o.id=t[0].area,wt((()=>B=!1))),H.$set(o);const a={};18434&e[0]|16777216&e[1]&&(a.$$scope={dirty:e,ctx:t}),!it&&1&e[0]&&(it=!0,a.id=t[0].stage,wt((()=>it=!1))),nt.$set(a);const l={};10242&e[0]|16777216&e[1]&&(l.$$scope={dirty:e,ctx:t}),!st&&1&e[0]&&(st=!0,l.id=t[0].time,wt((()=>st=!1))),lt.$set(l);const s={};36866&e[0]|16777216&e[1]&&(s.$$scope={dirty:e,ctx:t}),!pt&&1&e[0]&&(pt=!0,s.id=t[0].afgh,wt((()=>pt=!1))),dt.$set(s)},i(t){xt||(Ct(c.$$.fragment,t),Ct(S.$$.fragment,t),Ct(P.$$.fragment,t),Ct(H.$$.fragment,t),Ct(nt.$$.fragment,t),Ct(lt.$$.fragment,t),Ct(dt.$$.fragment,t),xt=!0)},o(t){Ot(c.$$.fragment,t),Ot(S.$$.fragment,t),Ot(P.$$.fragment,t),Ot(H.$$.fragment,t),Ot(nt.$$.fragment,t),Ot(lt.$$.fragment,t),Ot(dt.$$.fragment,t),xt=!1},d(r){r&&R(e),r&&R(n),r&&R(i),r&&R(s),Dt(c,r),r&&R(u),r&&R(f),t[21](null),r&&R(d),r&&R(h),r&&R(p),r&&R(g),r&&R(m),r&&R(y),r&&R(v),r&&R(x),r&&R($),r&&R(w),r&&R(b),r&&R(_),t[22](null),r&&R(k),Dt(S,r),r&&R(E),r&&R(T),t[24](null),r&&R(O),Dt(P,r),r&&R(W),r&&R(D),t[26](null),r&&R(j),Dt(H,r),r&&R(F),r&&R(G),t[28](null),r&&R(V),r&&R(Y),r&&R(U),r&&R(J),r&&R(Z),r&&R(Q),r&&R(K),r&&R(tt),r&&R(et),Dt(nt,r),r&&R(rt),r&&R(ot),t[30](null),r&&R(at),Dt(lt,r),r&&R(ct),r&&R(ut),t[32](null),r&&R(ft),Dt(dt,r),r&&R(gt),r&&R(mt),r&&R(yt),r&&R(vt),t[34](null),$t=!1,o(bt)}}}const op=.65;function ap(t){const e=window.scrollY,n=t-e,i=n>0?1:-1,r=Math.abs(n);let o=null;requestAnimationFrame((function t(n){o||(o=n);const a=n-o,l=Math.min(5*a,r);window.scrollTo(0,e+l*i),l<r&&requestAnimationFrame(t)}))}function lp(t,e,n){let i,r,o,a,l,s,c,u,f,d,h,p,g,m,y,v,x,$,w={},b={},_={agreement:!1,geo:!1,rect:!1,reason:!1};function k(t){_n(".rotated").transition().style("opacity",0),Sn(".scroll-line-agmt img, .scroll-line-geo img, .scroll-line-rect img, .scroll-line-reason img, .scroll-line-stage img, .scroll-line-time img, .scroll-line-dendr img").style("opacity",.5),_n(`.scroll-line-${t} img`).style("opacity",1)}function S(t){_n(`.scroll-line-${t} img`).style("opacity",.5),"geo"==t?_n(".scroll-line-agmt img").style("opacity",1):"rect"==t?_n(".scroll-line-geo img").style("opacity",1):"reason"==t?_n(".scroll-line-rect img").style("opacity",1):"stage"==t?_n(".scroll-line-reason img").style("opacity",1):"time"==t?_n(".scroll-line-stage img").style("opacity",1):"dendr"==t?_n(".scroll-line-time img").style("opacity",1):"research"==t?_n(".scroll-line-dendr img").style("opacity",1):_n(".rotated").transition().style("opacity",1)}ot((()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo({top:0,behavior:"auto"}),b={...w};const t=document.querySelector("#indicator"),e=document.querySelector(".scroll-line-agmt"),n=document.querySelector(".scroll-line-geo"),M=document.querySelector(".scroll-line-rect"),A=document.querySelector(".scroll-line-reason"),E=document.querySelector(".scroll-line-time"),N=document.querySelector(".scroll-line-stage"),R=document.querySelector(".scroll-line-dendr"),T=document.querySelector(".scroll-line-research");if(!t)return;const C=()=>{if(document.documentElement.scrollHeight-window.innerHeight<=0)requestAnimationFrame(C);else{if(i instanceof HTMLElement){let t=i.getBoundingClientRect();f=t.top+window.scrollY,e.addEventListener("click",(()=>{ap(f)}))}if(s instanceof HTMLElement){const t=s.getBoundingClientRect();d=t.top+window.scrollY,n.addEventListener("click",(()=>{ap(d)}))}if(r instanceof HTMLElement){let t=r.getBoundingClientRect();h=t.top+window.scrollY,M.addEventListener("click",(()=>{ap(h)}))}if(o instanceof HTMLElement){let t=o.getBoundingClientRect();p=t.top+window.scrollY,A.addEventListener("click",(()=>{ap(p)}))}if(l instanceof HTMLElement){const t=l.getBoundingClientRect();g=t.top+window.scrollY,N.addEventListener("click",(()=>{ap(g)}))}if(a instanceof HTMLElement){const t=a.getBoundingClientRect();m=t.top+window.scrollY,E.addEventListener("click",(()=>{ap(m)}))}if(c instanceof HTMLElement){const t=c.getBoundingClientRect();y=t.top+window.scrollY,R.addEventListener("click",(()=>{ap(y)}))}if(u instanceof HTMLElement){const t=u.getBoundingClientRect();v=t.top+window.scrollY,T.addEventListener("click",(()=>{ap(v)}))}}};$=()=>{const t=window.scrollY+.5*window.innerHeight;f&&(!_.agreement&&t>=f?(_.agreement=!0,k("agmt")):_.agreement&&t<f&&(_.agreement=!1,S("agmt"))),d&&(!_.geo&&t>=d?(_.geo=!0,k("geo")):_.geo&&t<d&&(_.geo=!1,S("geo"))),h&&(!_.rect&&t>=h?(_.rect=!0,k("rect")):_.rect&&t<h&&(_.rect=!1,S("rect"))),p&&(!_.reason&&t>=p?(_.reason=!0,k("reason")):_.reason&&t<p&&(_.reason=!1,S("reason"))),g&&(!_.stage&&t>=g?(_.stage=!0,k("stage")):_.stage&&t<g&&(_.stage=!1,S("stage"))),m&&(!_.time&&t>=m?(_.time=!0,k("time")):_.time&&t<m&&(_.time=!1,S("time"))),y&&(!_.dendr&&t>=y?(_.dendr=!0,k("dendr")):_.dendr&&t<y&&(_.dendr=!1,S("dendr"))),v&&(!_.research&&t>=v?(_.research=!0,k("research")):_.research&&t<v&&(_.research=!1,S("research")))},window.addEventListener("scroll",$),$(),requestAnimationFrame(C),x=()=>requestAnimationFrame(C),window.addEventListener("resize",x)})),lt((()=>{window.removeEventListener("resize",x)})),lt((()=>{window.removeEventListener("scroll",$)}));let M=null;const A={rect:{rect01:()=>{n(1,M="rect01")},rect02:()=>{n(1,M="rect02")}},area:{area01:()=>{n(1,M="area01")},area02:()=>{n(1,M="area02")}},chart:{chart01:()=>{n(1,M="one")},chart02:()=>{n(1,M="two")},chart03:()=>{n(1,M="three")},chart04:()=>{n(1,M="four")},chart05:()=>{n(1,M="five")}},time:{time01:()=>{n(1,M="1")},time02:()=>{n(1,M="2")},time03:()=>{n(1,M="3")},time04:()=>{n(1,M="4")},time05:()=>{n(1,M="5")},time06:()=>{n(1,M="6")},time07:()=>{n(1,M="7")},time08:()=>{n(1,M="8")},time09:()=>{n(1,M="9")}},stage:{stage01:()=>{n(1,M="stage01")},stage02:()=>{n(1,M="stage02")},stage03:()=>{n(1,M="stage03")},stage04:()=>{n(1,M="stage04")}},map:{map01:()=>{n(1,M="map_one")},map02:()=>{n(1,M="map_two")},map03:()=>{n(1,M="map_three")},map04:()=>{n(1,M="map_four")}},afgh:{afgh01:()=>{n(1,M="afgh01")},afgh02:()=>{n(1,M="afgh02")},afgh03:()=>{n(1,M="afgh03")},afgh04:()=>{n(1,M="afgh04")}}};let E;Es("./data/custom.geo.json").then((t=>{n(10,E=t)}));let N,R,T,C,O;As(["./data/pax_v9.csv","./data/pax_gender_v9.csv","./data/gender_categories.csv"]).then((t=>{Ss.set(undefined),n(11,N=t[0]),n(12,R=t[1]),n(15,O=t[2]),N.forEach((t=>{const e=R.find((e=>e.AgtId===t.AgtId));e?(t.WggRehab=e.WggRehab,t.WggImplRole=e.WggImplRole,t.WggHR=e.WggHR):(t.WggRehab="0",t.WggImplRole="0",t.WggHR="0")})),N.sort((function(t,e){return Ht(t.Dat.substring(0,4),e.Dat.substring(0,4))})),n(14,C=Qt(N,(t=>t.Stage)));let e=["Pre","Cea","SubPar","SubComp","Imp","Ren","Oth"];C.sort(((t,n)=>e.indexOf(t[0])-e.indexOf(n[0]))),n(13,T=Qt(N,(t=>t.Dat.substring(0,4))))}));let P=!1;let L=0;function z(){L%2==0?_n(".info_div").style("top","1px"):_n(".info_div").style("top","-100%"),L+=1}return t.$$.update=()=>{1&t.$$.dirty[0]&&w&&function(t=[]){t.forEach((t=>{w[t]!=b[t]&&(A[t][w[t]]&&A[t][w[t]](),b[t]=w[t])}))}(Object.keys(A)),2&t.$$.dirty[0]&&console.log(M)},[w,M,i,r,o,a,l,s,c,u,E,N,R,T,C,O,function(){P=!0,document.getElementById("loading_text").style.visibility="hidden",document.getElementById("loading_button").style.visibility="visible"},function(t){P&&(document.getElementById("loading_screen").style.visibility="hidden",document.getElementById("loading_button").style.visibility="hidden",document.documentElement.style.overflow="visible",document.body.style.overflow="visible")},z,()=>z(),()=>z(),function(t){ht[t?"unshift":"push"]((()=>{i=t,n(2,i)}))},function(t){ht[t?"unshift":"push"]((()=>{s=t,n(7,s)}))},function(e){t.$$.not_equal(w.map,e)&&(w.map=e,n(0,w))},function(t){ht[t?"unshift":"push"]((()=>{r=t,n(3,r)}))},function(e){t.$$.not_equal(w.rect,e)&&(w.rect=e,n(0,w))},function(t){ht[t?"unshift":"push"]((()=>{o=t,n(4,o)}))},function(e){t.$$.not_equal(w.area,e)&&(w.area=e,n(0,w))},function(t){ht[t?"unshift":"push"]((()=>{l=t,n(6,l)}))},function(e){t.$$.not_equal(w.stage,e)&&(w.stage=e,n(0,w))},function(t){ht[t?"unshift":"push"]((()=>{a=t,n(5,a)}))},function(e){t.$$.not_equal(w.time,e)&&(w.time=e,n(0,w))},function(t){ht[t?"unshift":"push"]((()=>{c=t,n(8,c)}))},function(e){t.$$.not_equal(w.afgh,e)&&(w.afgh=e,n(0,w))},function(t){ht[t?"unshift":"push"]((()=>{u=t,n(9,u)}))}]}return new class extends jt{constructor(t){super(),qt(this,t,lp,rp,l,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map

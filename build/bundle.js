var app=function(){"use strict";function t(){}const n=t=>t;function e(t,n){for(const e in n)t[e]=n[e];return t}function i(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(i)}function a(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let l;function c(t,n){return l||(l=document.createElement("a")),l.href=n,t===l.href}function u(n,...e){if(null==n)return t;const i=n.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i}function f(t,n,e){t.$$.on_destroy.push(u(n,e))}function h(t,n,e,i){if(t){const r=d(t,n,e,i);return t[0](r)}}function d(t,n,i,r){return t[1]&&r?e(i.ctx.slice(),t[1](r(n))):i.ctx}function p(t,n,e,i){if(t[2]&&i){const r=t[2](i(e));if(void 0===n.dirty)return r;if("object"==typeof r){const t=[],e=Math.max(n.dirty.length,r.length);for(let i=0;i<e;i+=1)t[i]=n.dirty[i]|r[i];return t}return n.dirty|r}return n.dirty}function g(t,n,e,i,r,o){if(r){const a=d(n,e,i,o);t.p(a,r)}}function m(t){if(t.ctx.length>32){const n=[],e=t.ctx.length/32;for(let t=0;t<e;t++)n[t]=-1;return n}return-1}function y(t,n,e){return t.set(e),n}const v="undefined"!=typeof window;let w=v?()=>window.performance.now():()=>Date.now(),$=v?t=>requestAnimationFrame(t):t;const x=new Set;function _(t){x.forEach((n=>{n.c(t)||(x.delete(n),n.f())})),0!==x.size&&$(_)}const b="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function k(t,n){t.appendChild(n)}function M(t,n,e){t.insertBefore(n,e||null)}function E(t){t.parentNode&&t.parentNode.removeChild(t)}function S(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function A(t){return document.createElement(t)}function N(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function R(t){return document.createTextNode(t)}function z(){return R(" ")}function T(){return R("")}function C(t,n,e,i){return t.addEventListener(n,e,i),()=>t.removeEventListener(n,e,i)}function P(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function W(t,n,e){n in t?t[n]="boolean"==typeof t[n]&&""===e||e:P(t,n,e)}function O(t,n){n=""+n,t.data!==n&&(t.data=n)}function q(t,n,e,i){null==e?t.style.removeProperty(n):t.style.setProperty(n,e,i?"important":"")}let I,L;function D(){if(void 0===I){I=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){I=!0}}return I}function j(t,n){"static"===getComputedStyle(t).position&&(t.style.position="relative");const e=A("iframe");e.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),e.setAttribute("aria-hidden","true"),e.tabIndex=-1;const i=D();let r;return i?(e.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=C(window,"message",(t=>{t.source===e.contentWindow&&n()}))):(e.src="about:blank",e.onload=()=>{r=C(e.contentWindow,"resize",n),n()}),k(t,e),()=>{(i||r&&e.contentWindow)&&r(),E(e)}}function H(t,n,e){t.classList[e?"add":"remove"](n)}function B(t){L=t}function G(){if(!L)throw new Error("Function called outside component initialization");return L}function X(t){G().$$.on_mount.push(t)}function F(){const t=G();return(n,e,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[n];if(r){const o=function(t,n,{bubbles:e=!1,cancelable:i=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,e,i,n),r}(n,e,{cancelable:i});return r.slice().forEach((n=>{n.call(t,o)})),!o.defaultPrevented}return!0}}function Y(t,n){return G().$$.context.set(t,n),n}const V=[],U=[];let J=[];const Z=[],Q=Promise.resolve();let K=!1;function tt(){K||(K=!0,Q.then(ot))}function nt(t){J.push(t)}function et(t){Z.push(t)}const it=new Set;let rt=0;function ot(){if(0!==rt)return;const t=L;do{try{for(;rt<V.length;){const t=V[rt];rt++,B(t),at(t.$$)}}catch(t){throw V.length=0,rt=0,t}for(B(null),V.length=0,rt=0;U.length;)U.pop()();for(let t=0;t<J.length;t+=1){const n=J[t];it.has(n)||(it.add(n),n())}J.length=0}while(V.length);for(;Z.length;)Z.pop()();K=!1,it.clear(),B(t)}function at(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(nt)}}const st=new Set;let lt;function ct(){lt={r:0,c:[],p:lt}}function ut(){lt.r||o(lt.c),lt=lt.p}function ft(t,n){t&&t.i&&(st.delete(t),t.i(n))}function ht(t,n,e,i){if(t&&t.o){if(st.has(t))return;st.add(t),lt.c.push((()=>{st.delete(t),i&&(e&&t.d(1),i())})),t.o(n)}else i&&i()}function dt(t,n,e){const i=t.$$.props[n];void 0!==i&&(t.$$.bound[i]=e,e(t.$$.ctx[i]))}function pt(t){t&&t.c()}function gt(t,n,e,r){const{fragment:s,after_update:l}=t.$$;s&&s.m(n,e),r||nt((()=>{const n=t.$$.on_mount.map(i).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),l.forEach(nt)}function mt(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];J.forEach((i=>-1===t.indexOf(i)?n.push(i):e.push(i))),e.forEach((t=>t())),J=n}(e.after_update),o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function yt(n,e,i,a,s,l,c,u=[-1]){const f=L;B(n);const h=n.$$={fragment:null,ctx:[],props:l,update:t,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:e.target||f.$$.root};c&&c(h.root);let d=!1;if(h.ctx=i?i(n,e.props||{},((t,e,...i)=>{const r=i.length?i[0]:e;return h.ctx&&s(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),d&&function(t,n){-1===t.$$.dirty[0]&&(V.push(t),tt(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}(n,t)),e})):[],h.update(),d=!0,o(h.before_update),h.fragment=!!a&&a(h.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);h.fragment&&h.fragment.l(t),t.forEach(E)}else h.fragment&&h.fragment.c();e.intro&&ft(n.$$.fragment),gt(n,e.target,e.anchor,e.customElement),ot()}B(f)}class vt{$destroy(){mt(this,1),this.$destroy=t}$on(n,e){if(!a(e))return t;const i=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return i.push(e),()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function wt(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function $t(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function xt(t){let n,e,i;function r(t,i,r=0,o=t.length){if(r<o){if(0!==n(i,i))return o;do{const n=r+o>>>1;e(t[n],i)<0?r=n+1:o=n}while(r<o)}return r}return 2!==t.length?(n=wt,e=(n,e)=>wt(t(n),e),i=(n,e)=>t(n)-e):(n=t===wt||t===$t?t:_t,e=t,i=t),{left:r,center:function(t,n,e=0,o=t.length){const a=r(t,n,e,o-1);return a>e&&i(t[a-1],n)>-i(t[a],n)?a-1:a},right:function(t,i,r=0,o=t.length){if(r<o){if(0!==n(i,i))return o;do{const n=r+o>>>1;e(t[n],i)<=0?r=n+1:o=n}while(r<o)}return r}}}function _t(){return 0}const bt=xt(wt).right;xt((function(t){return null===t?NaN:+t})).center;class kt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let i=0;i<this._n&&i<32;i++){const r=n[i],o=t+r,a=Math.abs(t)<Math.abs(r)?t-(o-r):r-(o-t);a&&(n[e++]=a),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,i,r=this._n,o=0;if(r>0){for(o=t[--r];r>0&&(n=o,e=t[--r],o=n+e,i=e-(o-n),!i););r>0&&(i<0&&t[r-1]<0||i>0&&t[r-1]>0)&&(e=2*i,n=o+e,e==n-o&&(o=n))}return o}}class Mt extends Map{constructor(t,n=St){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[n,e]of t)this.set(n,e)}get(t){return super.get(Et(this,t))}has(t){return super.has(Et(this,t))}set(t,n){return super.set(function({_intern:t,_key:n},e){const i=n(e);return t.has(i)?t.get(i):(t.set(i,e),e)}(this,t),n)}delete(t){return super.delete(function({_intern:t,_key:n},e){const i=n(e);t.has(i)&&(e=t.get(i),t.delete(i));return e}(this,t))}}function Et({_intern:t,_key:n},e){const i=n(e);return t.has(i)?t.get(i):e}function St(t){return null!==t&&"object"==typeof t?t.valueOf():t}function At(t){return t}function Nt(t,...n){return function(t,n,e,i){return function t(r,o){if(o>=i.length)return e(r);const a=new Mt,s=i[o++];let l=-1;for(const t of r){const n=s(t,++l,r),e=a.get(n);e?e.push(t):a.set(n,[t])}for(const[n,e]of a)a.set(n,t(e,o));return n(a)}(t,0)}(t,Array.from,At,n)}const Rt=Math.sqrt(50),zt=Math.sqrt(10),Tt=Math.sqrt(2);function Ct(t,n,e){const i=(n-t)/Math.max(0,e),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),a=o>=Rt?10:o>=zt?5:o>=Tt?2:1;let s,l,c;return r<0?(c=Math.pow(10,-r)/a,s=Math.round(t*c),l=Math.round(n*c),s/c<t&&++s,l/c>n&&--l,c=-c):(c=Math.pow(10,r)*a,s=Math.round(t/c),l=Math.round(n/c),s*c<t&&++s,l*c>n&&--l),l<s&&.5<=e&&e<2?Ct(t,n,2*e):[s,l,c]}function Pt(t,n,e){return Ct(t=+t,n=+n,e=+e)[2]}function Wt(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}var Ot={value:()=>{}};function qt(){for(var t,n=0,e=arguments.length,i={};n<e;++n){if(!(t=arguments[n]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new It(i)}function It(t){this._=t}function Lt(t,n){for(var e,i=0,r=t.length;i<r;++i)if((e=t[i]).name===n)return e.value}function Dt(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=Ot,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}It.prototype=qt.prototype={constructor:It,on:function(t,n){var e,i,r=this._,o=(i=r,(t+"").trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<s;)if(e=(t=o[a]).type)r[e]=Dt(r[e],t.name,n);else if(null==n)for(e in r)r[e]=Dt(r[e],t.name,null);return this}for(;++a<s;)if((e=(t=o[a]).type)&&(e=Lt(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new It(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,i,r=new Array(e),o=0;o<e;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(i=this._[t]).length;o<e;++o)i[o].value.apply(n,r)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(n,e)}};var jt="http://www.w3.org/1999/xhtml",Ht={svg:"http://www.w3.org/2000/svg",xhtml:jt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Bt(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ht.hasOwnProperty(n)?{space:Ht[n],local:t}:t}function Gt(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===jt&&n.documentElement.namespaceURI===jt?n.createElement(t):n.createElementNS(e,t)}}function Xt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ft(t){var n=Bt(t);return(n.local?Xt:Gt)(n)}function Yt(){}function Vt(t){return null==t?Yt:function(){return this.querySelector(t)}}function Ut(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Jt(){return[]}function Zt(t){return null==t?Jt:function(){return this.querySelectorAll(t)}}function Qt(t){return function(){return this.matches(t)}}function Kt(t){return function(n){return n.matches(t)}}var tn=Array.prototype.find;function nn(){return this.firstElementChild}var en=Array.prototype.filter;function rn(){return Array.from(this.children)}function on(t){return new Array(t.length)}function an(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function sn(t,n,e,i,r,o){for(var a,s=0,l=n.length,c=o.length;s<c;++s)(a=n[s])?(a.__data__=o[s],i[s]=a):e[s]=new an(t,o[s]);for(;s<l;++s)(a=n[s])&&(r[s]=a)}function ln(t,n,e,i,r,o,a){var s,l,c,u=new Map,f=n.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(l=n[s])&&(d[s]=c=a.call(l,l.__data__,s,n)+"",u.has(c)?r[s]=l:u.set(c,l));for(s=0;s<h;++s)c=a.call(t,o[s],s,o)+"",(l=u.get(c))?(i[s]=l,l.__data__=o[s],u.delete(c)):e[s]=new an(t,o[s]);for(s=0;s<f;++s)(l=n[s])&&u.get(d[s])===l&&(r[s]=l)}function cn(t){return t.__data__}function un(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function fn(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function hn(t){return function(){this.removeAttribute(t)}}function dn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pn(t,n){return function(){this.setAttribute(t,n)}}function gn(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function mn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function yn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function vn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function wn(t){return function(){this.style.removeProperty(t)}}function $n(t,n,e){return function(){this.style.setProperty(t,n,e)}}function xn(t,n,e){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function _n(t,n){return t.style.getPropertyValue(n)||vn(t).getComputedStyle(t,null).getPropertyValue(n)}function bn(t){return function(){delete this[t]}}function kn(t,n){return function(){this[t]=n}}function Mn(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function En(t){return t.trim().split(/^|\s+/)}function Sn(t){return t.classList||new An(t)}function An(t){this._node=t,this._names=En(t.getAttribute("class")||"")}function Nn(t,n){for(var e=Sn(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function Rn(t,n){for(var e=Sn(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function zn(t){return function(){Nn(this,t)}}function Tn(t){return function(){Rn(this,t)}}function Cn(t,n){return function(){(n.apply(this,arguments)?Nn:Rn)(this,t)}}function Pn(){this.textContent=""}function Wn(t){return function(){this.textContent=t}}function On(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function qn(){this.innerHTML=""}function In(t){return function(){this.innerHTML=t}}function Ln(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Dn(){this.nextSibling&&this.parentNode.appendChild(this)}function jn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hn(){return null}function Bn(){var t=this.parentNode;t&&t.removeChild(this)}function Gn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Xn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Fn(t){return function(){var n=this.__on;if(n){for(var e,i=0,r=-1,o=n.length;i<o;++i)e=n[i],t.type&&e.type!==t.type||e.name!==t.name?n[++r]=e:this.removeEventListener(e.type,e.listener,e.options);++r?n.length=r:delete this.__on}}}function Yn(t,n,e){return function(){var i,r=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),void(i.value=n);this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function Vn(t,n,e){var i=vn(t),r=i.CustomEvent;"function"==typeof r?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function Un(t,n){return function(){return Vn(this,t,n)}}function Jn(t,n){return function(){return Vn(this,t,n.apply(this,arguments))}}an.prototype={constructor:an,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},An.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Zn=[null];function Qn(t,n){this._groups=t,this._parents=n}function Kn(){return new Qn([[document.documentElement]],Zn)}function te(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(n.getScreenCTM().inverse())).x,i.y]}if(n.getBoundingClientRect){var r=n.getBoundingClientRect();return[t.clientX-r.left-n.clientLeft,t.clientY-r.top-n.clientTop]}}return[t.pageX,t.pageY]}function ne(t){return"string"==typeof t?new Qn([document.querySelectorAll(t)],[document.documentElement]):new Qn([Ut(t)],Zn)}function ee(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function ie(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function re(){}Qn.prototype=Kn.prototype={constructor:Qn,select:function(t){"function"!=typeof t&&(t=Vt(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o,a,s=n[r],l=s.length,c=i[r]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Qn(i,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Ut(t.apply(this,arguments))}}(t):Zt(t);for(var n=this._groups,e=n.length,i=[],r=[],o=0;o<e;++o)for(var a,s=n[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(i.push(t.call(a,a.__data__,c,s)),r.push(a));return new Qn(i,r)},selectChild:function(t){return this.select(null==t?nn:function(t){return function(){return tn.call(this.children,t)}}("function"==typeof t?t:Kt(t)))},selectChildren:function(t){return this.selectAll(null==t?rn:function(t){return function(){return en.call(this.children,t)}}("function"==typeof t?t:Kt(t)))},filter:function(t){"function"!=typeof t&&(t=Qt(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o,a=n[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Qn(i,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,cn);var e=n?ln:sn,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=r.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=i[c],f=r[c],h=f.length,d=un(t.call(u,u&&u.__data__,c,i)),p=d.length,g=s[c]=new Array(p),m=a[c]=new Array(p);e(u,f,g,m,l[c]=new Array(h),d,n);for(var y,v,w=0,$=0;w<p;++w)if(y=g[w]){for(w>=$&&($=w+1);!(v=m[$])&&++$<p;);y._next=v||null}}return(a=new Qn(a,i))._enter=s,a._exit=l,a},enter:function(){return new Qn(this._enter||this._groups.map(on),this._parents)},exit:function(){return new Qn(this._exit||this._groups.map(on),this._parents)},join:function(t,n,e){var i=this.enter(),r=this,o=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=n&&(r=n(r))&&(r=r.selection()),null==e?o.remove():e(o),i&&r?i.merge(r).order():r},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,r=e.length,o=i.length,a=Math.min(r,o),s=new Array(r),l=0;l<a;++l)for(var c,u=e[l],f=i[l],h=u.length,d=s[l]=new Array(h),p=0;p<h;++p)(c=u[p]||f[p])&&(d[p]=c);for(;l<r;++l)s[l]=e[l];return new Qn(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i,r=t[n],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=fn);for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var a,s=e[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(n)}return new Qn(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r,o=n[e],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},attr:function(t,n){var e=Bt(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==n?e.local?dn:hn:"function"==typeof n?e.local?yn:mn:e.local?gn:pn)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?wn:"function"==typeof n?xn:$n)(t,n,null==e?"":e)):_n(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?bn:"function"==typeof n?Mn:kn)(t,n)):this.node()[t]},classed:function(t,n){var e=En(t+"");if(arguments.length<2){for(var i=Sn(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof n?Cn:n?zn:Tn)(e,n))},text:function(t){return arguments.length?this.each(null==t?Pn:("function"==typeof t?On:Wn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?qn:("function"==typeof t?Ln:In)(t)):this.node().innerHTML},raise:function(){return this.each(Dn)},lower:function(){return this.each(jn)},append:function(t){var n="function"==typeof t?t:Ft(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Ft(t),i=null==n?Hn:"function"==typeof n?n:Vt(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Bn)},clone:function(t){return this.select(t?Xn:Gn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var i,r,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=n?Yn:Fn,i=0;i<a;++i)this.each(s(o[i],n,e));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(i=0,l=s[c];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,n){return this.each(("function"==typeof n?Jn:Un)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i,r=t[n],o=0,a=r.length;o<a;++o)(i=r[o])&&(yield i)}};var oe=.7,ae=1/oe,se="\\s*([+-]?\\d+)\\s*",le="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ue=/^#([0-9a-f]{3,8})$/,fe=new RegExp(`^rgb\\(${se},${se},${se}\\)$`),he=new RegExp(`^rgb\\(${ce},${ce},${ce}\\)$`),de=new RegExp(`^rgba\\(${se},${se},${se},${le}\\)$`),pe=new RegExp(`^rgba\\(${ce},${ce},${ce},${le}\\)$`),ge=new RegExp(`^hsl\\(${le},${ce},${ce}\\)$`),me=new RegExp(`^hsla\\(${le},${ce},${ce},${le}\\)$`),ye={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ve(){return this.rgb().formatHex()}function we(){return this.rgb().formatRgb()}function $e(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=ue.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?xe(n):3===e?new ke(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?_e(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?_e(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=fe.exec(t))?new ke(n[1],n[2],n[3],1):(n=he.exec(t))?new ke(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=de.exec(t))?_e(n[1],n[2],n[3],n[4]):(n=pe.exec(t))?_e(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=ge.exec(t))?Re(n[1],n[2]/100,n[3]/100,1):(n=me.exec(t))?Re(n[1],n[2]/100,n[3]/100,n[4]):ye.hasOwnProperty(t)?xe(ye[t]):"transparent"===t?new ke(NaN,NaN,NaN,0):null}function xe(t){return new ke(t>>16&255,t>>8&255,255&t,1)}function _e(t,n,e,i){return i<=0&&(t=n=e=NaN),new ke(t,n,e,i)}function be(t,n,e,i){return 1===arguments.length?((r=t)instanceof re||(r=$e(r)),r?new ke((r=r.rgb()).r,r.g,r.b,r.opacity):new ke):new ke(t,n,e,null==i?1:i);var r}function ke(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}function Me(){return`#${Ne(this.r)}${Ne(this.g)}${Ne(this.b)}`}function Ee(){const t=Se(this.opacity);return`${1===t?"rgb(":"rgba("}${Ae(this.r)}, ${Ae(this.g)}, ${Ae(this.b)}${1===t?")":`, ${t})`}`}function Se(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ae(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ne(t){return((t=Ae(t))<16?"0":"")+t.toString(16)}function Re(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Te(t,n,e,i)}function ze(t){if(t instanceof Te)return new Te(t.h,t.s,t.l,t.opacity);if(t instanceof re||(t=$e(t)),!t)return new Te;if(t instanceof Te)return t;var n=(t=t.rgb()).r/255,e=t.g/255,i=t.b/255,r=Math.min(n,e,i),o=Math.max(n,e,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=n===o?(e-i)/s+6*(e<i):e===o?(i-n)/s+2:(n-e)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new Te(a,s,l,t.opacity)}function Te(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}function Ce(t){return(t=(t||0)%360)<0?t+360:t}function Pe(t){return Math.max(0,Math.min(1,t||0))}function We(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}ee(re,$e,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ve,formatHex:ve,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ze(this).formatHsl()},formatRgb:we,toString:we}),ee(ke,be,ie(re,{brighter(t){return t=null==t?ae:Math.pow(ae,t),new ke(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?oe:Math.pow(oe,t),new ke(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ke(Ae(this.r),Ae(this.g),Ae(this.b),Se(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Me,formatHex:Me,formatHex8:function(){return`#${Ne(this.r)}${Ne(this.g)}${Ne(this.b)}${Ne(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ee,toString:Ee})),ee(Te,(function(t,n,e,i){return 1===arguments.length?ze(t):new Te(t,n,e,null==i?1:i)}),ie(re,{brighter(t){return t=null==t?ae:Math.pow(ae,t),new Te(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?oe:Math.pow(oe,t),new Te(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,r=2*e-i;return new ke(We(t>=240?t-240:t+120,r,i),We(t,r,i),We(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Te(Ce(this.h),Pe(this.s),Pe(this.l),Se(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Se(this.opacity);return`${1===t?"hsl(":"hsla("}${Ce(this.h)}, ${100*Pe(this.s)}%, ${100*Pe(this.l)}%${1===t?")":`, ${t})`}`}}));var Oe=t=>()=>t;function qe(t){return 1==(t=+t)?Ie:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}(n,e,t):Oe(isNaN(n)?e:n)}}function Ie(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Oe(isNaN(t)?n:t)}var Le=function t(n){var e=qe(n);function i(t,n){var i=e((t=be(t)).r,(n=be(n)).r),r=e(t.g,n.g),o=e(t.b,n.b),a=Ie(t.opacity,n.opacity);return function(n){return t.r=i(n),t.g=r(n),t.b=o(n),t.opacity=a(n),t+""}}return i.gamma=t,i}(1);function De(t,n){n||(n=[]);var e,i=t?Math.min(n.length,t.length):0,r=n.slice();return function(o){for(e=0;e<i;++e)r[e]=t[e]*(1-o)+n[e]*o;return r}}function je(t,n){var e,i=n?n.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(e=0;e<r;++e)o[e]=Ve(t[e],n[e]);for(;e<i;++e)a[e]=n[e];return function(t){for(e=0;e<r;++e)a[e]=o[e](t);return a}}function He(t,n){var e=new Date;return t=+t,n=+n,function(i){return e.setTime(t*(1-i)+n*i),e}}function Be(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Ge(t,n){var e,i={},r={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?i[e]=Ve(t[e],n[e]):r[e]=n[e];return function(t){for(e in i)r[e]=i[e](t);return r}}var Xe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fe=new RegExp(Xe.source,"g");function Ye(t,n){var e,i,r,o=Xe.lastIndex=Fe.lastIndex=0,a=-1,s=[],l=[];for(t+="",n+="";(e=Xe.exec(t))&&(i=Fe.exec(n));)(r=i.index)>o&&(r=n.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(e=e[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Be(e,i)})),o=Fe.lastIndex;return o<n.length&&(r=n.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var e,i=0;i<n;++i)s[(e=l[i]).i]=e.x(t);return s.join("")})}function Ve(t,n){var e,i=typeof n;return null==n||"boolean"===i?Oe(n):("number"===i?Be:"string"===i?(e=$e(n))?(n=e,Le):Ye:n instanceof $e?Le:n instanceof Date?He:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?De:Array.isArray(n)?je:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Ge:Be)(t,n)}function Ue(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Je,Ze=180/Math.PI,Qe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ke(t,n,e,i,r,o){var a,s,l;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(l=t*e+n*i)&&(e-=t*l,i-=n*l),(s=Math.sqrt(e*e+i*i))&&(e/=s,i/=s,l/=s),t*i<n*e&&(t=-t,n=-n,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(n,t)*Ze,skewX:Math.atan(l)*Ze,scaleX:a,scaleY:s}}function ti(t,n,e,i){function r(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,i,r,o,a,s){if(t!==r||i!==o){var l=a.push("translate(",null,n,null,e);s.push({i:l-4,x:Be(t,r)},{i:l-2,x:Be(i,o)})}else(r||o)&&a.push("translate("+r+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(r(e)+"rotate(",null,i)-2,x:Be(t,n)})):n&&e.push(r(e)+"rotate("+n+i)}(o.rotate,a.rotate,s,l),function(t,n,e,o){t!==n?o.push({i:e.push(r(e)+"skewX(",null,i)-2,x:Be(t,n)}):n&&e.push(r(e)+"skewX("+n+i)}(o.skewX,a.skewX,s,l),function(t,n,e,i,o,a){if(t!==e||n!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Be(t,e)},{i:s-2,x:Be(n,i)})}else 1===e&&1===i||o.push(r(o)+"scale("+e+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var n,e=-1,i=l.length;++e<i;)s[(n=l[e]).i]=n.x(t);return s.join("")}}}var ni,ei,ii=ti((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Qe:Ke(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),ri=ti((function(t){return null==t?Qe:(Je||(Je=document.createElementNS("http://www.w3.org/2000/svg","g")),Je.setAttribute("transform",t),(t=Je.transform.baseVal.consolidate())?Ke((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Qe)}),", ",")",")"),oi=0,ai=0,si=0,li=1e3,ci=0,ui=0,fi=0,hi="object"==typeof performance&&performance.now?performance:Date,di="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function pi(){return ui||(di(gi),ui=hi.now()+fi)}function gi(){ui=0}function mi(){this._call=this._time=this._next=null}function yi(t,n,e){var i=new mi;return i.restart(t,n,e),i}function vi(){ui=(ci=hi.now())+fi,oi=ai=0;try{!function(){pi(),++oi;for(var t,n=ni;n;)(t=ui-n._time)>=0&&n._call.call(void 0,t),n=n._next;--oi}()}finally{oi=0,function(){var t,n,e=ni,i=1/0;for(;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ni=n);ei=t,$i(i)}(),ui=0}}function wi(){var t=hi.now(),n=t-ci;n>li&&(fi-=n,ci=t)}function $i(t){oi||(ai&&(ai=clearTimeout(ai)),t-ui>24?(t<1/0&&(ai=setTimeout(vi,t-hi.now()-fi)),si&&(si=clearInterval(si))):(si||(ci=hi.now(),si=setInterval(wi,li)),oi=1,di(vi)))}function xi(t,n,e){var i=new mi;return n=null==n?0:+n,i.restart((e=>{i.stop(),t(e+n)}),n,e),i}mi.prototype=yi.prototype={constructor:mi,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?pi():+e)+(null==n?0:+n),this._next||ei===this||(ei?ei._next=this:ni=this,ei=this),this._call=t,this._time=e,$i()},stop:function(){this._call&&(this._call=null,this._time=1/0,$i())}};var _i=qt("start","end","cancel","interrupt"),bi=[],ki=0,Mi=1,Ei=2,Si=3,Ai=4,Ni=5,Ri=6;function zi(t,n,e,i,r,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var i,r=t.__transition;function o(t){e.state=Mi,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var c,u,f,h;if(e.state!==Mi)return l();for(c in r)if((h=r[c]).name===e.name){if(h.state===Si)return xi(a);h.state===Ai?(h.state=Ri,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[c]):+c<n&&(h.state=Ri,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[c])}if(xi((function(){e.state===Si&&(e.state=Ai,e.timer.restart(s,e.delay,e.time),s(o))})),e.state=Ei,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Ei){for(e.state=Si,i=new Array(f=e.tween.length),c=0,u=-1;c<f;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(i[++u]=h);i.length=u+1}}function s(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(l),e.state=Ni,1),o=-1,a=i.length;++o<a;)i[o].call(t,r);e.state===Ni&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){for(var i in e.state=Ri,e.timer.stop(),delete r[n],r)return;delete t.__transition}r[n]=e,e.timer=yi(o,0,e.time)}(t,e,{name:n,index:i,group:r,on:_i,tween:bi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ki})}function Ti(t,n){var e=Pi(t,n);if(e.state>ki)throw new Error("too late; already scheduled");return e}function Ci(t,n){var e=Pi(t,n);if(e.state>Si)throw new Error("too late; already running");return e}function Pi(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Wi(t,n){var e,i;return function(){var r=Ci(this,t),o=r.tween;if(o!==e)for(var a=0,s=(i=e=o).length;a<s;++a)if(i[a].name===n){(i=i.slice()).splice(a,1);break}r.tween=i}}function Oi(t,n,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var o=Ci(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:n,value:e},l=0,c=r.length;l<c;++l)if(r[l].name===n){r[l]=s;break}l===c&&r.push(s)}o.tween=r}}function qi(t,n,e){var i=t._id;return t.each((function(){var t=Ci(this,i);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Pi(t,i).value[n]}}function Ii(t,n){var e;return("number"==typeof n?Be:n instanceof $e?Le:(e=$e(n))?(n=e,Le):Ye)(t,n)}function Li(t){return function(){this.removeAttribute(t)}}function Di(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ji(t,n,e){var i,r,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===i?r:r=n(i=a,e)}}function Hi(t,n,e){var i,r,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?r:r=n(i=a,e)}}function Bi(t,n,e){var i,r,o;return function(){var a,s,l=e(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=n(i=a,l));this.removeAttribute(t)}}function Gi(t,n,e){var i,r,o;return function(){var a,s,l=e(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=n(i=a,l));this.removeAttributeNS(t.space,t.local)}}function Xi(t,n){var e,i;function r(){var r=n.apply(this,arguments);return r!==i&&(e=(i=r)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,r)),e}return r._value=n,r}function Fi(t,n){var e,i;function r(){var r=n.apply(this,arguments);return r!==i&&(e=(i=r)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,r)),e}return r._value=n,r}function Yi(t,n){return function(){Ti(this,t).delay=+n.apply(this,arguments)}}function Vi(t,n){return n=+n,function(){Ti(this,t).delay=n}}function Ui(t,n){return function(){Ci(this,t).duration=+n.apply(this,arguments)}}function Ji(t,n){return n=+n,function(){Ci(this,t).duration=n}}var Zi=Kn.prototype.constructor;function Qi(t){return function(){this.style.removeProperty(t)}}var Ki=0;function tr(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function nr(t){return Kn().transition(t)}function er(){return++Ki}var ir=Kn.prototype;tr.prototype=nr.prototype={constructor:tr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Vt(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,l,c=i[a],u=c.length,f=o[a]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=t.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),f[h]=l,zi(f[h],n,e,h,f,Pi(s,e)));return new tr(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Zt(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l,c=i[s],u=c.length,f=0;f<u;++f)if(l=c[f]){for(var h,d=t.call(l,l.__data__,f,c),p=Pi(l,e),g=0,m=d.length;g<m;++g)(h=d[g])&&zi(h,n,e,g,d,p);o.push(d),a.push(l)}return new tr(o,a,n,e)},selectChild:ir.selectChild,selectChildren:ir.selectChildren,filter:function(t){"function"!=typeof t&&(t=Qt(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o,a=n[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new tr(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,r=e.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,c=n[s],u=e[s],f=c.length,h=a[s]=new Array(f),d=0;d<f;++d)(l=c[d]||u[d])&&(h[d]=l);for(;s<i;++s)a[s]=n[s];return new tr(a,this._parents,this._name,this._id)},selection:function(){return new Zi(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=er(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=Pi(a,n);zi(a,t,e,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new tr(i,this._parents,t,e)},call:ir.call,nodes:ir.nodes,node:ir.node,size:ir.size,empty:ir.empty,each:ir.each,on:function(t,n){var e=this._id;return arguments.length<2?Pi(this.node(),e).on.on(t):this.each(function(t,n,e){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Ti:Ci;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(n,e),a.on=r}}(e,t,n))},attr:function(t,n){var e=Bt(t),i="transform"===e?ri:Ii;return this.attrTween(t,"function"==typeof n?(e.local?Gi:Bi)(e,i,qi(this,"attr."+t,n)):null==n?(e.local?Di:Li)(e):(e.local?Hi:ji)(e,i,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var i=Bt(t);return this.tween(e,(i.local?Xi:Fi)(i,n))},style:function(t,n,e){var i="transform"==(t+="")?ii:Ii;return null==n?this.styleTween(t,function(t,n){var e,i,r;return function(){var o=_n(this,t),a=(this.style.removeProperty(t),_n(this,t));return o===a?null:o===e&&a===i?r:r=n(e=o,i=a)}}(t,i)).on("end.style."+t,Qi(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var i,r,o;return function(){var a=_n(this,t),s=e(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=_n(this,t)),a===l?null:a===i&&l===r?o:(r=l,o=n(i=a,s))}}(t,i,qi(this,"style."+t,n))).each(function(t,n){var e,i,r,o,a="style."+n,s="end."+a;return function(){var l=Ci(this,t),c=l.on,u=null==l.value[a]?o||(o=Qi(n)):void 0;c===e&&r===u||(i=(e=c).copy()).on(s,r=u),l.on=i}}(this._id,t)):this.styleTween(t,function(t,n,e){var i,r,o=e+"";return function(){var a=_n(this,t);return a===o?null:a===i?r:r=n(i=a,e)}}(t,i,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,function(t,n,e){var i,r;function o(){var o=n.apply(this,arguments);return o!==r&&(i=(r=o)&&function(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}(t,o,e)),i}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(qi(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function i(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&function(t){return function(n){this.textContent=t.call(this,n)}}(i)),n}return i._value=t,i}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var i,r=Pi(this.node(),e).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==n?Wi:Oi)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Yi:Vi)(n,t)):Pi(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Ui:Ji)(n,t)):Pi(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Ci(this,t).ease=n}}(n,t)):Pi(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Ci(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,i=e._id,r=e.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--r&&o()}};e.each((function(){var e=Ci(this,i),r=e.on;r!==t&&((n=(t=r).copy())._.cancel.push(s),n._.interrupt.push(s),n._.end.push(l)),e.on=n})),0===r&&o()}))},[Symbol.iterator]:ir[Symbol.iterator]};var rr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function or(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}Kn.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,i,r,o=t.__transition,a=!0;if(o){for(r in n=null==n?null:n+"",o)(e=o[r]).name===n?(i=e.state>Ei&&e.state<Ni,e.state=Ri,e.timer.stop(),e.on.call(i?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[r]):a=!1;a&&delete t.__transition}}(this,t)}))},Kn.prototype.transition=function(t){var n,e;t instanceof tr?(n=t._id,t=t._name):(n=er(),(e=rr).time=pi(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)(a=s[c])&&zi(a,t,n,c,s,e||or(a,n));return new tr(i,this._parents,t,n)};const ar=Math.PI,sr=2*ar,lr=1e-6,cr=sr-lr;function ur(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}class fr{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?ur:function(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return ur;const e=10**n;return function(t){this._+=t[0];for(let n=1,i=t.length;n<i;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,e,i){this._append`Q${+t},${+n},${this._x1=+e},${this._y1=+i}`}bezierCurveTo(t,n,e,i,r,o){this._append`C${+t},${+n},${+e},${+i},${this._x1=+r},${this._y1=+o}`}arcTo(t,n,e,i,r){if(t=+t,n=+n,e=+e,i=+i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=this._x1,a=this._y1,s=e-t,l=i-n,c=o-t,u=a-n,f=c*c+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=n}`;else if(f>lr)if(Math.abs(u*s-l*c)>lr&&r){let h=e-o,d=i-a,p=s*s+l*l,g=h*h+d*d,m=Math.sqrt(p),y=Math.sqrt(f),v=r*Math.tan((ar-Math.acos((p+f-g)/(2*m*y)))/2),w=v/y,$=v/m;Math.abs(w-1)>lr&&this._append`L${t+w*c},${n+w*u}`,this._append`A${r},${r},0,0,${+(u*h>c*d)},${this._x1=t+$*s},${this._y1=n+$*l}`}else this._append`L${this._x1=t},${this._y1=n}`;else;}arc(t,n,e,i,r,o){if(t=+t,n=+n,o=!!o,(e=+e)<0)throw new Error(`negative radius: ${e}`);let a=e*Math.cos(i),s=e*Math.sin(i),l=t+a,c=n+s,u=1^o,f=o?i-r:r-i;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>lr||Math.abs(this._y1-c)>lr)&&this._append`L${l},${c}`,e&&(f<0&&(f=f%sr+sr),f>cr?this._append`A${e},${e},0,1,${u},${t-a},${n-s}A${e},${e},0,1,${u},${this._x1=l},${this._y1=c}`:f>lr&&this._append`A${e},${e},0,${+(f>=ar)},${u},${this._x1=t+e*Math.cos(r)},${this._y1=n+e*Math.sin(r)}`)}rect(t,n,e,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${e=+e}v${+i}h${-e}Z`}toString(){return this._}}var hr={},dr={};function pr(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function gr(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var i in t)i in n||e.push(n[i]=i)})),e}function mr(t,n){var e=t+"",i=e.length;return i<n?new Array(n-i+1).join(0)+e:e}function yr(t){var n,e=t.getUTCHours(),i=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+mr(-n,6):n>9999?"+"+mr(n,6):mr(n,4))+"-"+mr(t.getUTCMonth()+1,2)+"-"+mr(t.getUTCDate(),2)+(o?"T"+mr(e,2)+":"+mr(i,2)+":"+mr(r,2)+"."+mr(o,3)+"Z":r?"T"+mr(e,2)+":"+mr(i,2)+":"+mr(r,2)+"Z":i||e?"T"+mr(e,2)+":"+mr(i,2)+"Z":"")}var vr=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function i(t,n){var i,r=[],o=t.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return dr;if(c)return c=!1,hr;var n,i,r=a;if(34===t.charCodeAt(r)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?l=!0:10===(i=t.charCodeAt(a++))?c=!0:13===i&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(r+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(i=t.charCodeAt(n=a++)))c=!0;else if(13===i)c=!0,10===t.charCodeAt(a)&&++a;else if(i!==e)continue;return t.slice(r,n)}return l=!0,t.slice(r,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(i=u())!==dr;){for(var f=[];i!==hr&&i!==dr;)f.push(i),i=u();n&&null==(f=n(f,s++))||r.push(f)}return r}function r(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?yr(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,r,o=i(t,(function(t,i){if(e)return e(t,i-1);r=t,e=n?function(t,n){var e=pr(t);return function(i,r){return n(e(i),r,t)}}(t,n):pr(t)}));return o.columns=r||[],o},parseRows:i,format:function(n,e){return null==e&&(e=gr(n)),[e.map(a).join(t)].concat(r(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=gr(t)),r(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),wr=vr.parse;function $r(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var xr,_r=(xr=wr,function(t,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=void 0),function(t,n){return fetch(t,n).then($r)}(t,n).then((function(t){return xr(t,e)}))});function br(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function kr(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,i=t.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+t.slice(e+1)]}function Mr(t){return(t=kr(Math.abs(t)))?t[1]:NaN}var Er,Sr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ar(t){if(!(n=Sr.exec(t)))throw new Error("invalid format: "+t);var n;return new Nr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Nr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Rr(t,n){var e=kr(t,n);if(!e)return t+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Ar.prototype=Nr.prototype,Nr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var zr={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Rr(100*t,n),r:Rr,s:function(t,n){var e=kr(t,n);if(!e)return t+"";var i=e[0],r=e[1],o=r-(Er=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+kr(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Tr(t){return t}var Cr,Pr,Wr,Or=Array.prototype.map,qr=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ir(t){var n,e,i=void 0===t.grouping||void 0===t.thousands?Tr:(n=Or.call(t.grouping,Number),e=t.thousands+"",function(t,i){for(var r=t.length,o=[],a=0,s=n[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),o.push(t.substring(r-=s,r+s)),!((l+=s+1)>i));)s=n[a=(a+1)%n.length];return o.reverse().join(e)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Tr:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Or.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=Ar(t)).fill,e=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):zr[v]||(void 0===m&&(m=12),y=!0,v="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var w="$"===h?r:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",$="$"===h?o:/[%p]/.test(v)?l:"",x=zr[v],_=/[defgprs%]/.test(v);function b(t){var r,o,l,h=w,b=$;if("c"===v)b=x(t)+b,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),m),y&&(t=function(t){t:for(var n,e=t.length,i=1,r=-1;i<e;++i)switch(t[i]){case".":r=n=i;break;case"0":0===r&&(r=i),n=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(n+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),h=(k?"("===f?f:c:"-"===f||"("===f?"":f)+h,b=("s"===v?qr[8+Er/3]:"")+b+(k&&"("===f?")":""),_)for(r=-1,o=t.length;++r<o;)if(48>(l=t.charCodeAt(r))||l>57){b=(46===l?a+t.slice(r+1):t.slice(r))+b,t=t.slice(0,r);break}}g&&!d&&(t=i(t,1/0));var M=h.length+t.length+b.length,E=M<p?new Array(p-M+1).join(n):"";switch(g&&d&&(t=i(E+t,E.length?p-b.length:1/0),E=""),e){case"<":t=h+t+b+E;break;case"=":t=h+E+t+b;break;case"^":t=E.slice(0,M=E.length>>1)+h+t+b+E.slice(M);break;default:t=E+h+t+b}return s(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),b.toString=function(){return t+""},b}return{format:f,formatPrefix:function(t,n){var e=f(((t=Ar(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Mr(n)/3))),r=Math.pow(10,-i),o=qr[8+i/3];return function(t){return e(r*t)+o}}}}Cr=Ir({thousands:",",grouping:[3],currency:["$",""]}),Pr=Cr.format,Wr=Cr.formatPrefix;var Lr=1e-6,Dr=1e-12,jr=Math.PI,Hr=jr/2,Br=jr/4,Gr=2*jr,Xr=180/jr,Fr=jr/180,Yr=Math.abs,Vr=Math.atan,Ur=Math.atan2,Jr=Math.cos,Zr=Math.sin,Qr=Math.sign||function(t){return t>0?1:t<0?-1:0},Kr=Math.sqrt;function to(t){return t>1?Hr:t<-1?-Hr:Math.asin(t)}function no(){}function eo(t,n){t&&ro.hasOwnProperty(t.type)&&ro[t.type](t,n)}var io={Feature:function(t,n){eo(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,r=e.length;++i<r;)eo(e[i].geometry,n)}},ro={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)t=e[i],n.point(t[0],t[1],t[2])},LineString:function(t,n){oo(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)oo(e[i],n,0)},Polygon:function(t,n){ao(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)ao(e[i],n)},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,r=e.length;++i<r;)eo(e[i],n)}};function oo(t,n,e){var i,r=-1,o=t.length-e;for(n.lineStart();++r<o;)i=t[r],n.point(i[0],i[1],i[2]);n.lineEnd()}function ao(t,n){var e=-1,i=t.length;for(n.polygonStart();++e<i;)oo(t[e],n,1);n.polygonEnd()}function so(t,n){t&&io.hasOwnProperty(t.type)?io[t.type](t,n):eo(t,n)}function lo(t){return[Ur(t[1],t[0]),to(t[2])]}function co(t){var n=t[0],e=t[1],i=Jr(e);return[i*Jr(n),i*Zr(n),Zr(e)]}function uo(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function fo(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function ho(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function po(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function go(t){var n=Kr(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function mo(t,n){function e(e,i){return e=t(e,i),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,i){return(e=n.invert(e,i))&&t.invert(e[0],e[1])}),e}function yo(t,n){return Yr(t)>jr&&(t-=Math.round(t/Gr)*Gr),[t,n]}function vo(t){return function(n,e){return Yr(n+=t)>jr&&(n-=Math.round(n/Gr)*Gr),[n,e]}}function wo(t){var n=vo(t);return n.invert=vo(-t),n}function $o(t,n){var e=Jr(t),i=Zr(t),r=Jr(n),o=Zr(n);function a(t,n){var a=Jr(n),s=Jr(t)*a,l=Zr(t)*a,c=Zr(n),u=c*e+s*i;return[Ur(l*r-u*o,s*e-c*i),to(u*r+l*o)]}return a.invert=function(t,n){var a=Jr(n),s=Jr(t)*a,l=Zr(t)*a,c=Zr(n),u=c*r-l*o;return[Ur(l*r+c*o,s*e+u*i),to(u*e-s*i)]},a}function xo(t,n){(n=co(n))[0]-=t,go(n);var e=function(t){return t>1?0:t<-1?jr:Math.acos(t)}(-n[1]);return((-n[2]<0?-e:e)+Gr-Lr)%Gr}function _o(){var t,n=[];return{point:function(n,e,i){t.push([n,e,i])},lineStart:function(){n.push(t=[])},lineEnd:no,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function bo(t,n){return Yr(t[0]-n[0])<Lr&&Yr(t[1]-n[1])<Lr}function ko(t,n,e,i){this.x=t,this.z=n,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function Mo(t,n,e,i,r){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,i=t[0],a=t[n];if(bo(i,a)){if(!i[2]&&!a[2]){for(r.lineStart(),o=0;o<n;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}a[0]+=2*Lr}s.push(e=new ko(i,t,null,!0)),l.push(e.o=new ko(i,null,e,!1)),s.push(e=new ko(a,t,null,!1)),l.push(e.o=new ko(a,null,e,!0))}})),s.length){for(l.sort(n),Eo(s),Eo(l),o=0,a=l.length;o<a;++o)l[o].e=e=!e;for(var c,u,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;c=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=c.length;o<a;++o)r.point((u=c[o])[0],u[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)r.point((u=c[o])[0],u[1]);else i(h.x,h.p.x,-1,r);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);r.lineEnd()}}}function Eo(t){if(n=t.length){for(var n,e,i=0,r=t[0];++i<n;)r.n=e=t[i],e.p=r,r=e;r.n=e=t[0],e.p=r}}function So(t){return Yr(t[0])<=jr?t[0]:Qr(t[0])*((Yr(t[0])+jr)%Gr-jr)}function Ao(t,n,e,i){return function(r){var o,a,s,l=n(r),c=_o(),u=n(c),f=!1,h={point:d,lineStart:g,lineEnd:m,polygonStart:function(){h.point=y,h.lineStart=v,h.lineEnd=w,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=m,a=Wt(a);var t=function(t,n){var e=So(n),i=n[1],r=Zr(i),o=[Zr(e),-Jr(e),0],a=0,s=0,l=new kt;1===r?i=Hr+Lr:-1===r&&(i=-Hr-Lr);for(var c=0,u=t.length;c<u;++c)if(h=(f=t[c]).length)for(var f,h,d=f[h-1],p=So(d),g=d[1]/2+Br,m=Zr(g),y=Jr(g),v=0;v<h;++v,p=$,m=_,y=b,d=w){var w=f[v],$=So(w),x=w[1]/2+Br,_=Zr(x),b=Jr(x),k=$-p,M=k>=0?1:-1,E=M*k,S=E>jr,A=m*_;if(l.add(Ur(A*M*Zr(E),y*b+A*Jr(E))),a+=S?k+M*Gr:k,S^p>=e^$>=e){var N=fo(co(d),co(w));go(N);var R=fo(o,N);go(R);var z=(S^k>=0?-1:1)*to(R[2]);(i>z||i===z&&(N[0]||N[1]))&&(s+=S^k>=0?1:-1)}}return(a<-Lr||a<Lr&&l<-Dr)^1&s}(o,i);a.length?(f||(r.polygonStart(),f=!0),Mo(a,Ro,t,e,r)):t&&(f||(r.polygonStart(),f=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),f&&(r.polygonEnd(),f=!1),a=o=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(n,e){t(n,e)&&r.point(n,e)}function p(t,n){l.point(t,n)}function g(){h.point=p,l.lineStart()}function m(){h.point=d,l.lineEnd()}function y(t,n){s.push([t,n]),u.point(t,n)}function v(){u.lineStart(),s=[]}function w(){y(s[0][0],s[0][1]),u.lineEnd();var t,n,e,i,l=u.clean(),h=c.result(),d=h.length;if(s.pop(),o.push(s),s=null,d)if(1&l){if((n=(e=h[0]).length-1)>0){for(f||(r.polygonStart(),f=!0),r.lineStart(),t=0;t<n;++t)r.point((i=e[t])[0],i[1]);r.lineEnd()}}else d>1&&2&l&&h.push(h.pop().concat(h.shift())),a.push(h.filter(No))}return h}}function No(t){return t.length>1}function Ro(t,n){return((t=t.x)[0]<0?t[1]-Hr-Lr:Hr-t[1])-((n=n.x)[0]<0?n[1]-Hr-Lr:Hr-n[1])}yo.invert=yo;var zo=Ao((function(){return!0}),(function(t){var n,e=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var s=o>0?jr:-jr,l=Yr(o-e);Yr(l-jr)<Lr?(t.point(e,i=(i+a)/2>0?Hr:-Hr),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),n=0):r!==s&&l>=jr&&(Yr(e-r)<Lr&&(e-=r*Lr),Yr(o-s)<Lr&&(o-=s*Lr),i=function(t,n,e,i){var r,o,a=Zr(t-e);return Yr(a)>Lr?Vr((Zr(n)*(o=Jr(i))*Zr(e)-Zr(i)*(r=Jr(n))*Zr(t))/(r*o*a)):(n+i)/2}(e,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),n=0),t.point(e=o,i=a),r=s},lineEnd:function(){t.lineEnd(),e=i=NaN},clean:function(){return 2-n}}}),(function(t,n,e,i){var r;if(null==t)r=e*Hr,i.point(-jr,r),i.point(0,r),i.point(jr,r),i.point(jr,0),i.point(jr,-r),i.point(0,-r),i.point(-jr,-r),i.point(-jr,0),i.point(-jr,r);else if(Yr(t[0]-n[0])>Lr){var o=t[0]<n[0]?jr:-jr;r=e*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(n[0],n[1])}),[-jr,-Hr]);function To(t){var n=Jr(t),e=2*Fr,i=n>0,r=Yr(n)>Lr;function o(t,e){return Jr(t)*Jr(e)>n}function a(t,e,i){var r=[1,0,0],o=fo(co(t),co(e)),a=uo(o,o),s=o[0],l=a-s*s;if(!l)return!i&&t;var c=n*a/l,u=-n*s/l,f=fo(r,o),h=po(r,c);ho(h,po(o,u));var d=f,p=uo(h,d),g=uo(d,d),m=p*p-g*(uo(h,h)-1);if(!(m<0)){var y=Kr(m),v=po(d,(-p-y)/g);if(ho(v,h),v=lo(v),!i)return v;var w,$=t[0],x=e[0],_=t[1],b=e[1];x<$&&(w=$,$=x,x=w);var k=x-$,M=Yr(k-jr)<Lr;if(!M&&b<_&&(w=_,_=b,b=w),M||k<Lr?M?_+b>0^v[1]<(Yr(v[0]-$)<Lr?_:b):_<=v[1]&&v[1]<=b:k>jr^($<=v[0]&&v[0]<=x)){var E=po(d,(-p+y)/g);return ho(E,h),[v,lo(E)]}}}function s(n,e){var r=i?t:jr-t,o=0;return n<-r?o|=1:n>r&&(o|=2),e<-r?o|=4:e>r&&(o|=8),o}return Ao(o,(function(t){var n,e,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(f,h){var d,p=[f,h],g=o(f,h),m=i?g?0:s(f,h):g?s(f+(f<0?jr:-jr),h):0;if(!n&&(c=l=g)&&t.lineStart(),g!==l&&(!(d=a(n,p))||bo(n,d)||bo(p,d))&&(p[2]=1),g!==l)u=0,g?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1],2),t.lineEnd()),n=d;else if(r&&n&&i^g){var y;m&e||!(y=a(p,n,!0))||(u=0,i?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||n&&bo(n,p)||t.point(p[0],p[1]),n=p,l=g,e=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return u|(c&&l)<<1}}}),(function(n,i,r,o){!function(t,n,e,i,r,o){if(e){var a=Jr(n),s=Zr(n),l=i*e;null==r?(r=n+i*Gr,o=n-l/2):(r=xo(a,r),o=xo(a,o),(i>0?r<o:r>o)&&(r+=i*Gr));for(var c,u=r;i>0?u>o:u<o;u-=l)c=lo([a,-s*Jr(u),-s*Zr(u)]),t.point(c[0],c[1])}}(o,t,e,r,n,i)}),i?[0,-t]:[-jr,t-jr])}var Co=1e9,Po=-Co;function Wo(t,n,e,i){function r(r,o){return t<=r&&r<=e&&n<=o&&o<=i}function o(r,o,s,c){var u=0,f=0;if(null==r||(u=a(r,s))!==(f=a(o,s))||l(r,o)<0^s>0)do{c.point(0===u||3===u?t:e,u>1?i:n)}while((u=(u+s+4)%4)!==f);else c.point(o[0],o[1])}function a(i,r){return Yr(i[0]-t)<Lr?r>0?0:3:Yr(i[0]-e)<Lr?r>0?2:1:Yr(i[1]-n)<Lr?r>0?1:0:r>0?3:2}function s(t,n){return l(t.x,n.x)}function l(t,n){var e=a(t,1),i=a(n,1);return e!==i?e-i:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var l,c,u,f,h,d,p,g,m,y,v,w=a,$=_o(),x={point:_,lineStart:function(){x.point=b,c&&c.push(u=[]);y=!0,m=!1,p=g=NaN},lineEnd:function(){l&&(b(f,h),d&&m&&$.rejoin(),l.push($.result()));x.point=_,m&&w.lineEnd()},polygonStart:function(){w=$,l=[],c=[],v=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,r=c.length;e<r;++e)for(var o,a,s=c[e],l=1,u=s.length,f=s[0],h=f[0],d=f[1];l<u;++l)o=h,a=d,h=(f=s[l])[0],d=f[1],a<=i?d>i&&(h-o)*(i-a)>(d-a)*(t-o)&&++n:d<=i&&(h-o)*(i-a)<(d-a)*(t-o)&&--n;return n}(),e=v&&n,r=(l=Wt(l)).length;(e||r)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),r&&Mo(l,s,n,o,a),a.polygonEnd());w=a,l=c=u=null}};function _(t,n){r(t,n)&&w.point(t,n)}function b(o,a){var s=r(o,a);if(c&&u.push([o,a]),y)f=o,h=a,d=s,y=!1,s&&(w.lineStart(),w.point(o,a));else if(s&&m)w.point(o,a);else{var l=[p=Math.max(Po,Math.min(Co,p)),g=Math.max(Po,Math.min(Co,g))],$=[o=Math.max(Po,Math.min(Co,o)),a=Math.max(Po,Math.min(Co,a))];!function(t,n,e,i,r,o){var a,s=t[0],l=t[1],c=0,u=1,f=n[0]-s,h=n[1]-l;if(a=e-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>c&&(c=a)}if(a=r-s,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<u&&(u=a)}if(a=i-l,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>c&&(c=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<u&&(u=a)}return c>0&&(t[0]=s+c*f,t[1]=l+c*h),u<1&&(n[0]=s+u*f,n[1]=l+u*h),!0}}}}}(l,$,t,n,e,i)?s&&(w.lineStart(),w.point(o,a),v=!1):(m||(w.lineStart(),w.point(l[0],l[1])),w.point($[0],$[1]),s||w.lineEnd(),v=!1)}p=o,g=a,m=s}return x}}var Oo,qo,Io,Lo,Do=t=>t,jo=new kt,Ho=new kt,Bo={point:no,lineStart:no,lineEnd:no,polygonStart:function(){Bo.lineStart=Go,Bo.lineEnd=Yo},polygonEnd:function(){Bo.lineStart=Bo.lineEnd=Bo.point=no,jo.add(Yr(Ho)),Ho=new kt},result:function(){var t=jo/2;return jo=new kt,t}};function Go(){Bo.point=Xo}function Xo(t,n){Bo.point=Fo,Oo=Io=t,qo=Lo=n}function Fo(t,n){Ho.add(Lo*t-Io*n),Io=t,Lo=n}function Yo(){Fo(Oo,qo)}var Vo=1/0,Uo=Vo,Jo=-Vo,Zo=Jo,Qo={point:function(t,n){t<Vo&&(Vo=t);t>Jo&&(Jo=t);n<Uo&&(Uo=n);n>Zo&&(Zo=n)},lineStart:no,lineEnd:no,polygonStart:no,polygonEnd:no,result:function(){var t=[[Vo,Uo],[Jo,Zo]];return Jo=Zo=-(Uo=Vo=1/0),t}};var Ko,ta,na,ea,ia=0,ra=0,oa=0,aa=0,sa=0,la=0,ca=0,ua=0,fa=0,ha={point:da,lineStart:pa,lineEnd:ya,polygonStart:function(){ha.lineStart=va,ha.lineEnd=wa},polygonEnd:function(){ha.point=da,ha.lineStart=pa,ha.lineEnd=ya},result:function(){var t=fa?[ca/fa,ua/fa]:la?[aa/la,sa/la]:oa?[ia/oa,ra/oa]:[NaN,NaN];return ia=ra=oa=aa=sa=la=ca=ua=fa=0,t}};function da(t,n){ia+=t,ra+=n,++oa}function pa(){ha.point=ga}function ga(t,n){ha.point=ma,da(na=t,ea=n)}function ma(t,n){var e=t-na,i=n-ea,r=Kr(e*e+i*i);aa+=r*(na+t)/2,sa+=r*(ea+n)/2,la+=r,da(na=t,ea=n)}function ya(){ha.point=da}function va(){ha.point=$a}function wa(){xa(Ko,ta)}function $a(t,n){ha.point=xa,da(Ko=na=t,ta=ea=n)}function xa(t,n){var e=t-na,i=n-ea,r=Kr(e*e+i*i);aa+=r*(na+t)/2,sa+=r*(ea+n)/2,la+=r,ca+=(r=ea*t-na*n)*(na+t),ua+=r*(ea+n),fa+=3*r,da(na=t,ea=n)}function _a(t){this._context=t}_a.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Gr)}},result:no};var ba,ka,Ma,Ea,Sa,Aa=new kt,Na={point:no,lineStart:function(){Na.point=Ra},lineEnd:function(){ba&&za(ka,Ma),Na.point=no},polygonStart:function(){ba=!0},polygonEnd:function(){ba=null},result:function(){var t=+Aa;return Aa=new kt,t}};function Ra(t,n){Na.point=za,ka=Ea=t,Ma=Sa=n}function za(t,n){Ea-=t,Sa-=n,Aa.add(Kr(Ea*Ea+Sa*Sa)),Ea=t,Sa=n}let Ta,Ca,Pa,Wa;class Oa{constructor(t){this._append=null==t?qa:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return qa;if(n!==Ta){const t=10**n;Ta=n,Ca=function(n){let e=1;this._+=n[0];for(const i=n.length;e<i;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return Ca}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==Pa||this._append!==Ca){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Pa=t,Ca=this._append,Wa=this._,this._=n}this._+=Wa}}result(){const t=this._;return this._="",t.length?t:null}}function qa(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Ia(t){return function(n){var e=new La;for(var i in t)e[i]=t[i];return e.stream=n,e}}function La(){}function Da(t,n,e){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),so(e,t.stream(Qo)),n(Qo.result()),null!=i&&t.clipExtent(i),t}function ja(t,n,e){return Da(t,(function(e){var i=n[1][0]-n[0][0],r=n[1][1]-n[0][1],o=Math.min(i/(e[1][0]-e[0][0]),r/(e[1][1]-e[0][1])),a=+n[0][0]+(i-o*(e[1][0]+e[0][0]))/2,s=+n[0][1]+(r-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,s])}),e)}La.prototype={constructor:La,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ha=16,Ba=Jr(30*Fr);function Ga(t,n){return+n?function(t,n){function e(i,r,o,a,s,l,c,u,f,h,d,p,g,m){var y=c-i,v=u-r,w=y*y+v*v;if(w>4*n&&g--){var $=a+h,x=s+d,_=l+p,b=Kr($*$+x*x+_*_),k=to(_/=b),M=Yr(Yr(_)-1)<Lr||Yr(o-f)<Lr?(o+f)/2:Ur(x,$),E=t(M,k),S=E[0],A=E[1],N=S-i,R=A-r,z=v*N-y*R;(z*z/w>n||Yr((y*N+v*R)/w-.5)>.3||a*h+s*d+l*p<Ba)&&(e(i,r,o,a,s,l,S,A,M,$/=b,x/=b,_,g,m),m.point(S,A),e(S,A,M,$,x,_,c,u,f,h,d,p,g,m))}}return function(n){var i,r,o,a,s,l,c,u,f,h,d,p,g={point:m,lineStart:y,lineEnd:w,polygonStart:function(){n.polygonStart(),g.lineStart=$},polygonEnd:function(){n.polygonEnd(),g.lineStart=y}};function m(e,i){e=t(e,i),n.point(e[0],e[1])}function y(){u=NaN,g.point=v,n.lineStart()}function v(i,r){var o=co([i,r]),a=t(i,r);e(u,f,c,h,d,p,u=a[0],f=a[1],c=i,h=o[0],d=o[1],p=o[2],Ha,n),n.point(u,f)}function w(){g.point=m,n.lineEnd()}function $(){y(),g.point=x,g.lineEnd=_}function x(t,n){v(i=t,n),r=u,o=f,a=h,s=d,l=p,g.point=v}function _(){e(u,f,c,h,d,p,r,o,i,a,s,l,Ha,n),g.lineEnd=w,w()}return g}}(t,n):function(t){return Ia({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var Xa=Ia({point:function(t,n){this.stream.point(t*Fr,n*Fr)}});function Fa(t,n,e,i,r,o){if(!o)return function(t,n,e,i,r){function o(o,a){return[n+t*(o*=i),e-t*(a*=r)]}return o.invert=function(o,a){return[(o-n)/t*i,(e-a)/t*r]},o}(t,n,e,i,r);var a=Jr(o),s=Zr(o),l=a*t,c=s*t,u=a/t,f=s/t,h=(s*e-a*n)/t,d=(s*n+a*e)/t;function p(t,o){return[l*(t*=i)-c*(o*=r)+n,e-c*t-l*o]}return p.invert=function(t,n){return[i*(u*t-f*n+h),r*(d-f*t-u*n)]},p}function Ya(t){return function(t){var n,e,i,r,o,a,s,l,c,u,f=150,h=480,d=250,p=0,g=0,m=0,y=0,v=0,w=0,$=1,x=1,_=null,b=zo,k=null,M=Do,E=.5;function S(t){return l(t[0]*Fr,t[1]*Fr)}function A(t){return(t=l.invert(t[0],t[1]))&&[t[0]*Xr,t[1]*Xr]}function N(){var t=Fa(f,0,0,$,x,w).apply(null,n(p,g)),i=Fa(f,h-t[0],d-t[1],$,x,w);return e=function(t,n,e){return(t%=Gr)?n||e?mo(wo(t),$o(n,e)):wo(t):n||e?$o(n,e):yo}(m,y,v),s=mo(n,i),l=mo(e,s),a=Ga(s,E),R()}function R(){return c=u=null,S}return S.stream=function(t){return c&&u===t?c:c=Xa(function(t){return Ia({point:function(n,e){var i=t(n,e);return this.stream.point(i[0],i[1])}})}(e)(b(a(M(u=t)))))},S.preclip=function(t){return arguments.length?(b=t,_=void 0,R()):b},S.postclip=function(t){return arguments.length?(M=t,k=i=r=o=null,R()):M},S.clipAngle=function(t){return arguments.length?(b=+t?To(_=t*Fr):(_=null,zo),R()):_*Xr},S.clipExtent=function(t){return arguments.length?(M=null==t?(k=i=r=o=null,Do):Wo(k=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),R()):null==k?null:[[k,i],[r,o]]},S.scale=function(t){return arguments.length?(f=+t,N()):f},S.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],N()):[h,d]},S.center=function(t){return arguments.length?(p=t[0]%360*Fr,g=t[1]%360*Fr,N()):[p*Xr,g*Xr]},S.rotate=function(t){return arguments.length?(m=t[0]%360*Fr,y=t[1]%360*Fr,v=t.length>2?t[2]%360*Fr:0,N()):[m*Xr,y*Xr,v*Xr]},S.angle=function(t){return arguments.length?(w=t%360*Fr,N()):w*Xr},S.reflectX=function(t){return arguments.length?($=t?-1:1,N()):$<0},S.reflectY=function(t){return arguments.length?(x=t?-1:1,N()):x<0},S.precision=function(t){return arguments.length?(a=Ga(s,E=t*t),R()):Kr(E)},S.fitExtent=function(t,n){return ja(S,t,n)},S.fitSize=function(t,n){return function(t,n,e){return ja(t,[[0,0],n],e)}(S,t,n)},S.fitWidth=function(t,n){return function(t,n,e){return Da(t,(function(e){var i=+n,r=i/(e[1][0]-e[0][0]),o=(i-r*(e[1][0]+e[0][0]))/2,a=-r*e[0][1];t.scale(150*r).translate([o,a])}),e)}(S,t,n)},S.fitHeight=function(t,n){return function(t,n,e){return Da(t,(function(e){var i=+n,r=i/(e[1][1]-e[0][1]),o=-r*e[0][0],a=(i-r*(e[1][1]+e[0][1]))/2;t.scale(150*r).translate([o,a])}),e)}(S,t,n)},function(){return n=t.apply(this,arguments),S.invert=n.invert&&A,N()}}((function(){return t}))()}function Va(t,n){var e=n*n,i=e*e;return[t*(.8707-.131979*e+i*(i*(.003971*e-.001529*i)-.013791)),n*(1.007226+e*(.015085+i*(.028874*e-.044475-.005916*i)))]}function Ua(){return Ya(Va).scale(175.295)}function Ja(t,n){return t.parent===n.parent?1:2}function Za(t,n){return t+n.x}function Qa(t,n){return Math.max(t,n.y)}function Ka(){var t=Ja,n=1,e=1,i=!1;function r(r){var o,a=0;r.eachAfter((function(n){var e=n.children;e?(n.x=function(t){return t.reduce(Za,0)/t.length}(e),n.y=function(t){return 1+t.reduce(Qa,0)}(e)):(n.x=o?a+=t(n,o):0,n.y=0,o=n)}));var s=function(t){for(var n;n=t.children;)t=n[0];return t}(r),l=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(r),c=s.x-t(s,l)/2,u=l.x+t(l,s)/2;return r.eachAfter(i?function(t){t.x=(t.x-r.x)*n,t.y=(r.y-t.y)*e}:function(t){t.x=(t.x-c)/(u-c)*n,t.y=(1-(r.y?t.y/r.y:1))*e})}return r.separation=function(n){return arguments.length?(t=n,r):t},r.size=function(t){return arguments.length?(i=!1,n=+t[0],e=+t[1],r):i?null:[n,e]},r.nodeSize=function(t){return arguments.length?(i=!0,n=+t[0],e=+t[1],r):i?[n,e]:null},r}function ts(t){var n=0,e=t.children,i=e&&e.length;if(i)for(;--i>=0;)n+=e[i].value;else n=1;t.value=n}function ns(t,n){t instanceof Map?(t=[void 0,t],void 0===n&&(n=is)):void 0===n&&(n=es);for(var e,i,r,o,a,s=new as(t),l=[s];e=l.pop();)if((r=n(e.data))&&(a=(r=Array.from(r)).length))for(e.children=r,o=a-1;o>=0;--o)l.push(i=r[o]=new as(r[o])),i.parent=e,i.depth=e.depth+1;return s.eachBefore(os)}function es(t){return t.children}function is(t){return Array.isArray(t)?t[1]:null}function rs(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function os(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function as(t){this.data=t,this.depth=this.height=0,this.parent=null}function ss(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}Va.invert=function(t,n){var e,i=n,r=25;do{var o=i*i,a=o*o;i-=e=(i*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Yr(e)>Lr&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]},as.prototype=ns.prototype={constructor:as,count:function(){return this.eachAfter(ts)},each:function(t,n){let e=-1;for(const i of this)t.call(n,i,++e,this);return this},eachAfter:function(t,n){for(var e,i,r,o=this,a=[o],s=[],l=-1;o=a.pop();)if(s.push(o),e=o.children)for(i=0,r=e.length;i<r;++i)a.push(e[i]);for(;o=s.pop();)t.call(n,o,++l,this);return this},eachBefore:function(t,n){for(var e,i,r=this,o=[r],a=-1;r=o.pop();)if(t.call(n,r,++a,this),e=r.children)for(i=e.length-1;i>=0;--i)o.push(e[i]);return this},find:function(t,n){let e=-1;for(const i of this)if(t.call(n,i,++e,this))return i},sum:function(t){return this.eachAfter((function(n){for(var e=+t(n.data)||0,i=n.children,r=i&&i.length;--r>=0;)e+=i[r].value;n.value=e}))},sort:function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),i=n.ancestors(),r=null;t=e.pop(),n=i.pop();for(;t===n;)r=t,t=e.pop(),n=i.pop();return r}(n,t),i=[n];n!==e;)n=n.parent,i.push(n);for(var r=i.length;t!==e;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},links:function(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n},copy:function(){return ns(this).eachBefore(rs)},[Symbol.iterator]:function*(){var t,n,e,i,r=this,o=[r];do{for(t=o.reverse(),o=[];r=t.pop();)if(yield r,n=r.children)for(e=0,i=n.length;e<i;++e)o.push(n[e])}while(o.length)}};const ls=Symbol("implicit");function cs(){var t=new Mt,n=[],e=[],i=ls;function r(r){let o=t.get(r);if(void 0===o){if(i!==ls)return i;t.set(r,o=n.push(r)-1)}return e[o%e.length]}return r.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Mt;for(const i of e)t.has(i)||t.set(i,n.push(i)-1);return r},r.range=function(t){return arguments.length?(e=Array.from(t),r):e.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return cs(n,e).unknown(i)},ss.apply(r,arguments),r}function us(){var t,n,e=cs().unknown(void 0),i=e.domain,r=e.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function f(){var e=i().length,f=a<o,h=f?a:o,d=f?o:a;t=(d-h)/Math.max(1,e-l+2*c),s&&(t=Math.floor(t)),h+=(d-h-t*(e-l))*u,n=t*(1-l),s&&(h=Math.round(h),n=Math.round(n));var p=function(t,n,e){t=+t,n=+n,e=(r=arguments.length)<2?(n=t,t=0,1):r<3?1:+e;for(var i=-1,r=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(r);++i<r;)o[i]=t+i*e;return o}(e).map((function(n){return h+t*n}));return r(f?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(i(t),f()):i()},e.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},e.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,s=!0,f()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(s=!!t,f()):s},e.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),f()):l},e.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),f()):l},e.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},e.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),f()):u},e.copy=function(){return us(i(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},ss.apply(f(),arguments)}function fs(t){return+t}var hs=[0,1];function ds(t){return t}function ps(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function gs(t,n,e){var i=t[0],r=t[1],o=n[0],a=n[1];return r<i?(i=ps(r,i),o=e(a,o)):(i=ps(i,r),o=e(o,a)),function(t){return o(i(t))}}function ms(t,n,e){var i=Math.min(t.length,n.length)-1,r=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<i;)r[a]=ps(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=bt(t,n,1,i)-1;return o[e](r[e](n))}}function ys(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vs(){var t,n,e,i,r,o,a=hs,s=hs,l=Ve,c=ds;function u(){var t,n,e,l=Math.min(a.length,s.length);return c!==ds&&(t=a[0],n=a[l-1],t>n&&(e=t,t=n,n=e),c=function(e){return Math.max(t,Math.min(n,e))}),i=l>2?ms:gs,r=o=null,f}function f(n){return null==n||isNaN(n=+n)?e:(r||(r=i(a.map(t),s,l)))(t(c(n)))}return f.invert=function(e){return c(n((o||(o=i(s,a.map(t),Be)))(e)))},f.domain=function(t){return arguments.length?(a=Array.from(t,fs),u()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),l=Ue,u()},f.clamp=function(t){return arguments.length?(c=!!t||ds,u()):c!==ds},f.interpolate=function(t){return arguments.length?(l=t,u()):l},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,i){return t=e,n=i,u()}}function ws(t,n,e,i){var r,o=function(t,n,e){e=+e;const i=(n=+n)<(t=+t),r=i?Pt(n,t,e):Pt(t,n,e);return(i?-1:1)*(r<0?1/-r:r)}(t,n,e);switch((i=Ar(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=i.precision||isNaN(r=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Mr(n)/3)))-Mr(Math.abs(t)))}(o,a))||(i.precision=r),Wr(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Mr(n)-Mr(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Mr(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return Pr(i)}function $s(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){if(!((e=+e)>0))return[];if((t=+t)==(n=+n))return[t];const i=n<t,[r,o,a]=i?Ct(n,t,e):Ct(t,n,e);if(!(o>=r))return[];const s=o-r+1,l=new Array(s);if(i)if(a<0)for(let t=0;t<s;++t)l[t]=(o-t)/-a;else for(let t=0;t<s;++t)l[t]=(o-t)*a;else if(a<0)for(let t=0;t<s;++t)l[t]=(r+t)/-a;else for(let t=0;t<s;++t)l[t]=(r+t)*a;return l}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var i=n();return ws(i[0],i[i.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var i,r,o=n(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(r=l,l=c,c=r,r=a,a=s,s=r);u-- >0;){if((r=Pt(l,c,e))===i)return o[a]=l,o[s]=c,n(o);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return t},t}function xs(){var t=vs()(ds,ds);return t.copy=function(){return ys(t,xs())},ss.apply(t,arguments),$s(t)}function _s(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function bs(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ks(t){return t<0?-t*t:t*t}function Ms(t){var n=t(ds,ds),e=1;return n.exponent=function(n){return arguments.length?1===(e=+n)?t(ds,ds):.5===e?t(bs,ks):t(_s(e),_s(1/e)):e},$s(n)}function Es(){var t=Ms(vs());return t.copy=function(){return ys(t,Es()).exponent(t.exponent())},ss.apply(t,arguments),t}function Ss(t){return function(){return t}}function As(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);n=t}return t},()=>new fr(n)}var Ns=Array.prototype.slice;function Rs(t){this._context=t}function zs(t){return new Rs(t)}function Ts(t){return t[0]}function Cs(t){return t[1]}function Ps(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}Rs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};class Ws{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,0===this._point)this._point=1;else{const e=Ps(this._x0,this._y0),i=Ps(this._x0,this._y0=(this._y0+n)/2),r=Ps(t,this._y0),o=Ps(t,n);this._context.moveTo(...e),this._context.bezierCurveTo(...i,...r,...o)}this._x0=t,this._y0=n}}function Os(t){return new Ws(t)}function qs(t){return t.source}function Is(t){return t.target}function Ls(){const t=function(t){let n=qs,e=Is,i=Ts,r=Cs,o=null,a=null,s=As(l);function l(){let l;const c=Ns.call(arguments),u=n.apply(this,c),f=e.apply(this,c);if(null==o&&(a=t(l=s())),a.lineStart(),c[0]=u,a.point(+i.apply(this,c),+r.apply(this,c)),c[0]=f,a.point(+i.apply(this,c),+r.apply(this,c)),a.lineEnd(),l)return a=null,l+""||null}return l.source=function(t){return arguments.length?(n=t,l):n},l.target=function(t){return arguments.length?(e=t,l):e},l.x=function(t){return arguments.length?(i="function"==typeof t?t:Ss(+t),l):i},l.y=function(t){return arguments.length?(r="function"==typeof t?t:Ss(+t),l):r},l.context=function(n){return arguments.length?(null==n?o=a=null:a=t(o=n),l):o},l}(Os);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}function Ds(t){return t<0?-1:1}function js(t,n,e){var i=t._x1-t._x0,r=n-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),a=(e-t._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(Ds(o)+Ds(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Hs(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Bs(t,n,e){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,s=(o-i)/3;t._context.bezierCurveTo(i+s,r+s*n,o-s,a-s*e,o,a)}function Gs(t){this._context=t}function Xs(t){this._context=t}function Fs(t,n,e){this.k=t,this.x=n,this.y=e}Gs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bs(this,this._t0,Hs(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Bs(this,Hs(this,e=js(this,t,n)),e);break;default:Bs(this,this._t0,e=js(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(function(t){this._context=new Xs(t)}.prototype=Object.create(Gs.prototype)).point=function(t,n){Gs.prototype.point.call(this,n,t)},Xs.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,i,r,o){this._context.bezierCurveTo(n,t,i,e,o,r)}},Fs.prototype={constructor:Fs,scale:function(t){return 1===t?this:new Fs(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Fs(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ys=new Fs(1,0,0);const Vs={light:{text:"#222",muted:"#777",pale:"#f0f0f0",background:"#fff"},dark:{text:"black",muted:"#bbb",pale:"#333",background:"gray"},lightblue:{text:"#206095",muted:"#707070",pale:"#f0f0f0",background:"rgb(188, 207, 222)"}},Us=[];function Js(n,e=t){let i;const r=new Set;function o(t){if(s(n,t)&&(n=t,i)){const t=!Us.length;for(const t of r)t[1](),Us.push(t,n);if(t){for(let t=0;t<Us.length;t+=2)Us[t][0](Us[t+1]);Us.length=0}}}return{set:o,update:function(t){o(t(n))},subscribe:function(a,s=t){const l=[a,s];return r.add(l),1===r.size&&(i=e(o)||t),a(n),()=>{r.delete(l),0===r.size&&i&&(i(),i=null)}}}}function Zs(n,e,i){const r=!Array.isArray(n),s=r?[n]:n,l=e.length<2;return function(t,n){return{subscribe:Js(t,n).subscribe}}(i,(n=>{let i=!1;const c=[];let f=0,h=t;const d=()=>{if(f)return;h();const i=e(r?c[0]:c,n);l?n(i):h=a(i)?i:t},p=s.map(((t,n)=>u(t,(t=>{c[n]=t,f&=~(1<<n),i&&d()}),(()=>{f|=1<<n}))));return i=!0,d(),function(){o(p),h(),i=!1}}))}const Qs=Js([]);let Ks={name:"pax",children:[{name:"Participation",colname:"level2",key:"WggPar",children:[{name:"Gender quotas",colname:"level3",key:"WggGenQuot"},{name:"Effective participation",colname:"level3",key:"WggEffPart"},{name:"Citizenship",colname:"level3",key:"WggCitizen"},{name:"Other",colname:"level3",key:"WggParOth"}]},{name:"Equality",colname:"level2",key:"WggEq",children:[{name:"Equality (general)",colname:"level3",key:"WggEqGen"},{name:"Social equality",colname:"level3",key:"WggSocEq"},{name:"Other",colname:"level3",key:"WggEqOth"}]},{name:"Particular groups of women",colname:"level2",key:"WggGrp",children:[{name:"Indigenous/nomadic women",colname:"level3",key:"WggIndNom"},{name:"Refugee / Displaced women",colname:"level3",key:"WggRefDisp"},{name:"Pregnancy/Maternity",colname:"level3",key:"WggPreg"},{name:"Other",colname:"level3",key:"WggGrpOth"}]},{name:"International law",colname:"level2",key:"WggIntLaw",children:[{name:"General mentions of international human rights law",colname:"level3",key:"WggHR"},{name:"International human rights standards",colname:"level3",key:"WggHrSta"},{name:"References to UNSCR 1325",colname:"level3",key:"WggUnsc"},{name:"Other",colname:"level3",key:"WggIntLawOth"}]},{name:"New Institutions",colname:"level2",key:"WggNewInst",children:[{name:"Institutions for women",colname:"level3",key:"WggInstWom"},{name:"Infrastructure (general)",colname:"level3",key:"WggInf"},{name:"Reconciliation and Peace",colname:"level3",key:"WggRecon"},{name:"Other",colname:"level3",key:"WggNewInstOth"}]},{name:"Violence Against women",colname:"level2",key:"WggVio",children:[{name:"Sexual violence",colname:"level3",key:"WggVioSex"},{name:"Gender-based violence / VAW (general)",colname:"level3",key:"WggVioGen"},{name:"Protection (general)",colname:"level3",key:"WggVioProt"},{name:"Other",colname:"level3",key:"WggVioOth"}]},{name:"Transitional Justice",colname:"level2",key:"WggTraJus",children:[{name:"Past and gender",colname:"level3",key:"WggPast"},{name:"Prisons, prisoner release",colname:"level3",key:"WggPri"},{name:"Other",colname:"level3",key:"WggTraJusOth"}]},{name:"Institutional Reform",colname:"level2",key:"WggInstRef",children:[{name:"Constitution-making/reform",colname:"level3",key:"WggConst"},{name:"Emergency/criminal law/corruption reform",colname:"level3",key:"WggLawRef"},{name:"Judiciary, judicial reform",colname:"level3",key:"WggJud"},{name:"Police",colname:"level3",key:"WggPol"},{name:"DDR, Army, Parastatal or rebel forces",colname:"level3",key:"WggDdr"},{name:"Public administration",colname:"level3",key:"WggPubAdm"},{name:"Other",colname:"level3",key:"WggInstRefOth"}]},{name:"Development",colname:"level2",key:"WggDev",children:[{name:"General",colname:"level3",key:"WggDevGen"},{name:"Rehabilitation and reconstruction",colname:"level3",key:"WggRehab"},{name:"Education",colname:"level3",key:"WggEdu"},{name:"Health (general)",colname:"level3",key:"WggHea"},{name:"Reproductive rights",colname:"level3",key:"WggRepro"},{name:"Other",colname:"level3",key:"WggDevOth"}]},{name:"Implementation",colname:"level2",key:"WggImpl",children:[{name:"Womens role and consideration in implementation of the agreement",colname:"level3",key:"WggImplRole"},{name:"Signing or Witnessing agreement",colname:"level3",key:"WggImplSign"},{name:"Other",colname:"level3",key:"WggImplOth"}]},{name:"Other",colname:"level2",key:"WggOth",children:[{name:"Other",colname:"level3",key:"WggOth"}]}]};async function tl(t){const n=t.map((t=>async function(t){return await _r(t)}(t)));return await Promise.all(n)}async function nl(t){const n=function(t,n){return fetch(t,n).then(br)}(t);return n}Qs.subscribe((t=>{}));(function(t,n){var e=Ss(!0),i=null,r=zs,o=null,a=As(s);function s(s){var l,c,u,f=(s=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(s)).length,h=!1;for(null==i&&(o=r(u=a())),l=0;l<=f;++l)!(l<f&&e(c=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(c,l,s),+n(c,l,s));if(u)return o=null,u+""||null}return t="function"==typeof t?t:void 0===t?Ts:Ss(t),n="function"==typeof n?n:void 0===n?Cs:Ss(n),s.x=function(n){return arguments.length?(t="function"==typeof n?n:Ss(+n),s):t},s.y=function(t){return arguments.length?(n="function"==typeof t?t:Ss(+t),s):n},s.defined=function(t){return arguments.length?(e="function"==typeof t?t:Ss(!!t),s):e},s.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),s):r},s.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),s):i},s})().x((t=>t[0])).y((t=>t[1])).curve((function(t){return new Gs(t)}));let el=["1990","1991","1992","1993","1994","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023","2024"];function il(t){const n={};t.forEach((t=>{n[t.Loc1ISO]?n[t.Loc1ISO]++:n[t.Loc1ISO]=1}));const e=Object.entries(n).map((([t,n])=>({iso:t,count:n})));return e.filter((t=>""!=t.iso))}let rl=3;function ol(t,n,e,i){let r=Math.ceil(Math.sqrt(i*(e/n))),o=Math.ceil(i/r),a=(e-(r-1)*rl)/r,s=(n-(o-1)*rl)/o;return t.map(((t,e)=>({x:e%r*(a+rl)+2*Math.random()-1,y:n-(Math.floor(e/r)+1)*(s+rl)+2*Math.random()-1,width:a,height:s,id:t.AgtId,info:t.Agt})))}function al(t,n,e){let i=t,r=(e-60)/7,o=(r-18)/10,a=Math.max(...i.map((([t,n])=>n.length))),s=Math.ceil(a/10),l=(n-2*(s-1))/s,c=i.flatMap((([t,e],i)=>e.map(((t,e)=>{let a=i*(r+10),s=Math.floor(e/10),c=n-(s+1)*(l+2);return{x:a+e%10*(o+2)+2*Math.random()-1,y:c+2*Math.random()-1,width:o,height:l,info:t.Agt,id:t.AgtId}}))));return c}function sl(t){let n,e,i,r;const o=t[3].default,a=h(o,t,t[2],null);return{c(){n=A("header"),e=A("div"),i=A("div"),a&&a.c(),H(i,"center",t[0]),P(e,"class","v-padded col-wide middle svelte-11k4qos"),q(e,"position","relative"),H(e,"short",t[1]),H(e,"height-full",!t[1]),q(n,"color","white"),q(n,"background-color","#001C23"),P(n,"class","svelte-11k4qos"),H(n,"short",t[1])},m(t,o){M(t,n,o),k(n,e),k(e,i),a&&a.m(i,null),r=!0},p(t,[s]){a&&a.p&&(!r||4&s)&&g(a,o,t,t[2],r?p(o,t[2],s,null):m(t[2]),null),(!r||1&s)&&H(i,"center",t[0]),(!r||2&s)&&H(e,"short",t[1]),(!r||2&s)&&H(e,"height-full",!t[1]),(!r||2&s)&&H(n,"short",t[1])},i(t){r||(ft(a,t),r=!0)},o(t){ht(a,t),r=!1},d(t){t&&E(n),a&&a.d(t)}}}function ll(t,n,e){let{$$slots:i={},$$scope:r}=n,{center:o=!0}=n,{short:a=!1}=n;return t.$$set=t=>{"center"in t&&e(0,o=t.center),"short"in t&&e(1,a=t.short),"$$scope"in t&&e(2,r=t.$$scope)},[o,a,r,i]}class cl extends vt{constructor(t){super(),yt(this,t,ll,sl,s,{center:0,short:1})}}const{window:ul}=b,fl=t=>({}),hl=t=>({}),dl=t=>({}),pl=t=>({});function gl(t){let n,e,i,r,o,a,s,l;nt(t[21]);const c=t[20].background,u=h(c,t,t[19],pl),f=t[20].foreground,d=h(f,t,t[19],hl);return{c(){n=A("svelte-scroller-outer"),e=A("svelte-scroller-background-container"),i=A("svelte-scroller-background"),u&&u.c(),r=z(),o=A("svelte-scroller-foreground"),d&&d.c(),W(i,"class","svelte-15scopa"),W(e,"class","background-container svelte-15scopa"),W(o,"class","svelte-15scopa"),W(n,"style",t[6]),W(n,"class","svelte-15scopa"),H(n,"splitscreen",t[0])},m(c,f){M(c,n,f),k(n,e),k(e,i),u&&u.m(i,null),t[22](i),t[23](e),k(n,r),k(n,o),d&&d.m(o,null),t[24](o),t[25](n),a=!0,s||(l=C(ul,"resize",t[21]),s=!0)},p(t,e){u&&u.p&&(!a||524288&e[0])&&g(u,c,t,t[19],a?p(c,t[19],e,dl):m(t[19]),pl),d&&d.p&&(!a||524288&e[0])&&g(d,f,t,t[19],a?p(f,t[19],e,fl):m(t[19]),hl),(!a||64&e[0])&&W(n,"style",t[6]),(!a||1&e[0])&&H(n,"splitscreen",t[0])},i(t){a||(ft(u,t),ft(d,t),a=!0)},o(t){ht(u,t),ht(d,t),a=!1},d(e){e&&E(n),u&&u.d(e),t[22](null),t[23](null),d&&d.d(e),t[24](null),t[25](null),s=!1,l()}}}const ml=[];let yl;if("undefined"!=typeof window){const t=()=>ml.forEach((t=>t()));window.addEventListener("scroll",t),window.addEventListener("resize",t)}if("undefined"!=typeof IntersectionObserver){const t=new Map,n=new IntersectionObserver(((n,e)=>{n.forEach((n=>{const e=t.get(n.target),i=ml.indexOf(e);n.isIntersecting?-1===i&&ml.push(e):(e(),-1!==i&&ml.splice(i,1))}))}),{rootMargin:"400px 0px"});yl={add:({outer:e,update:i})=>{const{top:r,bottom:o}=e.getBoundingClientRect();r<window.innerHeight&&o>0&&ml.push(i),t.set(e,i),n.observe(e)},remove:({outer:e,update:i})=>{const r=ml.indexOf(i);-1!==r&&ml.splice(r,1),t.delete(e),n.unobserve(e)}}}else yl={add:({update:t})=>{ml.push(t)},remove:({update:t})=>{const n=ml.indexOf(t);-1!==n&&ml.splice(n,1)}};function vl(t,n,e){let i,r,o,a,s,l,c,u,f,h,d,{$$slots:p={},$$scope:g}=n,{top:m=0}=n,{bottom:y=1}=n,{threshold:v=.5}=n,{query:w="section"}=n,{parallax:$=!1}=n,{shadow:x}=n,{index:_=0}=n,{count:b=0}=n,{offset:k=0}=n,{progress:M=0}=n,{visible:E=!1}=n,{splitscreen:S=!1}=n,{id:A=null}=n,N=0,R=1;function z(){if(s){let t=`position: ${h?"fixed":"absolute"}; top: 0; transform: translate(0, ${d}px); width: ${R}px; z-index: 1;`;e(3,s.style.cssText=t,s)}}function T(){if(!l)return;const t=a.getBoundingClientRect();u=t.left,R=t.right-t.left;const n=l.getBoundingClientRect(),s=c.getBoundingClientRect();e(11,E=n.top<N&&n.bottom>0);const p=n.bottom-n.top,g=s.bottom-s.top,m=r-i;for(e(10,M=(i-n.top)/(p-m)),M<=0?(d=0,h&&(h=!1,z())):M>=1?(d=$?p-g:p-m,h&&(h=!1,z())):(d=$?Math.round(i-M*(g-m)):i,h||(h=!0,z())),e(7,_=0);_<f.length;e(7,_+=1)){const t=f[_],{top:i}=t.getBoundingClientRect(),r=f[_+1],a=r?r.getBoundingClientRect().top:n.bottom;if(e(9,k=(o-i)/(a-i)),e(12,A=t.dataset.id?t.dataset.id:null),a>=o)break}}X((()=>{f=l.querySelectorAll(w),e(8,b=f.length),T();const t={outer:a,update:T};return yl.add(t),()=>yl.remove(t)}));let C="";return x&&(C="box-shadow: inset 0 -10px 10px -8px rgba(0, 0, 0, 1); background-color: gray"),t.$$set=t=>{"top"in t&&e(13,m=t.top),"bottom"in t&&e(14,y=t.bottom),"threshold"in t&&e(15,v=t.threshold),"query"in t&&e(16,w=t.query),"parallax"in t&&e(17,$=t.parallax),"shadow"in t&&e(18,x=t.shadow),"index"in t&&e(7,_=t.index),"count"in t&&e(8,b=t.count),"offset"in t&&e(9,k=t.offset),"progress"in t&&e(10,M=t.progress),"visible"in t&&e(11,E=t.visible),"splitscreen"in t&&e(0,S=t.splitscreen),"id"in t&&e(12,A=t.id),"$$scope"in t&&e(19,g=t.$$scope)},t.$$.update=()=>{8194&t.$$.dirty[0]&&(i=Math.round(m*N)),16386&t.$$.dirty[0]&&(r=Math.round(y*N)),32770&t.$$.dirty[0]&&(o=Math.round(v*N)),188416&t.$$.dirty[0]&&T()},[S,N,a,s,l,c,C,_,b,k,M,E,A,m,y,v,w,$,x,g,p,function(){e(1,N=ul.innerHeight)},function(t){U[t?"unshift":"push"]((()=>{c=t,e(5,c)}))},function(t){U[t?"unshift":"push"]((()=>{s=t,e(3,s)}))},function(t){U[t?"unshift":"push"]((()=>{l=t,e(4,l)}))},function(t){U[t?"unshift":"push"]((()=>{a=t,e(2,a)}))}]}class wl extends vt{constructor(t){super(),yt(this,t,vl,gl,s,{top:13,bottom:14,threshold:15,query:16,parallax:17,shadow:18,index:7,count:8,offset:9,progress:10,visible:11,splitscreen:0,id:12},null,[-1,-1])}}function $l(t){let n,e,i;const r=t[5].default,o=h(r,t,t[4],null);return{c(){n=A("section"),e=A("div"),o&&o.c(),P(e,"class","middle"),H(e,"center",t[0]),H(e,"col-medium",!t[1]),H(e,"col-wide",t[1]),H(e,"height-full",!t[2]),H(e,"short",t[2]),P(n,"class","svelte-1h2eog8")},m(t,r){M(t,n,r),k(n,e),o&&o.m(e,null),i=!0},p(t,[n]){o&&o.p&&(!i||16&n)&&g(o,r,t,t[4],i?p(r,t[4],n,null):m(t[4]),null),(!i||1&n)&&H(e,"center",t[0]),(!i||2&n)&&H(e,"col-medium",!t[1]),(!i||2&n)&&H(e,"col-wide",t[1]),(!i||4&n)&&H(e,"height-full",!t[2]),(!i||4&n)&&H(e,"short",t[2])},i(t){i||(ft(o,t),i=!0)},o(t){ht(o,t),i=!1},d(t){t&&E(n),o&&o.d(t)}}}function xl(t,n,e){let{$$slots:i={},$$scope:r}=n,{center:o=!0}=n,{wide:a=!1}=n,{short:s=!1}=n,{shadow:l}=n;return t.$$set=t=>{"center"in t&&e(0,o=t.center),"wide"in t&&e(1,a=t.wide),"short"in t&&e(2,s=t.short),"shadow"in t&&e(3,l=t.shadow),"$$scope"in t&&e(4,r=t.$$scope)},[o,a,s,l,r,i]}class _l extends vt{constructor(t){super(),yt(this,t,xl,$l,s,{center:0,wide:1,short:2,shadow:3})}}function bl(t){const n=t-1;return n*n*n+1}function kl(t){return"[object Date]"===Object.prototype.toString.call(t)}function Ml(t,n){if(t===n||t!=t)return()=>t;const e=typeof t;if(e!==typeof n||Array.isArray(t)!==Array.isArray(n))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const e=n.map(((n,e)=>Ml(t[e],n)));return t=>e.map((n=>n(t)))}if("object"===e){if(!t||!n)throw new Error("Object cannot be null");if(kl(t)&&kl(n)){t=t.getTime();const e=(n=n.getTime())-t;return n=>new Date(t+n*e)}const e=Object.keys(n),i={};return e.forEach((e=>{i[e]=Ml(t[e],n[e])})),t=>{const n={};return e.forEach((e=>{n[e]=i[e](t)})),n}}if("number"===e){const e=n-t;return n=>t+n*e}throw new Error(`Cannot interpolate ${e} values`)}function El(t,i={}){const r=Js(t);let o,a=t;function s(s,l){if(null==t)return r.set(t=s),Promise.resolve();a=s;let c=o,u=!1,{delay:f=0,duration:h=400,easing:d=n,interpolate:p=Ml}=e(e({},i),l);if(0===h)return c&&(c.abort(),c=null),r.set(t=a),Promise.resolve();const g=w()+f;let m;return o=function(t){let n;return 0===x.size&&$(_),{promise:new Promise((e=>{x.add(n={c:t,f:e})})),abort(){x.delete(n)}}}((n=>{if(n<g)return!0;u||(m=p(t,s),"function"==typeof h&&(h=h(t,s)),u=!0),c&&(c.abort(),c=null);const e=n-g;return e>h?(r.set(t=s),!1):(r.set(t=m(d(e/h))),!0)})),o.promise}return{set:s,update:(n,e)=>s(n(a,t),e),subscribe:r.subscribe}}function Sl(n){let e,i,r,a,s,l;return{c(){e=N("g"),i=N("rect"),P(i,"id",r="id_"+n[0]),P(i,"x","0"),P(i,"y","0"),P(i,"width",n[4]),P(i,"height",n[5]),P(i,"rx","1"),P(i,"fill","#F6F1D6"),P(i,"stroke","gray"),P(i,"stroke-width","0.5"),P(i,"class","svelte-34w7o9"),H(i,"is-hovered",n[1]),P(e,"transform",a="translate("+n[2]+" "+n[3]+")")},m(t,r){M(t,e,r),k(e,i),s||(l=[C(i,"mouseenter",n[10]),C(i,"mouseleave",n[11])],s=!0)},p(t,[n]){1&n&&r!==(r="id_"+t[0])&&P(i,"id",r),16&n&&P(i,"width",t[4]),32&n&&P(i,"height",t[5]),2&n&&H(i,"is-hovered",t[1]),12&n&&a!==(a="translate("+t[2]+" "+t[3]+")")&&P(e,"transform",a)},i:t,o:t,d(t){t&&E(e),s=!1,o(l)}}}function Al(t,n,e){let i,r,o,a,{x:s}=n,{y:l}=n,{id:c}=n,{width:u}=n,{height:h}=n,{info:d}=n,{i:p}=n;const g=F(),m={delay:p/4*Math.random(),duration:300,easing:bl},y=El(null,m);f(t,y,(t=>e(2,i=t)));const v=El(null,m);f(t,v,(t=>e(3,r=t)));const w=El(null,{duration:300,easing:bl});f(t,w,(t=>e(4,o=t)));const $=El(null,m);f(t,$,(t=>e(5,a=t)));let x=!1;return t.$$set=t=>{"x"in t&&e(12,s=t.x),"y"in t&&e(13,l=t.y),"id"in t&&e(0,c=t.id),"width"in t&&e(14,u=t.width),"height"in t&&e(15,h=t.height),"info"in t&&e(16,d=t.info),"i"in t&&e(17,p=t.i)},t.$$.update=()=>{4096&t.$$.dirty&&y.set(s),8192&t.$$.dirty&&v.set(l),16384&t.$$.dirty&&w.set(u),32768&t.$$.dirty&&$.set(h)},[c,x,i,r,o,a,y,v,w,$,()=>{e(1,x=!0),g("hover",{x:s,y:l,info:d})},()=>{setTimeout((()=>{e(1,x=!1)}),0),g("leave")},s,l,u,h,d,p]}class Nl extends vt{constructor(t){super(),yt(this,t,Al,Sl,s,{x:12,y:13,id:0,width:14,height:15,info:16,i:17})}}function Rl(n){let e,i,r;return{c(){e=N("g"),i=N("rect"),P(i,"x","0"),P(i,"y","0"),P(i,"width",n[2]),P(i,"height",n[3]),P(i,"rx","1"),P(i,"stroke","#595959"),P(i,"stroke-width","0.5"),P(i,"class","svelte-ulxzp1"),P(e,"transform",r="translate("+n[0]+" "+n[1]+")")},m(t,n){M(t,e,n),k(e,i)},p(t,[n]){4&n&&P(i,"width",t[2]),8&n&&P(i,"height",t[3]),3&n&&r!==(r="translate("+t[0]+" "+t[1]+")")&&P(e,"transform",r)},i:t,o:t,d(t){t&&E(e)}}}function zl(t,n,e){let i,r,o,a,{i:s}=n,{x:l}=n,{y:c}=n,{width:u}=n,{height:h}=n;const d={delay:s/4*Math.random(),duration:300,easing:bl},p=El(null,d);f(t,p,(t=>e(0,i=t)));const g=El(null,d);f(t,g,(t=>e(1,r=t)));const m=El(null,{duration:300,easing:bl});f(t,m,(t=>e(2,o=t)));const y=El(null,d);return f(t,y,(t=>e(3,a=t))),t.$$set=t=>{"i"in t&&e(8,s=t.i),"x"in t&&e(9,l=t.x),"y"in t&&e(10,c=t.y),"width"in t&&e(11,u=t.width),"height"in t&&e(12,h=t.height)},t.$$.update=()=>{512&t.$$.dirty&&p.set(l),1024&t.$$.dirty&&g.set(c),2048&t.$$.dirty&&m.set(u),4096&t.$$.dirty&&y.set(h)},[i,r,o,a,p,g,m,y,s,l,c,u,h]}class Tl extends vt{constructor(t){super(),yt(this,t,zl,Rl,s,{i:8,x:9,y:10,width:11,height:12})}}function Cl(t,n,e){const i=t.slice();return i[22]=n[e],i[24]=e,i}function Pl(t,n,e){const i=t.slice();return i[22]=n[e],i[24]=e,i}function Wl(t,n,e){const i=t.slice();return i[22]=n[e],i[24]=e,i}function Ol(t){let n,e,i,r,o,a,s,l,u,f,h,d,p,g,m=t[9],y=[];for(let n=0;n<m.length;n+=1)y[n]=ql(Wl(t,m,n));let v=t[6],w=[];for(let n=0;n<v.length;n+=1)w[n]=Il(Pl(t,v,n));const $=t=>ht(w[t],1,1,(()=>{w[t]=null}));let x=t[5],_=[];for(let n=0;n<x.length;n+=1)_[n]=Ll(Cl(t,x,n));const b=t=>ht(_[t],1,1,(()=>{_[t]=null}));let R=t[7]&&Dl(t);return{c(){n=A("div"),e=N("svg"),i=N("g");for(let t=0;t<y.length;t+=1)y[t].c();r=T();for(let t=0;t<w.length;t+=1)w[t].c();o=T();for(let t=0;t<_.length;t+=1)_[t].c();R&&R.c(),s=z(),l=A("div"),u=A("img"),P(i,"class","timeline"),P(i,"transform",a="translate("+t[10].left+", "+t[10].top+")"),P(e,"width",t[0]),P(e,"height",t[1]),P(u,"class","example_img svelte-1me5ikt"),c(u.src,f=Hl)||P(u,"src",f),P(u,"alt","agt"),P(l,"id","example_stage"),P(l,"class","svelte-1me5ikt"),P(n,"class","wrapper svelte-1me5ikt"),nt((()=>t[18].call(n)))},m(a,c){M(a,n,c),k(n,e),k(e,i);for(let t=0;t<y.length;t+=1)y[t]&&y[t].m(i,null);k(i,r);for(let t=0;t<w.length;t+=1)w[t]&&w[t].m(i,null);k(i,o);for(let t=0;t<_.length;t+=1)_[t]&&_[t].m(i,null);R&&R.m(e,null),k(n,s),k(n,l),k(l,u),t[17](u),h=j(n,t[18].bind(n)),d=!0,p||(g=C(u,"load",t[11]),p=!0)},p(t,n){if(772&n){let e;for(m=t[9],e=0;e<m.length;e+=1){const o=Wl(t,m,e);y[e]?y[e].p(o,n):(y[e]=ql(o),y[e].c(),y[e].m(i,r))}for(;e<y.length;e+=1)y[e].d(1);y.length=m.length}if(64&n){let e;for(v=t[6],e=0;e<v.length;e+=1){const r=Pl(t,v,e);w[e]?(w[e].p(r,n),ft(w[e],1)):(w[e]=Il(r),w[e].c(),ft(w[e],1),w[e].m(i,o))}for(ct(),e=v.length;e<w.length;e+=1)$(e);ut()}if(32&n){let e;for(x=t[5],e=0;e<x.length;e+=1){const r=Cl(t,x,e);_[e]?(_[e].p(r,n),ft(_[e],1)):(_[e]=Ll(r),_[e].c(),ft(_[e],1),_[e].m(i,null))}for(ct(),e=x.length;e<_.length;e+=1)b(e);ut()}t[7]?R?R.p(t,n):(R=Dl(t),R.c(),R.m(e,null)):R&&(R.d(1),R=null),(!d||1&n)&&P(e,"width",t[0]),(!d||2&n)&&P(e,"height",t[1])},i(t){if(!d){for(let t=0;t<v.length;t+=1)ft(w[t]);for(let t=0;t<x.length;t+=1)ft(_[t]);d=!0}},o(t){w=w.filter(Boolean);for(let t=0;t<w.length;t+=1)ht(w[t]);_=_.filter(Boolean);for(let t=0;t<_.length;t+=1)ht(_[t]);d=!1},d(e){e&&E(n),S(y,e),S(w,e),S(_,e),R&&R.d(),t[17](null),h(),p=!1,g()}}}function ql(t){let n,e,i,r,o=t[22]+"";return{c(){n=N("text"),e=R(o),P(n,"x",i=t[8]*t[24]+t[8]/2),P(n,"y",r=t[2]+14),P(n,"text-anchor","middle"),P(n,"font-family","Montserrat"),P(n,"fill","white"),P(n,"font-size","14px")},m(t,i){M(t,n,i),k(n,e)},p(t,e){256&e&&i!==(i=t[8]*t[24]+t[8]/2)&&P(n,"x",i),4&e&&r!==(r=t[2]+14)&&P(n,"y",r)},d(t){t&&E(n)}}}function Il(t){let n,e;return n=new Tl({props:{i:t[24],x:t[22].x,y:t[22].y,width:t[22].width,height:t[22].height}}),{c(){pt(n.$$.fragment)},m(t,i){gt(n,t,i),e=!0},p(t,e){const i={};64&e&&(i.x=t[22].x),64&e&&(i.y=t[22].y),64&e&&(i.width=t[22].width),64&e&&(i.height=t[22].height),n.$set(i)},i(t){e||(ft(n.$$.fragment,t),e=!0)},o(t){ht(n.$$.fragment,t),e=!1},d(t){mt(n,t)}}}function Ll(t){let n,e;return n=new Nl({props:{i:t[24],x:t[22].x,y:t[22].y,width:t[22].width,height:t[22].height,info:t[22].info,id:t[22].id}}),{c(){pt(n.$$.fragment)},m(t,i){gt(n,t,i),e=!0},p(t,e){const i={};32&e&&(i.x=t[22].x),32&e&&(i.y=t[22].y),32&e&&(i.width=t[22].width),32&e&&(i.height=t[22].height),32&e&&(i.info=t[22].info),32&e&&(i.id=t[22].id),n.$set(i)},i(t){e||(ft(n.$$.fragment,t),e=!0)},o(t){ht(n.$$.fragment,t),e=!1},d(t){mt(n,t)}}}function Dl(t){let n,e;return{c(){n=N("path"),P(n,"id","example_stage"),P(n,"d",e=`M ${2*t[8]},${t[2]-30} \n                       C ${2*t[8]},${t[2]-100} \n                         ${t[4]},${t[7]+100} \n                         ${t[4]},${t[7]}`),P(n,"fill","none"),P(n,"stroke","white"),P(n,"stroke-width","1"),P(n,"opacity","0"),P(n,"class","svelte-1me5ikt")},m(t,e){M(t,n,e)},p(t,i){404&i&&e!==(e=`M ${2*t[8]},${t[2]-30} \n                       C ${2*t[8]},${t[2]-100} \n                         ${t[4]},${t[7]+100} \n                         ${t[4]},${t[7]}`)&&P(n,"d",e)},d(t){t&&E(n)}}}function jl(t){let n,e,i=t[5]&&Ol(t);return{c(){i&&i.c(),n=T()},m(t,r){i&&i.m(t,r),M(t,n,r),e=!0},p(t,[e]){t[5]?i?(i.p(t,e),32&e&&ft(i,1)):(i=Ol(t),i.c(),ft(i,1),i.m(n.parentNode,n)):i&&(ct(),ht(i,1,1,(()=>{i=null})),ut())},i(t){e||(ft(i),e=!0)},o(t){ht(i),e=!1},d(t){i&&i.d(t),t&&E(n)}}}let Hl="./img/africa.png";function Bl(t,n,e){let i,r,o,a,s,l,c,u,f,h,d,{pax:p}=n,{pax_stages:g}=n,{step:m}=n,y=400,v=400;const w={top:20,right:20,bottom:20,left:40};let $;return t.$$set=t=>{"pax"in t&&e(12,p=t.pax),"pax_stages"in t&&e(13,g=t.pax_stages),"step"in t&&e(14,m=t.step)},t.$$.update=()=>{1&t.$$.dirty&&e(16,u=y-w.left-w.right),2&t.$$.dirty&&e(2,f=v-w.top-w.bottom),65536&t.$$.dirty&&e(8,i=u/7),65536&t.$$.dirty&&(h=us().domain(el).range([0,u]).padding(.1)),4&t.$$.dirty&&(d=xs().domain([0,100]).range([f,0])),77828&t.$$.dirty&&p&&g&&(c=p.length,e(5,s=al(g,f,u)),e(6,l=al(g,f,u))),90116&t.$$.dirty&&("stage01"==m?e(5,s=al(g,f,u)):"stage02"==m?(e(5,s=function(t,n,e,i){let r=t,o=(e-60)/7,a=(o-18)/10,s=Math.max(...r.map((([t,n])=>n.length))),l=Math.ceil(s/10),c=(n-2*(l-1))/l,u=r.flatMap((([t,e],r)=>{let s=0,l=0;return e.map((t=>{if("0"===t[i])return{x:r*(o+10)+l*(a+2),y:n+100,width:a,height:0,info:t.Agt,id:t.AgtId};let e=r*(o+10)+l*(a+2),u=n-(s+1)*(c+2);return l++,l>=10&&(l=0,s++),{x:e+2*Math.random()-1,y:u+2*Math.random()-1,width:a,height:c,info:t.Agt,id:t.AgtId}}))}));return u}(g,f,u,"GeWom")),ne("#example_stage").style("opacity",0)):"stage03"==m&&ne("#example_stage").style("opacity",1)),32772&t.$$.dirty&&f&&e(7,$=f-(f-a))},[y,v,f,r,o,s,l,$,i,["Pre-Negotiation","Ceasefire","Partial","Comprehensive","Implementation","Renewal","Other"],w,function(){if(r){const t=r.getBoundingClientRect();e(15,a=t.height),e(4,o=t.x)}},p,g,m,a,u,function(t){U[t?"unshift":"push"]((()=>{r=t,e(3,r)}))},function(){y=this.clientWidth,v=this.clientHeight,e(0,y),e(1,v)}]}class Gl extends vt{constructor(t){super(),yt(this,t,Bl,jl,s,{pax:12,pax_stages:13,step:14})}}function Xl(t,n,e){const i=t.slice();return i[16]=n[e],i[18]=e,i}function Fl(t,n,e){const i=t.slice();return i[16]=n[e],i[18]=e,i}function Yl(t){let n,e,i,r,o,a,s,l=t[3],c=[];for(let n=0;n<l.length;n+=1)c[n]=Vl(Fl(t,l,n));const u=t=>ht(c[t],1,1,(()=>{c[t]=null}));let f=t[2],h=[];for(let n=0;n<f.length;n+=1)h[n]=Ul(Xl(t,f,n));const d=t=>ht(h[t],1,1,(()=>{h[t]=null}));return{c(){n=A("div"),e=N("svg"),i=N("g");for(let t=0;t<c.length;t+=1)c[t].c();r=T();for(let t=0;t<h.length;t+=1)h[t].c();P(i,"class","timeline"),P(i,"transform",o="translate("+t[4].left+", "+t[4].top+")"),P(e,"width",t[0]),P(e,"height",t[1]),P(n,"class","wrapper svelte-1m5ii99"),nt((()=>t[12].call(n)))},m(o,l){M(o,n,l),k(n,e),k(e,i);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(i,null);k(i,r);for(let t=0;t<h.length;t+=1)h[t]&&h[t].m(i,null);a=j(n,t[12].bind(n)),s=!0},p(t,n){if(8&n){let e;for(l=t[3],e=0;e<l.length;e+=1){const o=Fl(t,l,e);c[e]?(c[e].p(o,n),ft(c[e],1)):(c[e]=Vl(o),c[e].c(),ft(c[e],1),c[e].m(i,r))}for(ct(),e=l.length;e<c.length;e+=1)u(e);ut()}if(100&n){let e;for(f=t[2],e=0;e<f.length;e+=1){const r=Xl(t,f,e);h[e]?(h[e].p(r,n),ft(h[e],1)):(h[e]=Ul(r),h[e].c(),ft(h[e],1),h[e].m(i,null))}for(ct(),e=f.length;e<h.length;e+=1)d(e);ut()}(!s||1&n)&&P(e,"width",t[0]),(!s||2&n)&&P(e,"height",t[1])},i(t){if(!s){for(let t=0;t<l.length;t+=1)ft(c[t]);for(let t=0;t<f.length;t+=1)ft(h[t]);s=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)ht(c[t]);h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)ht(h[t]);s=!1},d(t){t&&E(n),S(c,t),S(h,t),a()}}}function Vl(t){let n,e;return n=new Tl({props:{i:t[18],x:t[16].x,y:t[16].y,width:t[16].width,height:t[16].height}}),{c(){pt(n.$$.fragment)},m(t,i){gt(n,t,i),e=!0},p(t,e){const i={};8&e&&(i.x=t[16].x),8&e&&(i.y=t[16].y),8&e&&(i.width=t[16].width),8&e&&(i.height=t[16].height),n.$set(i)},i(t){e||(ft(n.$$.fragment,t),e=!0)},o(t){ht(n.$$.fragment,t),e=!1},d(t){mt(n,t)}}}function Ul(t){let n,e;return n=new Nl({props:{i:t[18],x:t[16].x,y:t[16].y,width:t[16].width,height:t[16].height,info:t[16].info,id:t[16].id}}),n.$on("hover",t[5]),n.$on("leave",t[6]),{c(){pt(n.$$.fragment)},m(t,i){gt(n,t,i),e=!0},p(t,e){const i={};4&e&&(i.x=t[16].x),4&e&&(i.y=t[16].y),4&e&&(i.width=t[16].width),4&e&&(i.height=t[16].height),4&e&&(i.info=t[16].info),4&e&&(i.id=t[16].id),n.$set(i)},i(t){e||(ft(n.$$.fragment,t),e=!0)},o(t){ht(n.$$.fragment,t),e=!1},d(t){mt(n,t)}}}function Jl(t){let n,e,i=t[2]&&Yl(t);return{c(){i&&i.c(),n=T()},m(t,r){i&&i.m(t,r),M(t,n,r),e=!0},p(t,[e]){t[2]?i?(i.p(t,e),4&e&&ft(i,1)):(i=Yl(t),i.c(),ft(i,1),i.m(n.parentNode,n)):i&&(ct(),ht(i,1,1,(()=>{i=null})),ut())},i(t){e||(ft(i),e=!0)},o(t){ht(i),e=!1},d(t){i&&i.d(t),t&&E(n)}}}function Zl(t,n,e){let i,r,o,a,s,l,c,{pax:u}=n,{step:f}=n,h={visible:!1,x:0,y:0,info:""},d=400,p=400;const g={top:20,right:20,bottom:20,left:40};return t.$$set=t=>{"pax"in t&&e(7,u=t.pax),"step"in t&&e(8,f=t.step)},t.$$.update=()=>{1&t.$$.dirty&&e(10,a=d-g.left-g.right),2&t.$$.dirty&&e(11,s=p-g.top-g.bottom),1024&t.$$.dirty&&(l=us().domain(el).range([0,a]).padding(.1)),2048&t.$$.dirty&&(c=xs().domain([0,100]).range([s,0])),3712&t.$$.dirty&&u&&(e(9,o=u.length),e(2,i=ol(u,s,a,o)),e(3,r=ol(u,s,a,o))),3968&t.$$.dirty&&("rect01"==f?e(2,i=ol(u,s,a,o)):"rect02"==f&&e(2,i=function(t,n,e,i){let r=Math.ceil(Math.sqrt(i*(e/n))),o=Math.ceil(i/r),a=(e-(r-1)*rl)/r,s=(n-(o-1)*rl)/o,l=0,c=t.map((t=>{if("0"===t.GeWom)return{x:l%r*(a+rl),y:n+100,width:a,height:s,id:t.AgtId,info:t.Agt};const e=l%r*(a+rl)+2*Math.random()-1,i=n-(Math.floor(l/r)+1)*(s+rl)+2*Math.random()-1;return l++,{x:e,y:i,width:a,height:s,id:t.AgtId,info:t.Agt}}));return c}(u,s,a,o))),4&t.$$.dirty&&i&&i.forEach((t=>{t.info.includes("Toncontin")}))},[d,p,i,r,g,t=>{let n,e;t.detail.x>=a/2?n=t.detail.x-140:t.detail.x<a/2&&(n=t.detail.x+70),t.detail.y>=s/2?e=t.detail.y-50:t.detail.y<s/2&&(e=t.detail.y),h={visible:!0,x:n,y:e,info:t.detail.info}},()=>{h={...h,visible:!1}},u,f,o,a,s,function(){d=this.clientWidth,p=this.clientHeight,e(0,d),e(1,p)}]}class Ql extends vt{constructor(t){super(),yt(this,t,Zl,Jl,s,{pax:7,step:8})}}function Kl(t,n,e){const i=t.slice();return i[22]=n[e],i[24]=e,i}function tc(t,n,e){const i=t.slice();return i[22]=n[e],i[24]=e,i}function nc(t,n,e){const i=t.slice();return i[26]=n[e],i}function ec(t){let n,e,i,r,o,a,s,l,u,f,h,d,p,g,m,y,v,w,$,x,_,b,W=el,O=[];for(let n=0;n<W.length;n+=1)O[n]=ic(nc(t,W,n));let q=t[6],I=[];for(let n=0;n<q.length;n+=1)I[n]=rc(tc(t,q,n));const L=t=>ht(I[t],1,1,(()=>{I[t]=null}));let D=t[5],H=[];for(let n=0;n<D.length;n+=1)H[n]=oc(Kl(t,D,n));const B=t=>ht(H[t],1,1,(()=>{H[t]=null}));let G=t[12]&&ac(t);return{c(){n=A("div"),e=N("svg"),i=N("g"),r=N("g");for(let t=0;t<O.length;t+=1)O[t].c();for(let t=0;t<I.length;t+=1)I[t].c();o=T();for(let t=0;t<H.length;t+=1)H[t].c();a=N("rect"),G&&G.c(),f=N("text"),h=R("UN Resolution 1325"),m=z(),y=A("div"),v=A("img"),P(r,"class","axis x-axis svelte-1okqwou"),P(a,"class","un_resolution svelte-1okqwou"),P(a,"x",s=t[7]("2000")+t[7].bandwidth()/2),P(a,"y",l=20),P(a,"width","1"),P(a,"height",u=t[4]-100),P(a,"fill","white"),P(f,"class","un_resolution svelte-1okqwou"),P(f,"x",d=t[7]("2000")+t[7].bandwidth()),P(f,"y",p=20),P(f,"fill","white"),P(i,"class","timeline"),P(i,"transform",g="translate("+t[13].left+", "+t[13].top+")"),P(e,"width",t[1]),P(e,"height",t[2]),P(v,"class","example_img svelte-1okqwou"),c(v.src,w=t[9])||P(v,"src",w),P(v,"alt","agt"),P(y,"id","example"),P(y,"class","svelte-1okqwou"),P(n,"class","wrapper svelte-1okqwou"),nt((()=>t[19].call(n)))},m(s,l){M(s,n,l),k(n,e),k(e,i),k(i,r);for(let t=0;t<O.length;t+=1)O[t]&&O[t].m(r,null);for(let t=0;t<I.length;t+=1)I[t]&&I[t].m(i,null);k(i,o);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(i,null);k(i,a),G&&G.m(i,null),k(i,f),k(f,h),k(n,m),k(n,y),k(y,v),t[18](v),$=j(n,t[19].bind(n)),x=!0,_||(b=C(v,"load",t[14]),_=!0)},p(t,n){if(152&n){let e;for(W=el,e=0;e<W.length;e+=1){const i=nc(t,W,e);O[e]?O[e].p(i,n):(O[e]=ic(i),O[e].c(),O[e].m(r,null))}for(;e<O.length;e+=1)O[e].d(1);O.length=W.length}if(64&n){let e;for(q=t[6],e=0;e<q.length;e+=1){const r=tc(t,q,e);I[e]?(I[e].p(r,n),ft(I[e],1)):(I[e]=rc(r),I[e].c(),ft(I[e],1),I[e].m(i,o))}for(ct(),e=q.length;e<I.length;e+=1)L(e);ut()}if(32&n){let e;for(D=t[5],e=0;e<D.length;e+=1){const r=Kl(t,D,e);H[e]?(H[e].p(r,n),ft(H[e],1)):(H[e]=oc(r),H[e].c(),ft(H[e],1),H[e].m(i,a))}for(ct(),e=D.length;e<H.length;e+=1)B(e);ut()}(!x||128&n&&s!==(s=t[7]("2000")+t[7].bandwidth()/2))&&P(a,"x",s),(!x||16&n&&u!==(u=t[4]-100))&&P(a,"height",u),t[12]?G?G.p(t,n):(G=ac(t),G.c(),G.m(i,f)):G&&(G.d(1),G=null),(!x||128&n&&d!==(d=t[7]("2000")+t[7].bandwidth()))&&P(f,"x",d),(!x||2&n)&&P(e,"width",t[1]),(!x||4&n)&&P(e,"height",t[2]),(!x||512&n&&!c(v.src,w=t[9]))&&P(v,"src",w)},i(t){if(!x){for(let t=0;t<q.length;t+=1)ft(I[t]);for(let t=0;t<D.length;t+=1)ft(H[t]);x=!0}},o(t){I=I.filter(Boolean);for(let t=0;t<I.length;t+=1)ht(I[t]);H=H.filter(Boolean);for(let t=0;t<H.length;t+=1)ht(H[t]);x=!1},d(e){e&&E(n),S(O,e),S(I,e),S(H,e),G&&G.d(),t[18](null),$(),_=!1,b()}}}function ic(t){let n,e,i,r,o,a=(t[3]>800?t[26]:lc(t[26]))+"";return{c(){n=N("g"),e=N("text"),i=R(a),P(e,"y","1"),P(e,"class","svelte-1okqwou"),P(n,"class",r="tick tick-"+t[26]+" svelte-1okqwou"),P(n,"transform",o="translate("+(t[7](t[26])+t[7].bandwidth()/2)+","+(t[4]+17)+")")},m(t,r){M(t,n,r),k(n,e),k(e,i)},p(t,e){8&e&&a!==(a=(t[3]>800?t[26]:lc(t[26]))+"")&&O(i,a),144&e&&o!==(o="translate("+(t[7](t[26])+t[7].bandwidth()/2)+","+(t[4]+17)+")")&&P(n,"transform",o)},d(t){t&&E(n)}}}function rc(t){let n,e;return n=new Tl({props:{i:t[24],x:t[22].x,y:t[22].y,width:t[22].width,height:t[22].height}}),{c(){pt(n.$$.fragment)},m(t,i){gt(n,t,i),e=!0},p(t,e){const i={};64&e&&(i.x=t[22].x),64&e&&(i.y=t[22].y),64&e&&(i.width=t[22].width),64&e&&(i.height=t[22].height),n.$set(i)},i(t){e||(ft(n.$$.fragment,t),e=!0)},o(t){ht(n.$$.fragment,t),e=!1},d(t){mt(n,t)}}}function oc(t){let n,e;return n=new Nl({props:{i:t[24],id:t[22].id,x:t[22].x,y:t[22].y,width:t[22].width,height:t[22].height,info:t[22].info}}),{c(){pt(n.$$.fragment)},m(t,i){gt(n,t,i),e=!0},p(t,e){const i={};32&e&&(i.id=t[22].id),32&e&&(i.x=t[22].x),32&e&&(i.y=t[22].y),32&e&&(i.width=t[22].width),32&e&&(i.height=t[22].height),32&e&&(i.info=t[22].info),n.$set(i)},i(t){e||(ft(n.$$.fragment,t),e=!0)},o(t){ht(n.$$.fragment,t),e=!1},d(t){mt(n,t)}}}function ac(t){let n,e;return{c(){n=N("path"),P(n,"id","example"),P(n,"d",e=`M ${t[7](t[11])},${t[4]-10} \n                       C ${t[7](t[11])},${t[4]-100} \n                         ${t[8]-t[13].left},${t[12]+100} \n                         ${t[8]-t[13].left},${t[12]}`),P(n,"fill","none"),P(n,"stroke","white"),P(n,"stroke-width","1"),P(n,"opacity","0"),P(n,"class","svelte-1okqwou")},m(t,e){M(t,n,e)},p(t,i){6544&i&&e!==(e=`M ${t[7](t[11])},${t[4]-10} \n                       C ${t[7](t[11])},${t[4]-100} \n                         ${t[8]-t[13].left},${t[12]+100} \n                         ${t[8]-t[13].left},${t[12]}`)&&P(n,"d",e)},d(t){t&&E(n)}}}function sc(t){let n,e,i=t[5]&&t[0]&&ec(t);return{c(){i&&i.c(),n=T()},m(t,r){i&&i.m(t,r),M(t,n,r),e=!0},p(t,[e]){t[5]&&t[0]?i?(i.p(t,e),33&e&&ft(i,1)):(i=ec(t),i.c(),ft(i,1),i.m(n.parentNode,n)):i&&(ct(),ht(i,1,1,(()=>{i=null})),ut())},i(t){e||(ft(i),e=!0)},o(t){ht(i),e=!1},d(t){i&&i.d(t),t&&E(n)}}}function lc(t){return"'"+t.toString().slice(-2)}function cc(t,n,e){let i,r,o,a,s,l,c,u,f,{pax:h}=n,{pax_timeline:d}=n,{step:p}=n,g=400,m=400,y="./img/lome.png",v={top:20,right:20,bottom:20,left:40};function w(t,n,e){let i,r=null;return i="none"===e?0:-1,t.map((t=>{let n;const o=t.Dat.substring(0,4);o!==r&&(i="none"===e?0:-1,r=o),n="none"==e?l(i):"1"===t[e]?l(++i):a+100;const c={x:s(o)+2*Math.random()-1,y:n+2*Math.random()-1,width:s.bandwidth(),height:3,info:t.Agt,id:t.AgtId};return"none"===e&&i++,c}))}window.addEventListener("resize",_);let $,x="1999";function _(){if(u){const t=u.getBoundingClientRect();e(17,f=t.height),e(8,c=t.x)}}return _(),t.$$set=t=>{"pax"in t&&e(15,h=t.pax),"pax_timeline"in t&&e(0,d=t.pax_timeline),"step"in t&&e(16,p=t.step)},t.$$.update=()=>{2&t.$$.dirty&&e(3,o=g-v.left-v.right),4&t.$$.dirty&&e(4,a=m-v.top-v.bottom),8&t.$$.dirty&&e(7,s=us().domain(el).range([0,o]).padding(.1)),16&t.$$.dirty&&(l=xs().domain([0,100]).range([a,0])),32776&t.$$.dirty&&h&&(e(6,r=w(h,0,"none")),e(5,i=w(h,0,"none"))),98312&t.$$.dirty&&("1"==p?(ne(".un_resolution").style("visibility","hidden"),e(5,i=w(h,0,"none"))):"2"==p||"3"==p?(ne(".un_resolution").style("visibility","visible"),e(5,i=w(h,0,"GeWom"))):"4"==p?(ne(".un_resolution").style("visibility","hidden"),ne("#example").style("opacity",0),e(5,i=w(h,0,"WggRehab"))):"5"==p?(ne("#example").style("opacity",1),e(9,y="./img/lome.png"),e(11,x="1999"),e(5,i=w(h,0,"WggRehab"))):"6"==p?(ne("#example").style("opacity",0),e(5,i=w(h,0,"WggImplRole"))):"7"==p?(ne("#example").style("opacity",1),e(9,y="./img/colombia.png"),e(11,x="2016"),e(5,i=w(h,0,"WggImplRole"))):"8"==p?(ne("#example").style("opacity",0),e(5,i=w(h,0,"WggHR"))):"9"==p&&(e(9,y="./img/guatemala.png"),ne("#example").style("opacity",1),e(11,x="1996"))),131088&t.$$.dirty&&a&&e(12,$=a-(a-f))},[d,g,m,o,a,i,r,s,c,y,u,x,$,v,_,h,p,f,function(t){U[t?"unshift":"push"]((()=>{u=t,e(10,u)}))},function(){g=this.clientWidth,m=this.clientHeight,e(1,g),e(2,m)}]}class uc extends vt{constructor(t){super(),yt(this,t,cc,sc,s,{pax:15,pax_timeline:0,step:16})}}function fc(t){return 0===(n=t)||n?Array.isArray(t)?n=>t.map((t=>"function"!=typeof t?n[t]:t(n))):"function"!=typeof t?n=>n[t]:t:null;var n}function hc(t,n={}){return function(t){const n={};for(const e of t){if(Object(e)!==e)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:i}=e;Object.defineProperty(n,t,{configurable:!0,enumerable:!0,writable:!0,value:i})}return n}(Object.entries(t).filter((([t,e])=>void 0!==e&&void 0===n[t])))}function dc(t,n){if(!Array.isArray(t))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(n)||null==n)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const e={},i=Object.keys(n),r=i.length;let o,a,s,l,c,u,f,h;const d=t.length;for(o=0;o<r;o+=1){for(l=i[o],f=n[l],c=null,u=null,a=0;a<d;a+=1)if(h=f(t[a]),Array.isArray(h)){const t=h.length;for(s=0;s<t;s+=1)!1!==h[s]&&void 0!==h[s]&&null!==h[s]&&!1===Number.isNaN(h[s])&&((null===c||h[s]<c)&&(c=h[s]),(null===u||h[s]>u)&&(u=h[s]))}else!1!==h&&null!=h&&!1===Number.isNaN(h)&&((null===c||h<c)&&(c=h),(null===u||h>u)&&(u=h));e[l]=[c,u]}return e}function pc(t,n){return t.length===n.length&&t.every((t=>n.includes(t)))}function gc(t){return"function"==typeof t.bandwidth||!!pc(Object.keys(t),["domain","range","unknown","copy"])}function mc(t,n,e){const i=Object.keys(e).reduce(((t,i)=>{const r=!0===gc(e[i])?"ordinal":"other";return t[r]||(t[r]={}),t[r][i]=n[i],t}),{ordinal:!1,other:!1});let r={};return i.ordinal&&(r=function(t,n,{sort:e=!1}={}){if(!Array.isArray(t))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(n)||null==n)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const i={},r=Object.keys(n),o=r.length;let a,s,l,c,u,f,h;const d=t.length;for(a=0;a<o;a+=1){for(h=new Set,c=r[a],u=n[c],s=0;s<d;s+=1)if(f=u(t[s]),Array.isArray(f)){const t=f.length;for(l=0;l<t;l+=1)h.add(f[l])}else h.add(f);const o=Array.from(h);i[c]=!0===e?o.sort():o}return i}(t,i.ordinal)),i.other&&(r={...r,...dc(t,i.other)}),r}function yc(t){return function([n,e]){return"function"==typeof e&&(e=e(n[t])),n?function(t=[],n){return!0===Array.isArray(n)?n.map(((n,e)=>null===n?t[e]:n)):t}(n[t],e):e}}var vc={x:xs,y:xs,z:xs,r:function(){return Es.apply(null,arguments).exponent(.5)}};function wc(t){return t}function $c(t){return n=>Math.log(t*n)}function xc(t){return n=>t*Math.exp(n)}function _c(t){return n=>Math.sign(n)*Math.expm1(Math.abs(n))*t}function bc(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function kc(t){return t.replace(/^\w/,(t=>t.toUpperCase()))}function Mc(t,n=""){return`scale${kc(n)}${kc(t)}`}function Ec(t){if("function"==typeof t.bandwidth)return"function"==typeof t.paddingInner?Mc("band"):Mc("point");if(pc(Object.keys(t),["domain","range","unknown","copy"]))return Mc("ordinal");let n="";if(t.interpolator&&(n=3===t.domain().length?"diverging":"sequential"),t.quantiles)return Mc("quantile",n);if(t.thresholds)return Mc("quantize",n);if(t.constant)return Mc("symlog",n);if(t.base)return Mc("log",n);if(t.exponent)return.5===t.exponent()?Mc("sqrt",n):Mc("pow",n);if(pc(Object.keys(t),["domain","range","invertExtent","unknown","copy"]))return Mc("threshold");if(pc(Object.keys(t),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return Mc("identity");if(pc(Object.keys(t),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return Mc("radial");if(n)return Mc(n);if(t.domain()[0]instanceof Date){const n=new Date;let e;return n.getDay=()=>e="time",n.getUTCDay=()=>e="utc",t.tickFormat(0,"%a")(n),Mc(e)}return Mc("linear")}const Sc=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function Ac(t,n){if("function"!=typeof t.range)throw console.log(t),new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(n)||Sc.includes(Ec(t)))return t.domain();if(!0===gc(t))return t.domain();const{lift:e,ground:i}=function(t){const n=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===n){const e=Math.sign(t.domain()[0]);return{lift:$c(e),ground:xc(e),scaleType:n}}if("pow"===n){const t=1;return{lift:bc(t),ground:bc(1/t),scaleType:n}}if("sqrt"===n){const t=.5;return{lift:bc(t),ground:bc(1/t),scaleType:n}}if("symlog"===n){const t=1;return{lift:(e=t,t=>Math.sign(t)*Math.log1p(Math.abs(t/e))),ground:_c(t),scaleType:n}}var e;return{lift:wc,ground:wc,scaleType:n}}(t),r=t.domain()[0],o="[object Date]"===Object.prototype.toString.call(r),[a,s]=t.domain().map((t=>e(o?t.getTime():t))),[l,c]=t.range(),u=n[0]||0,f=n[1]||0,h=(s-a)/(Math.abs(c-l)-u-f);return[a-u*h,f*h+s].map((t=>i(o?new Date(t):t)))}function Nc(t){return function([n,e,i,r,o,a,s,l,c,u]){if(null===e)return null;const f=function(t,n,e,i,r,o){return r?"function"==typeof r?r({width:n,height:e}):r:function(t,n,e,i,r){let o,a;return!0===r?(o=0,a=100):(o="r"===t?1:0,a="y"===t?e:"r"===t?25:n),!0===i?[a,o]:[o,a]}(t,n,e,i,o)}(t,s,l,a,c,u),h=n===vc[t]?n():n.copy();return h.domain(i),(!h.interpolator||"function"==typeof h.interpolator&&h.interpolator().name.startsWith("identity"))&&h.range(f),r&&h.domain(Ac(h,r)),!0!==o&&"number"!=typeof o||("function"==typeof h.nice?h.nice("number"==typeof o?o:void 0):console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),h}}function Rc([t,n]){return e=>{const i=t(e);return Array.isArray(i)?i.map((t=>n(t))):n(i)}}function zc([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Tc="    ";function Cc(t){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),function(t){Object.entries(t).forEach((([t,n])=>{console.log(`${Tc}${t}:`,n)}))}(t.boundingBox),console.log("Scales:\n"),Object.keys(t.activeGetters).forEach((n=>{!function(t,n,e){const i=Ec(n);console.log(`${Tc}${t}:`),console.log(`${Tc}${Tc}Accessor: "${e.toString()}"`),console.log(`${Tc}${Tc}Type: ${i}`),Pc(n,"domain"),Pc(n,"range"," ")}(n,t[`${n}Scale`],t[n])})),console.log("/************ End LayerCake Debug ***************/\n")}function Pc(t,n,e=""){const i=t[n](),r=function(t){const n=[],e=t.map(((e,i)=>{const r=function(t){const{r:n,g:e,b:i,opacity:r}=be(t);return!![n,e,i].every((t=>t>=0&&t<=255))&&{r:n,g:e,b:i,o:r}}(e);if(!1!==r){n.push(r);return`%c ${e}${i===t.length-1?" ":""}`}return e}));if(n.length)return[`%c[ ${e.join(", ")}`,n.map((t=>`background-color: rgba(${t.r}, ${t.g}, ${t.b}, ${t.o}); color:${function({r:t,g:n,b:e}){return(.2126*t+.7152*n+.0722*e)/255>.6?"black":"white"}(t)};`))];return null}(i);r?function(t,n,e){console.log(`${Tc}${Tc}${kc(n)}:    %cArray%c(${e.length}) `+t[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...t[1],"color: #1478e4")}(r,n,i):console.log(`${Tc}${Tc}${kc(n)}:${e}`,i)}const Wc=t=>({element:4&t[0],width:8&t[1],height:16&t[1],aspectRatio:32&t[1],containerWidth:2&t[1],containerHeight:1&t[1],activeGetters:1024&t[0],percentRange:4&t[1],x:268435456&t[0],y:134217728&t[0],z:67108864&t[0],r:33554432&t[0],custom:4096&t[0],data:1073741824&t[0],xNice:16777216&t[0],yNice:8388608&t[0],zNice:4194304&t[0],rNice:2097152&t[0],xReverse:1048576&t[0],yReverse:524288&t[0],zReverse:262144&t[0],rReverse:131072&t[0],xPadding:65536&t[0],yPadding:32768&t[0],zPadding:16384&t[0],rPadding:8192&t[0],padding:64&t[1],flatData:536870912&t[0],extents:128&t[1],xDomain:256&t[1],yDomain:512&t[1],zDomain:1024&t[1],rDomain:2048&t[1],xRange:4096&t[1],yRange:8192&t[1],zRange:16384&t[1],rRange:32768&t[1],config:2048&t[0],xScale:512&t[0],xGet:65536&t[1],yScale:256&t[0],yGet:131072&t[1],zScale:128&t[0],zGet:262144&t[1],rScale:64&t[0],rGet:524288&t[1]}),Oc=t=>({element:t[2],width:t[34],height:t[35],aspectRatio:t[36],containerWidth:t[32],containerHeight:t[31],activeGetters:t[10],percentRange:t[33],x:t[28],y:t[27],z:t[26],r:t[25],custom:t[12],data:t[30],xNice:t[24],yNice:t[23],zNice:t[22],rNice:t[21],xReverse:t[20],yReverse:t[19],zReverse:t[18],rReverse:t[17],xPadding:t[16],yPadding:t[15],zPadding:t[14],rPadding:t[13],padding:t[37],flatData:t[29],extents:t[38],xDomain:t[39],yDomain:t[40],zDomain:t[41],rDomain:t[42],xRange:t[43],yRange:t[44],zRange:t[45],rRange:t[46],config:t[11],xScale:t[9],xGet:t[47],yScale:t[8],yGet:t[48],zScale:t[7],zGet:t[49],rScale:t[6],rGet:t[50]});function qc(t){let n,e,i;const r=t[153].default,o=h(r,t,t[152],Oc);return{c(){n=A("div"),o&&o.c(),P(n,"class","layercake-container svelte-vhzpsp"),nt((()=>t[155].call(n))),q(n,"position",t[5]),q(n,"top","absolute"===t[5]?"0":null),q(n,"right","absolute"===t[5]?"0":null),q(n,"bottom","absolute"===t[5]?"0":null),q(n,"left","absolute"===t[5]?"0":null),q(n,"pointer-events",!1===t[4]?"none":null)},m(r,a){M(r,n,a),o&&o.m(n,null),t[154](n),e=j(n,t[155].bind(n)),i=!0},p(t,e){o&&o.p&&(!i||2147483588&e[0]|1048575&e[1]|268435456&e[4])&&g(o,r,t,t[152],i?p(r,t[152],e,Wc):m(t[152]),Oc),32&e[0]&&q(n,"position",t[5]),32&e[0]&&q(n,"top","absolute"===t[5]?"0":null),32&e[0]&&q(n,"right","absolute"===t[5]?"0":null),32&e[0]&&q(n,"bottom","absolute"===t[5]?"0":null),32&e[0]&&q(n,"left","absolute"===t[5]?"0":null),16&e[0]&&q(n,"pointer-events",!1===t[4]?"none":null)},i(t){i||(ft(o,t),i=!0)},o(t){ht(o,t),i=!1},d(i){i&&E(n),o&&o.d(i),t[154](null),e()}}}function Ic(t){let n,e,i=(!0===t[3]||"undefined"!=typeof window)&&qc(t);return{c(){i&&i.c(),n=T()},m(t,r){i&&i.m(t,r),M(t,n,r),e=!0},p(t,e){!0===t[3]||"undefined"!=typeof window?i?(i.p(t,e),8&e[0]&&ft(i,1)):(i=qc(t),i.c(),ft(i,1),i.m(n.parentNode,n)):i&&(ct(),ht(i,1,1,(()=>{i=null})),ut())},i(t){e||(ft(i),e=!0)},o(t){ht(i),e=!1},d(t){i&&i.d(t),t&&E(n)}}}function Lc(t,n,e){let i,r,o,a,s,l,c,u,h,d,p,g,m,v,w,$,x,_,b,k,M,E,S,A,N,R,z,T,C,P,W,O,q,I,L,D,j,H,B,G,F,V,J,Z,Q,K,tt,nt,et,it,rt,ot,at,st,lt,ct,ut,ft,ht,dt,pt,gt,{$$slots:mt={},$$scope:yt}=n;const vt=function(t,n=300){let e;return(...i)=>{clearTimeout(e),e=setTimeout((()=>{t.apply(this,i)}),n)}}(Cc,200);let{ssr:wt=!1}=n,{pointerEvents:$t=!0}=n,{position:xt="relative"}=n,{percentRange:_t=!1}=n,{width:bt}=n,{height:kt}=n,{containerWidth:Mt=bt||100}=n,{containerHeight:Et=kt||100}=n,{element:St}=n,{x:At}=n,{y:Nt}=n,{z:Rt}=n,{r:zt}=n,{data:Tt=[]}=n,{xDomain:Ct}=n,{yDomain:Pt}=n,{zDomain:Wt}=n,{rDomain:Ot}=n,{xNice:qt=!1}=n,{yNice:It=!1}=n,{zNice:Lt=!1}=n,{rNice:Dt=!1}=n,{xPadding:jt}=n,{yPadding:Ht}=n,{zPadding:Bt}=n,{rPadding:Gt}=n,{xScale:Xt=vc.x}=n,{yScale:Ft=vc.y}=n,{zScale:Yt=vc.z}=n,{rScale:Vt=vc.r}=n,{xRange:Ut}=n,{yRange:Jt}=n,{zRange:Zt}=n,{rRange:Qt}=n,{xReverse:Kt=!1}=n,{yReverse:tn}=n,{zReverse:nn=!1}=n,{rReverse:en=!1}=n,{padding:rn={}}=n,{extents:on={}}=n,{flatData:an}=n,{custom:sn={}}=n,{debug:ln=!1}=n,cn=!1;X((()=>{cn=!0}));const un={},fn=Js(_t);f(t,fn,(t=>e(33,Q=t)));const hn=Js(Mt);f(t,hn,(t=>e(32,Z=t)));const dn=Js(Et);f(t,dn,(t=>e(31,J=t)));const pn=Js(hc(on));f(t,pn,(t=>e(170,V=t)));const gn=Js(Tt);f(t,gn,(t=>e(30,F=t)));const mn=Js(an||Tt);f(t,mn,(t=>e(29,G=t)));const yn=Js(rn);f(t,yn,(t=>e(169,B=t)));const vn=Js(fc(At));f(t,vn,(t=>e(28,H=t)));const wn=Js(fc(Nt));f(t,wn,(t=>e(27,j=t)));const $n=Js(fc(Rt));f(t,$n,(t=>e(26,D=t)));const xn=Js(fc(zt));f(t,xn,(t=>e(25,L=t)));const _n=Js(Ct);f(t,_n,(t=>e(168,I=t)));const bn=Js(Pt);f(t,bn,(t=>e(167,q=t)));const kn=Js(Wt);f(t,kn,(t=>e(166,O=t)));const Mn=Js(Ot);f(t,Mn,(t=>e(165,W=t)));const En=Js(qt);f(t,En,(t=>e(24,P=t)));const Sn=Js(It);f(t,Sn,(t=>e(23,C=t)));const An=Js(Lt);f(t,An,(t=>e(22,T=t)));const Nn=Js(Dt);f(t,Nn,(t=>e(21,z=t)));const Rn=Js(Kt);f(t,Rn,(t=>e(20,R=t)));const zn=Js(i);f(t,zn,(t=>e(19,N=t)));const Tn=Js(nn);f(t,Tn,(t=>e(18,A=t)));const Cn=Js(en);f(t,Cn,(t=>e(17,S=t)));const Pn=Js(jt);f(t,Pn,(t=>e(16,E=t)));const Wn=Js(Ht);f(t,Wn,(t=>e(15,M=t)));const On=Js(Bt);f(t,On,(t=>e(14,k=t)));const qn=Js(Gt);f(t,qn,(t=>e(13,b=t)));const In=Js(Ut);f(t,In,(t=>e(164,_=t)));const Ln=Js(Jt);f(t,Ln,(t=>e(163,x=t)));const Dn=Js(Zt);f(t,Dn,(t=>e(162,$=t)));const jn=Js(Qt);f(t,jn,(t=>e(161,w=t)));const Hn=Js(Xt);f(t,Hn,(t=>e(160,v=t)));const Bn=Js(Ft);f(t,Bn,(t=>e(159,m=t)));const Gn=Js(Yt);f(t,Gn,(t=>e(158,g=t)));const Xn=Js(Vt);f(t,Xn,(t=>e(157,p=t)));const Fn=Js(un);f(t,Fn,(t=>e(11,h=t)));const Yn=Js(sn);f(t,Yn,(t=>e(12,d=t)));const Vn=Zs([vn,wn,$n,xn],(([t,n,e,i])=>{const r={};return t&&(r.x=t),n&&(r.y=n),e&&(r.z=e),i&&(r.r=i),r}));f(t,Vn,(t=>e(10,c=t)));const Un=Zs([yn,hn,dn],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t)));f(t,Un,(t=>e(37,et=t)));const Jn=Zs([hn,dn,Un],(([t,n,e])=>{const i={};return i.top=e.top,i.right=t-e.right,i.bottom=n-e.bottom,i.left=e.left,i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<=0&&!0===cn&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),i.height<=0&&!0===cn&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),i}));f(t,Jn,(t=>e(151,u=t)));const Zn=Zs([Jn],(([t])=>t.width));f(t,Zn,(t=>e(34,K=t)));const Qn=Zs([Jn],(([t])=>t.height));f(t,Qn,(t=>e(35,tt=t)));const Kn=Zs([mn,Vn,pn,Hn,Bn,Xn,Gn],(([t,n,e,i,r,o,a])=>{const s={x:i,y:r,r:o,z:a},l=hc(n,e),c=Object.fromEntries(Object.keys(l).map((t=>[t,s[t]])));if(Object.keys(l).length>0){return{...mc(t,l,c),...e}}return{}}));f(t,Kn,(t=>e(38,it=t)));const te=Zs([Kn,_n],yc("x"));f(t,te,(t=>e(39,rt=t)));const ne=Zs([Kn,bn],yc("y"));f(t,ne,(t=>e(40,ot=t)));const ee=Zs([Kn,kn],yc("z"));f(t,ee,(t=>e(41,at=t)));const ie=Zs([Kn,Mn],yc("r"));f(t,ie,(t=>e(42,st=t)));const re=Zs([Hn,Kn,te,Pn,En,Rn,Zn,Qn,In,fn],Nc("x"));f(t,re,(t=>e(9,l=t)));const oe=Zs([vn,re],Rc);f(t,oe,(t=>e(47,ht=t)));const ae=Zs([Bn,Kn,ne,Wn,Sn,zn,Zn,Qn,Ln,fn],Nc("y"));f(t,ae,(t=>e(8,s=t)));const se=Zs([wn,ae],Rc);f(t,se,(t=>e(48,dt=t)));const le=Zs([Gn,Kn,ee,On,An,Tn,Zn,Qn,Dn,fn],Nc("z"));f(t,le,(t=>e(7,a=t)));const ce=Zs([$n,le],Rc);f(t,ce,(t=>e(49,pt=t)));const ue=Zs([Xn,Kn,ie,qn,Nn,Cn,Zn,Qn,jn,fn],Nc("r"));f(t,ue,(t=>e(6,o=t)));const fe=Zs([xn,ue],Rc);f(t,fe,(t=>e(50,gt=t)));const he=Zs([re],zc);f(t,he,(t=>e(43,lt=t)));const de=Zs([ae],zc);f(t,de,(t=>e(44,ct=t)));const pe=Zs([le],zc);f(t,pe,(t=>e(45,ut=t)));const ge=Zs([ue],zc);f(t,ge,(t=>e(46,ft=t)));const me=Zs([Zn,Qn],(([t,n])=>t/n));return f(t,me,(t=>e(36,nt=t))),t.$$set=t=>{"ssr"in t&&e(3,wt=t.ssr),"pointerEvents"in t&&e(4,$t=t.pointerEvents),"position"in t&&e(5,xt=t.position),"percentRange"in t&&e(111,_t=t.percentRange),"width"in t&&e(112,bt=t.width),"height"in t&&e(113,kt=t.height),"containerWidth"in t&&e(0,Mt=t.containerWidth),"containerHeight"in t&&e(1,Et=t.containerHeight),"element"in t&&e(2,St=t.element),"x"in t&&e(114,At=t.x),"y"in t&&e(115,Nt=t.y),"z"in t&&e(116,Rt=t.z),"r"in t&&e(117,zt=t.r),"data"in t&&e(118,Tt=t.data),"xDomain"in t&&e(119,Ct=t.xDomain),"yDomain"in t&&e(120,Pt=t.yDomain),"zDomain"in t&&e(121,Wt=t.zDomain),"rDomain"in t&&e(122,Ot=t.rDomain),"xNice"in t&&e(123,qt=t.xNice),"yNice"in t&&e(124,It=t.yNice),"zNice"in t&&e(125,Lt=t.zNice),"rNice"in t&&e(126,Dt=t.rNice),"xPadding"in t&&e(127,jt=t.xPadding),"yPadding"in t&&e(128,Ht=t.yPadding),"zPadding"in t&&e(129,Bt=t.zPadding),"rPadding"in t&&e(130,Gt=t.rPadding),"xScale"in t&&e(131,Xt=t.xScale),"yScale"in t&&e(132,Ft=t.yScale),"zScale"in t&&e(133,Yt=t.zScale),"rScale"in t&&e(134,Vt=t.rScale),"xRange"in t&&e(135,Ut=t.xRange),"yRange"in t&&e(136,Jt=t.yRange),"zRange"in t&&e(137,Zt=t.zRange),"rRange"in t&&e(138,Qt=t.rRange),"xReverse"in t&&e(139,Kt=t.xReverse),"yReverse"in t&&e(140,tn=t.yReverse),"zReverse"in t&&e(141,nn=t.zReverse),"rReverse"in t&&e(142,en=t.rReverse),"padding"in t&&e(143,rn=t.padding),"extents"in t&&e(144,on=t.extents),"flatData"in t&&e(145,an=t.flatData),"custom"in t&&e(146,sn=t.custom),"debug"in t&&e(147,ln=t.debug),"$$scope"in t&&e(152,yt=t.$$scope)},t.$$.update=()=>{65792&t.$$.dirty[4]&&e(150,i=void 0===tn?"function"!=typeof Ft.bandwidth:tn),2097152&t.$$.dirty[3]&&At&&e(148,un.x=At,un),4194304&t.$$.dirty[3]&&Nt&&e(148,un.y=Nt,un),8388608&t.$$.dirty[3]&&Rt&&e(148,un.z=Rt,un),16777216&t.$$.dirty[3]&&zt&&e(148,un.r=zt,un),67108864&t.$$.dirty[3]&&Ct&&e(148,un.xDomain=Ct,un),134217728&t.$$.dirty[3]&&Pt&&e(148,un.yDomain=Pt,un),268435456&t.$$.dirty[3]&&Wt&&e(148,un.zDomain=Wt,un),536870912&t.$$.dirty[3]&&Ot&&e(148,un.rDomain=Ot,un),2048&t.$$.dirty[4]&&Ut&&e(148,un.xRange=Ut,un),4096&t.$$.dirty[4]&&Jt&&e(148,un.yRange=Jt,un),8192&t.$$.dirty[4]&&Zt&&e(148,un.zRange=Zt,un),16384&t.$$.dirty[4]&&Qt&&e(148,un.rRange=Qt,un),262144&t.$$.dirty[3]&&y(fn,Q=_t,Q),1&t.$$.dirty[0]&&y(hn,Z=Mt,Z),2&t.$$.dirty[0]&&y(dn,J=Et,J),1048576&t.$$.dirty[4]&&y(pn,V=hc(on),V),33554432&t.$$.dirty[3]&&y(gn,F=Tt,F),33554432&t.$$.dirty[3]|2097152&t.$$.dirty[4]&&y(mn,G=an||Tt,G),524288&t.$$.dirty[4]&&y(yn,B=rn,B),2097152&t.$$.dirty[3]&&y(vn,H=fc(At),H),4194304&t.$$.dirty[3]&&y(wn,j=fc(Nt),j),8388608&t.$$.dirty[3]&&y($n,D=fc(Rt),D),16777216&t.$$.dirty[3]&&y(xn,L=fc(zt),L),67108864&t.$$.dirty[3]&&y(_n,I=Ct,I),134217728&t.$$.dirty[3]&&y(bn,q=Pt,q),268435456&t.$$.dirty[3]&&y(kn,O=Wt,O),536870912&t.$$.dirty[3]&&y(Mn,W=Ot,W),1073741824&t.$$.dirty[3]&&y(En,P=qt,P),1&t.$$.dirty[4]&&y(Sn,C=It,C),2&t.$$.dirty[4]&&y(An,T=Lt,T),4&t.$$.dirty[4]&&y(Nn,z=Dt,z),32768&t.$$.dirty[4]&&y(Rn,R=Kt,R),67108864&t.$$.dirty[4]&&y(zn,N=i,N),131072&t.$$.dirty[4]&&y(Tn,A=nn,A),262144&t.$$.dirty[4]&&y(Cn,S=en,S),8&t.$$.dirty[4]&&y(Pn,E=jt,E),16&t.$$.dirty[4]&&y(Wn,M=Ht,M),32&t.$$.dirty[4]&&y(On,k=Bt,k),64&t.$$.dirty[4]&&y(qn,b=Gt,b),2048&t.$$.dirty[4]&&y(In,_=Ut,_),4096&t.$$.dirty[4]&&y(Ln,x=Jt,x),8192&t.$$.dirty[4]&&y(Dn,$=Zt,$),16384&t.$$.dirty[4]&&y(jn,w=Qt,w),128&t.$$.dirty[4]&&y(Hn,v=Xt,v),256&t.$$.dirty[4]&&y(Bn,m=Ft,m),512&t.$$.dirty[4]&&y(Gn,g=Yt,g),1024&t.$$.dirty[4]&&y(Xn,p=Vt,p),4194304&t.$$.dirty[4]&&y(Yn,d=sn,d),16777216&t.$$.dirty[4]&&y(Fn,h=un,h),33554432&t.$$.dirty[4]&&Y("LayerCake",r),1992&t.$$.dirty[0]|159383552&t.$$.dirty[4]&&(!u||!0!==ln||!0!==wt&&"undefined"==typeof window||vt({boundingBox:u,activeGetters:c,x:un.x,y:un.y,z:un.z,r:un.r,xScale:l,yScale:s,zScale:a,rScale:o}))},e(149,r={activeGetters:Vn,width:Zn,height:Qn,percentRange:fn,aspectRatio:me,containerWidth:hn,containerHeight:dn,x:vn,y:wn,z:$n,r:xn,custom:Yn,data:gn,xNice:En,yNice:Sn,zNice:An,rNice:Nn,xReverse:Rn,yReverse:zn,zReverse:Tn,rReverse:Cn,xPadding:Pn,yPadding:Wn,zPadding:On,rPadding:qn,padding:Un,flatData:mn,extents:Kn,xDomain:te,yDomain:ne,zDomain:ee,rDomain:ie,xRange:he,yRange:de,zRange:pe,rRange:ge,config:Fn,xScale:re,xGet:oe,yScale:ae,yGet:se,zScale:le,zGet:ce,rScale:ue,rGet:fe}),[Mt,Et,St,wt,$t,xt,o,a,s,l,c,h,d,b,k,M,E,S,A,N,R,z,T,C,P,L,D,j,H,G,F,J,Z,Q,K,tt,nt,et,it,rt,ot,at,st,lt,ct,ut,ft,ht,dt,pt,gt,fn,hn,dn,pn,gn,mn,yn,vn,wn,$n,xn,_n,bn,kn,Mn,En,Sn,An,Nn,Rn,zn,Tn,Cn,Pn,Wn,On,qn,In,Ln,Dn,jn,Hn,Bn,Gn,Xn,Fn,Yn,Vn,Un,Jn,Zn,Qn,Kn,te,ne,ee,ie,re,oe,ae,se,le,ce,ue,fe,he,de,pe,ge,me,_t,bt,kt,At,Nt,Rt,zt,Tt,Ct,Pt,Wt,Ot,qt,It,Lt,Dt,jt,Ht,Bt,Gt,Xt,Ft,Yt,Vt,Ut,Jt,Zt,Qt,Kt,tn,nn,en,rn,on,an,sn,ln,un,r,i,u,yt,mt,function(t){U[t?"unshift":"push"]((()=>{St=t,e(2,St)}))},function(){Mt=this.clientWidth,Et=this.clientHeight,e(0,Mt),e(1,Et)}]}class Dc extends vt{constructor(t){super(),yt(this,t,Lc,Ic,s,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},null,[-1,-1,-1,-1,-1,-1])}}const jc=t=>({element:1&t}),Hc=t=>({element:t[0]}),Bc=t=>({element:1&t}),Gc=t=>({element:t[0]}),Xc=t=>({element:1&t}),Fc=t=>({element:t[0]});function Yc(t){let n,e;return{c(){n=N("title"),e=R(t[8])},m(t,i){M(t,n,i),k(n,e)},p(t,n){256&n&&O(e,t[8])},d(t){t&&E(n)}}}function Vc(t){let n,e,i,r,o;const a=t[16].title,s=h(a,t,t[15],Fc),l=s||function(t){let n,e=t[8]&&Yc(t);return{c(){e&&e.c(),n=T()},m(t,i){e&&e.m(t,i),M(t,n,i)},p(t,i){t[8]?e?e.p(t,i):(e=Yc(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&E(n)}}}(t),c=t[16].defs,u=h(c,t,t[15],Gc),f=t[16].default,d=h(f,t,t[15],Hc);return{c(){n=N("svg"),l&&l.c(),e=N("defs"),u&&u.c(),i=N("g"),d&&d.c(),P(i,"class","layercake-layout-svg_g"),P(i,"transform",r="translate("+t[11].left+", "+t[11].top+")"),P(n,"class","layercake-layout-svg svelte-u84d8d"),P(n,"viewBox",t[4]),P(n,"width",t[9]),P(n,"height",t[10]),P(n,"aria-label",t[5]),P(n,"aria-labelledby",t[6]),P(n,"aria-describedby",t[7]),q(n,"z-index",t[2]),q(n,"pointer-events",!1===t[3]?"none":null)},m(r,a){M(r,n,a),l&&l.m(n,null),k(n,e),u&&u.m(e,null),k(n,i),d&&d.m(i,null),t[17](i),t[18](n),o=!0},p(t,[e]){s?s.p&&(!o||32769&e)&&g(s,a,t,t[15],o?p(a,t[15],e,Xc):m(t[15]),Fc):l&&l.p&&(!o||256&e)&&l.p(t,o?e:-1),u&&u.p&&(!o||32769&e)&&g(u,c,t,t[15],o?p(c,t[15],e,Bc):m(t[15]),Gc),d&&d.p&&(!o||32769&e)&&g(d,f,t,t[15],o?p(f,t[15],e,jc):m(t[15]),Hc),(!o||2048&e&&r!==(r="translate("+t[11].left+", "+t[11].top+")"))&&P(i,"transform",r),(!o||16&e)&&P(n,"viewBox",t[4]),(!o||512&e)&&P(n,"width",t[9]),(!o||1024&e)&&P(n,"height",t[10]),(!o||32&e)&&P(n,"aria-label",t[5]),(!o||64&e)&&P(n,"aria-labelledby",t[6]),(!o||128&e)&&P(n,"aria-describedby",t[7]),4&e&&q(n,"z-index",t[2]),8&e&&q(n,"pointer-events",!1===t[3]?"none":null)},i(t){o||(ft(l,t),ft(u,t),ft(d,t),o=!0)},o(t){ht(l,t),ht(u,t),ht(d,t),o=!1},d(e){e&&E(n),l&&l.d(e),u&&u.d(e),d&&d.d(e),t[17](null),t[18](null)}}}function Uc(t,n,e){let i,r,o,{$$slots:a={},$$scope:s}=n,{element:l}=n,{innerElement:c}=n,{zIndex:u}=n,{pointerEvents:h}=n,{viewBox:d}=n,{label:p}=n,{labelledBy:g}=n,{describedBy:m}=n,{title:y}=n;const{containerWidth:v,containerHeight:w,padding:$}=(x="LayerCake",G().$$.context.get(x));var x;return f(t,v,(t=>e(9,i=t))),f(t,w,(t=>e(10,r=t))),f(t,$,(t=>e(11,o=t))),t.$$set=t=>{"element"in t&&e(0,l=t.element),"innerElement"in t&&e(1,c=t.innerElement),"zIndex"in t&&e(2,u=t.zIndex),"pointerEvents"in t&&e(3,h=t.pointerEvents),"viewBox"in t&&e(4,d=t.viewBox),"label"in t&&e(5,p=t.label),"labelledBy"in t&&e(6,g=t.labelledBy),"describedBy"in t&&e(7,m=t.describedBy),"title"in t&&e(8,y=t.title),"$$scope"in t&&e(15,s=t.$$scope)},[l,c,u,h,d,p,g,m,y,i,r,o,v,w,$,s,a,function(t){U[t?"unshift":"push"]((()=>{c=t,e(1,c)}))},function(t){U[t?"unshift":"push"]((()=>{l=t,e(0,l)}))}]}class Jc extends vt{constructor(t){super(),yt(this,t,Uc,Vc,s,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function Zc(t,n,e){const i=t.slice();return i[15]=n[e],i}function Qc(t){let n,e,i,r,a,s,l;function c(...n){return t[11](t[15],...n)}return{c(){n=N("path"),P(n,"fill",e=t[5](t[15])),P(n,"fill-opacity",i=t[6](t[15])),P(n,"class",r="country "+t[15].properties.adm0_iso),P(n,"d",a=t[15].path)},m(e,i){M(e,n,i),s||(l=[C(n,"mouseover",c),C(n,"mousemove",t[8]),C(n,"mouseout",t[9])],s=!0)},p(o,s){t=o,2&s&&e!==(e=t[5](t[15]))&&P(n,"fill",e),2&s&&i!==(i=t[6](t[15]))&&P(n,"fill-opacity",i),2&s&&r!==(r="country "+t[15].properties.adm0_iso)&&P(n,"class",r),2&s&&a!==(a=t[15].path)&&P(n,"d",a)},d(t){t&&E(n),s=!1,o(l)}}}function Kc(t){let n,e,i,r,o,a,s=t[2].iso+"";return{c(){n=N("g"),e=N("rect"),r=N("text"),o=R(s),P(e,"x","0"),P(e,"y","-15"),P(e,"width",i=t[3]+10),P(e,"height","20"),P(e,"fill","black"),P(e,"rx","3"),P(r,"x","5"),P(r,"y","0"),P(r,"font-size","12"),P(r,"fill","white"),P(n,"transform",a="translate("+(t[2].x+10)+", "+(t[2].y-10)+")")},m(i,a){M(i,n,a),k(n,e),k(n,r),k(r,o),t[12](r)},p(t,r){8&r&&i!==(i=t[3]+10)&&P(e,"width",i),4&r&&s!==(s=t[2].iso+"")&&O(o,s),4&r&&a!==(a="translate("+(t[2].x+10)+", "+(t[2].y-10)+")")&&P(n,"transform",a)},d(e){e&&E(n),t[12](null)}}}function tu(n){let e,i,r=n[1],o=[];for(let t=0;t<r.length;t+=1)o[t]=Qc(Zc(n,r,t));let a=n[2].visible&&Kc(n);return{c(){e=N("g");for(let t=0;t<o.length;t+=1)o[t].c();i=T(),a&&a.c(),P(e,"class","map-group"),P(e,"transform",n[0])},m(t,n){M(t,e,n);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);k(e,i),a&&a.m(e,null)},p(t,[n]){if(994&n){let a;for(r=t[1],a=0;a<r.length;a+=1){const s=Zc(t,r,a);o[a]?o[a].p(s,n):(o[a]=Qc(s),o[a].c(),o[a].m(e,i))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}t[2].visible?a?a.p(t,n):(a=Kc(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null),1&n&&P(e,"transform",t[0])},i:t,o:t,d(t){t&&E(e),S(o,t),a&&a.d()}}}function nu(t,n,e){let{cumulative_isos:i}=n,{transform:r}=n,{countries:o}=n,a=xs().domain([0,150]).range([.2,1]);let s,l=0;async function c(){await(tt(),Q),s&&e(3,l=s.getBBox().width)}let u={iso:null,x:0,y:0,visible:!1};function f(t,n){let r=n.properties.adm0_iso,o=i.find((t=>t.iso==r));if(o){const[i,r]=te(t);e(2,u={iso:n.properties.admin+": "+o.count,x:i,y:r,visible:!0})}else e(2,u.visible=!1,u)}return t.$$set=t=>{"cumulative_isos"in t&&e(10,i=t.cumulative_isos),"transform"in t&&e(0,r=t.transform),"countries"in t&&e(1,o=t.countries)},t.$$.update=()=>{1024&t.$$.dirty&&i&&(ne(".country").style("fill"," black"),i.forEach((t=>{ne("."+t.iso).style("fill","#f6f1d6").style("fill-opacity",a(t.count))}))),4&t.$$.dirty&&u.iso&&c()},[r,o,u,l,s,function(t){return i.some((n=>n.iso===t.properties.adm0_iso))?"#f6f1d6":"black"},function(t){let n=t.properties.adm0_iso,e=i.find((t=>t.iso==n));return e?a(e.count):1},f,function(t){const[n,i]=te(t);e(2,u.x=n,u),e(2,u.y=i,u)},function(){e(2,u.visible=!1,u)},i,(t,n)=>f(n,t),function(t){U[t?"unshift":"push"]((()=>{s=t,e(4,s)}))}]}class eu extends vt{constructor(t){super(),yt(this,t,nu,tu,s,{cumulative_isos:10,transform:0,countries:1})}}function iu(t){let n,e,i,r=t[0]&&ru(t);return{c(){n=A("div"),r&&r.c(),P(n,"class","wrapper svelte-zaiuf5"),nt((()=>t[20].call(n)))},m(o,a){M(o,n,a),r&&r.m(n,null),e=j(n,t[20].bind(n)),i=!0},p(t,e){t[0]?r?(r.p(t,e),1&e&&ft(r,1)):(r=ru(t),r.c(),ft(r,1),r.m(n,null)):r&&(ct(),ht(r,1,1,(()=>{r=null})),ut())},i(t){i||(ft(r),i=!0)},o(t){ht(r),i=!1},d(t){t&&E(n),r&&r.d(),e()}}}function ru(t){let n,e;return n=new Dc({props:{$$slots:{default:[au]},$$scope:{ctx:t}}}),{c(){pt(n.$$.fragment)},m(t,i){gt(n,t,i),e=!0},p(t,e){const i={};67108976&e&&(i.$$scope={dirty:e,ctx:t}),n.$set(i)},i(t){e||(ft(n.$$.fragment,t),e=!0)},o(t){ht(n.$$.fragment,t),e=!1},d(t){mt(n,t)}}}function ou(t){let n,e;return n=new eu({props:{countries:t[5],transform:t[6],cumulative_isos:t[4]}}),{c(){pt(n.$$.fragment)},m(t,i){gt(n,t,i),e=!0},p(t,e){const i={};32&e&&(i.countries=t[5]),64&e&&(i.transform=t[6]),16&e&&(i.cumulative_isos=t[4]),n.$set(i)},i(t){e||(ft(n.$$.fragment,t),e=!0)},o(t){ht(n.$$.fragment,t),e=!1},d(t){mt(n,t)}}}function au(t){let n,e;return n=new Jc({props:{$$slots:{default:[ou]},$$scope:{ctx:t}}}),{c(){pt(n.$$.fragment)},m(t,i){gt(n,t,i),e=!0},p(t,e){const i={};67108976&e&&(i.$$scope={dirty:e,ctx:t}),n.$set(i)},i(t){e||(ft(n.$$.fragment,t),e=!0)},o(t){ht(n.$$.fragment,t),e=!1},d(t){mt(n,t)}}}function su(t){let n,e,i=t[0]&&t[1]&&iu(t);return{c(){i&&i.c(),n=T()},m(t,r){i&&i.m(t,r),M(t,n,r),e=!0},p(t,[e]){t[0]&&t[1]?i?(i.p(t,e),3&e&&ft(i,1)):(i=iu(t),i.c(),ft(i,1),i.m(n.parentNode,n)):i&&(ct(),ht(i,1,1,(()=>{i=null})),ut())},i(t){e||(ft(i),e=!0)},o(t){ht(i),e=!1},d(t){i&&i.d(t),t&&E(n)}}}function lu(t,n,e){let i,r;const o=F();let a,s,l,c,u,f,{pax:h}=n,{mygeojson:d}=n,{pax_timeline:p}=n,{pax_gender:g}=n,{step:m}=n,y=Ys,v=400,w=400;const $=20,x=20,_=20,b=40;let k,M,E,S,A,N=[];function R(t){const n=ri(y,t);nr().duration(750).tween("zoom",(()=>t=>{e(6,y=n(t))}))}return t.$$set=t=>{"pax"in t&&e(7,h=t.pax),"mygeojson"in t&&e(0,d=t.mygeojson),"pax_timeline"in t&&e(1,p=t.pax_timeline),"pax_gender"in t&&e(8,g=t.pax_gender),"step"in t&&e(9,m=t.step)},t.$$.update=()=>{13&t.$$.dirty&&e(19,i=Ua().fitSize([v,w],d)),524288&t.$$.dirty&&e(18,r=function(t,n){let e,i,r=3,o=4.5;function a(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),so(t,e(i))),i.result()}return a.area=function(t){return so(t,e(Bo)),Bo.result()},a.measure=function(t){return so(t,e(Na)),Na.result()},a.bounds=function(t){return so(t,e(Qo)),Qo.result()},a.centroid=function(t){return so(t,e(ha)),ha.result()},a.projection=function(n){return arguments.length?(e=null==n?(t=null,Do):(t=n).stream,a):t},a.context=function(t){return arguments.length?(i=null==t?(n=null,new Oa(r)):new _a(n=t),"function"!=typeof o&&i.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return r;if(null==t)r=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);r=n}return null===n&&(i=new Oa(r)),a},a.projection(t).digits(r).context(n)}(i)),262145&t.$$.dirty&&d&&e(5,N=d.features.map((t=>({...t,path:r(t),bounds:r.bounds(t),centroid:r.centroid(t)})))),8224&t.$$.dirty&&N.length>0&&(e(13,k=N.find((t=>"Afghanistan"==t.properties.admin))),e(14,[[M,E],[S,A]]=k.bounds,M,(e(15,E),e(5,N),e(13,k),e(0,d),e(18,r),e(19,i),e(2,v),e(3,w)),(e(16,S),e(5,N),e(13,k),e(0,d),e(18,r),e(19,i),e(2,v),e(3,w)),(e(17,A),e(5,N),e(13,k),e(0,d),e(18,r),e(19,i),e(2,v),e(3,w)))),4&t.$$.dirty&&e(11,l=v-b-x),8&t.$$.dirty&&e(12,c=w-$-_),2048&t.$$.dirty&&(u=us().domain(el).range([0,l]).padding(.1)),4096&t.$$.dirty&&(f=xs().domain([0,100]).range([c,0])),128&t.$$.dirty&&h&&(e(4,s=il(h)),o("mapLoaded")),247708&t.$$.dirty&&("map_one"==m?e(4,s=il(h)):"map_two"==m?(e(4,s=il(g)),e(4,s=s.filter((t=>t.count>1))),R(Ys)):"map_three"==m&&(e(4,s=[{iso:"AFG",count:30}]),e(10,a=Ys.translate(v/2,w/2).scale(Math.min(2,.9/Math.max((S-M)/v,(A-E)/w))).translate(-(M+S)/2,-(E+A)/2)),R(a)))},[d,p,v,w,s,N,y,h,g,m,a,l,c,k,M,E,S,A,r,i,function(){v=this.clientWidth,w=this.clientHeight,e(2,v),e(3,w)}]}class cu extends vt{constructor(t){super(),yt(this,t,lu,su,s,{pax:7,mygeojson:0,pax_timeline:1,pax_gender:8,step:9})}}function uu(n){let e,i,r,o,a,s,l,c,u,f,h,d,p,g,m;return{c(){e=N("g"),i=N("circle"),r=N("g"),o=N("rect"),u=N("text"),f=R(n[3]),P(i,"r",n[4]),P(i,"class","svelte-umjbnf"),P(o,"x",a=(n[0].x<180?0:-0)+n[2].x-2),P(o,"y",s=n[2].y-1),P(o,"width",l=n[2].width+4),P(o,"height",c=n[2].height+2),P(o,"fill","#001C23"),P(o,"opacity","0.7"),P(o,"rx","2"),P(o,"ry","2"),P(u,"x",h=n[0].x<180?15:-15),P(u,"dy","0.32em"),P(u,"text-anchor",d=n[0].x<180?"start":"end"),P(u,"fill","#f6f1d6"),P(u,"font-size","12"),P(u,"class",p="node "+n[0].data.key),P(r,"transform",g="rotate("+(n[0].x>=180?180:0)+")"),P(e,"transform",m="rotate("+(n[0].x-90)+")translate("+n[0].y+")")},m(t,a){M(t,e,a),k(e,i),k(e,r),k(r,o),k(r,u),k(u,f),n[8](u)},p(t,[n]){16&n&&P(i,"r",t[4]),5&n&&a!==(a=(t[0].x<180?0:-0)+t[2].x-2)&&P(o,"x",a),4&n&&s!==(s=t[2].y-1)&&P(o,"y",s),4&n&&l!==(l=t[2].width+4)&&P(o,"width",l),4&n&&c!==(c=t[2].height+2)&&P(o,"height",c),8&n&&O(f,t[3]),1&n&&h!==(h=t[0].x<180?15:-15)&&P(u,"x",h),1&n&&d!==(d=t[0].x<180?"start":"end")&&P(u,"text-anchor",d),1&n&&p!==(p="node "+t[0].data.key)&&P(u,"class",p),1&n&&g!==(g="rotate("+(t[0].x>=180?180:0)+")")&&P(r,"transform",g),1&n&&m!==(m="rotate("+(t[0].x-90)+")translate("+t[0].y+")")&&P(e,"transform",m)},i:t,o:t,d(t){t&&E(e),n[8](null)}}}function fu(t,n,e){let i,r,o,a,{node:s}=n,{categories:l}=n,c=xs().domain([0,200]).range([1.5,25]),u={x:0,y:0,width:0,height:0},h=El(0,{duration:500,easing:bl});function d(){o&&e(2,u=o.getBBox())}return f(t,h,(t=>e(4,r=t))),X(d),t.$$set=t=>{"node"in t&&e(0,s=t.node),"categories"in t&&e(6,l=t.categories)},t.$$.update=()=>{if(1&t.$$.dirty&&h.set(void 0===s.data.count?0:c(s.data.count)),1&t.$$.dirty&&e(7,i=void 0===s.data.key?"pax_gender":s.data.key),192&t.$$.dirty&&i&&l){let t=l.find((t=>t.id===i));e(3,a=t?t.name:null)}},d(),[s,o,u,a,r,h,l,i,function(t){U[t?"unshift":"push"]((()=>{o=t,e(1,o)}))}]}class hu extends vt{constructor(t){super(),yt(this,t,fu,uu,s,{node:0,categories:6})}}function du(t,n,e){const i=t.slice();return i[10]=n[e],i}function pu(t,n,e){const i=t.slice();return i[13]=n[e],i}function gu(t){let n,e,i,r,o,a=t[3].links(),s=[];for(let n=0;n<a.length;n+=1)s[n]=mu(pu(t,a,n));let l=t[3].descendants(),c=[];for(let n=0;n<l.length;n+=1)c[n]=yu(du(t,l,n));const u=t=>ht(c[t],1,1,(()=>{c[t]=null}));return{c(){n=N("svg"),e=N("g");for(let t=0;t<s.length;t+=1)s[t].c();i=T();for(let t=0;t<c.length;t+=1)c[t].c();P(e,"transform",r="translate("+t[1]/2+", "+t[2]/2+")"),P(n,"width",t[1]),P(n,"height",t[2])},m(t,r){M(t,n,r),k(n,e);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);k(e,i);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(e,null);o=!0},p(t,f){if(24&f){let n;for(a=t[3].links(),n=0;n<a.length;n+=1){const r=pu(t,a,n);s[n]?s[n].p(r,f):(s[n]=mu(r),s[n].c(),s[n].m(e,i))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}if(9&f){let n;for(l=t[3].descendants(),n=0;n<l.length;n+=1){const i=du(t,l,n);c[n]?(c[n].p(i,f),ft(c[n],1)):(c[n]=yu(i),c[n].c(),ft(c[n],1),c[n].m(e,null))}for(ct(),n=l.length;n<c.length;n+=1)u(n);ut()}(!o||6&f&&r!==(r="translate("+t[1]/2+", "+t[2]/2+")"))&&P(e,"transform",r),(!o||2&f)&&P(n,"width",t[1]),(!o||4&f)&&P(n,"height",t[2])},i(t){if(!o){for(let t=0;t<l.length;t+=1)ft(c[t]);o=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)ht(c[t]);o=!1},d(t){t&&E(n),S(s,t),S(c,t)}}}function mu(t){let n,e,i;return{c(){n=N("path"),P(n,"d",e=t[4](t[13])),P(n,"class",i="link "+t[13].target.data.key+" svelte-11zt1po")},m(t,e){M(t,n,e)},p(t,r){24&r&&e!==(e=t[4](t[13]))&&P(n,"d",e),8&r&&i!==(i="link "+t[13].target.data.key+" svelte-11zt1po")&&P(n,"class",i)},d(t){t&&E(n)}}}function yu(t){let n,e;return n=new hu({props:{node:t[10],categories:t[0]}}),{c(){pt(n.$$.fragment)},m(t,i){gt(n,t,i),e=!0},p(t,e){const i={};8&e&&(i.node=t[10]),1&e&&(i.categories=t[0]),n.$set(i)},i(t){e||(ft(n.$$.fragment,t),e=!0)},o(t){ht(n.$$.fragment,t),e=!1},d(t){mt(n,t)}}}function vu(t){let n,e,i,r=t[3]&&gu(t);return{c(){n=A("div"),r&&r.c(),P(n,"class","wrapper svelte-11zt1po"),nt((()=>t[9].call(n)))},m(o,a){M(o,n,a),r&&r.m(n,null),e=j(n,t[9].bind(n)),i=!0},p(t,[e]){t[3]?r?(r.p(t,e),8&e&&ft(r,1)):(r=gu(t),r.c(),ft(r,1),r.m(n,null)):r&&(ct(),ht(r,1,1,(()=>{r=null})),ut())},i(t){i||(ft(r),i=!0)},o(t){ht(r),i=!1},d(t){t&&E(n),r&&r.d(),e()}}}function wu(t,n){t.forEach((t=>{n.children.forEach((n=>{"1"===t[n.key]&&(n.count=(n.count||0)+1,n.agtIds=n.agtIds||[],n.agtIds.push(t.AgtId)),n.children.forEach((n=>{"1"===t[n.key]&&(n.count=(n.count||0)+1,n.agtIds=n.agtIds||[],n.agtIds.push(t.AgtId))}))}))}))}function $u(t,n){const e=t.find((t=>t.AgtId===n));if(!e)return[];const i=Object.entries(e).filter((([t,n])=>t.startsWith("Wgg")&&"1"===n)).map((([t])=>t));return i.push("undefined"),i}function xu(t,n,e){let i,r,{pax_gender:o}=n,{step:a}=n,{categories:s}=n,l=400,c=400,u=100,f=[];return t.$$set=t=>{"pax_gender"in t&&e(5,o=t.pax_gender),"step"in t&&e(6,a=t.step),"categories"in t&&e(0,s=t.categories)},t.$$.update=()=>{if(32&t.$$.dirty&&o){let n=JSON.parse(JSON.stringify(Ks));wu(o,n),e(8,f=n)}if(6&t.$$.dirty&&e(7,u=l<c?l:c),96&t.$$.dirty)if("afgh01"==a){console.log("step1");let s=JSON.parse(JSON.stringify(Ks));wu(o,s),e(8,f=s),ne("path.link").style("stroke","#808080"),ne("text").style("fill","white")}else if("afgh02"==a){function h(t){Math.ceil(t.length/2);return t.slice(0,1)}console.log("step2");let d=h(o),p=JSON.parse(JSON.stringify(Ks));wu(d,p),e(8,f=p),ne("path.link").style("stroke","rgb(74, 74, 74)"),ne("text").style("fill","rgb(74, 74, 74)");$u(o,"589").forEach((t=>{ne("path."+t).style("stroke","#808080"),ne("text."+t).style("fill","white")}))}else if("afgh03"==a){function g(t){Math.ceil(t.length/2);return t.slice(1,2)}console.log("step3");let m=g(o),y=JSON.parse(JSON.stringify(Ks));wu(m,y),e(8,f=y),ne("path.link").style("stroke","rgb(74, 74, 74)"),ne("text").style("fill","rgb(74, 74, 74)");$u(o,"1845").forEach((t=>{ne("path."+t).style("stroke","#808080"),ne("text."+t).style("fill","white")}))}if(398&t.$$.dirty&&(c||l&&f)){let v=Ka().size([360,u/3]);e(3,i=ns(f,(t=>t.children))),v(i),e(4,r=Ls().angle((function(t){return t.x/180*Math.PI})).radius((function(t){return t.y})))}},[s,l,c,i,r,o,a,u,f,function(){l=this.clientWidth,c=this.clientHeight,e(1,l),e(2,c)}]}class _u extends vt{constructor(t){super(),yt(this,t,xu,vu,s,{pax_gender:5,step:6,categories:0})}}function bu(n){let e,i,r,o,a,s;return{c(){e=A("img"),r=z(),o=A("h1"),o.textContent="Women, Girls, and Gender in Peace Agreements",a=z(),s=A("p"),s.textContent="This visualization uses PA-X database to show how and to what extent\r\n\t\twomen, girls, and gender are taken into consideration in peace\r\n\t\tagreements around the world.",P(e,"class","peace_logo"),c(e.src,i="./img/pax_gender.svg")||P(e,"src","./img/pax_gender.svg"),P(e,"alt","peacerep logo"),q(e,"width","200px"),P(o,"class","svelte-1uww218"),P(s,"class","svelte-1uww218")},m(t,n){M(t,e,n),M(t,r,n),M(t,o,n),M(t,a,n),M(t,s,n)},p:t,d(t){t&&E(e),t&&E(r),t&&E(o),t&&E(a),t&&E(s)}}}function ku(t){let n,e,i,r,o,a;return o=new cu({props:{mygeojson:t[8],pax:t[9],pax_timeline:t[11],pax_gender:t[10],step:t[7]}}),o.$on("mapLoaded",t[14]),{c(){n=A("div"),e=A("figure"),i=A("div"),r=A("div"),pt(o.$$.fragment),P(r,"class","map svelte-1uww218"),P(i,"class","col-wide height-full"),P(n,"slot","background")},m(s,l){M(s,n,l),k(n,e),k(e,i),k(i,r),gt(o,r,null),t[17](r),a=!0},p(t,n){const e={};256&n[0]&&(e.mygeojson=t[8]),512&n[0]&&(e.pax=t[9]),2048&n[0]&&(e.pax_timeline=t[11]),1024&n[0]&&(e.pax_gender=t[10]),128&n[0]&&(e.step=t[7]),o.$set(e)},i(t){a||(ft(o.$$.fragment,t),a=!0)},o(t){ht(o.$$.fragment,t),a=!1},d(e){e&&E(n),mt(o),t[17](null)}}}function Mu(n){let e;return{c(){e=A("div"),e.innerHTML='<section data-id="map01"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">Brighter colour (white) indicates a higher number of peace\n\t\t\t\t\tagreements signed.</p></div></section> \n\t\t<section data-id="map02"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">Now, the map shows the number of peace agreements that\n\t\t\t\t\tcontain at least two references to women, girls, and gender.</p></div></section>',P(e,"slot","foreground")},m(t,n){M(t,e,n)},p:t,d(t){t&&E(e)}}}function Eu(t){let n,e,i,r,o,a;return o=new Ql({props:{pax:t[9],step:t[7]}}),{c(){n=A("div"),e=A("figure"),i=A("div"),r=A("div"),pt(o.$$.fragment),P(r,"class","rect svelte-1uww218"),P(i,"class","col-wide height-full"),P(n,"slot","background")},m(s,l){M(s,n,l),k(n,e),k(e,i),k(i,r),gt(o,r,null),t[19](r),a=!0},p(t,n){const e={};512&n[0]&&(e.pax=t[9]),128&n[0]&&(e.step=t[7]),o.$set(e)},i(t){a||(ft(o.$$.fragment,t),a=!0)},o(t){ht(o.$$.fragment,t),a=!1},d(e){e&&E(n),mt(o),t[19](null)}}}function Su(n){let e;return{c(){e=A("div"),e.innerHTML='<section data-id="rect01"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">Every rectangle in this view represents one of the 2,055\n\t\t\t\t\tformal agreements signed since 1990.</p></div></section> \n\t\t<section data-id="rect02"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">Out of all these agreements, less than a quarter contain\n\t\t\t\t\treferences to women, girls, and gender (436 agreements).</p></div></section>',P(e,"slot","foreground")},m(t,n){M(t,e,n)},p:t,d(t){t&&E(e)}}}function Au(n){let e,i;return{c(){e=A("img"),c(e.src,i="./img/messy_1.png")||P(e,"src","./img/messy_1.png"),P(e,"alt","peace agreement example"),q(e,"width","100%")},m(t,n){M(t,e,n)},p:t,d(t){t&&E(e)}}}function Nu(n){let e,i,r,o;return{c(){e=A("img"),r=z(),o=A("p"),o.innerHTML='Explore the trajectory of other processes in PA-X on our <a href="https://pax.peaceagreements.org/visualizations/messy-peace-processes/" target="_blank" style="color: white;">Messy Timeline Visualization</a>',c(e.src,i="./img/messy_2.png")||P(e,"src","./img/messy_2.png"),P(e,"alt","peace agreement example"),q(e,"width","100%"),P(o,"class","svelte-1uww218")},m(t,n){M(t,e,n),M(t,r,n),M(t,o,n)},p:t,d(t){t&&E(e),t&&E(r),t&&E(o)}}}function Ru(t){let n,e,i,r,o,a;return o=new Gl({props:{pax_stages:t[12],pax:t[9],step:t[7]}}),{c(){n=A("div"),e=A("figure"),i=A("div"),r=A("div"),pt(o.$$.fragment),P(r,"class","stage svelte-1uww218"),P(i,"class","col-wide height-full"),P(n,"slot","background")},m(t,s){M(t,n,s),k(n,e),k(e,i),k(i,r),gt(o,r,null),a=!0},p(t,n){const e={};4096&n[0]&&(e.pax_stages=t[12]),512&n[0]&&(e.pax=t[9]),128&n[0]&&(e.step=t[7]),o.$set(e)},i(t){a||(ft(o.$$.fragment,t),a=!0)},o(t){ht(o.$$.fragment,t),a=!1},d(t){t&&E(n),mt(o)}}}function zu(n){let e;return{c(){e=A("div"),e.innerHTML='<section data-id="stage01"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">When viewing all PA-X agreements by the stage of the peace\n\t\t\t\t\tprocess they were signed at, the chart below shows the\n\t\t\t\t\tpredominance of <strong>pre-negotiation/process</strong>,\n\t\t\t\t\t<strong>ceasefire</strong>, and\n\t\t\t\t\t<strong>substantive-partial</strong> agreements.</p></div></section> \n\t\t<section data-id="stage02"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">A common perception is that dealing with &#39;gender&#39; must wait\n\t\t\t\t\tuntil substantive stages of negotiations (partial and\n\t\t\t\t\tcomprehensive), so that the earlier pre-negotiation or\n\t\t\t\t\tceasefire talks can focus on more &#39;urgent&#39; issues.</p></div></section> \n\t\t<section data-id="stage03"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">For example, a ceasefire in Central African Republic in 2014\n\t\t\t\t\t- the <a href="https://pax.peaceagreements.org/media/documents/ag818_573ed266c7c9c.pdf" target="_blank" style="color: white;">Brazzaville Agreement on Cessation of Hostilities</a> - included &#39;gender&#39; by stipulating that under the agreement\n\t\t\t\t\tthe parties would cease the act of sexual violence.</p></div></section>',P(e,"slot","foreground")},m(t,n){M(t,e,n)},p:t,d(t){t&&E(e)}}}function Tu(n){let e;return{c(){e=A("div"),e.innerHTML='<div class="icon-item svelte-1uww218"><img src="./img/fir.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t\t<p style="text-align: left; font-size: 14px" class="svelte-1uww218">Responding to the special needs of women and girls during\n\t\t\t\trepatriation, resettlement, rehabilitation, reintegration and\n\t\t\t\tpost-conflict reconstruction</p></div> \n\t\t<div class="icon-item svelte-1uww218"><img src="./img/sec.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t\t<p style="text-align: left; font-size: 14px" class="svelte-1uww218">Supporting local womens and indigenous initiatives for conflict\n\t\t\t\tresolution, and involving women in all implementation mechanisms</p></div> \n\t\t<div class="icon-item svelte-1uww218"><img src="./img/thi.svg" alt="peace agreement example" style="height: 100px;"/> \n\t\t\t<p style="text-align: left; font-size: 14px" class="svelte-1uww218">Ensuring the protection of human rights of women and girls,\n\t\t\t\tparticularly relating to the constitution, the electoral system,\n\t\t\t\tthe police and the judiciary</p></div>',P(e,"id","icons"),P(e,"class","svelte-1uww218")},m(t,n){M(t,e,n)},p:t,d(t){t&&E(e)}}}function Cu(t){let n,e,i,r,o,a;return o=new uc({props:{pax:t[9],pax_timeline:t[11],step:t[7]}}),{c(){n=A("div"),e=A("figure"),i=A("div"),r=A("div"),pt(o.$$.fragment),P(r,"class","time svelte-1uww218"),P(i,"class","col-wide height-full"),P(n,"slot","background")},m(t,s){M(t,n,s),k(n,e),k(e,i),k(i,r),gt(o,r,null),a=!0},p(t,n){const e={};512&n[0]&&(e.pax=t[9]),2048&n[0]&&(e.pax_timeline=t[11]),128&n[0]&&(e.step=t[7]),o.$set(e)},i(t){a||(ft(o.$$.fragment,t),a=!0)},o(t){ht(o.$$.fragment,t),a=!1},d(t){t&&E(n),mt(o)}}}function Pu(n){let e;return{c(){e=A("div"),e.innerHTML='<section data-id="time01"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">Each line represents a peace agreement signed between 1990 and 2023.</p></div></section> \n\t\t<section data-id="time02"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">These are the agreements included in PA-X Gender.</p></div></section> \n\t\t<section data-id="time03"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">What&#39;s important to consider is that gender references\n\t\t\t\t\tdiffer hugely in terms of their substantive quality and\n\t\t\t\t\tspecificity, ranging from detailed commitments to rhetorical\n\t\t\t\t\treferences to &#39;women&#39;.</p></div></section> \n\t\t<section data-id="time04"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">For example, only these highlighted agreements include\n\t\t\t\t\tsubstantive references to the special needs of women and\n\t\t\t\t\tgirls during rehabilitation and reconstruction. However,\n\t\t\t\t\tthey often are not a large proportion of the agreement\n\t\t\t\t\tfocus.</p></div></section> \n\t\t<section data-id="time05"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">One instance is the <a href="https://pax.peaceagreements.org/media/documents/ag478_55d493ee828e7.pdf" target="_blank" style="color: white;">Lome Agreement</a>\n\t\t\t\t\tfor Sierra Leone in 1999 that acknowledged women&#39;s victimization\n\t\t\t\t\tduring the war, and stated that\n\t\t\t\t\t<i style="font-size: 18px;">&#39;special attention shall be accorded to their needs and\n\t\t\t\t\t\tpotentials in formulating and implementing national\n\t\t\t\t\t\trehabilitation, reconstruction and development\n\t\t\t\t\t\tprogrammes, to enable them to play a central role in the\n\t\t\t\t\t\tmoral, social and physical reconstruction of Sierra\n\t\t\t\t\t\tLeone.&#39;</i> This was the only reference to gender (highlighted in red)\n\t\t\t\t\tin the entire agreement text.</p></div></section> \n\t\t<section data-id="time06"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">The highlighted peace agreements include references to women\n\t\t\t\t\tplaying a role in implementing the agreement.</p></div></section> \n\t\t<section data-id="time07"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">For example, the 2016 <a href="https://pax.peaceagreements.org/media/documents/ag1845_593e97bdd6f32.pdf" target="_blank" style="color: white;">Final Agreement</a> between the Colombian Government and the FARC set up a special\n\t\t\t\t\tforum comprising representatives from 6 national and regional\n\t\t\t\t\tColombian women&#39;s organisations, to work with the implementation\n\t\t\t\t\tcommission on monitoring and guaranteeing the rights of women\n\t\t\t\t\tin the implementation of the peace agreement.</p></div></section> \n\t\t<section data-id="time08"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">Turning to the protection of human rights of women and\n\t\t\t\t\tgirls, the highlighted peace agreements include references\n\t\t\t\t\tto <strong>international human rights laws</strong> relating\n\t\t\t\t\tto women and gender, including specific human rights standards.</p></div></section> \n\t\t<section data-id="time09"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">For example, in a 1996 <a href="https://pax.peaceagreements.org/media/documents/ag291_5630f71a3ae07.pdf" style="color: white;" target="_blank">peace agreement from Guatemala</a>, the government agreed to revise national legislation to\n\t\t\t\t\teliminate all forms of discrimination against women, and to\n\t\t\t\t\tgive effect to the government commitments deriving from the\n\t\t\t\t\tratification of the Convention on the Elimination of All\n\t\t\t\t\tForms of Discrimination against Women.</p></div></section>',P(e,"slot","foreground")},m(t,n){M(t,e,n)},p:t,d(t){t&&E(e)}}}function Wu(t){let n,e,i,r,o,a;return o=new _u({props:{pax_gender:t[10],step:t[7],categories:t[13]}}),{c(){n=A("div"),e=A("figure"),i=A("div"),r=A("div"),pt(o.$$.fragment),P(r,"class","afgh svelte-1uww218"),P(i,"class","col-wide height-full"),P(n,"slot","background")},m(t,s){M(t,n,s),k(n,e),k(e,i),k(i,r),gt(o,r,null),a=!0},p(t,n){const e={};1024&n[0]&&(e.pax_gender=t[10]),128&n[0]&&(e.step=t[7]),8192&n[0]&&(e.categories=t[13]),o.$set(e)},i(t){a||(ft(o.$$.fragment,t),a=!0)},o(t){ht(o.$$.fragment,t),a=!1},d(t){t&&E(n),mt(o)}}}function Ou(n){let e;return{c(){e=A("div"),e.innerHTML='<section data-id="afgh01"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">This is the distribution of gender-related topic in all 436\n\t\t\t\t\tagreements. You can see the majority of references across\n\t\t\t\t\tall the agreements are regarding women&#39;s participation, and\n\t\t\t\t\tsexual violence.</p></div></section> \n\t\t<section data-id="afgh02"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">The earlier referenced Toncontin Agreement from 1990,\n\t\t\t\t\tincludes these gender-related topics.</p></div></section> \n\t\t<section data-id="afgh03"><div class="col-medium"><p style="text-align: center;" class="svelte-1uww218">In contrast, the more recent 2016 Colombian Final Agreement\n\t\t\t\t\tincludes these topics.</p></div></section>',P(e,"slot","foreground")},m(t,n){M(t,e,n)},p:t,d(t){t&&E(e)}}}function qu(t){let n,e,i,r,a,s,l,c,u,f,h,d,p,g,m,y,v,w,$,x,_,b,S,N,R,T,W,O,I,L,D,j,H,B,G,X,F,Y,V,J,Z,Q,K,tt,nt,it,rt,ot,at,st,lt,ct,ut,yt,vt,wt,$t,xt,_t,bt;function kt(n){t[18](n)}c=new cl({props:{center:!0,short:!1,$$slots:{default:[bu]},$$scope:{ctx:t}}});let Mt={threshold:Lu,splitscreen:!1,shadow:!1,$$slots:{foreground:[Mu],background:[ku]},$$scope:{ctx:t}};function Et(n){t[20](n)}void 0!==t[0].map&&(Mt.id=t[0].map),y=new wl({props:Mt}),U.push((()=>dt(y,"id",kt)));let St={threshold:Lu,splitscreen:!1,shadow:!1,$$slots:{foreground:[Su],background:[Eu]},$$scope:{ctx:t}};function At(n){t[22](n)}void 0!==t[0].rect&&(St.id=t[0].rect),_=new wl({props:St}),U.push((()=>dt(_,"id",Et))),B=new _l({props:{short:!1,wide:!0,center:!0,shadow:!0,$$slots:{default:[Au]},$$scope:{ctx:t}}}),Y=new _l({props:{short:!1,wide:!0,center:!0,shadow:!0,$$slots:{default:[Nu]},$$scope:{ctx:t}}});let Nt={threshold:Lu,splitscreen:!1,shadow:!1,$$slots:{foreground:[zu],background:[Ru]},$$scope:{ctx:t}};function Rt(n){t[24](n)}void 0!==t[0].stage&&(Nt.id=t[0].stage),Q=new wl({props:Nt}),U.push((()=>dt(Q,"id",At))),rt=new _l({props:{short:!1,wide:!0,center:!0,shadow:!1,$$slots:{default:[Tu]},$$scope:{ctx:t}}});let zt={threshold:Lu,splitscreen:!1,shadow:!1,$$slots:{foreground:[Pu],background:[Cu]},$$scope:{ctx:t}};function Tt(n){t[26](n)}void 0!==t[0].time&&(zt.id=t[0].time),lt=new wl({props:zt}),U.push((()=>dt(lt,"id",Rt)));let Ct={threshold:Lu,splitscreen:!1,shadow:!1,$$slots:{foreground:[Ou],background:[Wu]},$$scope:{ctx:t}};return void 0!==t[0].afgh&&(Ct.id=t[0].afgh),wt=new wl({props:Ct}),U.push((()=>dt(wt,"id",Tt))),{c(){n=A("div"),n.innerHTML='<div class="line svelte-1uww218"></div> \n\t<div class="circle svelte-1uww218"></div> \n\t<div class="scroll-line-agmt svelte-1uww218"><img src="./img/agmt.png" alt="rect" class="svelte-1uww218"/></div> \n\t<div class="scroll-line-rect svelte-1uww218"><img src="./img/recs.png" alt="rect" class="svelte-1uww218"/></div> \n\t<div class="scroll-line-time svelte-1uww218"><img src="./img/line.png" alt="rect" class="svelte-1uww218"/></div> \n\t<div class="scroll-line-stage svelte-1uww218"><img src="./img/bar.png" alt="rect" class="svelte-1uww218"/></div> \n\t<div class="scroll-line-geo svelte-1uww218"><img src="./img/globe.png" alt="rect" class="svelte-1uww218"/></div> \n\t<div class="scroll-line-dendr svelte-1uww218"><img src="./img/dendr.png" alt="rect" class="svelte-1uww218"/></div>',e=z(),i=A("div"),r=A("button"),r.textContent="Visualization",a=z(),s=A("p"),s.textContent="loading...",l=z(),pt(c.$$.fragment),u=z(),f=A("div"),f.innerHTML='<p class="svelte-1uww218">A <strong>peace agreement</strong> is a document produced after\n\t\tdiscussion with conflict protagonists and mutually agreed to by them,\n\t\taddressing conflict with a view to ending it.\n\t\t<a href="https://pax.peaceagreements.org/agreements/search/" style="color:white">PA-X Database</a> collects and archives formal, publicly-available, signed peace agreements.</p> \n\n\t<p class="svelte-1uww218">Below is a ceasefire agreement from 1990 Nicaragua.</p>',h=z(),d=A("div"),d.innerHTML='<a href="https://pax.peaceagreements.org/agreements/wgg/589/" target="_blank" style="color: white;"><img src="./img/toncontin.png" alt="peace agreement example" style="width: 100%;"/></a>',p=z(),g=A("div"),g.innerHTML='<p class="svelte-1uww218">PA-X contains 2,055 peace agreements that have been signed since 1990.</p> \n\t<p class="svelte-1uww218">The map below shows the geographical spread of where these agreements\n\t\tare from and the primary location of the conflict they are addressing.</p>',m=z(),pt(y.$$.fragment),w=z(),$=A("div"),$.innerHTML='<p class="svelte-1uww218">To get a better idea about how often women, girls and gender are taken\n\t\tinto consideration in peace agreements, below is a representation of all\n\t\tpeace agreements in PA-X.</p>',x=z(),pt(_.$$.fragment),S=z(),N=A("div"),N.innerHTML='<p style="margin: 20px" class="svelte-1uww218">Why should peace agreements incorporate a gender perspective?</p>',R=z(),T=A("div"),T.innerHTML='<p class="svelte-1uww218"><strong>Peace agreements can provide a formalised blueprint</strong> to\n\t\tshape the political settlement that emerges from a peace deal, both\n\t\tlegally and socially.<br/><br/> This can have consequences for how women,\n\t\tgender minorities, and sexual minorities may experience the transition that\n\t\tthe peace agreement stipulates.</p>',W=z(),O=A("div"),O.innerHTML='<p class="svelte-1uww218"><strong>Peace agreements can create &#39;sticky&#39; institutional arrangements\n\t\t\tthat can be hard to later re-negotiate.</strong><br/><br/> Any gaps in how the peace agreement understands or responds\n\t\tto gender, may become stuck and difficult to resolve through institutional\n\t\tmechanisms.</p>',I=z(),L=A("div"),L.innerHTML='<p class="svelte-1uww218"><strong>Peace agreements are not gender neutral by default</strong> They\n\t\tcontain institutional configurations, security mechanisms and human\n\t\trights regimes that all shape different gender outcomes or impacts\n\t\twomen&#39;s lives.\n\t\t<br/> \n\t\t<br/>\n\t\tHear more on this from PeaceRep&#39;s Women Peace and Security expert, Laura\n\t\tWise in this short, informative video (3 mins).</p>',D=z(),j=A("div"),j.innerHTML='<p style="margin: 20px" class="svelte-1uww218">There are different <strong>stages of peace processes</strong> depending\n\t\ton the content included in agreements: from pre-neogtiation/process\n\t\tagreements where there are &#39;talks about talks&#39;, to ceasefires, to more\n\t\tcomprehensive agreements and implementation agreeements.<br/><br/> If the\n\t\tprocess went smoothly from one stage to the next it would look like this\n\t\tover time:</p>',H=z(),pt(B.$$.fragment),G=z(),X=A("div"),X.innerHTML='<p style="margin: 20px" class="svelte-1uww218">Instead, peace processes frequently involve a series of back-and-forth\n\t\tmovements, reflecting the reality that progress is rarely uniform or\n\t\tpredictable.<br/><br/> For example, here is the trajectory of the Philippines-Mindano\n\t\tProcess.</p>',F=z(),pt(Y.$$.fragment),V=z(),J=A("div"),J.innerHTML='<p style="margin: 20px" class="svelte-1uww218">At which stage of peace negotiations do women, girls, and gender get\n\t\tdiscussed?</p>',Z=z(),pt(Q.$$.fragment),tt=z(),nt=A("div"),nt.innerHTML='<p class="svelte-1uww218">In 2000, the United Nations Security Council passed Resolution 1325 on\n\t\tWomen, Peace, and Security, calling on all actors involved in\n\t\tnegotiating and implementing peace agreements to adopt a gender\n\t\tperspective, including:</p>',it=z(),pt(rt.$$.fragment),ot=z(),at=A("div"),at.innerHTML='<p style="margin: 20px" class="svelte-1uww218">How did this influence the number of gender-related peace agreements\n\t\tover time?</p>',st=z(),pt(lt.$$.fragment),ut=z(),yt=A("div"),yt.innerHTML='<p style="margin: 20px" class="svelte-1uww218">As you can see, peace agreements cover different topics related to\n\t\twomen, girls and gender. Sometimes there are a lot of topics addressed,\n\t\tand sometimes there are very few. <br/><br/>\n\t\tBelow shows a representation of all topics related to women, girls and gender\n\t\tthat are coded for all agreements in PA-X Gender.</p>',vt=z(),pt(wt.$$.fragment),P(n,"id","indicator"),P(n,"class","svelte-1uww218"),P(r,"id","loading_button"),P(r,"class","svelte-1uww218"),P(s,"id","loading_text"),P(s,"class","svelte-1uww218"),P(i,"role","presentation"),P(i,"id","loading_screen"),q(i,"height","calc(var(--vh, 1vh) * 100)"),P(i,"class","svelte-1uww218"),P(f,"class","filler svelte-1uww218"),P(d,"class","filler svelte-1uww218"),q(d,"padding","50px"),P(g,"class","filler svelte-1uww218"),P($,"class","filler svelte-1uww218"),P(N,"class","filler svelte-1uww218"),P(T,"class","filler svelte-1uww218"),P(O,"class","filler svelte-1uww218"),P(L,"class","filler svelte-1uww218"),P(j,"class","filler svelte-1uww218"),P(X,"class","filler svelte-1uww218"),P(J,"class","filler svelte-1uww218"),P(nt,"class","filler svelte-1uww218"),P(at,"class","filler svelte-1uww218"),P(yt,"class","filler svelte-1uww218")},m(o,v){M(o,n,v),M(o,e,v),M(o,i,v),k(i,r),k(i,a),k(i,s),M(o,l,v),gt(c,o,v),M(o,u,v),M(o,f,v),t[16](f),M(o,h,v),M(o,d,v),M(o,p,v),M(o,g,v),M(o,m,v),gt(y,o,v),M(o,w,v),M(o,$,v),M(o,x,v),gt(_,o,v),M(o,S,v),M(o,N,v),M(o,R,v),M(o,T,v),M(o,W,v),M(o,O,v),M(o,I,v),M(o,L,v),M(o,D,v),M(o,j,v),t[21](j),M(o,H,v),gt(B,o,v),M(o,G,v),M(o,X,v),M(o,F,v),gt(Y,o,v),M(o,V,v),M(o,J,v),M(o,Z,v),gt(Q,o,v),M(o,tt,v),M(o,nt,v),M(o,it,v),gt(rt,o,v),M(o,ot,v),M(o,at,v),t[23](at),M(o,st,v),gt(lt,o,v),M(o,ut,v),M(o,yt,v),t[25](yt),M(o,vt,v),gt(wt,o,v),xt=!0,_t||(bt=[C(r,"click",t[15]),C(i,"click",t[15])],_t=!0)},p(t,n){const e={};64&n[1]&&(e.$$scope={dirty:n,ctx:t}),c.$set(e);const i={};4e3&n[0]|64&n[1]&&(i.$$scope={dirty:n,ctx:t}),!v&&1&n[0]&&(v=!0,i.id=t[0].map,et((()=>v=!1))),y.$set(i);const r={};644&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:t}),!b&&1&n[0]&&(b=!0,r.id=t[0].rect,et((()=>b=!1))),_.$set(r);const o={};64&n[1]&&(o.$$scope={dirty:n,ctx:t}),B.$set(o);const a={};64&n[1]&&(a.$$scope={dirty:n,ctx:t}),Y.$set(a);const s={};4736&n[0]|64&n[1]&&(s.$$scope={dirty:n,ctx:t}),!K&&1&n[0]&&(K=!0,s.id=t[0].stage,et((()=>K=!1))),Q.$set(s);const l={};64&n[1]&&(l.$$scope={dirty:n,ctx:t}),rt.$set(l);const u={};2688&n[0]|64&n[1]&&(u.$$scope={dirty:n,ctx:t}),!ct&&1&n[0]&&(ct=!0,u.id=t[0].time,et((()=>ct=!1))),lt.$set(u);const f={};9344&n[0]|64&n[1]&&(f.$$scope={dirty:n,ctx:t}),!$t&&1&n[0]&&($t=!0,f.id=t[0].afgh,et((()=>$t=!1))),wt.$set(f)},i(t){xt||(ft(c.$$.fragment,t),ft(y.$$.fragment,t),ft(_.$$.fragment,t),ft(B.$$.fragment,t),ft(Y.$$.fragment,t),ft(Q.$$.fragment,t),ft(rt.$$.fragment,t),ft(lt.$$.fragment,t),ft(wt.$$.fragment,t),xt=!0)},o(t){ht(c.$$.fragment,t),ht(y.$$.fragment,t),ht(_.$$.fragment,t),ht(B.$$.fragment,t),ht(Y.$$.fragment,t),ht(Q.$$.fragment,t),ht(rt.$$.fragment,t),ht(lt.$$.fragment,t),ht(wt.$$.fragment,t),xt=!1},d(r){r&&E(n),r&&E(e),r&&E(i),r&&E(l),mt(c,r),r&&E(u),r&&E(f),t[16](null),r&&E(h),r&&E(d),r&&E(p),r&&E(g),r&&E(m),mt(y,r),r&&E(w),r&&E($),r&&E(x),mt(_,r),r&&E(S),r&&E(N),r&&E(R),r&&E(T),r&&E(W),r&&E(O),r&&E(I),r&&E(L),r&&E(D),r&&E(j),t[21](null),r&&E(H),mt(B,r),r&&E(G),r&&E(X),r&&E(F),mt(Y,r),r&&E(V),r&&E(J),r&&E(Z),mt(Q,r),r&&E(tt),r&&E(nt),r&&E(it),mt(rt,r),r&&E(ot),r&&E(at),t[23](null),r&&E(st),mt(lt,r),r&&E(ut),r&&E(yt),t[25](null),r&&E(vt),mt(wt,r),_t=!1,o(bt)}}}let Iu="dark";const Lu=.65;function Du(t,n=3e3){const e=window.scrollY,i=t-e;let r=null;requestAnimationFrame((function t(o){r||(r=o);const a=o-r,s=Math.min(a/n,1);var l;window.scrollTo(0,e+i*((l=s)<.5?2*l*l:1-Math.pow(-2*l+2,2)/2)),a<n&&requestAnimationFrame(t)}))}function ju(t,n,e){let i,r,o,a,s,l,c;Y("theme",Iu),function(t,n){for(let e in t[n])document.documentElement.style.setProperty("--"+e,t[n][e])}(Vs,Iu);let u={},f={};X((()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo({top:0,behavior:"auto"}),f={...u};const t=document.querySelector(".circle"),n=document.querySelector("#indicator"),e=document.querySelector(".scroll-line-agmt"),h=document.querySelector(".scroll-line-rect"),d=document.querySelector(".scroll-line-reason"),p=document.querySelector(".scroll-line-time"),g=document.querySelector(".scroll-line-stage"),m=document.querySelector(".scroll-line-geo"),y=document.querySelector(".scroll-line-dendr");if(!t||!n)return;const v=()=>{let t=document.documentElement.scrollHeight-window.innerHeight;if(t<=0)return void requestAnimationFrame(v);const u=n.clientHeight;if(i instanceof HTMLElement){let n=i.getBoundingClientRect().top+window.scrollY,r=n/t*u;e.style.top=`${r}px`,e.addEventListener("click",(()=>{Du(n,2e3)}))}if(r instanceof HTMLElement){let n=r.getBoundingClientRect().top+window.scrollY,e=n/t*u;h.style.top=`${e}px`,h.addEventListener("click",(()=>{Du(n,2e3)}))}if(o instanceof HTMLElement){let n=o.getBoundingClientRect();console.log("here");let e=n.top+window.scrollY,i=e/t*u;d.style.top=`${i}px`,d.addEventListener("click",(()=>{Du(e,2e3)}))}if(a instanceof HTMLElement){const n=a.getBoundingClientRect().top+window.scrollY,e=n/t*u;p.style.top=`${e}px`,p.addEventListener("click",(()=>{Du(n,2e3)}))}if(s instanceof HTMLElement){const n=s.getBoundingClientRect().top+window.scrollY,e=n/t*u;g.style.top=`${e}px`,g.addEventListener("click",(()=>{Du(n,2e3)}))}if(l instanceof HTMLElement){const n=l.getBoundingClientRect().top+window.scrollY,e=n/t*u;m.style.top=`${e}px`,m.addEventListener("click",(()=>{Du(n,2e3)}))}if(c instanceof HTMLElement){const n=c.getBoundingClientRect().top+window.scrollY,e=n/t*u;y.style.top=`${e}px`,y.addEventListener("click",(()=>{Du(n,2e3)}))}};requestAnimationFrame(v),window.addEventListener("scroll",(()=>{const e=window.scrollY;let i=document.documentElement.scrollHeight-window.innerHeight;if(i<=0)return;const r=n.clientHeight-t.clientHeight,o=e/i;t.style.top=o*r+"px"})),window.addEventListener("resize",(()=>{requestAnimationFrame(v)}))}));let h=null;const d={rect:{rect01:()=>{e(7,h="rect01")},rect02:()=>{e(7,h="rect02")}},chart:{chart01:()=>{e(7,h="one")},chart02:()=>{e(7,h="two")},chart03:()=>{e(7,h="three")},chart04:()=>{e(7,h="four")},chart05:()=>{e(7,h="five")}},time:{time01:()=>{e(7,h="1")},time02:()=>{e(7,h="2")},time03:()=>{e(7,h="3")},time04:()=>{e(7,h="4")},time05:()=>{e(7,h="5")},time06:()=>{e(7,h="6")},time07:()=>{e(7,h="7")},time08:()=>{e(7,h="8")},time09:()=>{e(7,h="9")}},stage:{stage01:()=>{e(7,h="stage01")},stage02:()=>{e(7,h="stage02")},stage03:()=>{e(7,h="stage03")},stage04:()=>{e(7,h="stage04")}},map:{map01:()=>{e(7,h="map_one")},map02:()=>{e(7,h="map_two")},map03:()=>{e(7,h="map_three")},map04:()=>{e(7,h="map_four")}},afgh:{afgh01:()=>{e(7,h="afgh01")},afgh02:()=>{e(7,h="afgh02")},afgh03:()=>{e(7,h="afgh03")}}};let p;nl("./data/custom.geo.json").then((t=>{e(8,p=t)}));let g,m,y,v,w,$,x,_,b;tl(["./data/pax_v9.csv","./data/pax_gender_v9.csv","./data/pax_central_points.csv","./data/pax_gender_text.csv","./data/text_corr.csv","./data/wgg_text.csv","./data/gender_categories.csv"]).then((t=>{Qs.set($),e(9,g=t[0]),e(10,m=t[1]),$=t[2],y=t[3],v=t[4],x=t[5],e(13,b=t[6]),g.forEach((t=>{const n=m.find((n=>n.AgtId===t.AgtId));n?(t.WggRehab=n.WggRehab,t.WggImplRole=n.WggImplRole,t.WggHR=n.WggHR):(t.WggRehab="0",t.WggImplRole="0",t.WggHR="0")})),g.sort((function(t,n){return wt(t.Dat.substring(0,4),n.Dat.substring(0,4))})),e(12,_=Nt(g,(t=>t.Stage)));let n=["Pre","Cea","SubPar","SubComp","Imp","Ren","Oth"];_.sort(((t,e)=>n.indexOf(t[0])-n.indexOf(e[0]))),e(11,w=Nt(g,(t=>t.Dat.substring(0,4))))}));let k=!1;return t.$$.update=()=>{1&t.$$.dirty[0]&&u&&function(t=[]){t.forEach((t=>{u[t]!=f[t]&&(d[t][u[t]]&&d[t][u[t]](),f[t]=u[t])}))}(Object.keys(d))},[u,i,r,a,s,l,c,h,p,g,m,w,_,b,function(){k=!0,document.getElementById("loading_text").style.visibility="hidden",document.getElementById("loading_button").style.visibility="visible"},function(t){k&&(document.getElementById("loading_screen").style.visibility="hidden",document.getElementById("loading_button").style.visibility="hidden",document.documentElement.style.overflow="visible",document.body.style.overflow="visible")},function(t){U[t?"unshift":"push"]((()=>{i=t,e(1,i)}))},function(t){U[t?"unshift":"push"]((()=>{l=t,e(5,l)}))},function(n){t.$$.not_equal(u.map,n)&&(u.map=n,e(0,u))},function(t){U[t?"unshift":"push"]((()=>{r=t,e(2,r)}))},function(n){t.$$.not_equal(u.rect,n)&&(u.rect=n,e(0,u))},function(t){U[t?"unshift":"push"]((()=>{s=t,e(4,s)}))},function(n){t.$$.not_equal(u.stage,n)&&(u.stage=n,e(0,u))},function(t){U[t?"unshift":"push"]((()=>{a=t,e(3,a)}))},function(n){t.$$.not_equal(u.time,n)&&(u.time=n,e(0,u))},function(t){U[t?"unshift":"push"]((()=>{c=t,e(6,c)}))},function(n){t.$$.not_equal(u.afgh,n)&&(u.afgh=n,e(0,u))}]}return new class extends vt{constructor(t){super(),yt(this,t,ju,qu,s,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
